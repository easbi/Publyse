var e0=Object.defineProperty;var t0=(e,n,s)=>n in e?e0(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var Nt=(e,n,s)=>(t0(e,typeof n!="symbol"?n+"":n,s),s),lo=(e,n,s)=>{if(!n.has(e))throw TypeError("Cannot "+s)};var u=(e,n,s)=>(lo(e,n,"read from private field"),s?s.call(e):n.get(e)),re=(e,n,s)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,s)},Re=(e,n,s,r)=>(lo(e,n,"write to private field"),r?r.call(e,s):n.set(e,s),s);var Vi=(e,n,s,r)=>({set _(o){Re(e,n,o,s)},get _(){return u(e,n,r)}}),ge=(e,n,s)=>(lo(e,n,"access private method"),s);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var s=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),s}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(e,n){(function(){var s,r="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",y="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",A=500,d="__lodash_placeholder__",x=1,z=2,D=4,F=1,M=2,w=1,O=2,H=4,U=8,I=16,S=32,C=64,Y=128,$=256,E=512,Z=30,W="...",ce=800,fe=16,J=1,pe=2,xe=3,Se=1/0,se=9007199254740991,Fe=17976931348623157e292,Ne=0/0,Be=4294967295,ze=Be-1,K=Be>>>1,g=[["ary",Y],["bind",w],["bindKey",O],["curry",U],["curryRight",I],["flip",E],["partial",S],["partialRight",C],["rearg",$]],v="[object Arguments]",m="[object Array]",T="[object AsyncFunction]",k="[object Boolean]",q="[object Date]",Q="[object DOMException]",ae="[object Error]",we="[object Function]",R="[object GeneratorFunction]",B="[object Map]",ee="[object Number]",be="[object Null]",oe="[object Object]",Ce="[object Promise]",Ie="[object Proxy]",Ee="[object RegExp]",Pe="[object Set]",he="[object String]",le="[object Symbol]",ie="[object Undefined]",ve="[object WeakMap]",Oe="[object WeakSet]",De="[object ArrayBuffer]",Ze="[object DataView]",Xe="[object Float32Array]",nt="[object Float64Array]",lt="[object Int8Array]",ht="[object Int16Array]",st="[object Int32Array]",pt="[object Uint8Array]",Me="[object Uint8ClampedArray]",me="[object Uint16Array]",de="[object Uint32Array]",$e=/\b__p \+= '';/g,We=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rt=/&(?:amp|lt|gt|quot|#39);/g,Ae=/[&<>"']/g,Ke=RegExp(Rt.source),rt=RegExp(Ae.source),Ye=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ue=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,te=RegExp(it.source),f=/^\s+/,V=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,N=/\{\n\/\* \[wrapped with (.+)\] \*/,L=/,? & /,G=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_e=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,at=/\w*$/,Qe=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,St=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,Jt="\\ud800-\\udfff",Pn="\\u0300-\\u036f",kn="\\ufe20-\\ufe2f",Ji="\\u20d0-\\u20ff",jo=Pn+kn+Ji,zo="\\u2700-\\u27bf",qo="a-z\\xdf-\\xf6\\xf8-\\xff",Xc="\\xac\\xb1\\xd7\\xf7",Yc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jc="\\u2000-\\u206f",Zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Go="A-Z\\xc0-\\xd6\\xd8-\\xde",Ko="\\ufe0e\\ufe0f",Xo=Xc+Yc+Jc+Zc,Zs="['’]",Qc="["+Jt+"]",Yo="["+Xo+"]",Zi="["+jo+"]",Jo="\\d+",eu="["+zo+"]",Zo="["+qo+"]",Qo="[^"+Jt+Xo+Jo+zo+qo+Go+"]",Qs="\\ud83c[\\udffb-\\udfff]",tu="(?:"+Zi+"|"+Qs+")",ea="[^"+Jt+"]",er="(?:\\ud83c[\\udde6-\\uddff]){2}",tr="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+Go+"]",ta="\\u200d",na="(?:"+Zo+"|"+Qo+")",nu="(?:"+ci+"|"+Qo+")",ia="(?:"+Zs+"(?:d|ll|m|re|s|t|ve))?",sa="(?:"+Zs+"(?:D|LL|M|RE|S|T|VE))?",ra=tu+"?",oa="["+Ko+"]?",iu="(?:"+ta+"(?:"+[ea,er,tr].join("|")+")"+oa+ra+")*",su="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ru="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aa=oa+ra+iu,ou="(?:"+[eu,er,tr].join("|")+")"+aa,au="(?:"+[ea+Zi+"?",Zi,er,tr,Qc].join("|")+")",lu=RegExp(Zs,"g"),cu=RegExp(Zi,"g"),nr=RegExp(Qs+"(?="+Qs+")|"+au+aa,"g"),uu=RegExp([ci+"?"+Zo+"+"+ia+"(?="+[Yo,ci,"$"].join("|")+")",nu+"+"+sa+"(?="+[Yo,ci+na,"$"].join("|")+")",ci+"?"+na+"+"+ia,ci+"+"+sa,ru,su,Jo,ou].join("|"),"g"),hu=RegExp("["+ta+Jt+jo+Ko+"]"),du=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pu=-1,Wt={};Wt[Xe]=Wt[nt]=Wt[lt]=Wt[ht]=Wt[st]=Wt[pt]=Wt[Me]=Wt[me]=Wt[de]=!0,Wt[v]=Wt[m]=Wt[De]=Wt[k]=Wt[Ze]=Wt[q]=Wt[ae]=Wt[we]=Wt[B]=Wt[ee]=Wt[oe]=Wt[Ee]=Wt[Pe]=Wt[he]=Wt[ve]=!1;var Ut={};Ut[v]=Ut[m]=Ut[De]=Ut[Ze]=Ut[k]=Ut[q]=Ut[Xe]=Ut[nt]=Ut[lt]=Ut[ht]=Ut[st]=Ut[B]=Ut[ee]=Ut[oe]=Ut[Ee]=Ut[Pe]=Ut[he]=Ut[le]=Ut[pt]=Ut[Me]=Ut[me]=Ut[de]=!0,Ut[ae]=Ut[we]=Ut[ve]=!1;var gu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vu=parseFloat,yu=parseInt,la=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Au=typeof self=="object"&&self&&self.Object===Object&&self,Zt=la||Au||Function("return this")(),ir=n&&!n.nodeType&&n,Qn=ir&&!0&&e&&!e.nodeType&&e,ca=Qn&&Qn.exports===ir,sr=ca&&la.process,mn=function(){try{var Te=Qn&&Qn.require&&Qn.require("util").types;return Te||sr&&sr.binding&&sr.binding("util")}catch{}}(),ua=mn&&mn.isArrayBuffer,ha=mn&&mn.isDate,da=mn&&mn.isMap,fa=mn&&mn.isRegExp,pa=mn&&mn.isSet,ga=mn&&mn.isTypedArray;function un(Te,He,Le){switch(Le.length){case 0:return Te.call(He);case 1:return Te.call(He,Le[0]);case 2:return Te.call(He,Le[0],Le[1]);case 3:return Te.call(He,Le[0],Le[1],Le[2])}return Te.apply(He,Le)}function Su(Te,He,Le,ft){for(var Et=-1,It=Te==null?0:Te.length;++Et<It;){var Kt=Te[Et];He(ft,Kt,Le(Kt),Te)}return ft}function _n(Te,He){for(var Le=-1,ft=Te==null?0:Te.length;++Le<ft&&He(Te[Le],Le,Te)!==!1;);return Te}function Eu(Te,He){for(var Le=Te==null?0:Te.length;Le--&&He(Te[Le],Le,Te)!==!1;);return Te}function ma(Te,He){for(var Le=-1,ft=Te==null?0:Te.length;++Le<ft;)if(!He(Te[Le],Le,Te))return!1;return!0}function jn(Te,He){for(var Le=-1,ft=Te==null?0:Te.length,Et=0,It=[];++Le<ft;){var Kt=Te[Le];He(Kt,Le,Te)&&(It[Et++]=Kt)}return It}function Qi(Te,He){var Le=Te==null?0:Te.length;return!!Le&&ui(Te,He,0)>-1}function rr(Te,He,Le){for(var ft=-1,Et=Te==null?0:Te.length;++ft<Et;)if(Le(He,Te[ft]))return!0;return!1}function Vt(Te,He){for(var Le=-1,ft=Te==null?0:Te.length,Et=Array(ft);++Le<ft;)Et[Le]=He(Te[Le],Le,Te);return Et}function zn(Te,He){for(var Le=-1,ft=He.length,Et=Te.length;++Le<ft;)Te[Et+Le]=He[Le];return Te}function or(Te,He,Le,ft){var Et=-1,It=Te==null?0:Te.length;for(ft&&It&&(Le=Te[++Et]);++Et<It;)Le=He(Le,Te[Et],Et,Te);return Le}function wu(Te,He,Le,ft){var Et=Te==null?0:Te.length;for(ft&&Et&&(Le=Te[--Et]);Et--;)Le=He(Le,Te[Et],Et,Te);return Le}function ar(Te,He){for(var Le=-1,ft=Te==null?0:Te.length;++Le<ft;)if(He(Te[Le],Le,Te))return!0;return!1}var xu=lr("length");function Cu(Te){return Te.split("")}function Tu(Te){return Te.match(G)||[]}function _a(Te,He,Le){var ft;return Le(Te,function(Et,It,Kt){if(He(Et,It,Kt))return ft=It,!1}),ft}function es(Te,He,Le,ft){for(var Et=Te.length,It=Le+(ft?1:-1);ft?It--:++It<Et;)if(He(Te[It],It,Te))return It;return-1}function ui(Te,He,Le){return He===He?$u(Te,He,Le):es(Te,ba,Le)}function Ru(Te,He,Le,ft){for(var Et=Le-1,It=Te.length;++Et<It;)if(ft(Te[Et],He))return Et;return-1}function ba(Te){return Te!==Te}function va(Te,He){var Le=Te==null?0:Te.length;return Le?ur(Te,He)/Le:Ne}function lr(Te){return function(He){return He==null?s:He[Te]}}function cr(Te){return function(He){return Te==null?s:Te[He]}}function ya(Te,He,Le,ft,Et){return Et(Te,function(It,Kt,$t){Le=ft?(ft=!1,It):He(Le,It,Kt,$t)}),Le}function Pu(Te,He){var Le=Te.length;for(Te.sort(He);Le--;)Te[Le]=Te[Le].value;return Te}function ur(Te,He){for(var Le,ft=-1,Et=Te.length;++ft<Et;){var It=He(Te[ft]);It!==s&&(Le=Le===s?It:Le+It)}return Le}function hr(Te,He){for(var Le=-1,ft=Array(Te);++Le<Te;)ft[Le]=He(Le);return ft}function ku(Te,He){return Vt(He,function(Le){return[Le,Te[Le]]})}function Aa(Te){return Te&&Te.slice(0,xa(Te)+1).replace(f,"")}function hn(Te){return function(He){return Te(He)}}function dr(Te,He){return Vt(He,function(Le){return Te[Le]})}function Ri(Te,He){return Te.has(He)}function Sa(Te,He){for(var Le=-1,ft=Te.length;++Le<ft&&ui(He,Te[Le],0)>-1;);return Le}function Ea(Te,He){for(var Le=Te.length;Le--&&ui(He,Te[Le],0)>-1;);return Le}function Fu(Te,He){for(var Le=Te.length,ft=0;Le--;)Te[Le]===He&&++ft;return ft}var Mu=cr(gu),Ou=cr(mu);function Iu(Te){return"\\"+bu[Te]}function Du(Te,He){return Te==null?s:Te[He]}function hi(Te){return hu.test(Te)}function Lu(Te){return du.test(Te)}function Nu(Te){for(var He,Le=[];!(He=Te.next()).done;)Le.push(He.value);return Le}function fr(Te){var He=-1,Le=Array(Te.size);return Te.forEach(function(ft,Et){Le[++He]=[Et,ft]}),Le}function wa(Te,He){return function(Le){return Te(He(Le))}}function qn(Te,He){for(var Le=-1,ft=Te.length,Et=0,It=[];++Le<ft;){var Kt=Te[Le];(Kt===He||Kt===d)&&(Te[Le]=d,It[Et++]=Le)}return It}function ts(Te){var He=-1,Le=Array(Te.size);return Te.forEach(function(ft){Le[++He]=ft}),Le}function Bu(Te){var He=-1,Le=Array(Te.size);return Te.forEach(function(ft){Le[++He]=[ft,ft]}),Le}function $u(Te,He,Le){for(var ft=Le-1,Et=Te.length;++ft<Et;)if(Te[ft]===He)return ft;return-1}function Uu(Te,He,Le){for(var ft=Le+1;ft--;)if(Te[ft]===He)return ft;return ft}function di(Te){return hi(Te)?Wu(Te):xu(Te)}function xn(Te){return hi(Te)?Vu(Te):Cu(Te)}function xa(Te){for(var He=Te.length;He--&&V.test(Te.charAt(He)););return He}var Hu=cr(_u);function Wu(Te){for(var He=nr.lastIndex=0;nr.test(Te);)++He;return He}function Vu(Te){return Te.match(nr)||[]}function ju(Te){return Te.match(uu)||[]}var zu=function Te(He){He=He==null?Zt:fi.defaults(Zt.Object(),He,fi.pick(Zt,fu));var Le=He.Array,ft=He.Date,Et=He.Error,It=He.Function,Kt=He.Math,$t=He.Object,pr=He.RegExp,qu=He.String,bn=He.TypeError,ns=Le.prototype,Gu=It.prototype,pi=$t.prototype,is=He["__core-js_shared__"],ss=Gu.toString,Lt=pi.hasOwnProperty,Ku=0,Ca=function(){var t=/[^.]+$/.exec(is&&is.keys&&is.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),rs=pi.toString,Xu=ss.call($t),Yu=Zt._,Ju=pr("^"+ss.call(Lt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=ca?He.Buffer:s,Gn=He.Symbol,as=He.Uint8Array,Ta=os?os.allocUnsafe:s,ls=wa($t.getPrototypeOf,$t),Ra=$t.create,Pa=pi.propertyIsEnumerable,cs=ns.splice,ka=Gn?Gn.isConcatSpreadable:s,Pi=Gn?Gn.iterator:s,ei=Gn?Gn.toStringTag:s,us=function(){try{var t=ri($t,"defineProperty");return t({},"",{}),t}catch{}}(),Zu=He.clearTimeout!==Zt.clearTimeout&&He.clearTimeout,Qu=ft&&ft.now!==Zt.Date.now&&ft.now,eh=He.setTimeout!==Zt.setTimeout&&He.setTimeout,hs=Kt.ceil,ds=Kt.floor,gr=$t.getOwnPropertySymbols,th=os?os.isBuffer:s,Fa=He.isFinite,nh=ns.join,ih=wa($t.keys,$t),Xt=Kt.max,en=Kt.min,sh=ft.now,rh=He.parseInt,Ma=Kt.random,oh=ns.reverse,mr=ri(He,"DataView"),ki=ri(He,"Map"),_r=ri(He,"Promise"),gi=ri(He,"Set"),Fi=ri(He,"WeakMap"),Mi=ri($t,"create"),fs=Fi&&new Fi,mi={},ah=oi(mr),lh=oi(ki),ch=oi(_r),uh=oi(gi),hh=oi(Fi),ps=Gn?Gn.prototype:s,Oi=ps?ps.valueOf:s,Oa=ps?ps.toString:s;function j(t){if(zt(t)&&!wt(t)&&!(t instanceof Mt)){if(t instanceof vn)return t;if(Lt.call(t,"__wrapped__"))return Il(t)}return new vn(t)}var _i=function(){function t(){}return function(i){if(!jt(i))return{};if(Ra)return Ra(i);t.prototype=i;var a=new t;return t.prototype=s,a}}();function gs(){}function vn(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=s}j.templateSettings={escape:Ye,evaluate:ot,interpolate:ct,variable:"",imports:{_:j}},j.prototype=gs.prototype,j.prototype.constructor=j,vn.prototype=_i(gs.prototype),vn.prototype.constructor=vn;function Mt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Be,this.__views__=[]}function dh(){var t=new Mt(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t}function fh(){if(this.__filtered__){var t=new Mt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function ph(){var t=this.__wrapped__.value(),i=this.__dir__,a=wt(t),h=i<0,P=a?t.length:0,X=Cd(0,P,this.__views__),ue=X.start,ye=X.end,ke=ye-ue,je=h?ye:ue-1,Ge=this.__iteratees__,Je=Ge.length,ut=0,gt=en(ke,this.__takeCount__);if(!a||!h&&P==ke&&gt==ke)return il(t,this.__actions__);var yt=[];e:for(;ke--&&ut<gt;){je+=i;for(var Ct=-1,At=t[je];++Ct<Je;){var Ft=Ge[Ct],Ot=Ft.iteratee,pn=Ft.type,rn=Ot(At);if(pn==pe)At=rn;else if(!rn){if(pn==J)continue e;break e}}yt[ut++]=At}return yt}Mt.prototype=_i(gs.prototype),Mt.prototype.constructor=Mt;function ti(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var h=t[i];this.set(h[0],h[1])}}function gh(){this.__data__=Mi?Mi(null):{},this.size=0}function mh(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}function _h(t){var i=this.__data__;if(Mi){var a=i[t];return a===b?s:a}return Lt.call(i,t)?i[t]:s}function bh(t){var i=this.__data__;return Mi?i[t]!==s:Lt.call(i,t)}function vh(t,i){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Mi&&i===s?b:i,this}ti.prototype.clear=gh,ti.prototype.delete=mh,ti.prototype.get=_h,ti.prototype.has=bh,ti.prototype.set=vh;function In(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var h=t[i];this.set(h[0],h[1])}}function yh(){this.__data__=[],this.size=0}function Ah(t){var i=this.__data__,a=ms(i,t);if(a<0)return!1;var h=i.length-1;return a==h?i.pop():cs.call(i,a,1),--this.size,!0}function Sh(t){var i=this.__data__,a=ms(i,t);return a<0?s:i[a][1]}function Eh(t){return ms(this.__data__,t)>-1}function wh(t,i){var a=this.__data__,h=ms(a,t);return h<0?(++this.size,a.push([t,i])):a[h][1]=i,this}In.prototype.clear=yh,In.prototype.delete=Ah,In.prototype.get=Sh,In.prototype.has=Eh,In.prototype.set=wh;function Dn(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var h=t[i];this.set(h[0],h[1])}}function xh(){this.size=0,this.__data__={hash:new ti,map:new(ki||In),string:new ti}}function Ch(t){var i=Rs(this,t).delete(t);return this.size-=i?1:0,i}function Th(t){return Rs(this,t).get(t)}function Rh(t){return Rs(this,t).has(t)}function Ph(t,i){var a=Rs(this,t),h=a.size;return a.set(t,i),this.size+=a.size==h?0:1,this}Dn.prototype.clear=xh,Dn.prototype.delete=Ch,Dn.prototype.get=Th,Dn.prototype.has=Rh,Dn.prototype.set=Ph;function ni(t){var i=-1,a=t==null?0:t.length;for(this.__data__=new Dn;++i<a;)this.add(t[i])}function kh(t){return this.__data__.set(t,b),this}function Fh(t){return this.__data__.has(t)}ni.prototype.add=ni.prototype.push=kh,ni.prototype.has=Fh;function Cn(t){var i=this.__data__=new In(t);this.size=i.size}function Mh(){this.__data__=new In,this.size=0}function Oh(t){var i=this.__data__,a=i.delete(t);return this.size=i.size,a}function Ih(t){return this.__data__.get(t)}function Dh(t){return this.__data__.has(t)}function Lh(t,i){var a=this.__data__;if(a instanceof In){var h=a.__data__;if(!ki||h.length<o-1)return h.push([t,i]),this.size=++a.size,this;a=this.__data__=new Dn(h)}return a.set(t,i),this.size=a.size,this}Cn.prototype.clear=Mh,Cn.prototype.delete=Oh,Cn.prototype.get=Ih,Cn.prototype.has=Dh,Cn.prototype.set=Lh;function Ia(t,i){var a=wt(t),h=!a&&ai(t),P=!a&&!h&&Zn(t),X=!a&&!h&&!P&&Ai(t),ue=a||h||P||X,ye=ue?hr(t.length,qu):[],ke=ye.length;for(var je in t)(i||Lt.call(t,je))&&!(ue&&(je=="length"||P&&(je=="offset"||je=="parent")||X&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||$n(je,ke)))&&ye.push(je);return ye}function Da(t){var i=t.length;return i?t[Rr(0,i-1)]:s}function Nh(t,i){return Ps(on(t),ii(i,0,t.length))}function Bh(t){return Ps(on(t))}function br(t,i,a){(a!==s&&!Tn(t[i],a)||a===s&&!(i in t))&&Ln(t,i,a)}function Ii(t,i,a){var h=t[i];(!(Lt.call(t,i)&&Tn(h,a))||a===s&&!(i in t))&&Ln(t,i,a)}function ms(t,i){for(var a=t.length;a--;)if(Tn(t[a][0],i))return a;return-1}function $h(t,i,a,h){return Kn(t,function(P,X,ue){i(h,P,a(P),ue)}),h}function La(t,i){return t&&Mn(i,Yt(i),t)}function Uh(t,i){return t&&Mn(i,ln(i),t)}function Ln(t,i,a){i=="__proto__"&&us?us(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}function vr(t,i){for(var a=-1,h=i.length,P=Le(h),X=t==null;++a<h;)P[a]=X?s:Qr(t,i[a]);return P}function ii(t,i,a){return t===t&&(a!==s&&(t=t<=a?t:a),i!==s&&(t=t>=i?t:i)),t}function yn(t,i,a,h,P,X){var ue,ye=i&x,ke=i&z,je=i&D;if(a&&(ue=P?a(t,h,P,X):a(t)),ue!==s)return ue;if(!jt(t))return t;var Ge=wt(t);if(Ge){if(ue=Rd(t),!ye)return on(t,ue)}else{var Je=tn(t),ut=Je==we||Je==R;if(Zn(t))return ol(t,ye);if(Je==oe||Je==v||ut&&!P){if(ue=ke||ut?{}:xl(t),!ye)return ke?_d(t,Uh(ue,t)):md(t,La(ue,t))}else{if(!Ut[Je])return P?t:{};ue=Pd(t,Je,ye)}}X||(X=new Cn);var gt=X.get(t);if(gt)return gt;X.set(t,ue),ec(t)?t.forEach(function(At){ue.add(yn(At,i,a,At,t,X))}):Zl(t)&&t.forEach(function(At,Ft){ue.set(Ft,yn(At,i,a,Ft,t,X))});var yt=je?ke?$r:Br:ke?ln:Yt,Ct=Ge?s:yt(t);return _n(Ct||t,function(At,Ft){Ct&&(Ft=At,At=t[Ft]),Ii(ue,Ft,yn(At,i,a,Ft,t,X))}),ue}function Hh(t){var i=Yt(t);return function(a){return Na(a,t,i)}}function Na(t,i,a){var h=a.length;if(t==null)return!h;for(t=$t(t);h--;){var P=a[h],X=i[P],ue=t[P];if(ue===s&&!(P in t)||!X(ue))return!1}return!0}function Ba(t,i,a){if(typeof t!="function")throw new bn(c);return Hi(function(){t.apply(s,a)},i)}function Di(t,i,a,h){var P=-1,X=Qi,ue=!0,ye=t.length,ke=[],je=i.length;if(!ye)return ke;a&&(i=Vt(i,hn(a))),h?(X=rr,ue=!1):i.length>=o&&(X=Ri,ue=!1,i=new ni(i));e:for(;++P<ye;){var Ge=t[P],Je=a==null?Ge:a(Ge);if(Ge=h||Ge!==0?Ge:0,ue&&Je===Je){for(var ut=je;ut--;)if(i[ut]===Je)continue e;ke.push(Ge)}else X(i,Je,h)||ke.push(Ge)}return ke}var Kn=hl(Fn),$a=hl(Ar,!0);function Wh(t,i){var a=!0;return Kn(t,function(h,P,X){return a=!!i(h,P,X),a}),a}function _s(t,i,a){for(var h=-1,P=t.length;++h<P;){var X=t[h],ue=i(X);if(ue!=null&&(ye===s?ue===ue&&!fn(ue):a(ue,ye)))var ye=ue,ke=X}return ke}function Vh(t,i,a,h){var P=t.length;for(a=xt(a),a<0&&(a=-a>P?0:P+a),h=h===s||h>P?P:xt(h),h<0&&(h+=P),h=a>h?0:nc(h);a<h;)t[a++]=i;return t}function Ua(t,i){var a=[];return Kn(t,function(h,P,X){i(h,P,X)&&a.push(h)}),a}function Qt(t,i,a,h,P){var X=-1,ue=t.length;for(a||(a=Fd),P||(P=[]);++X<ue;){var ye=t[X];i>0&&a(ye)?i>1?Qt(ye,i-1,a,h,P):zn(P,ye):h||(P[P.length]=ye)}return P}var yr=dl(),Ha=dl(!0);function Fn(t,i){return t&&yr(t,i,Yt)}function Ar(t,i){return t&&Ha(t,i,Yt)}function bs(t,i){return jn(i,function(a){return Un(t[a])})}function si(t,i){i=Yn(i,t);for(var a=0,h=i.length;t!=null&&a<h;)t=t[On(i[a++])];return a&&a==h?t:s}function Wa(t,i,a){var h=i(t);return wt(t)?h:zn(h,a(t))}function nn(t){return t==null?t===s?ie:be:ei&&ei in $t(t)?xd(t):Bd(t)}function Sr(t,i){return t>i}function jh(t,i){return t!=null&&Lt.call(t,i)}function zh(t,i){return t!=null&&i in $t(t)}function qh(t,i,a){return t>=en(i,a)&&t<Xt(i,a)}function Er(t,i,a){for(var h=a?rr:Qi,P=t[0].length,X=t.length,ue=X,ye=Le(X),ke=1/0,je=[];ue--;){var Ge=t[ue];ue&&i&&(Ge=Vt(Ge,hn(i))),ke=en(Ge.length,ke),ye[ue]=!a&&(i||P>=120&&Ge.length>=120)?new ni(ue&&Ge):s}Ge=t[0];var Je=-1,ut=ye[0];e:for(;++Je<P&&je.length<ke;){var gt=Ge[Je],yt=i?i(gt):gt;if(gt=a||gt!==0?gt:0,!(ut?Ri(ut,yt):h(je,yt,a))){for(ue=X;--ue;){var Ct=ye[ue];if(!(Ct?Ri(Ct,yt):h(t[ue],yt,a)))continue e}ut&&ut.push(yt),je.push(gt)}}return je}function Gh(t,i,a,h){return Fn(t,function(P,X,ue){i(h,a(P),X,ue)}),h}function Li(t,i,a){i=Yn(i,t),t=Pl(t,i);var h=t==null?t:t[On(Sn(i))];return h==null?s:un(h,t,a)}function Va(t){return zt(t)&&nn(t)==v}function Kh(t){return zt(t)&&nn(t)==De}function Xh(t){return zt(t)&&nn(t)==q}function Ni(t,i,a,h,P){return t===i?!0:t==null||i==null||!zt(t)&&!zt(i)?t!==t&&i!==i:Yh(t,i,a,h,Ni,P)}function Yh(t,i,a,h,P,X){var ue=wt(t),ye=wt(i),ke=ue?m:tn(t),je=ye?m:tn(i);ke=ke==v?oe:ke,je=je==v?oe:je;var Ge=ke==oe,Je=je==oe,ut=ke==je;if(ut&&Zn(t)){if(!Zn(i))return!1;ue=!0,Ge=!1}if(ut&&!Ge)return X||(X=new Cn),ue||Ai(t)?Sl(t,i,a,h,P,X):Ed(t,i,ke,a,h,P,X);if(!(a&F)){var gt=Ge&&Lt.call(t,"__wrapped__"),yt=Je&&Lt.call(i,"__wrapped__");if(gt||yt){var Ct=gt?t.value():t,At=yt?i.value():i;return X||(X=new Cn),P(Ct,At,a,h,X)}}return ut?(X||(X=new Cn),wd(t,i,a,h,P,X)):!1}function Jh(t){return zt(t)&&tn(t)==B}function wr(t,i,a,h){var P=a.length,X=P,ue=!h;if(t==null)return!X;for(t=$t(t);P--;){var ye=a[P];if(ue&&ye[2]?ye[1]!==t[ye[0]]:!(ye[0]in t))return!1}for(;++P<X;){ye=a[P];var ke=ye[0],je=t[ke],Ge=ye[1];if(ue&&ye[2]){if(je===s&&!(ke in t))return!1}else{var Je=new Cn;if(h)var ut=h(je,Ge,ke,t,i,Je);if(!(ut===s?Ni(Ge,je,F|M,h,Je):ut))return!1}}return!0}function ja(t){if(!jt(t)||Od(t))return!1;var i=Un(t)?Ju:dt;return i.test(oi(t))}function Zh(t){return zt(t)&&nn(t)==Ee}function Qh(t){return zt(t)&&tn(t)==Pe}function ed(t){return zt(t)&&Ds(t.length)&&!!Wt[nn(t)]}function za(t){return typeof t=="function"?t:t==null?cn:typeof t=="object"?wt(t)?Ka(t[0],t[1]):Ga(t):fc(t)}function xr(t){if(!Ui(t))return ih(t);var i=[];for(var a in $t(t))Lt.call(t,a)&&a!="constructor"&&i.push(a);return i}function td(t){if(!jt(t))return Nd(t);var i=Ui(t),a=[];for(var h in t)h=="constructor"&&(i||!Lt.call(t,h))||a.push(h);return a}function Cr(t,i){return t<i}function qa(t,i){var a=-1,h=an(t)?Le(t.length):[];return Kn(t,function(P,X,ue){h[++a]=i(P,X,ue)}),h}function Ga(t){var i=Hr(t);return i.length==1&&i[0][2]?Tl(i[0][0],i[0][1]):function(a){return a===t||wr(a,t,i)}}function Ka(t,i){return Vr(t)&&Cl(i)?Tl(On(t),i):function(a){var h=Qr(a,t);return h===s&&h===i?eo(a,t):Ni(i,h,F|M)}}function vs(t,i,a,h,P){t!==i&&yr(i,function(X,ue){if(P||(P=new Cn),jt(X))nd(t,i,ue,a,vs,h,P);else{var ye=h?h(zr(t,ue),X,ue+"",t,i,P):s;ye===s&&(ye=X),br(t,ue,ye)}},ln)}function nd(t,i,a,h,P,X,ue){var ye=zr(t,a),ke=zr(i,a),je=ue.get(ke);if(je){br(t,a,je);return}var Ge=X?X(ye,ke,a+"",t,i,ue):s,Je=Ge===s;if(Je){var ut=wt(ke),gt=!ut&&Zn(ke),yt=!ut&&!gt&&Ai(ke);Ge=ke,ut||gt||yt?wt(ye)?Ge=ye:qt(ye)?Ge=on(ye):gt?(Je=!1,Ge=ol(ke,!0)):yt?(Je=!1,Ge=al(ke,!0)):Ge=[]:Wi(ke)||ai(ke)?(Ge=ye,ai(ye)?Ge=ic(ye):(!jt(ye)||Un(ye))&&(Ge=xl(ke))):Je=!1}Je&&(ue.set(ke,Ge),P(Ge,ke,h,X,ue),ue.delete(ke)),br(t,a,Ge)}function Xa(t,i){var a=t.length;if(a)return i+=i<0?a:0,$n(i,a)?t[i]:s}function Ya(t,i,a){i.length?i=Vt(i,function(X){return wt(X)?function(ue){return si(ue,X.length===1?X[0]:X)}:X}):i=[cn];var h=-1;i=Vt(i,hn(vt()));var P=qa(t,function(X,ue,ye){var ke=Vt(i,function(je){return je(X)});return{criteria:ke,index:++h,value:X}});return Pu(P,function(X,ue){return gd(X,ue,a)})}function id(t,i){return Ja(t,i,function(a,h){return eo(t,h)})}function Ja(t,i,a){for(var h=-1,P=i.length,X={};++h<P;){var ue=i[h],ye=si(t,ue);a(ye,ue)&&Bi(X,Yn(ue,t),ye)}return X}function sd(t){return function(i){return si(i,t)}}function Tr(t,i,a,h){var P=h?Ru:ui,X=-1,ue=i.length,ye=t;for(t===i&&(i=on(i)),a&&(ye=Vt(t,hn(a)));++X<ue;)for(var ke=0,je=i[X],Ge=a?a(je):je;(ke=P(ye,Ge,ke,h))>-1;)ye!==t&&cs.call(ye,ke,1),cs.call(t,ke,1);return t}function Za(t,i){for(var a=t?i.length:0,h=a-1;a--;){var P=i[a];if(a==h||P!==X){var X=P;$n(P)?cs.call(t,P,1):Fr(t,P)}}return t}function Rr(t,i){return t+ds(Ma()*(i-t+1))}function rd(t,i,a,h){for(var P=-1,X=Xt(hs((i-t)/(a||1)),0),ue=Le(X);X--;)ue[h?X:++P]=t,t+=a;return ue}function Pr(t,i){var a="";if(!t||i<1||i>se)return a;do i%2&&(a+=t),i=ds(i/2),i&&(t+=t);while(i);return a}function Tt(t,i){return qr(Rl(t,i,cn),t+"")}function od(t){return Da(Si(t))}function ad(t,i){var a=Si(t);return Ps(a,ii(i,0,a.length))}function Bi(t,i,a,h){if(!jt(t))return t;i=Yn(i,t);for(var P=-1,X=i.length,ue=X-1,ye=t;ye!=null&&++P<X;){var ke=On(i[P]),je=a;if(ke==="__proto__"||ke==="constructor"||ke==="prototype")return t;if(P!=ue){var Ge=ye[ke];je=h?h(Ge,ke,ye):s,je===s&&(je=jt(Ge)?Ge:$n(i[P+1])?[]:{})}Ii(ye,ke,je),ye=ye[ke]}return t}var Qa=fs?function(t,i){return fs.set(t,i),t}:cn,ld=us?function(t,i){return us(t,"toString",{configurable:!0,enumerable:!1,value:no(i),writable:!0})}:cn;function cd(t){return Ps(Si(t))}function An(t,i,a){var h=-1,P=t.length;i<0&&(i=-i>P?0:P+i),a=a>P?P:a,a<0&&(a+=P),P=i>a?0:a-i>>>0,i>>>=0;for(var X=Le(P);++h<P;)X[h]=t[h+i];return X}function ud(t,i){var a;return Kn(t,function(h,P,X){return a=i(h,P,X),!a}),!!a}function ys(t,i,a){var h=0,P=t==null?h:t.length;if(typeof i=="number"&&i===i&&P<=K){for(;h<P;){var X=h+P>>>1,ue=t[X];ue!==null&&!fn(ue)&&(a?ue<=i:ue<i)?h=X+1:P=X}return P}return kr(t,i,cn,a)}function kr(t,i,a,h){var P=0,X=t==null?0:t.length;if(X===0)return 0;i=a(i);for(var ue=i!==i,ye=i===null,ke=fn(i),je=i===s;P<X;){var Ge=ds((P+X)/2),Je=a(t[Ge]),ut=Je!==s,gt=Je===null,yt=Je===Je,Ct=fn(Je);if(ue)var At=h||yt;else je?At=yt&&(h||ut):ye?At=yt&&ut&&(h||!gt):ke?At=yt&&ut&&!gt&&(h||!Ct):gt||Ct?At=!1:At=h?Je<=i:Je<i;At?P=Ge+1:X=Ge}return en(X,ze)}function el(t,i){for(var a=-1,h=t.length,P=0,X=[];++a<h;){var ue=t[a],ye=i?i(ue):ue;if(!a||!Tn(ye,ke)){var ke=ye;X[P++]=ue===0?0:ue}}return X}function tl(t){return typeof t=="number"?t:fn(t)?Ne:+t}function dn(t){if(typeof t=="string")return t;if(wt(t))return Vt(t,dn)+"";if(fn(t))return Oa?Oa.call(t):"";var i=t+"";return i=="0"&&1/t==-Se?"-0":i}function Xn(t,i,a){var h=-1,P=Qi,X=t.length,ue=!0,ye=[],ke=ye;if(a)ue=!1,P=rr;else if(X>=o){var je=i?null:Ad(t);if(je)return ts(je);ue=!1,P=Ri,ke=new ni}else ke=i?[]:ye;e:for(;++h<X;){var Ge=t[h],Je=i?i(Ge):Ge;if(Ge=a||Ge!==0?Ge:0,ue&&Je===Je){for(var ut=ke.length;ut--;)if(ke[ut]===Je)continue e;i&&ke.push(Je),ye.push(Ge)}else P(ke,Je,a)||(ke!==ye&&ke.push(Je),ye.push(Ge))}return ye}function Fr(t,i){return i=Yn(i,t),t=Pl(t,i),t==null||delete t[On(Sn(i))]}function nl(t,i,a,h){return Bi(t,i,a(si(t,i)),h)}function As(t,i,a,h){for(var P=t.length,X=h?P:-1;(h?X--:++X<P)&&i(t[X],X,t););return a?An(t,h?0:X,h?X+1:P):An(t,h?X+1:0,h?P:X)}function il(t,i){var a=t;return a instanceof Mt&&(a=a.value()),or(i,function(h,P){return P.func.apply(P.thisArg,zn([h],P.args))},a)}function Mr(t,i,a){var h=t.length;if(h<2)return h?Xn(t[0]):[];for(var P=-1,X=Le(h);++P<h;)for(var ue=t[P],ye=-1;++ye<h;)ye!=P&&(X[P]=Di(X[P]||ue,t[ye],i,a));return Xn(Qt(X,1),i,a)}function sl(t,i,a){for(var h=-1,P=t.length,X=i.length,ue={};++h<P;){var ye=h<X?i[h]:s;a(ue,t[h],ye)}return ue}function Or(t){return qt(t)?t:[]}function Ir(t){return typeof t=="function"?t:cn}function Yn(t,i){return wt(t)?t:Vr(t,i)?[t]:Ol(Dt(t))}var hd=Tt;function Jn(t,i,a){var h=t.length;return a=a===s?h:a,!i&&a>=h?t:An(t,i,a)}var rl=Zu||function(t){return Zt.clearTimeout(t)};function ol(t,i){if(i)return t.slice();var a=t.length,h=Ta?Ta(a):new t.constructor(a);return t.copy(h),h}function Dr(t){var i=new t.constructor(t.byteLength);return new as(i).set(new as(t)),i}function dd(t,i){var a=i?Dr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}function fd(t){var i=new t.constructor(t.source,at.exec(t));return i.lastIndex=t.lastIndex,i}function pd(t){return Oi?$t(Oi.call(t)):{}}function al(t,i){var a=i?Dr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}function ll(t,i){if(t!==i){var a=t!==s,h=t===null,P=t===t,X=fn(t),ue=i!==s,ye=i===null,ke=i===i,je=fn(i);if(!ye&&!je&&!X&&t>i||X&&ue&&ke&&!ye&&!je||h&&ue&&ke||!a&&ke||!P)return 1;if(!h&&!X&&!je&&t<i||je&&a&&P&&!h&&!X||ye&&a&&P||!ue&&P||!ke)return-1}return 0}function gd(t,i,a){for(var h=-1,P=t.criteria,X=i.criteria,ue=P.length,ye=a.length;++h<ue;){var ke=ll(P[h],X[h]);if(ke){if(h>=ye)return ke;var je=a[h];return ke*(je=="desc"?-1:1)}}return t.index-i.index}function cl(t,i,a,h){for(var P=-1,X=t.length,ue=a.length,ye=-1,ke=i.length,je=Xt(X-ue,0),Ge=Le(ke+je),Je=!h;++ye<ke;)Ge[ye]=i[ye];for(;++P<ue;)(Je||P<X)&&(Ge[a[P]]=t[P]);for(;je--;)Ge[ye++]=t[P++];return Ge}function ul(t,i,a,h){for(var P=-1,X=t.length,ue=-1,ye=a.length,ke=-1,je=i.length,Ge=Xt(X-ye,0),Je=Le(Ge+je),ut=!h;++P<Ge;)Je[P]=t[P];for(var gt=P;++ke<je;)Je[gt+ke]=i[ke];for(;++ue<ye;)(ut||P<X)&&(Je[gt+a[ue]]=t[P++]);return Je}function on(t,i){var a=-1,h=t.length;for(i||(i=Le(h));++a<h;)i[a]=t[a];return i}function Mn(t,i,a,h){var P=!a;a||(a={});for(var X=-1,ue=i.length;++X<ue;){var ye=i[X],ke=h?h(a[ye],t[ye],ye,a,t):s;ke===s&&(ke=t[ye]),P?Ln(a,ye,ke):Ii(a,ye,ke)}return a}function md(t,i){return Mn(t,Wr(t),i)}function _d(t,i){return Mn(t,El(t),i)}function Ss(t,i){return function(a,h){var P=wt(a)?Su:$h,X=i?i():{};return P(a,t,vt(h,2),X)}}function bi(t){return Tt(function(i,a){var h=-1,P=a.length,X=P>1?a[P-1]:s,ue=P>2?a[2]:s;for(X=t.length>3&&typeof X=="function"?(P--,X):s,ue&&sn(a[0],a[1],ue)&&(X=P<3?s:X,P=1),i=$t(i);++h<P;){var ye=a[h];ye&&t(i,ye,h,X)}return i})}function hl(t,i){return function(a,h){if(a==null)return a;if(!an(a))return t(a,h);for(var P=a.length,X=i?P:-1,ue=$t(a);(i?X--:++X<P)&&h(ue[X],X,ue)!==!1;);return a}}function dl(t){return function(i,a,h){for(var P=-1,X=$t(i),ue=h(i),ye=ue.length;ye--;){var ke=ue[t?ye:++P];if(a(X[ke],ke,X)===!1)break}return i}}function bd(t,i,a){var h=i&w,P=$i(t);function X(){var ue=this&&this!==Zt&&this instanceof X?P:t;return ue.apply(h?a:this,arguments)}return X}function fl(t){return function(i){i=Dt(i);var a=hi(i)?xn(i):s,h=a?a[0]:i.charAt(0),P=a?Jn(a,1).join(""):i.slice(1);return h[t]()+P}}function vi(t){return function(i){return or(hc(uc(i).replace(lu,"")),t,"")}}function $i(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=_i(t.prototype),h=t.apply(a,i);return jt(h)?h:a}}function vd(t,i,a){var h=$i(t);function P(){for(var X=arguments.length,ue=Le(X),ye=X,ke=yi(P);ye--;)ue[ye]=arguments[ye];var je=X<3&&ue[0]!==ke&&ue[X-1]!==ke?[]:qn(ue,ke);if(X-=je.length,X<a)return bl(t,i,Es,P.placeholder,s,ue,je,s,s,a-X);var Ge=this&&this!==Zt&&this instanceof P?h:t;return un(Ge,this,ue)}return P}function pl(t){return function(i,a,h){var P=$t(i);if(!an(i)){var X=vt(a,3);i=Yt(i),a=function(ye){return X(P[ye],ye,P)}}var ue=t(i,a,h);return ue>-1?P[X?i[ue]:ue]:s}}function gl(t){return Bn(function(i){var a=i.length,h=a,P=vn.prototype.thru;for(t&&i.reverse();h--;){var X=i[h];if(typeof X!="function")throw new bn(c);if(P&&!ue&&Ts(X)=="wrapper")var ue=new vn([],!0)}for(h=ue?h:a;++h<a;){X=i[h];var ye=Ts(X),ke=ye=="wrapper"?Ur(X):s;ke&&jr(ke[0])&&ke[1]==(Y|U|S|$)&&!ke[4].length&&ke[9]==1?ue=ue[Ts(ke[0])].apply(ue,ke[3]):ue=X.length==1&&jr(X)?ue[ye]():ue.thru(X)}return function(){var je=arguments,Ge=je[0];if(ue&&je.length==1&&wt(Ge))return ue.plant(Ge).value();for(var Je=0,ut=a?i[Je].apply(this,je):Ge;++Je<a;)ut=i[Je].call(this,ut);return ut}})}function Es(t,i,a,h,P,X,ue,ye,ke,je){var Ge=i&Y,Je=i&w,ut=i&O,gt=i&(U|I),yt=i&E,Ct=ut?s:$i(t);function At(){for(var Ft=arguments.length,Ot=Le(Ft),pn=Ft;pn--;)Ot[pn]=arguments[pn];if(gt)var rn=yi(At),gn=Fu(Ot,rn);if(h&&(Ot=cl(Ot,h,P,gt)),X&&(Ot=ul(Ot,X,ue,gt)),Ft-=gn,gt&&Ft<je){var Gt=qn(Ot,rn);return bl(t,i,Es,At.placeholder,a,Ot,Gt,ye,ke,je-Ft)}var Rn=Je?a:this,Wn=ut?Rn[t]:t;return Ft=Ot.length,ye?Ot=$d(Ot,ye):yt&&Ft>1&&Ot.reverse(),Ge&&ke<Ft&&(Ot.length=ke),this&&this!==Zt&&this instanceof At&&(Wn=Ct||$i(Wn)),Wn.apply(Rn,Ot)}return At}function ml(t,i){return function(a,h){return Gh(a,t,i(h),{})}}function ws(t,i){return function(a,h){var P;if(a===s&&h===s)return i;if(a!==s&&(P=a),h!==s){if(P===s)return h;typeof a=="string"||typeof h=="string"?(a=dn(a),h=dn(h)):(a=tl(a),h=tl(h)),P=t(a,h)}return P}}function Lr(t){return Bn(function(i){return i=Vt(i,hn(vt())),Tt(function(a){var h=this;return t(i,function(P){return un(P,h,a)})})})}function xs(t,i){i=i===s?" ":dn(i);var a=i.length;if(a<2)return a?Pr(i,t):i;var h=Pr(i,hs(t/di(i)));return hi(i)?Jn(xn(h),0,t).join(""):h.slice(0,t)}function yd(t,i,a,h){var P=i&w,X=$i(t);function ue(){for(var ye=-1,ke=arguments.length,je=-1,Ge=h.length,Je=Le(Ge+ke),ut=this&&this!==Zt&&this instanceof ue?X:t;++je<Ge;)Je[je]=h[je];for(;ke--;)Je[je++]=arguments[++ye];return un(ut,P?a:this,Je)}return ue}function _l(t){return function(i,a,h){return h&&typeof h!="number"&&sn(i,a,h)&&(a=h=s),i=Hn(i),a===s?(a=i,i=0):a=Hn(a),h=h===s?i<a?1:-1:Hn(h),rd(i,a,h,t)}}function Cs(t){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=En(i),a=En(a)),t(i,a)}}function bl(t,i,a,h,P,X,ue,ye,ke,je){var Ge=i&U,Je=Ge?ue:s,ut=Ge?s:ue,gt=Ge?X:s,yt=Ge?s:X;i|=Ge?S:C,i&=~(Ge?C:S),i&H||(i&=~(w|O));var Ct=[t,i,P,gt,Je,yt,ut,ye,ke,je],At=a.apply(s,Ct);return jr(t)&&kl(At,Ct),At.placeholder=h,Fl(At,t,i)}function Nr(t){var i=Kt[t];return function(a,h){if(a=En(a),h=h==null?0:en(xt(h),292),h&&Fa(a)){var P=(Dt(a)+"e").split("e"),X=i(P[0]+"e"+(+P[1]+h));return P=(Dt(X)+"e").split("e"),+(P[0]+"e"+(+P[1]-h))}return i(a)}}var Ad=gi&&1/ts(new gi([,-0]))[1]==Se?function(t){return new gi(t)}:ro;function vl(t){return function(i){var a=tn(i);return a==B?fr(i):a==Pe?Bu(i):ku(i,t(i))}}function Nn(t,i,a,h,P,X,ue,ye){var ke=i&O;if(!ke&&typeof t!="function")throw new bn(c);var je=h?h.length:0;if(je||(i&=~(S|C),h=P=s),ue=ue===s?ue:Xt(xt(ue),0),ye=ye===s?ye:xt(ye),je-=P?P.length:0,i&C){var Ge=h,Je=P;h=P=s}var ut=ke?s:Ur(t),gt=[t,i,a,h,P,Ge,Je,X,ue,ye];if(ut&&Ld(gt,ut),t=gt[0],i=gt[1],a=gt[2],h=gt[3],P=gt[4],ye=gt[9]=gt[9]===s?ke?0:t.length:Xt(gt[9]-je,0),!ye&&i&(U|I)&&(i&=~(U|I)),!i||i==w)var yt=bd(t,i,a);else i==U||i==I?yt=vd(t,i,ye):(i==S||i==(w|S))&&!P.length?yt=yd(t,i,a,h):yt=Es.apply(s,gt);var Ct=ut?Qa:kl;return Fl(Ct(yt,gt),t,i)}function yl(t,i,a,h){return t===s||Tn(t,pi[a])&&!Lt.call(h,a)?i:t}function Al(t,i,a,h,P,X){return jt(t)&&jt(i)&&(X.set(i,t),vs(t,i,s,Al,X),X.delete(i)),t}function Sd(t){return Wi(t)?s:t}function Sl(t,i,a,h,P,X){var ue=a&F,ye=t.length,ke=i.length;if(ye!=ke&&!(ue&&ke>ye))return!1;var je=X.get(t),Ge=X.get(i);if(je&&Ge)return je==i&&Ge==t;var Je=-1,ut=!0,gt=a&M?new ni:s;for(X.set(t,i),X.set(i,t);++Je<ye;){var yt=t[Je],Ct=i[Je];if(h)var At=ue?h(Ct,yt,Je,i,t,X):h(yt,Ct,Je,t,i,X);if(At!==s){if(At)continue;ut=!1;break}if(gt){if(!ar(i,function(Ft,Ot){if(!Ri(gt,Ot)&&(yt===Ft||P(yt,Ft,a,h,X)))return gt.push(Ot)})){ut=!1;break}}else if(!(yt===Ct||P(yt,Ct,a,h,X))){ut=!1;break}}return X.delete(t),X.delete(i),ut}function Ed(t,i,a,h,P,X,ue){switch(a){case Ze:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case De:return!(t.byteLength!=i.byteLength||!X(new as(t),new as(i)));case k:case q:case ee:return Tn(+t,+i);case ae:return t.name==i.name&&t.message==i.message;case Ee:case he:return t==i+"";case B:var ye=fr;case Pe:var ke=h&F;if(ye||(ye=ts),t.size!=i.size&&!ke)return!1;var je=ue.get(t);if(je)return je==i;h|=M,ue.set(t,i);var Ge=Sl(ye(t),ye(i),h,P,X,ue);return ue.delete(t),Ge;case le:if(Oi)return Oi.call(t)==Oi.call(i)}return!1}function wd(t,i,a,h,P,X){var ue=a&F,ye=Br(t),ke=ye.length,je=Br(i),Ge=je.length;if(ke!=Ge&&!ue)return!1;for(var Je=ke;Je--;){var ut=ye[Je];if(!(ue?ut in i:Lt.call(i,ut)))return!1}var gt=X.get(t),yt=X.get(i);if(gt&&yt)return gt==i&&yt==t;var Ct=!0;X.set(t,i),X.set(i,t);for(var At=ue;++Je<ke;){ut=ye[Je];var Ft=t[ut],Ot=i[ut];if(h)var pn=ue?h(Ot,Ft,ut,i,t,X):h(Ft,Ot,ut,t,i,X);if(!(pn===s?Ft===Ot||P(Ft,Ot,a,h,X):pn)){Ct=!1;break}At||(At=ut=="constructor")}if(Ct&&!At){var rn=t.constructor,gn=i.constructor;rn!=gn&&"constructor"in t&&"constructor"in i&&!(typeof rn=="function"&&rn instanceof rn&&typeof gn=="function"&&gn instanceof gn)&&(Ct=!1)}return X.delete(t),X.delete(i),Ct}function Bn(t){return qr(Rl(t,s,Nl),t+"")}function Br(t){return Wa(t,Yt,Wr)}function $r(t){return Wa(t,ln,El)}var Ur=fs?function(t){return fs.get(t)}:ro;function Ts(t){for(var i=t.name+"",a=mi[i],h=Lt.call(mi,i)?a.length:0;h--;){var P=a[h],X=P.func;if(X==null||X==t)return P.name}return i}function yi(t){var i=Lt.call(j,"placeholder")?j:t;return i.placeholder}function vt(){var t=j.iteratee||io;return t=t===io?za:t,arguments.length?t(arguments[0],arguments[1]):t}function Rs(t,i){var a=t.__data__;return Md(i)?a[typeof i=="string"?"string":"hash"]:a.map}function Hr(t){for(var i=Yt(t),a=i.length;a--;){var h=i[a],P=t[h];i[a]=[h,P,Cl(P)]}return i}function ri(t,i){var a=Du(t,i);return ja(a)?a:s}function xd(t){var i=Lt.call(t,ei),a=t[ei];try{t[ei]=s;var h=!0}catch{}var P=rs.call(t);return h&&(i?t[ei]=a:delete t[ei]),P}var Wr=gr?function(t){return t==null?[]:(t=$t(t),jn(gr(t),function(i){return Pa.call(t,i)}))}:oo,El=gr?function(t){for(var i=[];t;)zn(i,Wr(t)),t=ls(t);return i}:oo,tn=nn;(mr&&tn(new mr(new ArrayBuffer(1)))!=Ze||ki&&tn(new ki)!=B||_r&&tn(_r.resolve())!=Ce||gi&&tn(new gi)!=Pe||Fi&&tn(new Fi)!=ve)&&(tn=function(t){var i=nn(t),a=i==oe?t.constructor:s,h=a?oi(a):"";if(h)switch(h){case ah:return Ze;case lh:return B;case ch:return Ce;case uh:return Pe;case hh:return ve}return i});function Cd(t,i,a){for(var h=-1,P=a.length;++h<P;){var X=a[h],ue=X.size;switch(X.type){case"drop":t+=ue;break;case"dropRight":i-=ue;break;case"take":i=en(i,t+ue);break;case"takeRight":t=Xt(t,i-ue);break}}return{start:t,end:i}}function Td(t){var i=t.match(N);return i?i[1].split(L):[]}function wl(t,i,a){i=Yn(i,t);for(var h=-1,P=i.length,X=!1;++h<P;){var ue=On(i[h]);if(!(X=t!=null&&a(t,ue)))break;t=t[ue]}return X||++h!=P?X:(P=t==null?0:t.length,!!P&&Ds(P)&&$n(ue,P)&&(wt(t)||ai(t)))}function Rd(t){var i=t.length,a=new t.constructor(i);return i&&typeof t[0]=="string"&&Lt.call(t,"index")&&(a.index=t.index,a.input=t.input),a}function xl(t){return typeof t.constructor=="function"&&!Ui(t)?_i(ls(t)):{}}function Pd(t,i,a){var h=t.constructor;switch(i){case De:return Dr(t);case k:case q:return new h(+t);case Ze:return dd(t,a);case Xe:case nt:case lt:case ht:case st:case pt:case Me:case me:case de:return al(t,a);case B:return new h;case ee:case he:return new h(t);case Ee:return fd(t);case Pe:return new h;case le:return pd(t)}}function kd(t,i){var a=i.length;if(!a)return t;var h=a-1;return i[h]=(a>1?"& ":"")+i[h],i=i.join(a>2?", ":" "),t.replace(ne,`{
/* [wrapped with `+i+`] */
`)}function Fd(t){return wt(t)||ai(t)||!!(ka&&t&&t[ka])}function $n(t,i){var a=typeof t;return i=i??se,!!i&&(a=="number"||a!="symbol"&&St.test(t))&&t>-1&&t%1==0&&t<i}function sn(t,i,a){if(!jt(a))return!1;var h=typeof i;return(h=="number"?an(a)&&$n(i,a.length):h=="string"&&i in a)?Tn(a[i],t):!1}function Vr(t,i){if(wt(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||fn(t)?!0:Ue.test(t)||!mt.test(t)||i!=null&&t in $t(i)}function Md(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}function jr(t){var i=Ts(t),a=j[i];if(typeof a!="function"||!(i in Mt.prototype))return!1;if(t===a)return!0;var h=Ur(a);return!!h&&t===h[0]}function Od(t){return!!Ca&&Ca in t}var Id=is?Un:ao;function Ui(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||pi;return t===a}function Cl(t){return t===t&&!jt(t)}function Tl(t,i){return function(a){return a==null?!1:a[t]===i&&(i!==s||t in $t(a))}}function Dd(t){var i=Os(t,function(h){return a.size===A&&a.clear(),h}),a=i.cache;return i}function Ld(t,i){var a=t[1],h=i[1],P=a|h,X=P<(w|O|Y),ue=h==Y&&a==U||h==Y&&a==$&&t[7].length<=i[8]||h==(Y|$)&&i[7].length<=i[8]&&a==U;if(!(X||ue))return t;h&w&&(t[2]=i[2],P|=a&w?0:H);var ye=i[3];if(ye){var ke=t[3];t[3]=ke?cl(ke,ye,i[4]):ye,t[4]=ke?qn(t[3],d):i[4]}return ye=i[5],ye&&(ke=t[5],t[5]=ke?ul(ke,ye,i[6]):ye,t[6]=ke?qn(t[5],d):i[6]),ye=i[7],ye&&(t[7]=ye),h&Y&&(t[8]=t[8]==null?i[8]:en(t[8],i[8])),t[9]==null&&(t[9]=i[9]),t[0]=i[0],t[1]=P,t}function Nd(t){var i=[];if(t!=null)for(var a in $t(t))i.push(a);return i}function Bd(t){return rs.call(t)}function Rl(t,i,a){return i=Xt(i===s?t.length-1:i,0),function(){for(var h=arguments,P=-1,X=Xt(h.length-i,0),ue=Le(X);++P<X;)ue[P]=h[i+P];P=-1;for(var ye=Le(i+1);++P<i;)ye[P]=h[P];return ye[i]=a(ue),un(t,this,ye)}}function Pl(t,i){return i.length<2?t:si(t,An(i,0,-1))}function $d(t,i){for(var a=t.length,h=en(i.length,a),P=on(t);h--;){var X=i[h];t[h]=$n(X,a)?P[X]:s}return t}function zr(t,i){if(!(i==="constructor"&&typeof t[i]=="function")&&i!="__proto__")return t[i]}var kl=Ml(Qa),Hi=eh||function(t,i){return Zt.setTimeout(t,i)},qr=Ml(ld);function Fl(t,i,a){var h=i+"";return qr(t,kd(h,Ud(Td(h),a)))}function Ml(t){var i=0,a=0;return function(){var h=sh(),P=fe-(h-a);if(a=h,P>0){if(++i>=ce)return arguments[0]}else i=0;return t.apply(s,arguments)}}function Ps(t,i){var a=-1,h=t.length,P=h-1;for(i=i===s?h:i;++a<i;){var X=Rr(a,P),ue=t[X];t[X]=t[a],t[a]=ue}return t.length=i,t}var Ol=Dd(function(t){var i=[];return t.charCodeAt(0)===46&&i.push(""),t.replace(bt,function(a,h,P,X){i.push(P?X.replace(Ve,"$1"):h||a)}),i});function On(t){if(typeof t=="string"||fn(t))return t;var i=t+"";return i=="0"&&1/t==-Se?"-0":i}function oi(t){if(t!=null){try{return ss.call(t)}catch{}try{return t+""}catch{}}return""}function Ud(t,i){return _n(g,function(a){var h="_."+a[0];i&a[1]&&!Qi(t,h)&&t.push(h)}),t.sort()}function Il(t){if(t instanceof Mt)return t.clone();var i=new vn(t.__wrapped__,t.__chain__);return i.__actions__=on(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}function Hd(t,i,a){(a?sn(t,i,a):i===s)?i=1:i=Xt(xt(i),0);var h=t==null?0:t.length;if(!h||i<1)return[];for(var P=0,X=0,ue=Le(hs(h/i));P<h;)ue[X++]=An(t,P,P+=i);return ue}function Wd(t){for(var i=-1,a=t==null?0:t.length,h=0,P=[];++i<a;){var X=t[i];X&&(P[h++]=X)}return P}function Vd(){var t=arguments.length;if(!t)return[];for(var i=Le(t-1),a=arguments[0],h=t;h--;)i[h-1]=arguments[h];return zn(wt(a)?on(a):[a],Qt(i,1))}var jd=Tt(function(t,i){return qt(t)?Di(t,Qt(i,1,qt,!0)):[]}),zd=Tt(function(t,i){var a=Sn(i);return qt(a)&&(a=s),qt(t)?Di(t,Qt(i,1,qt,!0),vt(a,2)):[]}),qd=Tt(function(t,i){var a=Sn(i);return qt(a)&&(a=s),qt(t)?Di(t,Qt(i,1,qt,!0),s,a):[]});function Gd(t,i,a){var h=t==null?0:t.length;return h?(i=a||i===s?1:xt(i),An(t,i<0?0:i,h)):[]}function Kd(t,i,a){var h=t==null?0:t.length;return h?(i=a||i===s?1:xt(i),i=h-i,An(t,0,i<0?0:i)):[]}function Xd(t,i){return t&&t.length?As(t,vt(i,3),!0,!0):[]}function Yd(t,i){return t&&t.length?As(t,vt(i,3),!0):[]}function Jd(t,i,a,h){var P=t==null?0:t.length;return P?(a&&typeof a!="number"&&sn(t,i,a)&&(a=0,h=P),Vh(t,i,a,h)):[]}function Dl(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=a==null?0:xt(a);return P<0&&(P=Xt(h+P,0)),es(t,vt(i,3),P)}function Ll(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=h-1;return a!==s&&(P=xt(a),P=a<0?Xt(h+P,0):en(P,h-1)),es(t,vt(i,3),P,!0)}function Nl(t){var i=t==null?0:t.length;return i?Qt(t,1):[]}function Zd(t){var i=t==null?0:t.length;return i?Qt(t,Se):[]}function Qd(t,i){var a=t==null?0:t.length;return a?(i=i===s?1:xt(i),Qt(t,i)):[]}function ef(t){for(var i=-1,a=t==null?0:t.length,h={};++i<a;){var P=t[i];h[P[0]]=P[1]}return h}function Bl(t){return t&&t.length?t[0]:s}function tf(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=a==null?0:xt(a);return P<0&&(P=Xt(h+P,0)),ui(t,i,P)}function nf(t){var i=t==null?0:t.length;return i?An(t,0,-1):[]}var sf=Tt(function(t){var i=Vt(t,Or);return i.length&&i[0]===t[0]?Er(i):[]}),rf=Tt(function(t){var i=Sn(t),a=Vt(t,Or);return i===Sn(a)?i=s:a.pop(),a.length&&a[0]===t[0]?Er(a,vt(i,2)):[]}),of=Tt(function(t){var i=Sn(t),a=Vt(t,Or);return i=typeof i=="function"?i:s,i&&a.pop(),a.length&&a[0]===t[0]?Er(a,s,i):[]});function af(t,i){return t==null?"":nh.call(t,i)}function Sn(t){var i=t==null?0:t.length;return i?t[i-1]:s}function lf(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=h;return a!==s&&(P=xt(a),P=P<0?Xt(h+P,0):en(P,h-1)),i===i?Uu(t,i,P):es(t,ba,P,!0)}function cf(t,i){return t&&t.length?Xa(t,xt(i)):s}var uf=Tt($l);function $l(t,i){return t&&t.length&&i&&i.length?Tr(t,i):t}function hf(t,i,a){return t&&t.length&&i&&i.length?Tr(t,i,vt(a,2)):t}function df(t,i,a){return t&&t.length&&i&&i.length?Tr(t,i,s,a):t}var ff=Bn(function(t,i){var a=t==null?0:t.length,h=vr(t,i);return Za(t,Vt(i,function(P){return $n(P,a)?+P:P}).sort(ll)),h});function pf(t,i){var a=[];if(!(t&&t.length))return a;var h=-1,P=[],X=t.length;for(i=vt(i,3);++h<X;){var ue=t[h];i(ue,h,t)&&(a.push(ue),P.push(h))}return Za(t,P),a}function Gr(t){return t==null?t:oh.call(t)}function gf(t,i,a){var h=t==null?0:t.length;return h?(a&&typeof a!="number"&&sn(t,i,a)?(i=0,a=h):(i=i==null?0:xt(i),a=a===s?h:xt(a)),An(t,i,a)):[]}function mf(t,i){return ys(t,i)}function _f(t,i,a){return kr(t,i,vt(a,2))}function bf(t,i){var a=t==null?0:t.length;if(a){var h=ys(t,i);if(h<a&&Tn(t[h],i))return h}return-1}function vf(t,i){return ys(t,i,!0)}function yf(t,i,a){return kr(t,i,vt(a,2),!0)}function Af(t,i){var a=t==null?0:t.length;if(a){var h=ys(t,i,!0)-1;if(Tn(t[h],i))return h}return-1}function Sf(t){return t&&t.length?el(t):[]}function Ef(t,i){return t&&t.length?el(t,vt(i,2)):[]}function wf(t){var i=t==null?0:t.length;return i?An(t,1,i):[]}function xf(t,i,a){return t&&t.length?(i=a||i===s?1:xt(i),An(t,0,i<0?0:i)):[]}function Cf(t,i,a){var h=t==null?0:t.length;return h?(i=a||i===s?1:xt(i),i=h-i,An(t,i<0?0:i,h)):[]}function Tf(t,i){return t&&t.length?As(t,vt(i,3),!1,!0):[]}function Rf(t,i){return t&&t.length?As(t,vt(i,3)):[]}var Pf=Tt(function(t){return Xn(Qt(t,1,qt,!0))}),kf=Tt(function(t){var i=Sn(t);return qt(i)&&(i=s),Xn(Qt(t,1,qt,!0),vt(i,2))}),Ff=Tt(function(t){var i=Sn(t);return i=typeof i=="function"?i:s,Xn(Qt(t,1,qt,!0),s,i)});function Mf(t){return t&&t.length?Xn(t):[]}function Of(t,i){return t&&t.length?Xn(t,vt(i,2)):[]}function If(t,i){return i=typeof i=="function"?i:s,t&&t.length?Xn(t,s,i):[]}function Kr(t){if(!(t&&t.length))return[];var i=0;return t=jn(t,function(a){if(qt(a))return i=Xt(a.length,i),!0}),hr(i,function(a){return Vt(t,lr(a))})}function Ul(t,i){if(!(t&&t.length))return[];var a=Kr(t);return i==null?a:Vt(a,function(h){return un(i,s,h)})}var Df=Tt(function(t,i){return qt(t)?Di(t,i):[]}),Lf=Tt(function(t){return Mr(jn(t,qt))}),Nf=Tt(function(t){var i=Sn(t);return qt(i)&&(i=s),Mr(jn(t,qt),vt(i,2))}),Bf=Tt(function(t){var i=Sn(t);return i=typeof i=="function"?i:s,Mr(jn(t,qt),s,i)}),$f=Tt(Kr);function Uf(t,i){return sl(t||[],i||[],Ii)}function Hf(t,i){return sl(t||[],i||[],Bi)}var Wf=Tt(function(t){var i=t.length,a=i>1?t[i-1]:s;return a=typeof a=="function"?(t.pop(),a):s,Ul(t,a)});function Hl(t){var i=j(t);return i.__chain__=!0,i}function Vf(t,i){return i(t),t}function ks(t,i){return i(t)}var jf=Bn(function(t){var i=t.length,a=i?t[0]:0,h=this.__wrapped__,P=function(X){return vr(X,t)};return i>1||this.__actions__.length||!(h instanceof Mt)||!$n(a)?this.thru(P):(h=h.slice(a,+a+(i?1:0)),h.__actions__.push({func:ks,args:[P],thisArg:s}),new vn(h,this.__chain__).thru(function(X){return i&&!X.length&&X.push(s),X}))});function zf(){return Hl(this)}function qf(){return new vn(this.value(),this.__chain__)}function Gf(){this.__values__===s&&(this.__values__=tc(this.value()));var t=this.__index__>=this.__values__.length,i=t?s:this.__values__[this.__index__++];return{done:t,value:i}}function Kf(){return this}function Xf(t){for(var i,a=this;a instanceof gs;){var h=Il(a);h.__index__=0,h.__values__=s,i?P.__wrapped__=h:i=h;var P=h;a=a.__wrapped__}return P.__wrapped__=t,i}function Yf(){var t=this.__wrapped__;if(t instanceof Mt){var i=t;return this.__actions__.length&&(i=new Mt(this)),i=i.reverse(),i.__actions__.push({func:ks,args:[Gr],thisArg:s}),new vn(i,this.__chain__)}return this.thru(Gr)}function Jf(){return il(this.__wrapped__,this.__actions__)}var Zf=Ss(function(t,i,a){Lt.call(t,a)?++t[a]:Ln(t,a,1)});function Qf(t,i,a){var h=wt(t)?ma:Wh;return a&&sn(t,i,a)&&(i=s),h(t,vt(i,3))}function ep(t,i){var a=wt(t)?jn:Ua;return a(t,vt(i,3))}var tp=pl(Dl),np=pl(Ll);function ip(t,i){return Qt(Fs(t,i),1)}function sp(t,i){return Qt(Fs(t,i),Se)}function rp(t,i,a){return a=a===s?1:xt(a),Qt(Fs(t,i),a)}function Wl(t,i){var a=wt(t)?_n:Kn;return a(t,vt(i,3))}function Vl(t,i){var a=wt(t)?Eu:$a;return a(t,vt(i,3))}var op=Ss(function(t,i,a){Lt.call(t,a)?t[a].push(i):Ln(t,a,[i])});function ap(t,i,a,h){t=an(t)?t:Si(t),a=a&&!h?xt(a):0;var P=t.length;return a<0&&(a=Xt(P+a,0)),Ls(t)?a<=P&&t.indexOf(i,a)>-1:!!P&&ui(t,i,a)>-1}var lp=Tt(function(t,i,a){var h=-1,P=typeof i=="function",X=an(t)?Le(t.length):[];return Kn(t,function(ue){X[++h]=P?un(i,ue,a):Li(ue,i,a)}),X}),cp=Ss(function(t,i,a){Ln(t,a,i)});function Fs(t,i){var a=wt(t)?Vt:qa;return a(t,vt(i,3))}function up(t,i,a,h){return t==null?[]:(wt(i)||(i=i==null?[]:[i]),a=h?s:a,wt(a)||(a=a==null?[]:[a]),Ya(t,i,a))}var hp=Ss(function(t,i,a){t[a?0:1].push(i)},function(){return[[],[]]});function dp(t,i,a){var h=wt(t)?or:ya,P=arguments.length<3;return h(t,vt(i,4),a,P,Kn)}function fp(t,i,a){var h=wt(t)?wu:ya,P=arguments.length<3;return h(t,vt(i,4),a,P,$a)}function pp(t,i){var a=wt(t)?jn:Ua;return a(t,Is(vt(i,3)))}function gp(t){var i=wt(t)?Da:od;return i(t)}function mp(t,i,a){(a?sn(t,i,a):i===s)?i=1:i=xt(i);var h=wt(t)?Nh:ad;return h(t,i)}function _p(t){var i=wt(t)?Bh:cd;return i(t)}function bp(t){if(t==null)return 0;if(an(t))return Ls(t)?di(t):t.length;var i=tn(t);return i==B||i==Pe?t.size:xr(t).length}function vp(t,i,a){var h=wt(t)?ar:ud;return a&&sn(t,i,a)&&(i=s),h(t,vt(i,3))}var yp=Tt(function(t,i){if(t==null)return[];var a=i.length;return a>1&&sn(t,i[0],i[1])?i=[]:a>2&&sn(i[0],i[1],i[2])&&(i=[i[0]]),Ya(t,Qt(i,1),[])}),Ms=Qu||function(){return Zt.Date.now()};function Ap(t,i){if(typeof i!="function")throw new bn(c);return t=xt(t),function(){if(--t<1)return i.apply(this,arguments)}}function jl(t,i,a){return i=a?s:i,i=t&&i==null?t.length:i,Nn(t,Y,s,s,s,s,i)}function zl(t,i){var a;if(typeof i!="function")throw new bn(c);return t=xt(t),function(){return--t>0&&(a=i.apply(this,arguments)),t<=1&&(i=s),a}}var Xr=Tt(function(t,i,a){var h=w;if(a.length){var P=qn(a,yi(Xr));h|=S}return Nn(t,h,i,a,P)}),ql=Tt(function(t,i,a){var h=w|O;if(a.length){var P=qn(a,yi(ql));h|=S}return Nn(i,h,t,a,P)});function Gl(t,i,a){i=a?s:i;var h=Nn(t,U,s,s,s,s,s,i);return h.placeholder=Gl.placeholder,h}function Kl(t,i,a){i=a?s:i;var h=Nn(t,I,s,s,s,s,s,i);return h.placeholder=Kl.placeholder,h}function Xl(t,i,a){var h,P,X,ue,ye,ke,je=0,Ge=!1,Je=!1,ut=!0;if(typeof t!="function")throw new bn(c);i=En(i)||0,jt(a)&&(Ge=!!a.leading,Je="maxWait"in a,X=Je?Xt(En(a.maxWait)||0,i):X,ut="trailing"in a?!!a.trailing:ut);function gt(Gt){var Rn=h,Wn=P;return h=P=s,je=Gt,ue=t.apply(Wn,Rn),ue}function yt(Gt){return je=Gt,ye=Hi(Ft,i),Ge?gt(Gt):ue}function Ct(Gt){var Rn=Gt-ke,Wn=Gt-je,pc=i-Rn;return Je?en(pc,X-Wn):pc}function At(Gt){var Rn=Gt-ke,Wn=Gt-je;return ke===s||Rn>=i||Rn<0||Je&&Wn>=X}function Ft(){var Gt=Ms();if(At(Gt))return Ot(Gt);ye=Hi(Ft,Ct(Gt))}function Ot(Gt){return ye=s,ut&&h?gt(Gt):(h=P=s,ue)}function pn(){ye!==s&&rl(ye),je=0,h=ke=P=ye=s}function rn(){return ye===s?ue:Ot(Ms())}function gn(){var Gt=Ms(),Rn=At(Gt);if(h=arguments,P=this,ke=Gt,Rn){if(ye===s)return yt(ke);if(Je)return rl(ye),ye=Hi(Ft,i),gt(ke)}return ye===s&&(ye=Hi(Ft,i)),ue}return gn.cancel=pn,gn.flush=rn,gn}var Sp=Tt(function(t,i){return Ba(t,1,i)}),Ep=Tt(function(t,i,a){return Ba(t,En(i)||0,a)});function wp(t){return Nn(t,E)}function Os(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new bn(c);var a=function(){var h=arguments,P=i?i.apply(this,h):h[0],X=a.cache;if(X.has(P))return X.get(P);var ue=t.apply(this,h);return a.cache=X.set(P,ue)||X,ue};return a.cache=new(Os.Cache||Dn),a}Os.Cache=Dn;function Is(t){if(typeof t!="function")throw new bn(c);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}function xp(t){return zl(2,t)}var Cp=hd(function(t,i){i=i.length==1&&wt(i[0])?Vt(i[0],hn(vt())):Vt(Qt(i,1),hn(vt()));var a=i.length;return Tt(function(h){for(var P=-1,X=en(h.length,a);++P<X;)h[P]=i[P].call(this,h[P]);return un(t,this,h)})}),Yr=Tt(function(t,i){var a=qn(i,yi(Yr));return Nn(t,S,s,i,a)}),Yl=Tt(function(t,i){var a=qn(i,yi(Yl));return Nn(t,C,s,i,a)}),Tp=Bn(function(t,i){return Nn(t,$,s,s,s,i)});function Rp(t,i){if(typeof t!="function")throw new bn(c);return i=i===s?i:xt(i),Tt(t,i)}function Pp(t,i){if(typeof t!="function")throw new bn(c);return i=i==null?0:Xt(xt(i),0),Tt(function(a){var h=a[i],P=Jn(a,0,i);return h&&zn(P,h),un(t,this,P)})}function kp(t,i,a){var h=!0,P=!0;if(typeof t!="function")throw new bn(c);return jt(a)&&(h="leading"in a?!!a.leading:h,P="trailing"in a?!!a.trailing:P),Xl(t,i,{leading:h,maxWait:i,trailing:P})}function Fp(t){return jl(t,1)}function Mp(t,i){return Yr(Ir(i),t)}function Op(){if(!arguments.length)return[];var t=arguments[0];return wt(t)?t:[t]}function Ip(t){return yn(t,D)}function Dp(t,i){return i=typeof i=="function"?i:s,yn(t,D,i)}function Lp(t){return yn(t,x|D)}function Np(t,i){return i=typeof i=="function"?i:s,yn(t,x|D,i)}function Bp(t,i){return i==null||Na(t,i,Yt(i))}function Tn(t,i){return t===i||t!==t&&i!==i}var $p=Cs(Sr),Up=Cs(function(t,i){return t>=i}),ai=Va(function(){return arguments}())?Va:function(t){return zt(t)&&Lt.call(t,"callee")&&!Pa.call(t,"callee")},wt=Le.isArray,Hp=ua?hn(ua):Kh;function an(t){return t!=null&&Ds(t.length)&&!Un(t)}function qt(t){return zt(t)&&an(t)}function Wp(t){return t===!0||t===!1||zt(t)&&nn(t)==k}var Zn=th||ao,Vp=ha?hn(ha):Xh;function jp(t){return zt(t)&&t.nodeType===1&&!Wi(t)}function zp(t){if(t==null)return!0;if(an(t)&&(wt(t)||typeof t=="string"||typeof t.splice=="function"||Zn(t)||Ai(t)||ai(t)))return!t.length;var i=tn(t);if(i==B||i==Pe)return!t.size;if(Ui(t))return!xr(t).length;for(var a in t)if(Lt.call(t,a))return!1;return!0}function qp(t,i){return Ni(t,i)}function Gp(t,i,a){a=typeof a=="function"?a:s;var h=a?a(t,i):s;return h===s?Ni(t,i,s,a):!!h}function Jr(t){if(!zt(t))return!1;var i=nn(t);return i==ae||i==Q||typeof t.message=="string"&&typeof t.name=="string"&&!Wi(t)}function Kp(t){return typeof t=="number"&&Fa(t)}function Un(t){if(!jt(t))return!1;var i=nn(t);return i==we||i==R||i==T||i==Ie}function Jl(t){return typeof t=="number"&&t==xt(t)}function Ds(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=se}function jt(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}function zt(t){return t!=null&&typeof t=="object"}var Zl=da?hn(da):Jh;function Xp(t,i){return t===i||wr(t,i,Hr(i))}function Yp(t,i,a){return a=typeof a=="function"?a:s,wr(t,i,Hr(i),a)}function Jp(t){return Ql(t)&&t!=+t}function Zp(t){if(Id(t))throw new Et(l);return ja(t)}function Qp(t){return t===null}function eg(t){return t==null}function Ql(t){return typeof t=="number"||zt(t)&&nn(t)==ee}function Wi(t){if(!zt(t)||nn(t)!=oe)return!1;var i=ls(t);if(i===null)return!0;var a=Lt.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&ss.call(a)==Xu}var Zr=fa?hn(fa):Zh;function tg(t){return Jl(t)&&t>=-se&&t<=se}var ec=pa?hn(pa):Qh;function Ls(t){return typeof t=="string"||!wt(t)&&zt(t)&&nn(t)==he}function fn(t){return typeof t=="symbol"||zt(t)&&nn(t)==le}var Ai=ga?hn(ga):ed;function ng(t){return t===s}function ig(t){return zt(t)&&tn(t)==ve}function sg(t){return zt(t)&&nn(t)==Oe}var rg=Cs(Cr),og=Cs(function(t,i){return t<=i});function tc(t){if(!t)return[];if(an(t))return Ls(t)?xn(t):on(t);if(Pi&&t[Pi])return Nu(t[Pi]());var i=tn(t),a=i==B?fr:i==Pe?ts:Si;return a(t)}function Hn(t){if(!t)return t===0?t:0;if(t=En(t),t===Se||t===-Se){var i=t<0?-1:1;return i*Fe}return t===t?t:0}function xt(t){var i=Hn(t),a=i%1;return i===i?a?i-a:i:0}function nc(t){return t?ii(xt(t),0,Be):0}function En(t){if(typeof t=="number")return t;if(fn(t))return Ne;if(jt(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=jt(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=Aa(t);var a=et.test(t);return a||_t.test(t)?yu(t.slice(2),a?2:8):Qe.test(t)?Ne:+t}function ic(t){return Mn(t,ln(t))}function ag(t){return t?ii(xt(t),-se,se):t===0?t:0}function Dt(t){return t==null?"":dn(t)}var lg=bi(function(t,i){if(Ui(i)||an(i)){Mn(i,Yt(i),t);return}for(var a in i)Lt.call(i,a)&&Ii(t,a,i[a])}),sc=bi(function(t,i){Mn(i,ln(i),t)}),Ns=bi(function(t,i,a,h){Mn(i,ln(i),t,h)}),cg=bi(function(t,i,a,h){Mn(i,Yt(i),t,h)}),ug=Bn(vr);function hg(t,i){var a=_i(t);return i==null?a:La(a,i)}var dg=Tt(function(t,i){t=$t(t);var a=-1,h=i.length,P=h>2?i[2]:s;for(P&&sn(i[0],i[1],P)&&(h=1);++a<h;)for(var X=i[a],ue=ln(X),ye=-1,ke=ue.length;++ye<ke;){var je=ue[ye],Ge=t[je];(Ge===s||Tn(Ge,pi[je])&&!Lt.call(t,je))&&(t[je]=X[je])}return t}),fg=Tt(function(t){return t.push(s,Al),un(rc,s,t)});function pg(t,i){return _a(t,vt(i,3),Fn)}function gg(t,i){return _a(t,vt(i,3),Ar)}function mg(t,i){return t==null?t:yr(t,vt(i,3),ln)}function _g(t,i){return t==null?t:Ha(t,vt(i,3),ln)}function bg(t,i){return t&&Fn(t,vt(i,3))}function vg(t,i){return t&&Ar(t,vt(i,3))}function yg(t){return t==null?[]:bs(t,Yt(t))}function Ag(t){return t==null?[]:bs(t,ln(t))}function Qr(t,i,a){var h=t==null?s:si(t,i);return h===s?a:h}function Sg(t,i){return t!=null&&wl(t,i,jh)}function eo(t,i){return t!=null&&wl(t,i,zh)}var Eg=ml(function(t,i,a){i!=null&&typeof i.toString!="function"&&(i=rs.call(i)),t[i]=a},no(cn)),wg=ml(function(t,i,a){i!=null&&typeof i.toString!="function"&&(i=rs.call(i)),Lt.call(t,i)?t[i].push(a):t[i]=[a]},vt),xg=Tt(Li);function Yt(t){return an(t)?Ia(t):xr(t)}function ln(t){return an(t)?Ia(t,!0):td(t)}function Cg(t,i){var a={};return i=vt(i,3),Fn(t,function(h,P,X){Ln(a,i(h,P,X),h)}),a}function Tg(t,i){var a={};return i=vt(i,3),Fn(t,function(h,P,X){Ln(a,P,i(h,P,X))}),a}var Rg=bi(function(t,i,a){vs(t,i,a)}),rc=bi(function(t,i,a,h){vs(t,i,a,h)}),Pg=Bn(function(t,i){var a={};if(t==null)return a;var h=!1;i=Vt(i,function(X){return X=Yn(X,t),h||(h=X.length>1),X}),Mn(t,$r(t),a),h&&(a=yn(a,x|z|D,Sd));for(var P=i.length;P--;)Fr(a,i[P]);return a});function kg(t,i){return oc(t,Is(vt(i)))}var Fg=Bn(function(t,i){return t==null?{}:id(t,i)});function oc(t,i){if(t==null)return{};var a=Vt($r(t),function(h){return[h]});return i=vt(i),Ja(t,a,function(h,P){return i(h,P[0])})}function Mg(t,i,a){i=Yn(i,t);var h=-1,P=i.length;for(P||(P=1,t=s);++h<P;){var X=t==null?s:t[On(i[h])];X===s&&(h=P,X=a),t=Un(X)?X.call(t):X}return t}function Og(t,i,a){return t==null?t:Bi(t,i,a)}function Ig(t,i,a,h){return h=typeof h=="function"?h:s,t==null?t:Bi(t,i,a,h)}var ac=vl(Yt),lc=vl(ln);function Dg(t,i,a){var h=wt(t),P=h||Zn(t)||Ai(t);if(i=vt(i,4),a==null){var X=t&&t.constructor;P?a=h?new X:[]:jt(t)?a=Un(X)?_i(ls(t)):{}:a={}}return(P?_n:Fn)(t,function(ue,ye,ke){return i(a,ue,ye,ke)}),a}function Lg(t,i){return t==null?!0:Fr(t,i)}function Ng(t,i,a){return t==null?t:nl(t,i,Ir(a))}function Bg(t,i,a,h){return h=typeof h=="function"?h:s,t==null?t:nl(t,i,Ir(a),h)}function Si(t){return t==null?[]:dr(t,Yt(t))}function $g(t){return t==null?[]:dr(t,ln(t))}function Ug(t,i,a){return a===s&&(a=i,i=s),a!==s&&(a=En(a),a=a===a?a:0),i!==s&&(i=En(i),i=i===i?i:0),ii(En(t),i,a)}function Hg(t,i,a){return i=Hn(i),a===s?(a=i,i=0):a=Hn(a),t=En(t),qh(t,i,a)}function Wg(t,i,a){if(a&&typeof a!="boolean"&&sn(t,i,a)&&(i=a=s),a===s&&(typeof i=="boolean"?(a=i,i=s):typeof t=="boolean"&&(a=t,t=s)),t===s&&i===s?(t=0,i=1):(t=Hn(t),i===s?(i=t,t=0):i=Hn(i)),t>i){var h=t;t=i,i=h}if(a||t%1||i%1){var P=Ma();return en(t+P*(i-t+vu("1e-"+((P+"").length-1))),i)}return Rr(t,i)}var Vg=vi(function(t,i,a){return i=i.toLowerCase(),t+(a?cc(i):i)});function cc(t){return to(Dt(t).toLowerCase())}function uc(t){return t=Dt(t),t&&t.replace(Pt,Mu).replace(cu,"")}function jg(t,i,a){t=Dt(t),i=dn(i);var h=t.length;a=a===s?h:ii(xt(a),0,h);var P=a;return a-=i.length,a>=0&&t.slice(a,P)==i}function zg(t){return t=Dt(t),t&&rt.test(t)?t.replace(Ae,Ou):t}function qg(t){return t=Dt(t),t&&te.test(t)?t.replace(it,"\\$&"):t}var Gg=vi(function(t,i,a){return t+(a?"-":"")+i.toLowerCase()}),Kg=vi(function(t,i,a){return t+(a?" ":"")+i.toLowerCase()}),Xg=fl("toLowerCase");function Yg(t,i,a){t=Dt(t),i=xt(i);var h=i?di(t):0;if(!i||h>=i)return t;var P=(i-h)/2;return xs(ds(P),a)+t+xs(hs(P),a)}function Jg(t,i,a){t=Dt(t),i=xt(i);var h=i?di(t):0;return i&&h<i?t+xs(i-h,a):t}function Zg(t,i,a){t=Dt(t),i=xt(i);var h=i?di(t):0;return i&&h<i?xs(i-h,a)+t:t}function Qg(t,i,a){return a||i==null?i=0:i&&(i=+i),rh(Dt(t).replace(f,""),i||0)}function em(t,i,a){return(a?sn(t,i,a):i===s)?i=1:i=xt(i),Pr(Dt(t),i)}function tm(){var t=arguments,i=Dt(t[0]);return t.length<3?i:i.replace(t[1],t[2])}var nm=vi(function(t,i,a){return t+(a?"_":"")+i.toLowerCase()});function im(t,i,a){return a&&typeof a!="number"&&sn(t,i,a)&&(i=a=s),a=a===s?Be:a>>>0,a?(t=Dt(t),t&&(typeof i=="string"||i!=null&&!Zr(i))&&(i=dn(i),!i&&hi(t))?Jn(xn(t),0,a):t.split(i,a)):[]}var sm=vi(function(t,i,a){return t+(a?" ":"")+to(i)});function rm(t,i,a){return t=Dt(t),a=a==null?0:ii(xt(a),0,t.length),i=dn(i),t.slice(a,a+i.length)==i}function om(t,i,a){var h=j.templateSettings;a&&sn(t,i,a)&&(i=s),t=Dt(t),i=Ns({},i,h,yl);var P=Ns({},i.imports,h.imports,yl),X=Yt(P),ue=dr(P,X),ye,ke,je=0,Ge=i.interpolate||Ht,Je="__p += '",ut=pr((i.escape||Ht).source+"|"+Ge.source+"|"+(Ge===ct?qe:Ht).source+"|"+(i.evaluate||Ht).source+"|$","g"),gt="//# sourceURL="+(Lt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pu+"]")+`
`;t.replace(ut,function(At,Ft,Ot,pn,rn,gn){return Ot||(Ot=pn),Je+=t.slice(je,gn).replace(Bt,Iu),Ft&&(ye=!0,Je+=`' +
__e(`+Ft+`) +
'`),rn&&(ke=!0,Je+=`';
`+rn+`;
__p += '`),Ot&&(Je+=`' +
((__t = (`+Ot+`)) == null ? '' : __t) +
'`),je=gn+At.length,At}),Je+=`';
`;var yt=Lt.call(i,"variable")&&i.variable;if(!yt)Je=`with (obj) {
`+Je+`
}
`;else if(_e.test(yt))throw new Et(y);Je=(ke?Je.replace($e,""):Je).replace(We,"$1").replace(kt,"$1;"),Je="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ye?", __e = _.escape":"")+(ke?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Je+`return __p
}`;var Ct=dc(function(){return It(X,gt+"return "+Je).apply(s,ue)});if(Ct.source=Je,Jr(Ct))throw Ct;return Ct}function am(t){return Dt(t).toLowerCase()}function lm(t){return Dt(t).toUpperCase()}function cm(t,i,a){if(t=Dt(t),t&&(a||i===s))return Aa(t);if(!t||!(i=dn(i)))return t;var h=xn(t),P=xn(i),X=Sa(h,P),ue=Ea(h,P)+1;return Jn(h,X,ue).join("")}function um(t,i,a){if(t=Dt(t),t&&(a||i===s))return t.slice(0,xa(t)+1);if(!t||!(i=dn(i)))return t;var h=xn(t),P=Ea(h,xn(i))+1;return Jn(h,0,P).join("")}function hm(t,i,a){if(t=Dt(t),t&&(a||i===s))return t.replace(f,"");if(!t||!(i=dn(i)))return t;var h=xn(t),P=Sa(h,xn(i));return Jn(h,P).join("")}function dm(t,i){var a=Z,h=W;if(jt(i)){var P="separator"in i?i.separator:P;a="length"in i?xt(i.length):a,h="omission"in i?dn(i.omission):h}t=Dt(t);var X=t.length;if(hi(t)){var ue=xn(t);X=ue.length}if(a>=X)return t;var ye=a-di(h);if(ye<1)return h;var ke=ue?Jn(ue,0,ye).join(""):t.slice(0,ye);if(P===s)return ke+h;if(ue&&(ye+=ke.length-ye),Zr(P)){if(t.slice(ye).search(P)){var je,Ge=ke;for(P.global||(P=pr(P.source,Dt(at.exec(P))+"g")),P.lastIndex=0;je=P.exec(Ge);)var Je=je.index;ke=ke.slice(0,Je===s?ye:Je)}}else if(t.indexOf(dn(P),ye)!=ye){var ut=ke.lastIndexOf(P);ut>-1&&(ke=ke.slice(0,ut))}return ke+h}function fm(t){return t=Dt(t),t&&Ke.test(t)?t.replace(Rt,Hu):t}var pm=vi(function(t,i,a){return t+(a?" ":"")+i.toUpperCase()}),to=fl("toUpperCase");function hc(t,i,a){return t=Dt(t),i=a?s:i,i===s?Lu(t)?ju(t):Tu(t):t.match(i)||[]}var dc=Tt(function(t,i){try{return un(t,s,i)}catch(a){return Jr(a)?a:new Et(a)}}),gm=Bn(function(t,i){return _n(i,function(a){a=On(a),Ln(t,a,Xr(t[a],t))}),t});function mm(t){var i=t==null?0:t.length,a=vt();return t=i?Vt(t,function(h){if(typeof h[1]!="function")throw new bn(c);return[a(h[0]),h[1]]}):[],Tt(function(h){for(var P=-1;++P<i;){var X=t[P];if(un(X[0],this,h))return un(X[1],this,h)}})}function _m(t){return Hh(yn(t,x))}function no(t){return function(){return t}}function bm(t,i){return t==null||t!==t?i:t}var vm=gl(),ym=gl(!0);function cn(t){return t}function io(t){return za(typeof t=="function"?t:yn(t,x))}function Am(t){return Ga(yn(t,x))}function Sm(t,i){return Ka(t,yn(i,x))}var Em=Tt(function(t,i){return function(a){return Li(a,t,i)}}),wm=Tt(function(t,i){return function(a){return Li(t,a,i)}});function so(t,i,a){var h=Yt(i),P=bs(i,h);a==null&&!(jt(i)&&(P.length||!h.length))&&(a=i,i=t,t=this,P=bs(i,Yt(i)));var X=!(jt(a)&&"chain"in a)||!!a.chain,ue=Un(t);return _n(P,function(ye){var ke=i[ye];t[ye]=ke,ue&&(t.prototype[ye]=function(){var je=this.__chain__;if(X||je){var Ge=t(this.__wrapped__),Je=Ge.__actions__=on(this.__actions__);return Je.push({func:ke,args:arguments,thisArg:t}),Ge.__chain__=je,Ge}return ke.apply(t,zn([this.value()],arguments))})}),t}function xm(){return Zt._===this&&(Zt._=Yu),this}function ro(){}function Cm(t){return t=xt(t),Tt(function(i){return Xa(i,t)})}var Tm=Lr(Vt),Rm=Lr(ma),Pm=Lr(ar);function fc(t){return Vr(t)?lr(On(t)):sd(t)}function km(t){return function(i){return t==null?s:si(t,i)}}var Fm=_l(),Mm=_l(!0);function oo(){return[]}function ao(){return!1}function Om(){return{}}function Im(){return""}function Dm(){return!0}function Lm(t,i){if(t=xt(t),t<1||t>se)return[];var a=Be,h=en(t,Be);i=vt(i),t-=Be;for(var P=hr(h,i);++a<t;)i(a);return P}function Nm(t){return wt(t)?Vt(t,On):fn(t)?[t]:on(Ol(Dt(t)))}function Bm(t){var i=++Ku;return Dt(t)+i}var $m=ws(function(t,i){return t+i},0),Um=Nr("ceil"),Hm=ws(function(t,i){return t/i},1),Wm=Nr("floor");function Vm(t){return t&&t.length?_s(t,cn,Sr):s}function jm(t,i){return t&&t.length?_s(t,vt(i,2),Sr):s}function zm(t){return va(t,cn)}function qm(t,i){return va(t,vt(i,2))}function Gm(t){return t&&t.length?_s(t,cn,Cr):s}function Km(t,i){return t&&t.length?_s(t,vt(i,2),Cr):s}var Xm=ws(function(t,i){return t*i},1),Ym=Nr("round"),Jm=ws(function(t,i){return t-i},0);function Zm(t){return t&&t.length?ur(t,cn):0}function Qm(t,i){return t&&t.length?ur(t,vt(i,2)):0}return j.after=Ap,j.ary=jl,j.assign=lg,j.assignIn=sc,j.assignInWith=Ns,j.assignWith=cg,j.at=ug,j.before=zl,j.bind=Xr,j.bindAll=gm,j.bindKey=ql,j.castArray=Op,j.chain=Hl,j.chunk=Hd,j.compact=Wd,j.concat=Vd,j.cond=mm,j.conforms=_m,j.constant=no,j.countBy=Zf,j.create=hg,j.curry=Gl,j.curryRight=Kl,j.debounce=Xl,j.defaults=dg,j.defaultsDeep=fg,j.defer=Sp,j.delay=Ep,j.difference=jd,j.differenceBy=zd,j.differenceWith=qd,j.drop=Gd,j.dropRight=Kd,j.dropRightWhile=Xd,j.dropWhile=Yd,j.fill=Jd,j.filter=ep,j.flatMap=ip,j.flatMapDeep=sp,j.flatMapDepth=rp,j.flatten=Nl,j.flattenDeep=Zd,j.flattenDepth=Qd,j.flip=wp,j.flow=vm,j.flowRight=ym,j.fromPairs=ef,j.functions=yg,j.functionsIn=Ag,j.groupBy=op,j.initial=nf,j.intersection=sf,j.intersectionBy=rf,j.intersectionWith=of,j.invert=Eg,j.invertBy=wg,j.invokeMap=lp,j.iteratee=io,j.keyBy=cp,j.keys=Yt,j.keysIn=ln,j.map=Fs,j.mapKeys=Cg,j.mapValues=Tg,j.matches=Am,j.matchesProperty=Sm,j.memoize=Os,j.merge=Rg,j.mergeWith=rc,j.method=Em,j.methodOf=wm,j.mixin=so,j.negate=Is,j.nthArg=Cm,j.omit=Pg,j.omitBy=kg,j.once=xp,j.orderBy=up,j.over=Tm,j.overArgs=Cp,j.overEvery=Rm,j.overSome=Pm,j.partial=Yr,j.partialRight=Yl,j.partition=hp,j.pick=Fg,j.pickBy=oc,j.property=fc,j.propertyOf=km,j.pull=uf,j.pullAll=$l,j.pullAllBy=hf,j.pullAllWith=df,j.pullAt=ff,j.range=Fm,j.rangeRight=Mm,j.rearg=Tp,j.reject=pp,j.remove=pf,j.rest=Rp,j.reverse=Gr,j.sampleSize=mp,j.set=Og,j.setWith=Ig,j.shuffle=_p,j.slice=gf,j.sortBy=yp,j.sortedUniq=Sf,j.sortedUniqBy=Ef,j.split=im,j.spread=Pp,j.tail=wf,j.take=xf,j.takeRight=Cf,j.takeRightWhile=Tf,j.takeWhile=Rf,j.tap=Vf,j.throttle=kp,j.thru=ks,j.toArray=tc,j.toPairs=ac,j.toPairsIn=lc,j.toPath=Nm,j.toPlainObject=ic,j.transform=Dg,j.unary=Fp,j.union=Pf,j.unionBy=kf,j.unionWith=Ff,j.uniq=Mf,j.uniqBy=Of,j.uniqWith=If,j.unset=Lg,j.unzip=Kr,j.unzipWith=Ul,j.update=Ng,j.updateWith=Bg,j.values=Si,j.valuesIn=$g,j.without=Df,j.words=hc,j.wrap=Mp,j.xor=Lf,j.xorBy=Nf,j.xorWith=Bf,j.zip=$f,j.zipObject=Uf,j.zipObjectDeep=Hf,j.zipWith=Wf,j.entries=ac,j.entriesIn=lc,j.extend=sc,j.extendWith=Ns,so(j,j),j.add=$m,j.attempt=dc,j.camelCase=Vg,j.capitalize=cc,j.ceil=Um,j.clamp=Ug,j.clone=Ip,j.cloneDeep=Lp,j.cloneDeepWith=Np,j.cloneWith=Dp,j.conformsTo=Bp,j.deburr=uc,j.defaultTo=bm,j.divide=Hm,j.endsWith=jg,j.eq=Tn,j.escape=zg,j.escapeRegExp=qg,j.every=Qf,j.find=tp,j.findIndex=Dl,j.findKey=pg,j.findLast=np,j.findLastIndex=Ll,j.findLastKey=gg,j.floor=Wm,j.forEach=Wl,j.forEachRight=Vl,j.forIn=mg,j.forInRight=_g,j.forOwn=bg,j.forOwnRight=vg,j.get=Qr,j.gt=$p,j.gte=Up,j.has=Sg,j.hasIn=eo,j.head=Bl,j.identity=cn,j.includes=ap,j.indexOf=tf,j.inRange=Hg,j.invoke=xg,j.isArguments=ai,j.isArray=wt,j.isArrayBuffer=Hp,j.isArrayLike=an,j.isArrayLikeObject=qt,j.isBoolean=Wp,j.isBuffer=Zn,j.isDate=Vp,j.isElement=jp,j.isEmpty=zp,j.isEqual=qp,j.isEqualWith=Gp,j.isError=Jr,j.isFinite=Kp,j.isFunction=Un,j.isInteger=Jl,j.isLength=Ds,j.isMap=Zl,j.isMatch=Xp,j.isMatchWith=Yp,j.isNaN=Jp,j.isNative=Zp,j.isNil=eg,j.isNull=Qp,j.isNumber=Ql,j.isObject=jt,j.isObjectLike=zt,j.isPlainObject=Wi,j.isRegExp=Zr,j.isSafeInteger=tg,j.isSet=ec,j.isString=Ls,j.isSymbol=fn,j.isTypedArray=Ai,j.isUndefined=ng,j.isWeakMap=ig,j.isWeakSet=sg,j.join=af,j.kebabCase=Gg,j.last=Sn,j.lastIndexOf=lf,j.lowerCase=Kg,j.lowerFirst=Xg,j.lt=rg,j.lte=og,j.max=Vm,j.maxBy=jm,j.mean=zm,j.meanBy=qm,j.min=Gm,j.minBy=Km,j.stubArray=oo,j.stubFalse=ao,j.stubObject=Om,j.stubString=Im,j.stubTrue=Dm,j.multiply=Xm,j.nth=cf,j.noConflict=xm,j.noop=ro,j.now=Ms,j.pad=Yg,j.padEnd=Jg,j.padStart=Zg,j.parseInt=Qg,j.random=Wg,j.reduce=dp,j.reduceRight=fp,j.repeat=em,j.replace=tm,j.result=Mg,j.round=Ym,j.runInContext=Te,j.sample=gp,j.size=bp,j.snakeCase=nm,j.some=vp,j.sortedIndex=mf,j.sortedIndexBy=_f,j.sortedIndexOf=bf,j.sortedLastIndex=vf,j.sortedLastIndexBy=yf,j.sortedLastIndexOf=Af,j.startCase=sm,j.startsWith=rm,j.subtract=Jm,j.sum=Zm,j.sumBy=Qm,j.template=om,j.times=Lm,j.toFinite=Hn,j.toInteger=xt,j.toLength=nc,j.toLower=am,j.toNumber=En,j.toSafeInteger=ag,j.toString=Dt,j.toUpper=lm,j.trim=cm,j.trimEnd=um,j.trimStart=hm,j.truncate=dm,j.unescape=fm,j.uniqueId=Bm,j.upperCase=pm,j.upperFirst=to,j.each=Wl,j.eachRight=Vl,j.first=Bl,so(j,function(){var t={};return Fn(j,function(i,a){Lt.call(j.prototype,a)||(t[a]=i)}),t}(),{chain:!1}),j.VERSION=r,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){j[t].placeholder=j}),_n(["drop","take"],function(t,i){Mt.prototype[t]=function(a){a=a===s?1:Xt(xt(a),0);var h=this.__filtered__&&!i?new Mt(this):this.clone();return h.__filtered__?h.__takeCount__=en(a,h.__takeCount__):h.__views__.push({size:en(a,Be),type:t+(h.__dir__<0?"Right":"")}),h},Mt.prototype[t+"Right"]=function(a){return this.reverse()[t](a).reverse()}}),_n(["filter","map","takeWhile"],function(t,i){var a=i+1,h=a==J||a==xe;Mt.prototype[t]=function(P){var X=this.clone();return X.__iteratees__.push({iteratee:vt(P,3),type:a}),X.__filtered__=X.__filtered__||h,X}}),_n(["head","last"],function(t,i){var a="take"+(i?"Right":"");Mt.prototype[t]=function(){return this[a](1).value()[0]}}),_n(["initial","tail"],function(t,i){var a="drop"+(i?"":"Right");Mt.prototype[t]=function(){return this.__filtered__?new Mt(this):this[a](1)}}),Mt.prototype.compact=function(){return this.filter(cn)},Mt.prototype.find=function(t){return this.filter(t).head()},Mt.prototype.findLast=function(t){return this.reverse().find(t)},Mt.prototype.invokeMap=Tt(function(t,i){return typeof t=="function"?new Mt(this):this.map(function(a){return Li(a,t,i)})}),Mt.prototype.reject=function(t){return this.filter(Is(vt(t)))},Mt.prototype.slice=function(t,i){t=xt(t);var a=this;return a.__filtered__&&(t>0||i<0)?new Mt(a):(t<0?a=a.takeRight(-t):t&&(a=a.drop(t)),i!==s&&(i=xt(i),a=i<0?a.dropRight(-i):a.take(i-t)),a)},Mt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mt.prototype.toArray=function(){return this.take(Be)},Fn(Mt.prototype,function(t,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),h=/^(?:head|last)$/.test(i),P=j[h?"take"+(i=="last"?"Right":""):i],X=h||/^find/.test(i);P&&(j.prototype[i]=function(){var ue=this.__wrapped__,ye=h?[1]:arguments,ke=ue instanceof Mt,je=ye[0],Ge=ke||wt(ue),Je=function(Ft){var Ot=P.apply(j,zn([Ft],ye));return h&&ut?Ot[0]:Ot};Ge&&a&&typeof je=="function"&&je.length!=1&&(ke=Ge=!1);var ut=this.__chain__,gt=!!this.__actions__.length,yt=X&&!ut,Ct=ke&&!gt;if(!X&&Ge){ue=Ct?ue:new Mt(this);var At=t.apply(ue,ye);return At.__actions__.push({func:ks,args:[Je],thisArg:s}),new vn(At,ut)}return yt&&Ct?t.apply(this,ye):(At=this.thru(Je),yt?h?At.value()[0]:At.value():At)})}),_n(["pop","push","shift","sort","splice","unshift"],function(t){var i=ns[t],a=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",h=/^(?:pop|shift)$/.test(t);j.prototype[t]=function(){var P=arguments;if(h&&!this.__chain__){var X=this.value();return i.apply(wt(X)?X:[],P)}return this[a](function(ue){return i.apply(wt(ue)?ue:[],P)})}}),Fn(Mt.prototype,function(t,i){var a=j[i];if(a){var h=a.name+"";Lt.call(mi,h)||(mi[h]=[]),mi[h].push({name:i,func:a})}}),mi[Es(s,O).name]=[{name:"wrapper",func:s}],Mt.prototype.clone=dh,Mt.prototype.reverse=fh,Mt.prototype.value=ph,j.prototype.at=jf,j.prototype.chain=zf,j.prototype.commit=qf,j.prototype.next=Gf,j.prototype.plant=Xf,j.prototype.reverse=Yf,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=Jf,j.prototype.first=j.prototype.head,Pi&&(j.prototype[Pi]=Kf),j},fi=zu();Qn?((Qn.exports=fi)._=fi,ir._=fi):Zt._=fi}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _=getDefaultExportFromCjs(lodashExports);function bind(e,n){return function(){return e.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator:iterator$1,toStringTag}=Symbol,kindOf=(e=>n=>{const s=toString.call(n);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),n=>kindOf(n)===e),typeOfTest=e=>n=>typeof n===e,{isArray:isArray$2}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction$2(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&isArrayBuffer(e.buffer),n}const isString$2=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject$1=e=>{if(kindOf(e)!=="object")return!1;const n=getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(toStringTag in e)&&!(iterator$1 in e)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$2(e)&&isFunction$2(e.pipe),isFormData=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction$2(e.append)&&((n=kindOf(e))==="formdata"||n==="object"&&isFunction$2(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,n,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),isArray$2(e))for(r=0,o=e.length;r<o;r++)n.call(null,e[r],r,e);else{const l=s?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let y;for(r=0;r<c;r++)y=l[r],n.call(null,e[y],y,e)}}function findKey(e,n){n=n.toLowerCase();const s=Object.keys(e);let r=s.length,o;for(;r-- >0;)if(o=s[r],n===o.toLowerCase())return o;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},n={},s=(r,o)=>{const l=e&&findKey(n,o)||o;isPlainObject$1(n[l])&&isPlainObject$1(r)?n[l]=merge(n[l],r):isPlainObject$1(r)?n[l]=merge({},r):isArray$2(r)?n[l]=r.slice():n[l]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&forEach(arguments[r],s);return n}const extend$2=(e,n,s,{allOwnKeys:r}={})=>(forEach(n,(o,l)=>{s&&isFunction$2(o)?e[l]=bind(o,s):e[l]=o},{allOwnKeys:r}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,n,s,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject=(e,n,s,r)=>{let o,l,c;const y={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!r||r(c,e,n))&&!y[c]&&(n[c]=e[c],y[c]=!0);e=s!==!1&&getPrototypeOf(e)}while(e&&(!s||s(e,n))&&e!==Object.prototype);return n},endsWith=(e,n,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=n.length;const r=e.indexOf(n,s);return r!==-1&&r===s},toArray=e=>{if(!e)return null;if(isArray$2(e))return e;let n=e.length;if(!isNumber(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=e[n];return s},isTypedArray=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,n)=>{const r=(e&&e[iterator$1]).call(e);let o;for(;(o=r.next())&&!o.done;){const l=o.value;n.call(e,l[0],l[1])}},matchAll=(e,n)=>{let s;const r=[];for(;(s=e.exec(n))!==null;)r.push(s);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),hasOwnProperty$2=(({hasOwnProperty:e})=>(n,s)=>e.call(n,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,n)=>{const s=Object.getOwnPropertyDescriptors(e),r={};forEach(s,(o,l)=>{let c;(c=n(o,l,e))!==!1&&(r[l]=c||o)}),Object.defineProperties(e,r)},freezeMethods=e=>{reduceDescriptors(e,(n,s)=>{if(isFunction$2(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(isFunction$2(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(e,n)=>{const s={},r=o=>{o.forEach(l=>{s[l]=!0})};return isArray$2(e)?r(e):r(String(e).split(n)),s},noop=()=>{},toFiniteNumber=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function isSpecCompliantForm(e){return!!(e&&isFunction$2(e.append)&&e[toStringTag]==="FormData"&&e[iterator$1])}const toJSONObject=e=>{const n=new Array(10),s=(r,o)=>{if(isObject$2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[o]=r;const l=isArray$2(r)?[]:{};return forEach(r,(c,y)=>{const b=s(c,o+1);!isUndefined(b)&&(l[y]=b)}),n[o]=void 0,l}}return r};return s(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$2(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),_setImmediate=((e,n)=>e?setImmediate:n?((s,r)=>(_global.addEventListener("message",({source:o,data:l})=>{o===_global&&l===s&&r.length&&r.shift()()},!1),o=>{r.push(o),_global.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=e=>e!=null&&isFunction$2(e[iterator$1]),utils$1={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber,isBoolean,isObject:isObject$2,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$2,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(e,n,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,n,s,r,o,l)=>{const c=Object.create(prototype$1);return utils$1.toFlatObject(e,c,function(b){return b!==Error.prototype},y=>y!=="isAxiosError"),AxiosError.call(c,e.message,n,s,r,o),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,n,s){return e?e.concat(n).map(function(o,l){return o=removeBrackets(o),!s&&l?"["+o+"]":o}).join(s?".":""):n}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData(e,n,s){if(!utils$1.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,w){return!utils$1.isUndefined(w[M])});const r=s.metaTokens,o=s.visitor||d,l=s.dots,c=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function A(F){if(F===null)return"";if(utils$1.isDate(F))return F.toISOString();if(utils$1.isBoolean(F))return F.toString();if(!b&&utils$1.isBlob(F))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(F)||utils$1.isTypedArray(F)?b&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function d(F,M,w){let O=F;if(F&&!w&&typeof F=="object"){if(utils$1.endsWith(M,"{}"))M=r?M:M.slice(0,-2),F=JSON.stringify(F);else if(utils$1.isArray(F)&&isFlatArray(F)||(utils$1.isFileList(F)||utils$1.endsWith(M,"[]"))&&(O=utils$1.toArray(F)))return M=removeBrackets(M),O.forEach(function(U,I){!(utils$1.isUndefined(U)||U===null)&&n.append(c===!0?renderKey([M],I,l):c===null?M:M+"[]",A(U))}),!1}return isVisitable(F)?!0:(n.append(renderKey(w,M,l),A(F)),!1)}const x=[],z=Object.assign(predicates,{defaultVisitor:d,convertValue:A,isVisitable});function D(F,M){if(!utils$1.isUndefined(F)){if(x.indexOf(F)!==-1)throw Error("Circular reference detected in "+M.join("."));x.push(F),utils$1.forEach(F,function(O,H){(!(utils$1.isUndefined(O)||O===null)&&o.call(n,O,utils$1.isString(H)?H.trim():H,M,z))===!0&&D(O,M?M.concat(H):[H])}),x.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return D(e),n}function encode$1(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams(e,n){this._pairs=[],e&&toFormData(e,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,s){this._pairs.push([n,s])};prototype.toString=function(n){const s=n?function(r){return n.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,n,s){if(!n)return e;const r=s&&s.encode||encode;utils$1.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let l;if(o?l=o(n,s):l=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,s).toString(r),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class InterceptorManager{constructor(){this.handlers=[]}use(n,s,r){return this.handlers.push({fulfilled:n,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,n){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,r,o,l){return platform.isNode&&utils$1.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(e){const n={},s=Object.keys(e);let r;const o=s.length;let l;for(r=0;r<o;r++)l=s[r],n[l]=e[l];return n}function formDataToJSON(e){function n(s,r,o,l){let c=s[l++];if(c==="__proto__")return!0;const y=Number.isFinite(+c),b=l>=s.length;return c=!c&&utils$1.isArray(o)?o.length:c,b?(utils$1.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!y):((!o[c]||!utils$1.isObject(o[c]))&&(o[c]=[]),n(s,r,o[c],l)&&utils$1.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!y)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const s={};return utils$1.forEachEntry(e,(r,o)=>{n(parsePropPath(r),o,s,0)}),s}return null}function stringifySafely(e,n,s){if(utils$1.isString(e))try{return(n||JSON.parse)(e),utils$1.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,l=utils$1.isObject(n);if(l&&utils$1.isHTMLForm(n)&&(n=new FormData(n)),utils$1.isFormData(n))return o?JSON.stringify(formDataToJSON(n)):n;if(utils$1.isArrayBuffer(n)||utils$1.isBuffer(n)||utils$1.isStream(n)||utils$1.isFile(n)||utils$1.isBlob(n)||utils$1.isReadableStream(n))return n;if(utils$1.isArrayBufferView(n))return n.buffer;if(utils$1.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let y;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((y=utils$1.isFileList(n))||r.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return toFormData(y?{"files[]":n}:n,b&&new b,this.formSerializer)}}return l||o?(s.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const s=this.transitional||defaults.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(n)||utils$1.isReadableStream(n))return n;if(n&&utils$1.isString(n)&&(r&&!this.responseType||o)){const c=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(y){if(c)throw y.name==="SyntaxError"?AxiosError.from(y,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):y}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const n={};let s,r,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),s=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!s||n[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?n[s]?n[s].push(r):n[s]=[r]:n[s]=n[s]?n[s]+", "+r:r)}),n},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)n[r[1]]=r[2];return n}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,n,s,r,o){if(utils$1.isFunction(r))return r.call(this,n,s);if(o&&(n=s),!!utils$1.isString(n)){if(utils$1.isString(r))return n.indexOf(r)!==-1;if(utils$1.isRegExp(r))return r.test(n)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,r)=>s.toUpperCase()+r)}function buildAccessors(e,n){const s=utils$1.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(o,l,c){return this[r].call(this,n,o,l,c)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,s,r){const o=this;function l(y,b,A){const d=normalizeHeader(b);if(!d)throw new Error("header name must be a non-empty string");const x=utils$1.findKey(o,d);(!x||o[x]===void 0||A===!0||A===void 0&&o[x]!==!1)&&(o[x||b]=normalizeValue(y))}const c=(y,b)=>utils$1.forEach(y,(A,d)=>l(A,d,b));if(utils$1.isPlainObject(n)||n instanceof this.constructor)c(n,s);else if(utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))c(parseHeaders(n),s);else if(utils$1.isObject(n)&&utils$1.isIterable(n)){let y={},b,A;for(const d of n){if(!utils$1.isArray(d))throw TypeError("Object iterator must return a key-value pair");y[A=d[0]]=(b=y[A])?utils$1.isArray(b)?[...b,d[1]]:[b,d[1]]:d[1]}c(y,s)}else n!=null&&l(s,n,r);return this}get(n,s){if(n=normalizeHeader(n),n){const r=utils$1.findKey(this,n);if(r){const o=this[r];if(!s)return o;if(s===!0)return parseTokens(o);if(utils$1.isFunction(s))return s.call(this,o,r);if(utils$1.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=normalizeHeader(n),n){const r=utils$1.findKey(this,n);return!!(r&&this[r]!==void 0&&(!s||matchHeaderValue(this,this[r],r,s)))}return!1}delete(n,s){const r=this;let o=!1;function l(c){if(c=normalizeHeader(c),c){const y=utils$1.findKey(r,c);y&&(!s||matchHeaderValue(r,r[y],y,s))&&(delete r[y],o=!0)}}return utils$1.isArray(n)?n.forEach(l):l(n),o}clear(n){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const l=s[r];(!n||matchHeaderValue(this,this[l],l,n,!0))&&(delete this[l],o=!0)}return o}normalize(n){const s=this,r={};return utils$1.forEach(this,(o,l)=>{const c=utils$1.findKey(r,l);if(c){s[c]=normalizeValue(o),delete s[l];return}const y=n?formatHeader(l):String(l).trim();y!==l&&delete s[l],s[y]=normalizeValue(o),r[y]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return utils$1.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=n&&utils$1.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const r=new this(n);return s.forEach(o=>r.set(o)),r}static accessor(n){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function l(c){const y=normalizeHeader(c);r[y]||(buildAccessors(o,c),r[y]=!0)}return utils$1.isArray(n)?n.forEach(l):l(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:e},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[s]=r}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,n){const s=this||defaults$1,r=n||s,o=AxiosHeaders$1.from(r.headers);let l=r.data;return utils$1.forEach(e,function(y){l=y.call(s,l,o.normalize(),n?n.status:void 0)}),o.normalize(),l}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,n,s){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,n,s),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,n,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):n(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function parseProtocol(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function speedometer(e,n){e=e||10;const s=new Array(e),r=new Array(e);let o=0,l=0,c;return n=n!==void 0?n:1e3,function(b){const A=Date.now(),d=r[l];c||(c=A),s[o]=b,r[o]=A;let x=l,z=0;for(;x!==o;)z+=s[x++],x=x%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),A-c<n)return;const D=d&&A-d;return D?Math.round(z*1e3/D):void 0}}function throttle(e,n){let s=0,r=1e3/n,o,l;const c=(A,d=Date.now())=>{s=d,o=null,l&&(clearTimeout(l),l=null),e.apply(null,A)};return[(...A)=>{const d=Date.now(),x=d-s;x>=r?c(A,d):(o=A,l||(l=setTimeout(()=>{l=null,c(o)},r-x)))},()=>o&&c(o)]}const progressEventReducer=(e,n,s=3)=>{let r=0;const o=speedometer(50,250);return throttle(l=>{const c=l.loaded,y=l.lengthComputable?l.total:void 0,b=c-r,A=o(b),d=c<=y;r=c;const x={loaded:c,total:y,progress:y?c/y:void 0,bytes:b,rate:A||void 0,estimated:A&&y&&d?(y-c)/A:void 0,event:l,lengthComputable:y!=null,[n?"download":"upload"]:!0};e(x)},s)},progressEventDecorator=(e,n)=>{const s=e!=null;return[r=>n[0]({lengthComputable:s,total:e,loaded:r}),n[1]]},asyncDecorator=e=>(...n)=>utils$1.asap(()=>e(...n)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,n)=>s=>(s=new URL(s,platform.origin),e.protocol===s.protocol&&e.host===s.host&&(n||e.port===s.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,n,s,r,o,l){const c=[e+"="+encodeURIComponent(n)];utils$1.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),utils$1.isString(r)&&c.push("path="+r),utils$1.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function buildFullPath(e,n,s){let r=!isAbsoluteURL(n);return e&&(r||s==!1)?combineURLs(e,n):n}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig(e,n){n=n||{};const s={};function r(A,d,x,z){return utils$1.isPlainObject(A)&&utils$1.isPlainObject(d)?utils$1.merge.call({caseless:z},A,d):utils$1.isPlainObject(d)?utils$1.merge({},d):utils$1.isArray(d)?d.slice():d}function o(A,d,x,z){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(A))return r(void 0,A,x,z)}else return r(A,d,x,z)}function l(A,d){if(!utils$1.isUndefined(d))return r(void 0,d)}function c(A,d){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(A))return r(void 0,A)}else return r(void 0,d)}function y(A,d,x){if(x in n)return r(A,d);if(x in e)return r(void 0,A)}const b={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:y,headers:(A,d,x)=>o(headersToObject(A),headersToObject(d),x,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,n)),function(d){const x=b[d]||o,z=x(e[d],n[d],d);utils$1.isUndefined(z)&&x!==y||(s[d]=z)}),s}const resolveConfig=e=>{const n=mergeConfig({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:y}=n;n.headers=c=AxiosHeaders$1.from(c),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&c.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let b;if(utils$1.isFormData(s)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((b=c.getContentType())!==!1){const[A,...d]=b?b.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([A||"multipart/form-data",...d].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$1.isFunction(r)&&(r=r(n)),r||r!==!1&&isURLSameOrigin(n.url))){const A=o&&l&&cookies.read(l);A&&c.set(o,A)}return n},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(s,r){const o=resolveConfig(e);let l=o.data;const c=AxiosHeaders$1.from(o.headers).normalize();let{responseType:y,onUploadProgress:b,onDownloadProgress:A}=o,d,x,z,D,F;function M(){D&&D(),F&&F(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function O(){if(!w)return;const U=AxiosHeaders$1.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!y||y==="text"||y==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:U,config:e,request:w};settle(function(Y){s(Y),M()},function(Y){r(Y),M()},S),w=null}"onloadend"in w?w.onloadend=O:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(O)},w.onabort=function(){w&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let I=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(I=o.timeoutErrorMessage),r(new AxiosError(I,S.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,w)),w=null},l===void 0&&c.setContentType(null),"setRequestHeader"in w&&utils$1.forEach(c.toJSON(),function(I,S){w.setRequestHeader(S,I)}),utils$1.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),y&&y!=="json"&&(w.responseType=o.responseType),A&&([z,F]=progressEventReducer(A,!0),w.addEventListener("progress",z)),b&&w.upload&&([x,D]=progressEventReducer(b),w.upload.addEventListener("progress",x),w.upload.addEventListener("loadend",D)),(o.cancelToken||o.signal)&&(d=U=>{w&&(r(!U||U.type?new CanceledError(null,e,w):U),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const H=parseProtocol(o.url);if(H&&platform.protocols.indexOf(H)===-1){r(new AxiosError("Unsupported protocol "+H+":",AxiosError.ERR_BAD_REQUEST,e));return}w.send(l||null)})},composeSignals=(e,n)=>{const{length:s}=e=e?e.filter(Boolean):[];if(n||s){let r=new AbortController,o;const l=function(A){if(!o){o=!0,y();const d=A instanceof Error?A:this.reason;r.abort(d instanceof AxiosError?d:new CanceledError(d instanceof Error?d.message:d))}};let c=n&&setTimeout(()=>{c=null,l(new AxiosError(`timeout ${n} of ms exceeded`,AxiosError.ETIMEDOUT))},n);const y=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(A=>{A.unsubscribe?A.unsubscribe(l):A.removeEventListener("abort",l)}),e=null)};e.forEach(A=>A.addEventListener("abort",l));const{signal:b}=r;return b.unsubscribe=()=>utils$1.asap(y),b}},composeSignals$1=composeSignals,streamChunk=function*(e,n){let s=e.byteLength;if(!n||s<n){yield e;return}let r=0,o;for(;r<s;)o=r+n,yield e.slice(r,o),r=o},readBytes=async function*(e,n){for await(const s of readStream(e))yield*streamChunk(s,n)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:s,value:r}=await n.read();if(s)break;yield r}}finally{await n.cancel()}},trackStream=(e,n,s,r)=>{const o=readBytes(e,n);let l=0,c,y=b=>{c||(c=!0,r&&r(b))};return new ReadableStream({async pull(b){try{const{done:A,value:d}=await o.next();if(A){y(),b.close();return}let x=d.byteLength;if(s){let z=l+=x;s(z)}b.enqueue(new Uint8Array(d))}catch(A){throw y(A),A}},cancel(b){return y(b),o.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...n)=>{try{return!!e(...n)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const n=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!resolvers[n]&&(resolvers[n]=utils$1.isFunction(e[n])?s=>s[n]():(s,r)=>{throw new AxiosError(`Response type '${n}' is not supported`,AxiosError.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,n)=>{const s=utils$1.toFiniteNumber(e.getContentLength());return s??getBodyLength(n)},fetchAdapter=isFetchSupported&&(async e=>{let{url:n,method:s,data:r,signal:o,cancelToken:l,timeout:c,onDownloadProgress:y,onUploadProgress:b,responseType:A,headers:d,withCredentials:x="same-origin",fetchOptions:z}=resolveConfig(e);A=A?(A+"").toLowerCase():"text";let D=composeSignals$1([o,l&&l.toAbortSignal()],c),F;const M=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let w;try{if(b&&supportsRequestStream&&s!=="get"&&s!=="head"&&(w=await resolveBodyLength(d,r))!==0){let S=new Request(n,{method:"POST",body:r,duplex:"half"}),C;if(utils$1.isFormData(r)&&(C=S.headers.get("content-type"))&&d.setContentType(C),S.body){const[Y,$]=progressEventDecorator(w,progressEventReducer(asyncDecorator(b)));r=trackStream(S.body,DEFAULT_CHUNK_SIZE,Y,$)}}utils$1.isString(x)||(x=x?"include":"omit");const O="credentials"in Request.prototype;F=new Request(n,{...z,signal:D,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:O?x:void 0});let H=await fetch(F,z);const U=supportsResponseStream&&(A==="stream"||A==="response");if(supportsResponseStream&&(y||U&&M)){const S={};["status","statusText","headers"].forEach(E=>{S[E]=H[E]});const C=utils$1.toFiniteNumber(H.headers.get("content-length")),[Y,$]=y&&progressEventDecorator(C,progressEventReducer(asyncDecorator(y),!0))||[];H=new Response(trackStream(H.body,DEFAULT_CHUNK_SIZE,Y,()=>{$&&$(),M&&M()}),S)}A=A||"text";let I=await resolvers[utils$1.findKey(resolvers,A)||"text"](H,e);return!U&&M&&M(),await new Promise((S,C)=>{settle(S,C,{data:I,headers:AxiosHeaders$1.from(H.headers),status:H.status,statusText:H.statusText,config:e,request:F})})}catch(O){throw M&&M(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,F),{cause:O.cause||O}):AxiosError.from(O,O&&O.code,e,F)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:n}=e;let s,r;const o={};for(let l=0;l<n;l++){s=e[l];let c;if(r=s,!isResolvedHandle(s)&&(r=knownAdapters[(c=String(s)).toLowerCase()],r===void 0))throw new AxiosError(`Unknown adapter '${c}'`);if(r)break;o[c||"#"+l]=r}if(!r){const l=Object.entries(o).map(([y,b])=>`adapter ${y} `+(b===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(renderReason).join(`
`):" "+renderReason(l[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(r){return throwIfCancellationRequested(e),r.data=transformData.call(e,e.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(e),r&&r.response&&(r.response.data=transformData.call(e,e.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const VERSION="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{validators$1[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(n,s,r){function o(l,c){return"[Axios v"+VERSION+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,y)=>{if(n===!1)throw new AxiosError(o(c," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(l,c,y):!0}};validators$1.spelling=function(n){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function assertOptions(e,n,s){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const l=r[o],c=n[l];if(c){const y=e[l],b=y===void 0||c(y,l,e);if(b!==!0)throw new AxiosError("option "+l+" must be "+b,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+l,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(n,s){try{return await this._request(n,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=mergeConfig(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:l}=s;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?s.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),validator.assertOptions(s,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=l&&utils$1.merge(l.common,l[s.method]);l&&utils$1.forEach(["delete","get","head","post","put","patch","common"],F=>{delete l[F]}),s.headers=AxiosHeaders$1.concat(c,l);const y=[];let b=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(s)===!1||(b=b&&M.synchronous,y.unshift(M.fulfilled,M.rejected))});const A=[];this.interceptors.response.forEach(function(M){A.push(M.fulfilled,M.rejected)});let d,x=0,z;if(!b){const F=[dispatchRequest.bind(this),void 0];for(F.unshift.apply(F,y),F.push.apply(F,A),z=F.length,d=Promise.resolve(s);x<z;)d=d.then(F[x++],F[x++]);return d}z=y.length;let D=s;for(x=0;x<z;){const F=y[x++],M=y[x++];try{D=F(D)}catch(w){M.call(this,w);break}}try{d=dispatchRequest.call(this,D)}catch(F){return Promise.reject(F)}for(x=0,z=A.length;x<z;)d=d.then(A[x++],A[x++]);return d}getUri(n){n=mergeConfig(this.defaults,n);const s=buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls);return buildURL(s,n.params,n.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(n){Axios.prototype[n]=function(s,r){return this.request(mergeConfig(r||{},{method:n,url:s,data:(r||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function s(r){return function(l,c,y){return this.request(mergeConfig(y||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Axios.prototype[n]=s(),Axios.prototype[n+"Form"]=s(!0)});const Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(o=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](o);r._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(y=>{r.subscribe(y),l=y}).then(o);return c.cancel=function(){r.unsubscribe(l)},c},n(function(l,c,y){r.reason||(r.reason=new CanceledError(l,c,y),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const n=new AbortController,s=r=>{n.abort(r)};return this.subscribe(s),n.signal.unsubscribe=()=>this.unsubscribe(s),n.signal}static source(){let n;return{token:new CancelToken(function(o){n=o}),cancel:n}}}const CancelToken$1=CancelToken;function spread(e){return function(s){return e.apply(null,s)}}function isAxiosError(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,n])=>{HttpStatusCode[n]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const n=new Axios$1(e),s=bind(Axios$1.prototype.request,n);return utils$1.extend(s,Axios$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(s,n,null,{allOwnKeys:!0}),s.create=function(o){return createInstance(mergeConfig(e,o))},s}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;window._=_;window.axios=axios$1;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const csrfToken=document.head.querySelector('meta[name="csrf-token"]');csrfToken?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=csrfToken.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token");const app="";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap$1(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener$1=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,n)=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,n)=>hasOwnProperty$1.call(e,n),isArray$1=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet$1=e=>toTypeString$1(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol$1=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$1(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap$1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(e=>e.replace(camelizeRE$1,(n,s)=>s?s.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(e=>e.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize$1=cacheStringFunction$1(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction$1(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,n)=>!Object.is(e,n),invokeArrayFns$1=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},def=(e,n,s,r=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:r,value:s})},looseToNumber$1=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++){const r=e[s],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const l in o)n[l]=o[l]}return n}else if(isString$1(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const n={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const r=s.split(propertyDelimiterRE);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function normalizeClass(e){let n="";if(isString$1(e))n=e;else if(isArray$1(e))for(let s=0;s<e.length;s++){const r=normalizeClass(e[s]);r&&(n+=r+" ")}else if(isObject$1(e))for(const s in e)e[s]&&(n+=s+" ");return n.trim()}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$1(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,n)=>isRef$1(n)?replacer(e,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[r,o],l)=>(s[stringifySymbol(r,l)+" =>"]=o,s),{})}:isSet$1(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>stringifySymbol(s))}:isSymbol$1(n)?stringifySymbol(n):isObject$1(n)&&!isArray$1(n)&&!isPlainObject(n)?String(n):n,stringifySymbol=(e,n="")=>{var s;return isSymbol$1(e)?`Symbol(${(s=e.description)!=null?s:n})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].pause();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].resume();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].resume()}}run(n){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const n=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=n,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)removeSub(n);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,n=!1){if(e.flags|=8,n){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let n=batchedComputed;for(batchedComputed=void 0;n;){const s=n.next;n.next=void 0,n.flags&=-9,n=s}}let e;for(;batchedSub;){let n=batchedSub;for(batchedSub=void 0;n;){const s=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(r){e||(e=r)}n=s}}if(e)throw e}function prepareDeps(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function cleanupDeps(e){let n,s=e.depsTail,r=s;for(;r;){const o=r.prevDep;r.version===-1?(r===s&&(s=o),removeSub(r),removeDep(r)):n=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=n,e.depsTail=s}function isDirty(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(refreshComputed(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const n=e.dep,s=activeSub,r=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const o=e.fn(e._value);(n.version===0||hasChanged(o,e._value))&&(e.flags|=128,e._value=o,n.version++)}catch(o){throw n.version++,o}finally{activeSub=s,shouldTrack=r,cleanupDeps(e),e.flags&=-3}}function removeSub(e,n=!1){const{dep:s,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!n&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(e){const{prevDep:n,nextDep:s}=e;n&&(n.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=n,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const s=activeSub;activeSub=void 0;try{n()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(n,s){this.sub=n,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=r)}return s}trigger(n){this.version++,globalVersion++,this.notify(n)}notify(n){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let r=n.deps;r;r=r.nextDep)addSub(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,n,s){if(shouldTrack&&activeSub){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let o=r.get(s);o||(r.set(s,o=new Dep),o.map=r,o.key=s),o.track()}}function trigger(e,n,s,r,o,l){const c=targetMap.get(e);if(!c){globalVersion++;return}const y=b=>{b&&b.trigger()};if(startBatch(),n==="clear")c.forEach(y);else{const b=isArray$1(e),A=b&&isIntegerKey(s);if(b&&s==="length"){const d=Number(r);c.forEach((x,z)=>{(z==="length"||z===ARRAY_ITERATE_KEY||!isSymbol$1(z)&&z>=d)&&y(x)})}else switch((s!==void 0||c.has(void 0))&&y(c.get(s)),A&&y(c.get(ARRAY_ITERATE_KEY)),n){case"add":b?A&&y(c.get("length")):(y(c.get(ITERATE_KEY)),isMap(e)&&y(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":b||(y(c.get(ITERATE_KEY)),isMap(e)&&y(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&y(c.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(e){const n=toRaw(e);return n===e?n:(track(n,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?n:n.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(n=>isArray$1(n)?reactiveReadArray(n):n))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,n){return apply(this,"every",e,n,void 0,arguments)},filter(e,n){return apply(this,"filter",e,n,s=>s.map(toReactive),arguments)},find(e,n){return apply(this,"find",e,n,toReactive,arguments)},findIndex(e,n){return apply(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return apply(this,"findLast",e,n,toReactive,arguments)},findLastIndex(e,n){return apply(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return apply(this,"forEach",e,n,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,n){return apply(this,"map",e,n,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...n){return reduce(this,"reduce",e,n)},reduceRight(e,...n){return reduce(this,"reduceRight",e,n)},shift(){return noTracking(this,"shift")},some(e,n){return apply(this,"some",e,n,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,n,s){const r=shallowReadArray(e),o=r[n]();return r!==e&&!isShallow(e)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=s(l.value)),l}),o}const arrayProto=Array.prototype;function apply(e,n,s,r,o,l){const c=shallowReadArray(e),y=c!==e&&!isShallow(e),b=c[n];if(b!==arrayProto[n]){const x=b.apply(e,l);return y?toReactive(x):x}let A=s;c!==e&&(y?A=function(x,z){return s.call(this,toReactive(x),z,e)}:s.length>2&&(A=function(x,z){return s.call(this,x,z,e)}));const d=b.call(c,A,r);return y&&o?o(d):d}function reduce(e,n,s,r){const o=shallowReadArray(e);let l=s;return o!==e&&(isShallow(e)?s.length>3&&(l=function(c,y,b){return s.call(this,c,y,b,e)}):l=function(c,y,b){return s.call(this,c,toReactive(y),b,e)}),o[n](l,...r)}function searchProxy(e,n,s){const r=toRaw(e);track(r,"iterate",ARRAY_ITERATE_KEY);const o=r[n](...s);return(o===-1||o===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),r[n](...s)):o}function noTracking(e,n,s=[]){pauseTracking(),startBatch();const r=toRaw(e)[n].apply(e,s);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap$1("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$1));function hasOwnProperty(e){isSymbol$1(e)||(e=String(e));const n=toRaw(this);return track(n,"has",e),n.hasOwnProperty(e)}class BaseReactiveHandler{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,r){if(s==="__v_skip")return n.__v_skip;const o=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return l;if(s==="__v_raw")return r===(o?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(r)?n:void 0;const c=isArray$1(n);if(!o){let b;if(c&&(b=arrayInstrumentations[s]))return b;if(s==="hasOwnProperty")return hasOwnProperty}const y=Reflect.get(n,s,isRef(n)?n:r);return(isSymbol$1(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(o||track(n,"get",s),l)?y:isRef(y)?c&&isIntegerKey(s)?y:y.value:isObject$1(y)?o?readonly(y):reactive(y):y}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!1,n)}set(n,s,r,o){let l=n[s];if(!this._isShallow){const b=isReadonly(l);if(!isShallow(r)&&!isReadonly(r)&&(l=toRaw(l),r=toRaw(r)),!isArray$1(n)&&isRef(l)&&!isRef(r))return b?!1:(l.value=r,!0)}const c=isArray$1(n)&&isIntegerKey(s)?Number(s)<n.length:hasOwn(n,s),y=Reflect.set(n,s,r,isRef(n)?n:o);return n===toRaw(o)&&(c?hasChanged(r,l)&&trigger(n,"set",s,r):trigger(n,"add",s,r)),y}deleteProperty(n,s){const r=hasOwn(n,s);n[s];const o=Reflect.deleteProperty(n,s);return o&&r&&trigger(n,"delete",s,void 0),o}has(n,s){const r=Reflect.has(n,s);return(!isSymbol$1(s)||!builtInSymbols.has(s))&&track(n,"has",s),r}ownKeys(n){return track(n,"iterate",isArray$1(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,n,s){return function(...r){const o=this.__v_raw,l=toRaw(o),c=isMap(l),y=e==="entries"||e===Symbol.iterator&&c,b=e==="keys"&&c,A=o[e](...r),d=s?toShallow:n?toReadonly:toReactive;return!n&&track(l,"iterate",b?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:x,done:z}=A.next();return z?{value:x,done:z}:{value:y?[d(x[0]),d(x[1])]:d(x),done:z}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,n){const s={get(o){const l=this.__v_raw,c=toRaw(l),y=toRaw(o);e||(hasChanged(o,y)&&track(c,"get",o),track(c,"get",y));const{has:b}=getProto(c),A=n?toShallow:e?toReadonly:toReactive;if(b.call(c,o))return A(l.get(o));if(b.call(c,y))return A(l.get(y));l!==c&&l.get(o)},get size(){const o=this.__v_raw;return!e&&track(toRaw(o),"iterate",ITERATE_KEY),Reflect.get(o,"size",o)},has(o){const l=this.__v_raw,c=toRaw(l),y=toRaw(o);return e||(hasChanged(o,y)&&track(c,"has",o),track(c,"has",y)),o===y?l.has(o):l.has(o)||l.has(y)},forEach(o,l){const c=this,y=c.__v_raw,b=toRaw(y),A=n?toShallow:e?toReadonly:toReactive;return!e&&track(b,"iterate",ITERATE_KEY),y.forEach((d,x)=>o.call(l,A(d),A(x),c))}};return extend$1(s,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(o){!n&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const l=toRaw(this);return getProto(l).has.call(l,o)||(l.add(o),trigger(l,"add",o,o)),this},set(o,l){!n&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const c=toRaw(this),{has:y,get:b}=getProto(c);let A=y.call(c,o);A||(o=toRaw(o),A=y.call(c,o));const d=b.call(c,o);return c.set(o,l),A?hasChanged(l,d)&&trigger(c,"set",o,l):trigger(c,"add",o,l),this},delete(o){const l=toRaw(this),{has:c,get:y}=getProto(l);let b=c.call(l,o);b||(o=toRaw(o),b=c.call(l,o)),y&&y.call(l,o);const A=l.delete(o);return b&&trigger(l,"delete",o,void 0),A},clear(){const o=toRaw(this),l=o.size!==0,c=o.clear();return l&&trigger(o,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=createIterableMethod(o,e,n)}),s}function createInstrumentationGetter(e,n){const s=createInstrumentations(e,n);return(r,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hasOwn(s,o)&&o in r?s:r,o,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,n,s,r,o){if(!isObject$1(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=getTargetType(e);if(l===0)return e;const c=o.get(e);if(c)return c;const y=new Proxy(e,l===2?r:s);return o.set(e,y),y}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const n=e&&e.__v_raw;return n?toRaw(n):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function createRef(e,n){return isRef(e)?e:new RefImpl(e,n)}class RefImpl{constructor(n,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?n:toRaw(n),this._value=s?n:toReactive(n),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(n){const s=this._rawValue,r=this.__v_isShallow||isShallow(n)||isReadonly(n);n=r?n:toRaw(n),hasChanged(n,s)&&(this._rawValue=n,this._value=r?n:toReactive(n),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,n,s)=>n==="__v_raw"?e:unref(Reflect.get(e,n,s)),set:(e,n,s,r)=>{const o=e[n];return isRef(o)&&!isRef(s)?(o.value=s,!0):Reflect.set(e,n,s,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(n,s,r){this.fn=n,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const n=this.dep.track();return refreshComputed(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function computed$1(e,n,s=!1){let r,o;return isFunction$1(e)?r=e:(r=e.get,o=e.set),new ComputedRefImpl(r,o,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,n=!1,s=activeWatcher){if(s){let r=cleanupMap.get(s);r||cleanupMap.set(s,r=[]),r.push(e)}}function watch$1(e,n,s=EMPTY_OBJ){const{immediate:r,deep:o,once:l,scheduler:c,augmentJob:y,call:b}=s,A=I=>o?I:isShallow(I)||o===!1||o===0?traverse(I,1):traverse(I);let d,x,z,D,F=!1,M=!1;if(isRef(e)?(x=()=>e.value,F=isShallow(e)):isReactive(e)?(x=()=>A(e),F=!0):isArray$1(e)?(M=!0,F=e.some(I=>isReactive(I)||isShallow(I)),x=()=>e.map(I=>{if(isRef(I))return I.value;if(isReactive(I))return A(I);if(isFunction$1(I))return b?b(I,2):I()})):isFunction$1(e)?n?x=b?()=>b(e,2):e:x=()=>{if(z){pauseTracking();try{z()}finally{resetTracking()}}const I=activeWatcher;activeWatcher=d;try{return b?b(e,3,[D]):e(D)}finally{activeWatcher=I}}:x=NOOP,n&&o){const I=x,S=o===!0?1/0:o;x=()=>traverse(I(),S)}const w=getCurrentScope(),O=()=>{d.stop(),w&&w.active&&remove(w.effects,d)};if(l&&n){const I=n;n=(...S)=>{I(...S),O()}}let H=M?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const U=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(n){const S=d.run();if(o||F||(M?S.some((C,Y)=>hasChanged(C,H[Y])):hasChanged(S,H))){z&&z();const C=activeWatcher;activeWatcher=d;try{const Y=[S,H===INITIAL_WATCHER_VALUE?void 0:M&&H[0]===INITIAL_WATCHER_VALUE?[]:H,D];H=S,b?b(n,3,Y):n(...Y)}finally{activeWatcher=C}}}else d.run()};return y&&y(U),d=new ReactiveEffect(x),d.scheduler=c?()=>c(U,!1):U,D=I=>onWatcherCleanup(I,!1,d),z=d.onStop=()=>{const I=cleanupMap.get(d);if(I){if(b)b(I,4);else for(const S of I)S();cleanupMap.delete(d)}},n?r?U(!0):H=d.run():c?c(U.bind(null,!0),!0):d.run(),O.pause=d.pause.bind(d),O.resume=d.resume.bind(d),O.stop=O,O}function traverse(e,n=1/0,s){if(n<=0||!isObject$1(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),n--,isRef(e))traverse(e.value,n,s);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],n,s);else if(isSet$1(e)||isMap(e))e.forEach(r=>{traverse(r,n,s)});else if(isPlainObject(e)){for(const r in e)traverse(e[r],n,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&traverse(e[r],n,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...n){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,r=s&&s.appContext.config.warnHandler,o=getComponentTrace();if(r)callWithErrorHandling(r,s,11,[e+n.map(l=>{var c,y;return(y=(c=l.toString)==null?void 0:c.call(l))!=null?y:JSON.stringify(l)}).join(""),s&&s.proxy,o.map(({vnode:l})=>`at <${formatComponentName(s,l.type)}>`).join(`
`),o]);else{const l=[`[Vue warn]: ${e}`,...n];o.length&&l.push(`
`,...formatTrace(o)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const n=[];for(;e;){const s=n[0];s&&s.vnode===e?s.recurseCount++:n.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return n}function formatTrace(e){const n=[];return e.forEach((s,r)=>{n.push(...r===0?[]:[`
`],...formatTraceEntry(s))}),n}function formatTraceEntry({vnode:e,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${formatComponentName(e.component,e.type,r)}`,l=">"+s;return e.props?[o,...formatProps(e.props),l]:[o+l]}function formatProps(e){const n=[],s=Object.keys(e);return s.slice(0,3).forEach(r=>{n.push(...formatProp(r,e[r]))}),s.length>3&&n.push(" ..."),n}function formatProp(e,n,s){return isString$1(n)?(n=JSON.stringify(n),s?n:[`${e}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${e}=${n}`]:isRef(n)?(n=formatProp(e,toRaw(n.value),!0),s?n:[`${e}=Ref<`,n,">"]):isFunction$1(n)?[`${e}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),s?n:[`${e}=`,n])}function callWithErrorHandling(e,n,s,r){try{return r?e(...r):e()}catch(o){handleError(o,n,s)}}function callWithAsyncErrorHandling(e,n,s,r){if(isFunction$1(e)){const o=callWithErrorHandling(e,n,s,r);return o&&isPromise(o)&&o.catch(l=>{handleError(l,n,s)}),o}if(isArray$1(e)){const o=[];for(let l=0;l<e.length;l++)o.push(callWithAsyncErrorHandling(e[l],n,s,r));return o}}function handleError(e,n,s,r=!0){const o=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||EMPTY_OBJ;if(n){let y=n.parent;const b=n.proxy,A=`https://vuejs.org/error-reference/#runtime-${s}`;for(;y;){const d=y.ec;if(d){for(let x=0;x<d.length;x++)if(d[x](e,b,A)===!1)return}y=y.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[e,b,A]),resetTracking();return}}logError(e,s,o,r,c)}function logError(e,n,s,r=!0,o=!1){if(o)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const n=currentFlushPromise||resolvedPromise;return e?n.then(this?e.bind(this):e):n}function findInsertionIndex(e){let n=flushIndex+1,s=queue.length;for(;n<s;){const r=n+s>>>1,o=queue[r],l=getId(o);l<e||l===e&&o.flags&2?n=r+1:s=r}return n}function queueJob(e){if(!(e.flags&1)){const n=getId(e),s=queue[queue.length-1];!s||!(e.flags&2)&&n>=getId(s)?queue.push(e):queue.splice(findInsertionIndex(n),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,n,s=flushIndex+1){for(;s<queue.length;s++){const r=queue[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;queue.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)].sort((s,r)=>getId(s)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),callWithErrorHandling(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&(s.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const n=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,n}function withCtx(e,n=currentRenderingInstance,s){if(!n||e._n)return e;const r=(...o)=>{r._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(n);let c;try{c=e(...o)}finally{setCurrentRenderingInstance(l),r._d&&setBlockTracking(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function withDirectives(e,n){if(currentRenderingInstance===null)return e;const s=getComponentPublicInstance(currentRenderingInstance),r=e.dirs||(e.dirs=[]);for(let o=0;o<n.length;o++){let[l,c,y,b=EMPTY_OBJ]=n[o];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),r.push({dir:l,instance:s,value:c,oldValue:void 0,arg:y,modifiers:b}))}return e}function invokeDirectiveHook(e,n,s,r){const o=e.dirs,l=n&&n.dirs;for(let c=0;c<o.length;c++){const y=o[c];l&&(y.oldValue=l[c].value);let b=y.dir[r];b&&(pauseTracking(),callWithAsyncErrorHandling(b,s,8,[e.el,y,e,n]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport;function setTransitionHooks(e,n){e.shapeFlag&6&&e.component?(e.transition=n,setTransitionHooks(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,n,s,r,o=!1){if(isArray$1(e)){e.forEach((F,M)=>setRef(F,n&&(isArray$1(n)?n[M]:n),s,r,o));return}if(isAsyncWrapper(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(e,n,s,r.component.subTree);return}const l=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,c=o?null:l,{i:y,r:b}=e,A=n&&n.r,d=y.refs===EMPTY_OBJ?y.refs={}:y.refs,x=y.setupState,z=toRaw(x),D=x===EMPTY_OBJ?()=>!1:F=>hasOwn(z,F);if(A!=null&&A!==b&&(isString$1(A)?(d[A]=null,D(A)&&(x[A]=null)):isRef(A)&&(A.value=null)),isFunction$1(b))callWithErrorHandling(b,y,12,[c,d]);else{const F=isString$1(b),M=isRef(b);if(F||M){const w=()=>{if(e.f){const O=F?D(b)?x[b]:d[b]:b.value;o?isArray$1(O)&&remove(O,l):isArray$1(O)?O.includes(l)||O.push(l):F?(d[b]=[l],D(b)&&(x[b]=d[b])):(b.value=[l],e.k&&(d[e.k]=b.value))}else F?(d[b]=c,D(b)&&(x[b]=c)):M&&(b.value=c,e.k&&(d[e.k]=c))};c?(w.id=-1,queuePostRenderEffect(w,s)):w()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,n){registerKeepAliveHook(e,"a",n)}function onDeactivated(e,n){registerKeepAliveHook(e,"da",n)}function registerKeepAliveHook(e,n,s=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(n,r,s),s){let o=s.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,n,s,o),o=o.parent}}function injectToKeepAliveRoot(e,n,s,r){const o=injectHook(n,e,r,!0);onUnmounted(()=>{remove(r[n],o)},s)}function injectHook(e,n,s=currentInstance,r=!1){if(s){const o=s[e]||(s[e]=[]),l=n.__weh||(n.__weh=(...c)=>{pauseTracking();const y=setCurrentInstance(s),b=callWithAsyncErrorHandling(n,s,e,c);return y(),resetTracking(),b});return r?o.unshift(l):o.push(l),l}}const createHook=e=>(n,s=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>n(...r),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,n=currentInstance){injectHook("ec",e,n)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,n,s,r){let o;const l=s&&s[r],c=isArray$1(e);if(c||isString$1(e)){const y=c&&isReactive(e);let b=!1,A=!1;y&&(b=!isShallow(e),A=isReadonly(e),e=shallowReadArray(e)),o=new Array(e.length);for(let d=0,x=e.length;d<x;d++)o[d]=n(b?A?toReadonly(toReactive(e[d])):toReactive(e[d]):e[d],d,void 0,l&&l[d])}else if(typeof e=="number"){o=new Array(e);for(let y=0;y<e;y++)o[y]=n(y+1,y,void 0,l&&l[y])}else if(isObject$1(e))if(e[Symbol.iterator])o=Array.from(e,(y,b)=>n(y,b,void 0,l&&l[b]));else{const y=Object.keys(e);o=new Array(y.length);for(let b=0,A=y.length;b<A;b++){const d=y[b];o[b]=n(e[d],d,b,l&&l[b])}}else o=[];return s&&(s[r]=o),o}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,n)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,n),PublicInstanceProxyHandlers={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:r,data:o,props:l,accessCache:c,type:y,appContext:b}=e;let A;if(n[0]!=="$"){const D=c[n];if(D!==void 0)switch(D){case 1:return r[n];case 2:return o[n];case 4:return s[n];case 3:return l[n]}else{if(hasSetupBinding(r,n))return c[n]=1,r[n];if(o!==EMPTY_OBJ&&hasOwn(o,n))return c[n]=2,o[n];if((A=e.propsOptions[0])&&hasOwn(A,n))return c[n]=3,l[n];if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];shouldCacheAccess&&(c[n]=0)}}const d=publicPropertiesMap[n];let x,z;if(d)return n==="$attrs"&&track(e.attrs,"get",""),d(e);if((x=y.__cssModules)&&(x=x[n]))return x;if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];if(z=b.config.globalProperties,hasOwn(z,n))return z[n]},set({_:e},n,s){const{data:r,setupState:o,ctx:l}=e;return hasSetupBinding(o,n)?(o[n]=s,!0):r!==EMPTY_OBJ&&hasOwn(r,n)?(r[n]=s,!0):hasOwn(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(l[n]=s,!0)},has({_:{data:e,setupState:n,accessCache:s,ctx:r,appContext:o,propsOptions:l}},c){let y;return!!s[c]||e!==EMPTY_OBJ&&hasOwn(e,c)||hasSetupBinding(n,c)||(y=l[0])&&hasOwn(y,c)||hasOwn(r,c)||hasOwn(publicPropertiesMap,c)||hasOwn(o.config.globalProperties,c)},defineProperty(e,n,s){return s.get!=null?e._.accessCache[n]=0:hasOwn(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((n,s)=>(n[s]=null,n),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const n=resolveMergedOptions(e),s=e.proxy,r=e.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook(n.beforeCreate,e,"bc");const{data:o,computed:l,methods:c,watch:y,provide:b,inject:A,created:d,beforeMount:x,mounted:z,beforeUpdate:D,updated:F,activated:M,deactivated:w,beforeDestroy:O,beforeUnmount:H,destroyed:U,unmounted:I,render:S,renderTracked:C,renderTriggered:Y,errorCaptured:$,serverPrefetch:E,expose:Z,inheritAttrs:W,components:ce,directives:fe,filters:J}=n;if(A&&resolveInjections(A,r,null),c)for(const Se in c){const se=c[Se];isFunction$1(se)&&(r[Se]=se.bind(s))}if(o){const Se=o.call(s,s);isObject$1(Se)&&(e.data=reactive(Se))}if(shouldCacheAccess=!0,l)for(const Se in l){const se=l[Se],Fe=isFunction$1(se)?se.bind(s,s):isFunction$1(se.get)?se.get.bind(s,s):NOOP,Ne=!isFunction$1(se)&&isFunction$1(se.set)?se.set.bind(s):NOOP,Be=computed({get:Fe,set:Ne});Object.defineProperty(r,Se,{enumerable:!0,configurable:!0,get:()=>Be.value,set:ze=>Be.value=ze})}if(y)for(const Se in y)createWatcher(y[Se],r,s,Se);if(b){const Se=isFunction$1(b)?b.call(s):b;Reflect.ownKeys(Se).forEach(se=>{provide(se,Se[se])})}d&&callHook(d,e,"c");function xe(Se,se){isArray$1(se)?se.forEach(Fe=>Se(Fe.bind(s))):se&&Se(se.bind(s))}if(xe(onBeforeMount,x),xe(onMounted,z),xe(onBeforeUpdate,D),xe(onUpdated,F),xe(onActivated,M),xe(onDeactivated,w),xe(onErrorCaptured,$),xe(onRenderTracked,C),xe(onRenderTriggered,Y),xe(onBeforeUnmount,H),xe(onUnmounted,I),xe(onServerPrefetch,E),isArray$1(Z))if(Z.length){const Se=e.exposed||(e.exposed={});Z.forEach(se=>{Object.defineProperty(Se,se,{get:()=>s[se],set:Fe=>s[se]=Fe})})}else e.exposed||(e.exposed={});S&&e.render===NOOP&&(e.render=S),W!=null&&(e.inheritAttrs=W),ce&&(e.components=ce),fe&&(e.directives=fe),E&&markAsyncBoundary(e)}function resolveInjections(e,n,s=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const r in e){const o=e[r];let l;isObject$1(o)?"default"in o?l=inject(o.from||r,o.default,!0):l=inject(o.from||r):l=inject(o),isRef(l)?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):n[r]=l}}function callHook(e,n,s){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,s)}function createWatcher(e,n,s,r){let o=r.includes(".")?createPathGetter(s,r):()=>s[r];if(isString$1(e)){const l=n[e];isFunction$1(l)&&watch(o,l)}else if(isFunction$1(e))watch(o,e.bind(s));else if(isObject$1(e))if(isArray$1(e))e.forEach(l=>createWatcher(l,n,s,r));else{const l=isFunction$1(e.handler)?e.handler.bind(s):n[e.handler];isFunction$1(l)&&watch(o,l,e)}}function resolveMergedOptions(e){const n=e.type,{mixins:s,extends:r}=n,{mixins:o,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,y=l.get(n);let b;return y?b=y:!o.length&&!s&&!r?b=n:(b={},o.length&&o.forEach(A=>mergeOptions(b,A,c,!0)),mergeOptions(b,n,c)),isObject$1(n)&&l.set(n,b),b}function mergeOptions(e,n,s,r=!1){const{mixins:o,extends:l}=n;l&&mergeOptions(e,l,s,!0),o&&o.forEach(c=>mergeOptions(e,c,s,!0));for(const c in n)if(!(r&&c==="expose")){const y=internalOptionMergeStrats[c]||s&&s[c];e[c]=y?y(e[c],n[c]):n[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,n){return n?e?function(){return extend$1(isFunction$1(e)?e.call(this,this):e,isFunction$1(n)?n.call(this,this):n)}:n:e}function mergeInject(e,n){return mergeObjectOptions(normalizeInject(e),normalizeInject(n))}function normalizeInject(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++)n[e[s]]=e[s];return n}return e}function mergeAsArray(e,n){return e?[...new Set([].concat(e,n))]:n}function mergeObjectOptions(e,n){return e?extend$1(Object.create(null),e,n):n}function mergeEmitsOrPropsOptions(e,n){return e?isArray$1(e)&&isArray$1(n)?[...new Set([...e,...n])]:extend$1(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(n??{})):n}function mergeWatchOptions(e,n){if(!e)return n;if(!n)return e;const s=extend$1(Object.create(null),e);for(const r in n)s[r]=mergeAsArray(e[r],n[r]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,n){return function(r,o=null){isFunction$1(r)||(r=extend$1({},r)),o!=null&&!isObject$1(o)&&(o=null);const l=createAppContext(),c=new WeakSet,y=[];let b=!1;const A=l.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(d){},use(d,...x){return c.has(d)||(d&&isFunction$1(d.install)?(c.add(d),d.install(A,...x)):isFunction$1(d)&&(c.add(d),d(A,...x))),A},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),A},component(d,x){return x?(l.components[d]=x,A):l.components[d]},directive(d,x){return x?(l.directives[d]=x,A):l.directives[d]},mount(d,x,z){if(!b){const D=A._ceVNode||createVNode(r,o);return D.appContext=l,z===!0?z="svg":z===!1&&(z=void 0),x&&n?n(D,d):e(D,d,z),b=!0,A._container=d,d.__vue_app__=A,getComponentPublicInstance(D.component)}},onUnmount(d){y.push(d)},unmount(){b&&(callWithAsyncErrorHandling(y,A._instance,16),e(null,A._container),delete A._container.__vue_app__)},provide(d,x){return l.provides[d]=x,A},runWithContext(d){const x=currentApp;currentApp=A;try{return d()}finally{currentApp=x}}};return A}}let currentApp=null;function provide(e,n){if(currentInstance){let s=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===s&&(s=currentInstance.provides=Object.create(r)),s[e]=n}}function inject(e,n,s=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){let o=currentApp?currentApp._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&isFunction$1(n)?n.call(r&&r.proxy):n}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,n,s,r=!1){const o={},l=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,n,o,l);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);s?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function updateProps(e,n,s,r){const{props:o,attrs:l,vnode:{patchFlag:c}}=e,y=toRaw(o),[b]=e.propsOptions;let A=!1;if((r||c>0)&&!(c&16)){if(c&8){const d=e.vnode.dynamicProps;for(let x=0;x<d.length;x++){let z=d[x];if(isEmitListener(e.emitsOptions,z))continue;const D=n[z];if(b)if(hasOwn(l,z))D!==l[z]&&(l[z]=D,A=!0);else{const F=camelize$1(z);o[F]=resolvePropValue(b,y,F,D,e,!1)}else D!==l[z]&&(l[z]=D,A=!0)}}}else{setFullProps(e,n,o,l)&&(A=!0);let d;for(const x in y)(!n||!hasOwn(n,x)&&((d=hyphenate$1(x))===x||!hasOwn(n,d)))&&(b?s&&(s[x]!==void 0||s[d]!==void 0)&&(o[x]=resolvePropValue(b,y,x,void 0,e,!0)):delete o[x]);if(l!==y)for(const x in l)(!n||!hasOwn(n,x))&&(delete l[x],A=!0)}A&&trigger(e.attrs,"set","")}function setFullProps(e,n,s,r){const[o,l]=e.propsOptions;let c=!1,y;if(n)for(let b in n){if(isReservedProp(b))continue;const A=n[b];let d;o&&hasOwn(o,d=camelize$1(b))?!l||!l.includes(d)?s[d]=A:(y||(y={}))[d]=A:isEmitListener(e.emitsOptions,b)||(!(b in r)||A!==r[b])&&(r[b]=A,c=!0)}if(l){const b=toRaw(s),A=y||EMPTY_OBJ;for(let d=0;d<l.length;d++){const x=l[d];s[x]=resolvePropValue(o,b,x,A[x],e,!hasOwn(A,x))}}return c}function resolvePropValue(e,n,s,r,o,l){const c=e[s];if(c!=null){const y=hasOwn(c,"default");if(y&&r===void 0){const b=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$1(b)){const{propsDefaults:A}=o;if(s in A)r=A[s];else{const d=setCurrentInstance(o);r=A[s]=b.call(null,n),d()}}else r=b;o.ce&&o.ce._setProp(s,r)}c[0]&&(l&&!y?r=!1:c[1]&&(r===""||r===hyphenate$1(s))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,n,s=!1){const r=s?mixinPropsCache:n.propsCache,o=r.get(e);if(o)return o;const l=e.props,c={},y=[];let b=!1;if(!isFunction$1(e)){const d=x=>{b=!0;const[z,D]=normalizePropsOptions(x,n,!0);extend$1(c,z),D&&y.push(...D)};!s&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!l&&!b)return isObject$1(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(l))for(let d=0;d<l.length;d++){const x=camelize$1(l[d]);validatePropName(x)&&(c[x]=EMPTY_OBJ)}else if(l)for(const d in l){const x=camelize$1(d);if(validatePropName(x)){const z=l[d],D=c[x]=isArray$1(z)||isFunction$1(z)?{type:z}:extend$1({},z),F=D.type;let M=!1,w=!0;if(isArray$1(F))for(let O=0;O<F.length;++O){const H=F[O],U=isFunction$1(H)&&H.name;if(U==="Boolean"){M=!0;break}else U==="String"&&(w=!1)}else M=isFunction$1(F)&&F.name==="Boolean";D[0]=M,D[1]=w,(M||hasOwn(D,"default"))&&y.push(x)}}const A=[c,y];return isObject$1(e)&&r.set(e,A),A}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,n,s)=>{if(n._n)return n;const r=withCtx((...o)=>normalizeSlotValue(n(...o)),s);return r._c=!1,r},normalizeObjectSlots=(e,n,s)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const l=e[o];if(isFunction$1(l))n[o]=normalizeSlot(o,l,r);else if(l!=null){const c=normalizeSlotValue(l);n[o]=()=>c}}},normalizeVNodeSlots=(e,n)=>{const s=normalizeSlotValue(n);e.slots.default=()=>s},assignSlots=(e,n,s)=>{for(const r in n)(s||!isInternalKey(r))&&(e[r]=n[r])},initSlots=(e,n,s)=>{const r=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const o=n.__;o&&def(r,"__",o,!0);const l=n._;l?(assignSlots(r,n,s),s&&def(r,"_",l,!0)):normalizeObjectSlots(n,r)}else n&&normalizeVNodeSlots(e,n)},updateSlots=(e,n,s)=>{const{vnode:r,slots:o}=e;let l=!0,c=EMPTY_OBJ;if(r.shapeFlag&32){const y=n._;y?s&&y===1?l=!1:assignSlots(o,n,s):(l=!n.$stable,normalizeObjectSlots(n,o)),c=n}else n&&(normalizeVNodeSlots(e,n),c={default:1});if(l)for(const y in o)!isInternalKey(y)&&c[y]==null&&delete o[y]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,n){const s=getGlobalThis();s.__VUE__=!0;const{insert:r,remove:o,patchProp:l,createElement:c,createText:y,createComment:b,setText:A,setElementText:d,parentNode:x,nextSibling:z,setScopeId:D=NOOP,insertStaticContent:F}=e,M=(R,B,ee,be=null,oe=null,Ce=null,Ie=void 0,Ee=null,Pe=!!B.dynamicChildren)=>{if(R===B)return;R&&!isSameVNodeType(R,B)&&(be=T(R),ze(R,oe,Ce,!0),R=null),B.patchFlag===-2&&(Pe=!1,B.dynamicChildren=null);const{type:he,ref:le,shapeFlag:ie}=B;switch(he){case Text:w(R,B,ee,be);break;case Comment:O(R,B,ee,be);break;case Static:R==null&&H(B,ee,be,Ie);break;case Fragment:ce(R,B,ee,be,oe,Ce,Ie,Ee,Pe);break;default:ie&1?S(R,B,ee,be,oe,Ce,Ie,Ee,Pe):ie&6?fe(R,B,ee,be,oe,Ce,Ie,Ee,Pe):(ie&64||ie&128)&&he.process(R,B,ee,be,oe,Ce,Ie,Ee,Pe,Q)}le!=null&&oe?setRef(le,R&&R.ref,Ce,B||R,!B):le==null&&R&&R.ref!=null&&setRef(R.ref,null,Ce,R,!0)},w=(R,B,ee,be)=>{if(R==null)r(B.el=y(B.children),ee,be);else{const oe=B.el=R.el;B.children!==R.children&&A(oe,B.children)}},O=(R,B,ee,be)=>{R==null?r(B.el=b(B.children||""),ee,be):B.el=R.el},H=(R,B,ee,be)=>{[R.el,R.anchor]=F(R.children,B,ee,be,R.el,R.anchor)},U=({el:R,anchor:B},ee,be)=>{let oe;for(;R&&R!==B;)oe=z(R),r(R,ee,be),R=oe;r(B,ee,be)},I=({el:R,anchor:B})=>{let ee;for(;R&&R!==B;)ee=z(R),o(R),R=ee;o(B)},S=(R,B,ee,be,oe,Ce,Ie,Ee,Pe)=>{B.type==="svg"?Ie="svg":B.type==="math"&&(Ie="mathml"),R==null?C(B,ee,be,oe,Ce,Ie,Ee,Pe):E(R,B,oe,Ce,Ie,Ee,Pe)},C=(R,B,ee,be,oe,Ce,Ie,Ee)=>{let Pe,he;const{props:le,shapeFlag:ie,transition:ve,dirs:Oe}=R;if(Pe=R.el=c(R.type,Ce,le&&le.is,le),ie&8?d(Pe,R.children):ie&16&&$(R.children,Pe,null,be,oe,resolveChildrenNamespace(R,Ce),Ie,Ee),Oe&&invokeDirectiveHook(R,null,be,"created"),Y(Pe,R,R.scopeId,Ie,be),le){for(const Ze in le)Ze!=="value"&&!isReservedProp(Ze)&&l(Pe,Ze,null,le[Ze],Ce,be);"value"in le&&l(Pe,"value",null,le.value,Ce),(he=le.onVnodeBeforeMount)&&invokeVNodeHook(he,be,R)}Oe&&invokeDirectiveHook(R,null,be,"beforeMount");const De=needTransition(oe,ve);De&&ve.beforeEnter(Pe),r(Pe,B,ee),((he=le&&le.onVnodeMounted)||De||Oe)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,be,R),De&&ve.enter(Pe),Oe&&invokeDirectiveHook(R,null,be,"mounted")},oe)},Y=(R,B,ee,be,oe)=>{if(ee&&D(R,ee),be)for(let Ce=0;Ce<be.length;Ce++)D(R,be[Ce]);if(oe){let Ce=oe.subTree;if(B===Ce||isSuspense(Ce.type)&&(Ce.ssContent===B||Ce.ssFallback===B)){const Ie=oe.vnode;Y(R,Ie,Ie.scopeId,Ie.slotScopeIds,oe.parent)}}},$=(R,B,ee,be,oe,Ce,Ie,Ee,Pe=0)=>{for(let he=Pe;he<R.length;he++){const le=R[he]=Ee?cloneIfMounted(R[he]):normalizeVNode(R[he]);M(null,le,B,ee,be,oe,Ce,Ie,Ee)}},E=(R,B,ee,be,oe,Ce,Ie)=>{const Ee=B.el=R.el;let{patchFlag:Pe,dynamicChildren:he,dirs:le}=B;Pe|=R.patchFlag&16;const ie=R.props||EMPTY_OBJ,ve=B.props||EMPTY_OBJ;let Oe;if(ee&&toggleRecurse(ee,!1),(Oe=ve.onVnodeBeforeUpdate)&&invokeVNodeHook(Oe,ee,B,R),le&&invokeDirectiveHook(B,R,ee,"beforeUpdate"),ee&&toggleRecurse(ee,!0),(ie.innerHTML&&ve.innerHTML==null||ie.textContent&&ve.textContent==null)&&d(Ee,""),he?Z(R.dynamicChildren,he,Ee,ee,be,resolveChildrenNamespace(B,oe),Ce):Ie||se(R,B,Ee,null,ee,be,resolveChildrenNamespace(B,oe),Ce,!1),Pe>0){if(Pe&16)W(Ee,ie,ve,ee,oe);else if(Pe&2&&ie.class!==ve.class&&l(Ee,"class",null,ve.class,oe),Pe&4&&l(Ee,"style",ie.style,ve.style,oe),Pe&8){const De=B.dynamicProps;for(let Ze=0;Ze<De.length;Ze++){const Xe=De[Ze],nt=ie[Xe],lt=ve[Xe];(lt!==nt||Xe==="value")&&l(Ee,Xe,nt,lt,oe,ee)}}Pe&1&&R.children!==B.children&&d(Ee,B.children)}else!Ie&&he==null&&W(Ee,ie,ve,ee,oe);((Oe=ve.onVnodeUpdated)||le)&&queuePostRenderEffect(()=>{Oe&&invokeVNodeHook(Oe,ee,B,R),le&&invokeDirectiveHook(B,R,ee,"updated")},be)},Z=(R,B,ee,be,oe,Ce,Ie)=>{for(let Ee=0;Ee<B.length;Ee++){const Pe=R[Ee],he=B[Ee],le=Pe.el&&(Pe.type===Fragment||!isSameVNodeType(Pe,he)||Pe.shapeFlag&198)?x(Pe.el):ee;M(Pe,he,le,null,be,oe,Ce,Ie,!0)}},W=(R,B,ee,be,oe)=>{if(B!==ee){if(B!==EMPTY_OBJ)for(const Ce in B)!isReservedProp(Ce)&&!(Ce in ee)&&l(R,Ce,B[Ce],null,oe,be);for(const Ce in ee){if(isReservedProp(Ce))continue;const Ie=ee[Ce],Ee=B[Ce];Ie!==Ee&&Ce!=="value"&&l(R,Ce,Ee,Ie,oe,be)}"value"in ee&&l(R,"value",B.value,ee.value,oe)}},ce=(R,B,ee,be,oe,Ce,Ie,Ee,Pe)=>{const he=B.el=R?R.el:y(""),le=B.anchor=R?R.anchor:y("");let{patchFlag:ie,dynamicChildren:ve,slotScopeIds:Oe}=B;Oe&&(Ee=Ee?Ee.concat(Oe):Oe),R==null?(r(he,ee,be),r(le,ee,be),$(B.children||[],ee,le,oe,Ce,Ie,Ee,Pe)):ie>0&&ie&64&&ve&&R.dynamicChildren?(Z(R.dynamicChildren,ve,ee,oe,Ce,Ie,Ee),(B.key!=null||oe&&B===oe.subTree)&&traverseStaticChildren(R,B,!0)):se(R,B,ee,le,oe,Ce,Ie,Ee,Pe)},fe=(R,B,ee,be,oe,Ce,Ie,Ee,Pe)=>{B.slotScopeIds=Ee,R==null?B.shapeFlag&512?oe.ctx.activate(B,ee,be,Ie,Pe):J(B,ee,be,oe,Ce,Ie,Pe):pe(R,B,Pe)},J=(R,B,ee,be,oe,Ce,Ie)=>{const Ee=R.component=createComponentInstance(R,be,oe);if(isKeepAlive(R)&&(Ee.ctx.renderer=Q),setupComponent(Ee,!1,Ie),Ee.asyncDep){if(oe&&oe.registerDep(Ee,xe,Ie),!R.el){const Pe=Ee.subTree=createVNode(Comment);O(null,Pe,B,ee)}}else xe(Ee,R,B,ee,oe,Ce,Ie)},pe=(R,B,ee)=>{const be=B.component=R.component;if(shouldUpdateComponent(R,B,ee))if(be.asyncDep&&!be.asyncResolved){Se(be,B,ee);return}else be.next=B,be.update();else B.el=R.el,be.vnode=B},xe=(R,B,ee,be,oe,Ce,Ie)=>{const Ee=()=>{if(R.isMounted){let{next:ie,bu:ve,u:Oe,parent:De,vnode:Ze}=R;{const st=locateNonHydratedAsyncRoot(R);if(st){ie&&(ie.el=Ze.el,Se(R,ie,Ie)),st.asyncDep.then(()=>{R.isUnmounted||Ee()});return}}let Xe=ie,nt;toggleRecurse(R,!1),ie?(ie.el=Ze.el,Se(R,ie,Ie)):ie=Ze,ve&&invokeArrayFns$1(ve),(nt=ie.props&&ie.props.onVnodeBeforeUpdate)&&invokeVNodeHook(nt,De,ie,Ze),toggleRecurse(R,!0);const lt=renderComponentRoot(R),ht=R.subTree;R.subTree=lt,M(ht,lt,x(ht.el),T(ht),R,oe,Ce),ie.el=lt.el,Xe===null&&updateHOCHostEl(R,lt.el),Oe&&queuePostRenderEffect(Oe,oe),(nt=ie.props&&ie.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(nt,De,ie,Ze),oe)}else{let ie;const{el:ve,props:Oe}=B,{bm:De,m:Ze,parent:Xe,root:nt,type:lt}=R,ht=isAsyncWrapper(B);if(toggleRecurse(R,!1),De&&invokeArrayFns$1(De),!ht&&(ie=Oe&&Oe.onVnodeBeforeMount)&&invokeVNodeHook(ie,Xe,B),toggleRecurse(R,!0),ve&&we){const st=()=>{R.subTree=renderComponentRoot(R),we(ve,R.subTree,R,oe,null)};ht&&lt.__asyncHydrate?lt.__asyncHydrate(ve,R,st):st()}else{nt.ce&&nt.ce._def.shadowRoot!==!1&&nt.ce._injectChildStyle(lt);const st=R.subTree=renderComponentRoot(R);M(null,st,ee,be,R,oe,Ce),B.el=st.el}if(Ze&&queuePostRenderEffect(Ze,oe),!ht&&(ie=Oe&&Oe.onVnodeMounted)){const st=B;queuePostRenderEffect(()=>invokeVNodeHook(ie,Xe,st),oe)}(B.shapeFlag&256||Xe&&isAsyncWrapper(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&R.a&&queuePostRenderEffect(R.a,oe),R.isMounted=!0,B=ee=be=null}};R.scope.on();const Pe=R.effect=new ReactiveEffect(Ee);R.scope.off();const he=R.update=Pe.run.bind(Pe),le=R.job=Pe.runIfDirty.bind(Pe);le.i=R,le.id=R.uid,Pe.scheduler=()=>queueJob(le),toggleRecurse(R,!0),he()},Se=(R,B,ee)=>{B.component=R;const be=R.vnode.props;R.vnode=B,R.next=null,updateProps(R,B.props,be,ee),updateSlots(R,B.children,ee),pauseTracking(),flushPreFlushCbs(R),resetTracking()},se=(R,B,ee,be,oe,Ce,Ie,Ee,Pe=!1)=>{const he=R&&R.children,le=R?R.shapeFlag:0,ie=B.children,{patchFlag:ve,shapeFlag:Oe}=B;if(ve>0){if(ve&128){Ne(he,ie,ee,be,oe,Ce,Ie,Ee,Pe);return}else if(ve&256){Fe(he,ie,ee,be,oe,Ce,Ie,Ee,Pe);return}}Oe&8?(le&16&&m(he,oe,Ce),ie!==he&&d(ee,ie)):le&16?Oe&16?Ne(he,ie,ee,be,oe,Ce,Ie,Ee,Pe):m(he,oe,Ce,!0):(le&8&&d(ee,""),Oe&16&&$(ie,ee,be,oe,Ce,Ie,Ee,Pe))},Fe=(R,B,ee,be,oe,Ce,Ie,Ee,Pe)=>{R=R||EMPTY_ARR,B=B||EMPTY_ARR;const he=R.length,le=B.length,ie=Math.min(he,le);let ve;for(ve=0;ve<ie;ve++){const Oe=B[ve]=Pe?cloneIfMounted(B[ve]):normalizeVNode(B[ve]);M(R[ve],Oe,ee,null,oe,Ce,Ie,Ee,Pe)}he>le?m(R,oe,Ce,!0,!1,ie):$(B,ee,be,oe,Ce,Ie,Ee,Pe,ie)},Ne=(R,B,ee,be,oe,Ce,Ie,Ee,Pe)=>{let he=0;const le=B.length;let ie=R.length-1,ve=le-1;for(;he<=ie&&he<=ve;){const Oe=R[he],De=B[he]=Pe?cloneIfMounted(B[he]):normalizeVNode(B[he]);if(isSameVNodeType(Oe,De))M(Oe,De,ee,null,oe,Ce,Ie,Ee,Pe);else break;he++}for(;he<=ie&&he<=ve;){const Oe=R[ie],De=B[ve]=Pe?cloneIfMounted(B[ve]):normalizeVNode(B[ve]);if(isSameVNodeType(Oe,De))M(Oe,De,ee,null,oe,Ce,Ie,Ee,Pe);else break;ie--,ve--}if(he>ie){if(he<=ve){const Oe=ve+1,De=Oe<le?B[Oe].el:be;for(;he<=ve;)M(null,B[he]=Pe?cloneIfMounted(B[he]):normalizeVNode(B[he]),ee,De,oe,Ce,Ie,Ee,Pe),he++}}else if(he>ve)for(;he<=ie;)ze(R[he],oe,Ce,!0),he++;else{const Oe=he,De=he,Ze=new Map;for(he=De;he<=ve;he++){const me=B[he]=Pe?cloneIfMounted(B[he]):normalizeVNode(B[he]);me.key!=null&&Ze.set(me.key,he)}let Xe,nt=0;const lt=ve-De+1;let ht=!1,st=0;const pt=new Array(lt);for(he=0;he<lt;he++)pt[he]=0;for(he=Oe;he<=ie;he++){const me=R[he];if(nt>=lt){ze(me,oe,Ce,!0);continue}let de;if(me.key!=null)de=Ze.get(me.key);else for(Xe=De;Xe<=ve;Xe++)if(pt[Xe-De]===0&&isSameVNodeType(me,B[Xe])){de=Xe;break}de===void 0?ze(me,oe,Ce,!0):(pt[de-De]=he+1,de>=st?st=de:ht=!0,M(me,B[de],ee,null,oe,Ce,Ie,Ee,Pe),nt++)}const Me=ht?getSequence(pt):EMPTY_ARR;for(Xe=Me.length-1,he=lt-1;he>=0;he--){const me=De+he,de=B[me],$e=me+1<le?B[me+1].el:be;pt[he]===0?M(null,de,ee,$e,oe,Ce,Ie,Ee,Pe):ht&&(Xe<0||he!==Me[Xe]?Be(de,ee,$e,2):Xe--)}}},Be=(R,B,ee,be,oe=null)=>{const{el:Ce,type:Ie,transition:Ee,children:Pe,shapeFlag:he}=R;if(he&6){Be(R.component.subTree,B,ee,be);return}if(he&128){R.suspense.move(B,ee,be);return}if(he&64){Ie.move(R,B,ee,Q);return}if(Ie===Fragment){r(Ce,B,ee);for(let ie=0;ie<Pe.length;ie++)Be(Pe[ie],B,ee,be);r(R.anchor,B,ee);return}if(Ie===Static){U(R,B,ee);return}if(be!==2&&he&1&&Ee)if(be===0)Ee.beforeEnter(Ce),r(Ce,B,ee),queuePostRenderEffect(()=>Ee.enter(Ce),oe);else{const{leave:ie,delayLeave:ve,afterLeave:Oe}=Ee,De=()=>{R.ctx.isUnmounted?o(Ce):r(Ce,B,ee)},Ze=()=>{ie(Ce,()=>{De(),Oe&&Oe()})};ve?ve(Ce,De,Ze):Ze()}else r(Ce,B,ee)},ze=(R,B,ee,be=!1,oe=!1)=>{const{type:Ce,props:Ie,ref:Ee,children:Pe,dynamicChildren:he,shapeFlag:le,patchFlag:ie,dirs:ve,cacheIndex:Oe}=R;if(ie===-2&&(oe=!1),Ee!=null&&(pauseTracking(),setRef(Ee,null,ee,R,!0),resetTracking()),Oe!=null&&(B.renderCache[Oe]=void 0),le&256){B.ctx.deactivate(R);return}const De=le&1&&ve,Ze=!isAsyncWrapper(R);let Xe;if(Ze&&(Xe=Ie&&Ie.onVnodeBeforeUnmount)&&invokeVNodeHook(Xe,B,R),le&6)v(R.component,ee,be);else{if(le&128){R.suspense.unmount(ee,be);return}De&&invokeDirectiveHook(R,null,B,"beforeUnmount"),le&64?R.type.remove(R,B,ee,Q,be):he&&!he.hasOnce&&(Ce!==Fragment||ie>0&&ie&64)?m(he,B,ee,!1,!0):(Ce===Fragment&&ie&384||!oe&&le&16)&&m(Pe,B,ee),be&&K(R)}(Ze&&(Xe=Ie&&Ie.onVnodeUnmounted)||De)&&queuePostRenderEffect(()=>{Xe&&invokeVNodeHook(Xe,B,R),De&&invokeDirectiveHook(R,null,B,"unmounted")},ee)},K=R=>{const{type:B,el:ee,anchor:be,transition:oe}=R;if(B===Fragment){g(ee,be);return}if(B===Static){I(R);return}const Ce=()=>{o(ee),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(R.shapeFlag&1&&oe&&!oe.persisted){const{leave:Ie,delayLeave:Ee}=oe,Pe=()=>Ie(ee,Ce);Ee?Ee(R.el,Ce,Pe):Pe()}else Ce()},g=(R,B)=>{let ee;for(;R!==B;)ee=z(R),o(R),R=ee;o(B)},v=(R,B,ee)=>{const{bum:be,scope:oe,job:Ce,subTree:Ie,um:Ee,m:Pe,a:he,parent:le,slots:{__:ie}}=R;invalidateMount(Pe),invalidateMount(he),be&&invokeArrayFns$1(be),le&&isArray$1(ie)&&ie.forEach(ve=>{le.renderCache[ve]=void 0}),oe.stop(),Ce&&(Ce.flags|=8,ze(Ie,R,B,ee)),Ee&&queuePostRenderEffect(Ee,B),queuePostRenderEffect(()=>{R.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},m=(R,B,ee,be=!1,oe=!1,Ce=0)=>{for(let Ie=Ce;Ie<R.length;Ie++)ze(R[Ie],B,ee,be,oe)},T=R=>{if(R.shapeFlag&6)return T(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const B=z(R.anchor||R.el),ee=B&&B[TeleportEndKey];return ee?z(ee):B};let k=!1;const q=(R,B,ee)=>{R==null?B._vnode&&ze(B._vnode,null,null,!0):M(B._vnode||null,R,B,null,null,null,ee),B._vnode=R,k||(k=!0,flushPreFlushCbs(),flushPostFlushCbs(),k=!1)},Q={p:M,um:ze,m:Be,r:K,mt:J,mc:$,pc:se,pbc:Z,n:T,o:e};let ae,we;return n&&([ae,we]=n(Q)),{render:q,hydrate:ae,createApp:createAppAPI(q,ae)}}function resolveChildrenNamespace({type:e,props:n},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function toggleRecurse({effect:e,job:n},s){s?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function needTransition(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function traverseStaticChildren(e,n,s=!1){const r=e.children,o=n.children;if(isArray$1(r)&&isArray$1(o))for(let l=0;l<r.length;l++){const c=r[l];let y=o[l];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=o[l]=cloneIfMounted(o[l]),y.el=c.el),!s&&y.patchFlag!==-2&&traverseStaticChildren(c,y)),y.type===Text&&(y.el=c.el),y.type===Comment&&!y.el&&(y.el=c.el)}}function getSequence(e){const n=e.slice(),s=[0];let r,o,l,c,y;const b=e.length;for(r=0;r<b;r++){const A=e[r];if(A!==0){if(o=s[s.length-1],e[o]<A){n[r]=o,s.push(r);continue}for(l=0,c=s.length-1;l<c;)y=l+c>>1,e[s[y]]<A?l=y+1:c=y;A<e[s[l]]&&(l>0&&(n[r]=s[l-1]),s[l]=r)}}for(l=s.length,c=s[l-1];l-- >0;)s[l]=c,c=n[c];return s}function locateNonHydratedAsyncRoot(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:locateNonHydratedAsyncRoot(n)}function invalidateMount(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,n,s){return doWatch(e,n,s)}function doWatch(e,n,s=EMPTY_OBJ){const{immediate:r,deep:o,flush:l,once:c}=s,y=extend$1({},s),b=n&&r||!n&&l!=="post";let A;if(isInSSRComponentSetup){if(l==="sync"){const D=useSSRContext();A=D.__watcherHandles||(D.__watcherHandles=[])}else if(!b){const D=()=>{};return D.stop=NOOP,D.resume=NOOP,D.pause=NOOP,D}}const d=currentInstance;y.call=(D,F,M)=>callWithAsyncErrorHandling(D,d,F,M);let x=!1;l==="post"?y.scheduler=D=>{queuePostRenderEffect(D,d&&d.suspense)}:l!=="sync"&&(x=!0,y.scheduler=(D,F)=>{F?D():queueJob(D)}),y.augmentJob=D=>{n&&(D.flags|=4),x&&(D.flags|=2,d&&(D.id=d.uid,D.i=d))};const z=watch$1(e,n,y);return isInSSRComponentSetup&&(A?A.push(z):b&&z()),z}function instanceWatch(e,n,s){const r=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let l;isFunction$1(n)?l=n:(l=n.handler,s=n);const c=setCurrentInstance(this),y=doWatch(o,l.bind(r),s);return c(),y}function createPathGetter(e,n){const s=n.split(".");return()=>{let r=e;for(let o=0;o<s.length&&r;o++)r=r[s[o]];return r}}const getModelModifiers=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${camelize$1(n)}Modifiers`]||e[`${hyphenate$1(n)}Modifiers`];function emit(e,n,...s){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=s;const l=n.startsWith("update:"),c=l&&getModelModifiers(r,n.slice(7));c&&(c.trim&&(o=s.map(d=>isString$1(d)?d.trim():d)),c.number&&(o=s.map(looseToNumber$1)));let y,b=r[y=toHandlerKey(n)]||r[y=toHandlerKey(camelize$1(n))];!b&&l&&(b=r[y=toHandlerKey(hyphenate$1(n))]),b&&callWithAsyncErrorHandling(b,e,6,o);const A=r[y+"Once"];if(A){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,callWithAsyncErrorHandling(A,e,6,o)}}function normalizeEmitsOptions(e,n,s=!1){const r=n.emitsCache,o=r.get(e);if(o!==void 0)return o;const l=e.emits;let c={},y=!1;if(!isFunction$1(e)){const b=A=>{const d=normalizeEmitsOptions(A,n,!0);d&&(y=!0,extend$1(c,d))};!s&&n.mixins.length&&n.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!l&&!y?(isObject$1(e)&&r.set(e,null),null):(isArray$1(l)?l.forEach(b=>c[b]=null):extend$1(c,l),isObject$1(e)&&r.set(e,c),c)}function isEmitListener(e,n){return!e||!isOn$1(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(e,n[0].toLowerCase()+n.slice(1))||hasOwn(e,hyphenate$1(n))||hasOwn(e,n))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:n,vnode:s,proxy:r,withProxy:o,propsOptions:[l],slots:c,attrs:y,emit:b,render:A,renderCache:d,props:x,data:z,setupState:D,ctx:F,inheritAttrs:M}=e,w=setCurrentRenderingInstance(e);let O,H;try{if(s.shapeFlag&4){const I=o||r,S=I;O=normalizeVNode(A.call(S,I,d,x,D,z,F)),H=y}else{const I=n;O=normalizeVNode(I.length>1?I(x,{attrs:y,slots:c,emit:b}):I(x,null)),H=n.props?y:getFunctionalFallthrough(y)}}catch(I){blockStack.length=0,handleError(I,e,1),O=createVNode(Comment)}let U=O;if(H&&M!==!1){const I=Object.keys(H),{shapeFlag:S}=U;I.length&&S&7&&(l&&I.some(isModelListener$1)&&(H=filterModelListeners(H,l)),U=cloneVNode(U,H,!1,!0))}return s.dirs&&(U=cloneVNode(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks(U,s.transition),O=U,setCurrentRenderingInstance(w),O}const getFunctionalFallthrough=e=>{let n;for(const s in e)(s==="class"||s==="style"||isOn$1(s))&&((n||(n={}))[s]=e[s]);return n},filterModelListeners=(e,n)=>{const s={};for(const r in e)(!isModelListener$1(r)||!(r.slice(9)in n))&&(s[r]=e[r]);return s};function shouldUpdateComponent(e,n,s){const{props:r,children:o,component:l}=e,{props:c,children:y,patchFlag:b}=n,A=l.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&b>=0){if(b&1024)return!0;if(b&16)return r?hasPropsChanged(r,c,A):!!c;if(b&8){const d=n.dynamicProps;for(let x=0;x<d.length;x++){const z=d[x];if(c[z]!==r[z]&&!isEmitListener(A,z))return!0}}}else return(o||y)&&(!y||!y.$stable)?!0:r===c?!1:r?c?hasPropsChanged(r,c,A):!0:!!c;return!1}function hasPropsChanged(e,n,s){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const l=r[o];if(n[l]!==e[l]&&!isEmitListener(s,l))return!0}return!1}function updateHOCHostEl({vnode:e,parent:n},s){for(;n;){const r=n.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=n.vnode).el=s,n=n.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,n){n&&n.pendingBranch?isArray$1(e)?n.effects.push(...e):n.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,n=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&n&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,n,s,r,o,l){return setupBlock(createBaseVNode(e,n,s,r,o,l,!0))}function createBlock(e,n,s,r,o){return setupBlock(createVNode(e,n,s,r,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,n){return e.type===n.type&&e.key===n.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:n,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:n,f:!!s}:e:null);function createBaseVNode(e,n=null,s=null,r=0,o=null,l=e===Fragment?0:1,c=!1,y=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return y?(normalizeChildren(b,s),l&128&&e.normalize(b)):s&&(b.shapeFlag|=isString$1(s)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(b.patchFlag>0||l&6)&&b.patchFlag!==32&&currentBlock.push(b),b}const createVNode=_createVNode;function _createVNode(e,n=null,s=null,r=0,o=null,l=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const y=cloneVNode(e,n,!0);return s&&normalizeChildren(y,s),isBlockTreeEnabled>0&&!l&&currentBlock&&(y.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=y:currentBlock.push(y)),y.patchFlag=-2,y}if(isClassComponent(e)&&(e=e.__vccOpts),n){n=guardReactiveProps(n);let{class:y,style:b}=n;y&&!isString$1(y)&&(n.class=normalizeClass(y)),isObject$1(b)&&(isProxy(b)&&!isArray$1(b)&&(b=extend$1({},b)),n.style=normalizeStyle(b))}const c=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,n,s,r,o,c,l,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$1({},e):e:null}function cloneVNode(e,n,s=!1,r=!1){const{props:o,ref:l,patchFlag:c,children:y,transition:b}=e,A=n?mergeProps(o||{},n):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:A,key:A&&normalizeKey(A),ref:n&&n.ref?s&&l?isArray$1(l)?l.concat(normalizeRef(n)):[l,normalizeRef(n)]:normalizeRef(n):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:y,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Fragment?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:b,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return b&&r&&setTransitionHooks(d,b.clone(d)),d}function createTextVNode(e=" ",n=0){return createVNode(Text,null,e,n)}function createCommentVNode(e="",n=!1){return n?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,n){let s=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(isArray$1(n))s=16;else if(typeof n=="object")if(r&65){const o=n.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=n._;!o&&!isInternalObject(n)?n._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else isFunction$1(n)?(n={default:n,_ctx:currentRenderingInstance},s=32):(n=String(n),r&64?(s=16,n=[createTextVNode(n)]):s=8);e.children=n,e.shapeFlag|=s}function mergeProps(...e){const n={};for(let s=0;s<e.length;s++){const r=e[s];for(const o in r)if(o==="class")n.class!==r.class&&(n.class=normalizeClass([n.class,r.class]));else if(o==="style")n.style=normalizeStyle([n.style,r.style]);else if(isOn$1(o)){const l=n[o],c=r[o];c&&l!==c&&!(isArray$1(l)&&l.includes(c))&&(n[o]=l?[].concat(l,c):c)}else o!==""&&(n[o]=r[o])}return n}function invokeVNodeHook(e,n,s,r=null){callWithAsyncErrorHandling(e,n,7,[s,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,n,s){const r=e.type,o=(n?n.appContext:e.appContext)||emptyAppContext,l={uid:uid++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=emit.bind(null,l),e.ce&&e.ce(l),l}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),n=(s,r)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(r),l=>{o.length>1?o.forEach(c=>c(l)):o[0](l)}};internalSetCurrentInstance=n("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=n("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=e=>{const n=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(n)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,n=!1,s=!1){n&&setInSSRSetupState(n);const{props:r,children:o}=e.vnode,l=isStatefulComponent(e);initProps(e,r,l,n),initSlots(e,o,s||n);const c=l?setupStatefulComponent(e,n):void 0;return n&&setInSSRSetupState(!1),c}function setupStatefulComponent(e,n){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:r}=s;if(r){pauseTracking();const o=e.setupContext=r.length>1?createSetupContext(e):null,l=setCurrentInstance(e),c=callWithErrorHandling(r,e,0,[e.props,o]),y=isPromise(c);if(resetTracking(),l(),(y||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),y){if(c.then(unsetCurrentInstance,unsetCurrentInstance),n)return c.then(b=>{handleSetupResult(e,b,n)}).catch(b=>{handleError(b,e,0)});e.asyncDep=c}else handleSetupResult(e,c,n)}else finishComponentSetup(e,n)}function handleSetupResult(e,n,s){isFunction$1(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:isObject$1(n)&&(e.setupState=proxyRefs(n)),finishComponentSetup(e,s)}let compile;function finishComponentSetup(e,n,s){const r=e.type;if(!e.render){if(!n&&compile&&!r.render){const o=r.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:l,compilerOptions:c}=e.appContext.config,{delimiters:y,compilerOptions:b}=r,A=extend$1(extend$1({isCustomElement:l,delimiters:y},c),b);r.render=compile(o,A)}}e.render=r.render||NOOP}{const o=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),o()}}}const attrsProxyHandlers={get(e,n){return track(e,"get",""),e[n]}};function createSetupContext(e){const n=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:n}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(n,s){if(s in n)return n[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](e)},has(n,s){return s in n||s in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,n=!0){return isFunction$1(e)?e.displayName||e.name:e.name||n&&e.__name}function formatComponentName(e,n,s=!1){let r=getComponentName(n);if(!r&&n.__file){const o=n.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=l=>{for(const c in l)if(l[c]===n)return c};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?classify(r):s?"App":"Anonymous"}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,n)=>computed$1(e,n,isInSSRComponentSetup),version="3.5.17";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,isArray=Array.isArray,isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),cacheStringFunction=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(n,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),invokeArrayFns=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},looseToNumber=e=>{const n=parseFloat(e);return isNaN(n)?e:n},specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,n){if(e.length!==n.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=looseEqual(e[r],n[r]);return s}function looseEqual(e,n){if(e===n)return!0;let s=isDate(e),r=isDate(n);if(s||r)return s&&r?e.getTime()===n.getTime():!1;if(s=isSymbol(e),r=isSymbol(n),s||r)return e===n;if(s=isArray(e),r=isArray(n),s||r)return s&&r?looseCompareArrays(e,n):!1;if(s=isObject(e),r=isObject(n),s||r){if(!s||!r)return!1;const o=Object.keys(e).length,l=Object.keys(n).length;if(o!==l)return!1;for(const c in e){const y=e.hasOwnProperty(c),b=n.hasOwnProperty(c);if(y&&!b||!y&&b||!looseEqual(e[c],n[c]))return!1}}return String(e)===String(n)}function looseIndexOf(e,n){return e.findIndex(s=>looseEqual(s,n))}/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,n,s)=>{n.insertBefore(e,s||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,s,r)=>{const o=n==="svg"?doc.createElementNS(svgNS,e):n==="mathml"?doc.createElementNS(mathmlNS,e):s?doc.createElement(e,{is:s}):doc.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,s,r,o,l){const c=s?s.previousSibling:n.lastChild;if(o&&(o===l||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const y=templateContainer.content;if(r==="svg"||r==="mathml"){const b=y.firstChild;for(;b.firstChild;)y.appendChild(b.firstChild);y.removeChild(b)}n.insertBefore(y,s)}return[c?c.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,n,s){const r=e[vtcKey];r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):s?e.setAttribute("class",n):e.className=n}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,n,s){const r=e.style,o=isString(s);let l=!1;if(s&&!o){if(n)if(isString(n))for(const c of n.split(";")){const y=c.slice(0,c.indexOf(":")).trim();s[y]==null&&setStyle(r,y,"")}else for(const c in n)s[c]==null&&setStyle(r,c,"");for(const c in s)c==="display"&&(l=!0),setStyle(r,c,s[c])}else if(o){if(n!==s){const c=r[CSS_VAR_TEXT];c&&(s+=";"+c),r.cssText=s,l=displayRE.test(s)}}else n&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=l?r.display:"",e[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,n,s){if(isArray(s))s.forEach(r=>setStyle(e,n,r));else if(s==null&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const r=autoPrefix(e,n);importantRE.test(s)?e.setProperty(hyphenate(r),s.replace(importantRE,""),"important"):e[r]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,n){const s=prefixCache[n];if(s)return s;let r=camelize$1(n);if(r!=="filter"&&r in e)return prefixCache[n]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const l=prefixes[o]+r;if(l in e)return prefixCache[n]=l}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,n,s,r,o,l=isSpecialBooleanAttr(n)){r&&n.startsWith("xlink:")?s==null?e.removeAttributeNS(xlinkNS,n.slice(6,n.length)):e.setAttributeNS(xlinkNS,n,s):s==null||l&&!includeBooleanAttr(s)?e.removeAttribute(n):e.setAttribute(n,l?"":isSymbol(s)?String(s):s)}function patchDOMProp(e,n,s,r,o){if(n==="innerHTML"||n==="textContent"){s!=null&&(e[n]=n==="innerHTML"?unsafeToTrustedHTML(s):s);return}const l=e.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const y=l==="OPTION"?e.getAttribute("value")||"":e.value,b=s==null?e.type==="checkbox"?"on":"":String(s);(y!==b||!("_value"in e))&&(e.value=b),s==null&&e.removeAttribute(n),e._value=s;return}let c=!1;if(s===""||s==null){const y=typeof e[n];y==="boolean"?s=includeBooleanAttr(s):s==null&&y==="string"?(s="",c=!0):y==="number"&&(s=0,c=!0)}try{e[n]=s}catch{}c&&e.removeAttribute(o||n)}function addEventListener(e,n,s,r){e.addEventListener(n,s,r)}function removeEventListener(e,n,s,r){e.removeEventListener(n,s,r)}const veiKey=Symbol("_vei");function patchEvent(e,n,s,r,o=null){const l=e[veiKey]||(e[veiKey]={}),c=l[n];if(r&&c)c.value=r;else{const[y,b]=parseName(n);if(r){const A=l[n]=createInvoker(r,o);addEventListener(e,y,A,b)}else c&&(removeEventListener(e,y,c,b),l[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let n;if(optionsModifierRE.test(e)){n={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),n]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,n){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,s.value),n,5,[r])};return s.value=e,s.attached=getNow(),s}function patchStopImmediatePropagation(e,n){if(isArray(n)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},n.map(r=>o=>!o._stopped&&r&&r(o))}else return n}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,n,s,r,o,l)=>{const c=o==="svg";n==="class"?patchClass(e,r,c):n==="style"?patchStyle(e,s,r):isOn(n)?isModelListener(n)||patchEvent(e,n,s,r,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(e,n,r,c))?(patchDOMProp(e,n,r),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&patchAttr(e,n,r,c,l,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!isString(r))?patchDOMProp(e,camelize(n),r,l,n):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),patchAttr(e,n,r,c))};function shouldSetAsProp(e,n,s,r){if(r)return!!(n==="innerHTML"||n==="textContent"||n in e&&isNativeOn(n)&&isFunction(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return isNativeOn(n)&&isString(s)?!1:n in e}const getModelAssigner=e=>{const n=e.props["onUpdate:modelValue"]||!1;return isArray(n)?s=>invokeArrayFns(n,s):n};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:n,trim:s,number:r}},o){e[assignKey]=getModelAssigner(o);const l=r||o.props&&o.props.type==="number";addEventListener(e,n?"change":"input",c=>{if(c.target.composing)return;let y=e.value;s&&(y=y.trim()),l&&(y=looseToNumber(y)),e[assignKey](y)}),s&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),n||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:s,modifiers:{lazy:r,trim:o,number:l}},c){if(e[assignKey]=getModelAssigner(c),e.composing)return;const y=(l||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,b=n??"";y!==b&&(document.activeElement===e&&e.type!=="range"&&(r&&n===s||o&&e.value.trim()===b)||(e.value=b))}},vModelSelect={deep:!0,created(e,{value:n,modifiers:{number:s}},r){const o=isSet(n);addEventListener(e,"change",()=>{const l=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?looseToNumber(getValue(c)):getValue(c));e[assignKey](e.multiple?o?new Set(l):l:l[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(r)},mounted(e,{value:n}){setSelected(e,n)},beforeUpdate(e,n,s){e[assignKey]=getModelAssigner(s)},updated(e,{value:n}){e._assigning||setSelected(e,n)}};function setSelected(e,n){const s=e.multiple,r=isArray(n);if(!(s&&!r&&!isSet(n))){for(let o=0,l=e.options.length;o<l;o++){const c=e.options[o],y=getValue(c);if(s)if(r){const b=typeof y;b==="string"||b==="number"?c.selected=n.some(A=>String(A)===String(y)):c.selected=looseIndexOf(n,y)>-1}else c.selected=n.has(y);else if(looseEqual(getValue(c),n)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>systemModifiers.some(s=>e[`${s}Key`]&&!n.includes(s))},withModifiers=(e,n)=>{const s=e._withMods||(e._withMods={}),r=n.join(".");return s[r]||(s[r]=(o,...l)=>{for(let c=0;c<n.length;c++){const y=modifierGuards[n[c]];if(y&&y(o,n))return}return e(o,...l)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const n=ensureRenderer().createApp(...e),{mount:s}=n;return n.mount=r=>{const o=normalizeContainer(r);if(!o)return;const l=n._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const c=s(o,!1,resolveRootNamespace(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},n};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(n,s){module.exports=n.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,n)=>{var pt;Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.RenderingIntentFlag=n.PromiseCapability=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.MAX_IMAGE_SIZE_TO_CACHE=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.BASELINE_FACTOR=n.AnnotationType=n.AnnotationReplyType=n.AnnotationPrefix=n.AnnotationMode=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.assert=Fe,n.bytesToString=ae,n.createValidAbsoluteUrl=Be,n.getModificationDate=De,n.getUuid=ht,n.getVerbosityLevel=pe,n.info=xe,n.isArrayBuffer=ve,n.isArrayEqual=Oe,n.isNodeJS=void 0,n.normalizeUnicode=lt,n.objectFromMap=ee,n.objectSize=B,n.setVerbosityLevel=J,n.shadow=ze,n.string32=R,n.stringToBytes=we,n.stringToPDFString=he,n.stringToUTF8String=le,n.unreachable=se,n.utf8StringToString=ie,n.warn=Se;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=s;const r=[1,0,0,1,0,0];n.IDENTITY_MATRIX=r;const o=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=o;const l=1e7;n.MAX_IMAGE_SIZE_TO_CACHE=l;const c=1.35;n.LINE_FACTOR=c;const y=.35;n.LINE_DESCENT_FACTOR=y;const b=y/c;n.BASELINE_FACTOR=b;const A={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=A;const d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=d;const x="pdfjs_internal_editor_";n.AnnotationEditorPrefix=x;const z={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};n.AnnotationEditorType=z;const D={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};n.AnnotationEditorParamsType=D;const F={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=F;const M={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=M;const w={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=w;const O={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=O;const H={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=H;const U={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=U;const I={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=I;const S={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=S;const C={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=C;const Y={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=Y;const $={O:"PageOpen",C:"PageClose"};n.PageActionEventType=$;const E={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=E;const Z={NONE:0,BINARY:1};n.CMapCompressionType=Z;const W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=W;const ce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=ce;let fe=E.WARNINGS;function J(Me){Number.isInteger(Me)&&(fe=Me)}function pe(){return fe}function xe(Me){fe>=E.INFOS&&console.log(`Info: ${Me}`)}function Se(Me){fe>=E.WARNINGS&&console.log(`Warning: ${Me}`)}function se(Me){throw new Error(Me)}function Fe(Me,me){Me||se(me)}function Ne(Me){switch(Me==null?void 0:Me.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Be(Me,me=null,de=null){if(!Me)return null;try{if(de&&typeof Me=="string"){if(de.addDefaultProtocol&&Me.startsWith("www.")){const We=Me.match(/\./g);(We==null?void 0:We.length)>=2&&(Me=`http://${Me}`)}if(de.tryConvertEncoding)try{Me=le(Me)}catch{}}const $e=me?new URL(Me,me):new URL(Me);if(Ne($e))return $e}catch{}return null}function ze(Me,me,de,$e=!1){return Object.defineProperty(Me,me,{value:de,enumerable:!$e,configurable:!0,writable:!1}),de}const K=function(){function me(de,$e){this.constructor===me&&se("Cannot initialize BaseException."),this.message=de,this.name=$e}return me.prototype=new Error,me.constructor=me,me}();n.BaseException=K;class g extends K{constructor(me,de){super(me,"PasswordException"),this.code=de}}n.PasswordException=g;class v extends K{constructor(me,de){super(me,"UnknownErrorException"),this.details=de}}n.UnknownErrorException=v;class m extends K{constructor(me){super(me,"InvalidPDFException")}}n.InvalidPDFException=m;class T extends K{constructor(me){super(me,"MissingPDFException")}}n.MissingPDFException=T;class k extends K{constructor(me,de){super(me,"UnexpectedResponseException"),this.status=de}}n.UnexpectedResponseException=k;class q extends K{constructor(me){super(me,"FormatError")}}n.FormatError=q;class Q extends K{constructor(me){super(me,"AbortException")}}n.AbortException=Q;function ae(Me){(typeof Me!="object"||(Me==null?void 0:Me.length)===void 0)&&se("Invalid argument for bytesToString");const me=Me.length,de=8192;if(me<de)return String.fromCharCode.apply(null,Me);const $e=[];for(let We=0;We<me;We+=de){const kt=Math.min(We+de,me),Rt=Me.subarray(We,kt);$e.push(String.fromCharCode.apply(null,Rt))}return $e.join("")}function we(Me){typeof Me!="string"&&se("Invalid argument for stringToBytes");const me=Me.length,de=new Uint8Array(me);for(let $e=0;$e<me;++$e)de[$e]=Me.charCodeAt($e)&255;return de}function R(Me){return String.fromCharCode(Me>>24&255,Me>>16&255,Me>>8&255,Me&255)}function B(Me){return Object.keys(Me).length}function ee(Me){const me=Object.create(null);for(const[de,$e]of Me)me[de]=$e;return me}function be(){const Me=new Uint8Array(4);return Me[0]=1,new Uint32Array(Me.buffer,0,1)[0]===1}function oe(){try{return new Function(""),!0}catch{return!1}}class Ce{static get isLittleEndian(){return ze(this,"isLittleEndian",be())}static get isEvalSupported(){return ze(this,"isEvalSupported",oe())}static get isOffscreenCanvasSupported(){return ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ze(this,"platform",{isWin:!1,isMac:!1}):ze(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var me,de;return ze(this,"isCSSRoundSupported",(de=(me=globalThis.CSS)==null?void 0:me.supports)==null?void 0:de.call(me,"width: round(1.5px, 1px)"))}}n.FeatureTest=Ce;const Ie=[...Array(256).keys()].map(Me=>Me.toString(16).padStart(2,"0"));class Ee{static makeHexColor(me,de,$e){return`#${Ie[me]}${Ie[de]}${Ie[$e]}`}static scaleMinMax(me,de){let $e;me[0]?(me[0]<0&&($e=de[0],de[0]=de[1],de[1]=$e),de[0]*=me[0],de[1]*=me[0],me[3]<0&&($e=de[2],de[2]=de[3],de[3]=$e),de[2]*=me[3],de[3]*=me[3]):($e=de[0],de[0]=de[2],de[2]=$e,$e=de[1],de[1]=de[3],de[3]=$e,me[1]<0&&($e=de[2],de[2]=de[3],de[3]=$e),de[2]*=me[1],de[3]*=me[1],me[2]<0&&($e=de[0],de[0]=de[1],de[1]=$e),de[0]*=me[2],de[1]*=me[2]),de[0]+=me[4],de[1]+=me[4],de[2]+=me[5],de[3]+=me[5]}static transform(me,de){return[me[0]*de[0]+me[2]*de[1],me[1]*de[0]+me[3]*de[1],me[0]*de[2]+me[2]*de[3],me[1]*de[2]+me[3]*de[3],me[0]*de[4]+me[2]*de[5]+me[4],me[1]*de[4]+me[3]*de[5]+me[5]]}static applyTransform(me,de){const $e=me[0]*de[0]+me[1]*de[2]+de[4],We=me[0]*de[1]+me[1]*de[3]+de[5];return[$e,We]}static applyInverseTransform(me,de){const $e=de[0]*de[3]-de[1]*de[2],We=(me[0]*de[3]-me[1]*de[2]+de[2]*de[5]-de[4]*de[3])/$e,kt=(-me[0]*de[1]+me[1]*de[0]+de[4]*de[1]-de[5]*de[0])/$e;return[We,kt]}static getAxialAlignedBoundingBox(me,de){const $e=this.applyTransform(me,de),We=this.applyTransform(me.slice(2,4),de),kt=this.applyTransform([me[0],me[3]],de),Rt=this.applyTransform([me[2],me[1]],de);return[Math.min($e[0],We[0],kt[0],Rt[0]),Math.min($e[1],We[1],kt[1],Rt[1]),Math.max($e[0],We[0],kt[0],Rt[0]),Math.max($e[1],We[1],kt[1],Rt[1])]}static inverseTransform(me){const de=me[0]*me[3]-me[1]*me[2];return[me[3]/de,-me[1]/de,-me[2]/de,me[0]/de,(me[2]*me[5]-me[4]*me[3])/de,(me[4]*me[1]-me[5]*me[0])/de]}static singularValueDecompose2dScale(me){const de=[me[0],me[2],me[1],me[3]],$e=me[0]*de[0]+me[1]*de[2],We=me[0]*de[1]+me[1]*de[3],kt=me[2]*de[0]+me[3]*de[2],Rt=me[2]*de[1]+me[3]*de[3],Ae=($e+Rt)/2,Ke=Math.sqrt(($e+Rt)**2-4*($e*Rt-kt*We))/2,rt=Ae+Ke||1,Ye=Ae-Ke||1;return[Math.sqrt(rt),Math.sqrt(Ye)]}static normalizeRect(me){const de=me.slice(0);return me[0]>me[2]&&(de[0]=me[2],de[2]=me[0]),me[1]>me[3]&&(de[1]=me[3],de[3]=me[1]),de}static intersect(me,de){const $e=Math.max(Math.min(me[0],me[2]),Math.min(de[0],de[2])),We=Math.min(Math.max(me[0],me[2]),Math.max(de[0],de[2]));if($e>We)return null;const kt=Math.max(Math.min(me[1],me[3]),Math.min(de[1],de[3])),Rt=Math.min(Math.max(me[1],me[3]),Math.max(de[1],de[3]));return kt>Rt?null:[$e,kt,We,Rt]}static bezierBoundingBox(me,de,$e,We,kt,Rt,Ae,Ke){const rt=[],Ye=[[],[]];let ot,ct,mt,Ue,bt,it,te,f;for(let L=0;L<2;++L){if(L===0?(ct=6*me-12*$e+6*kt,ot=-3*me+9*$e-9*kt+3*Ae,mt=3*$e-3*me):(ct=6*de-12*We+6*Rt,ot=-3*de+9*We-9*Rt+3*Ke,mt=3*We-3*de),Math.abs(ot)<1e-12){if(Math.abs(ct)<1e-12)continue;Ue=-mt/ct,0<Ue&&Ue<1&&rt.push(Ue);continue}te=ct*ct-4*mt*ot,f=Math.sqrt(te),!(te<0)&&(bt=(-ct+f)/(2*ot),0<bt&&bt<1&&rt.push(bt),it=(-ct-f)/(2*ot),0<it&&it<1&&rt.push(it))}let V=rt.length,ne;const N=V;for(;V--;)Ue=rt[V],ne=1-Ue,Ye[0][V]=ne*ne*ne*me+3*ne*ne*Ue*$e+3*ne*Ue*Ue*kt+Ue*Ue*Ue*Ae,Ye[1][V]=ne*ne*ne*de+3*ne*ne*Ue*We+3*ne*Ue*Ue*Rt+Ue*Ue*Ue*Ke;return Ye[0][N]=me,Ye[1][N]=de,Ye[0][N+1]=Ae,Ye[1][N+1]=Ke,Ye[0].length=Ye[1].length=N+2,[Math.min(...Ye[0]),Math.min(...Ye[1]),Math.max(...Ye[0]),Math.max(...Ye[1])]}}n.Util=Ee;const Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function he(Me){if(Me[0]>="ï"){let de;if(Me[0]==="þ"&&Me[1]==="ÿ"?de="utf-16be":Me[0]==="ÿ"&&Me[1]==="þ"?de="utf-16le":Me[0]==="ï"&&Me[1]==="»"&&Me[2]==="¿"&&(de="utf-8"),de)try{const $e=new TextDecoder(de,{fatal:!0}),We=we(Me);return $e.decode(We)}catch($e){Se(`stringToPDFString: "${$e}".`)}}const me=[];for(let de=0,$e=Me.length;de<$e;de++){const We=Pe[Me.charCodeAt(de)];me.push(We?String.fromCharCode(We):Me.charAt(de))}return me.join("")}function le(Me){return decodeURIComponent(escape(Me))}function ie(Me){return unescape(encodeURIComponent(Me))}function ve(Me){return typeof Me=="object"&&(Me==null?void 0:Me.byteLength)!==void 0}function Oe(Me,me){if(Me.length!==me.length)return!1;for(let de=0,$e=Me.length;de<$e;de++)if(Me[de]!==me[de])return!1;return!0}function De(Me=new Date){return[Me.getUTCFullYear().toString(),(Me.getUTCMonth()+1).toString().padStart(2,"0"),Me.getUTCDate().toString().padStart(2,"0"),Me.getUTCHours().toString().padStart(2,"0"),Me.getUTCMinutes().toString().padStart(2,"0"),Me.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ze{constructor(){re(this,pt,!1);this.promise=new Promise((me,de)=>{this.resolve=$e=>{Re(this,pt,!0),me($e)},this.reject=$e=>{Re(this,pt,!0),de($e)}})}get settled(){return u(this,pt)}}pt=new WeakMap,n.PromiseCapability=Ze;let Xe=null,nt=null;function lt(Me){return Xe||(Xe=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,nt=new Map([["ﬅ","ſt"]])),Me.replaceAll(Xe,(me,de,$e)=>de?de.normalize("NFKC"):nt.get($e))}function ht(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Me=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Me);else for(let me=0;me<32;me++)Me[me]=Math.floor(Math.random()*255);return ae(Me)}const st="pdfjs_internal_id_";n.AnnotationPrefix=st},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,r,o,Ei,c,Bs,b,A,d,x,z,D,F,M,w,$s,H,U,co,S,C;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument($){if(typeof $=="string"||$ instanceof URL?$={url:$}:(0,_util.isArrayBuffer)($)&&($={data:$}),typeof $!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!$.url&&!$.data&&!$.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const E=new PDFDocumentLoadingTask,{docId:Z}=E,W=$.url?getUrlProp($.url):null,ce=$.data?getDataProp($.data):null,fe=$.httpHeaders||null,J=$.withCredentials===!0,pe=$.password??null,xe=$.range instanceof PDFDataRangeTransport?$.range:null,Se=Number.isInteger($.rangeChunkSize)&&$.rangeChunkSize>0?$.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let se=$.worker instanceof PDFWorker?$.worker:null;const Fe=$.verbosity,Ne=typeof $.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)($.docBaseUrl)?$.docBaseUrl:null,Be=typeof $.cMapUrl=="string"?$.cMapUrl:null,ze=$.cMapPacked!==!1,K=$.CMapReaderFactory||DefaultCMapReaderFactory,g=typeof $.standardFontDataUrl=="string"?$.standardFontDataUrl:null,v=$.StandardFontDataFactory||DefaultStandardFontDataFactory,m=$.stopAtErrors!==!0,T=Number.isInteger($.maxImageSize)&&$.maxImageSize>-1?$.maxImageSize:-1,k=$.isEvalSupported!==!1,q=typeof $.isOffscreenCanvasSupported=="boolean"?$.isOffscreenCanvasSupported:!_util.isNodeJS,Q=Number.isInteger($.canvasMaxAreaInBytes)?$.canvasMaxAreaInBytes:-1,ae=typeof $.disableFontFace=="boolean"?$.disableFontFace:_util.isNodeJS,we=$.fontExtraProperties===!0,R=$.enableXfa===!0,B=$.ownerDocument||globalThis.document,ee=$.disableRange===!0,be=$.disableStream===!0,oe=$.disableAutoFetch===!0,Ce=$.pdfBug===!0,Ie=xe?xe.length:$.length??NaN,Ee=typeof $.useSystemFonts=="boolean"?$.useSystemFonts:!_util.isNodeJS&&!ae,Pe=typeof $.useWorkerFetch=="boolean"?$.useWorkerFetch:K===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&Be&&g&&(0,_display_utils.isValidFetchUrl)(Be,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI),he=$.canvasFactory||new DefaultCanvasFactory({ownerDocument:B}),le=$.filterFactory||new DefaultFilterFactory({docId:Z,ownerDocument:B}),ie=null;(0,_util.setVerbosityLevel)(Fe);const ve={canvasFactory:he,filterFactory:le};if(Pe||(ve.cMapReaderFactory=new K({baseUrl:Be,isCompressed:ze}),ve.standardFontDataFactory=new v({baseUrl:g})),!se){const Ze={verbosity:Fe,port:_worker_options.GlobalWorkerOptions.workerPort};se=Ze.port?PDFWorker.fromPort(Ze):new PDFWorker(Ze),E._worker=se}const Oe={docId:Z,apiVersion:"3.11.174",data:ce,password:pe,disableAutoFetch:oe,rangeChunkSize:Se,length:Ie,docBaseUrl:Ne,enableXfa:R,evaluatorOptions:{maxImageSize:T,disableFontFace:ae,ignoreErrors:m,isEvalSupported:k,isOffscreenCanvasSupported:q,canvasMaxAreaInBytes:Q,fontExtraProperties:we,useSystemFonts:Ee,cMapUrl:Pe?Be:null,standardFontDataUrl:Pe?g:null}},De={ignoreErrors:m,isEvalSupported:k,disableFontFace:ae,fontExtraProperties:we,enableXfa:R,ownerDocument:B,disableAutoFetch:oe,pdfBug:Ce,styleElement:ie};return se.promise.then(function(){if(E.destroyed)throw new Error("Loading aborted");const Ze=_fetchDocument(se,Oe),Xe=new Promise(function(nt){let lt;xe?lt=new _transport_stream.PDFDataTransportStream({length:Ie,initialData:xe.initialData,progressiveDone:xe.progressiveDone,contentDispositionFilename:xe.contentDispositionFilename,disableRange:ee,disableStream:be},xe):ce||(lt=(st=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(st):(0,_display_utils.isValidFetchUrl)(st.url)?new _displayFetch_stream.PDFFetchStream(st):new _displayNetwork.PDFNetworkStream(st))({url:W,length:Ie,httpHeaders:fe,withCredentials:J,rangeChunkSize:Se,disableRange:ee,disableStream:be})),nt(lt)});return Promise.all([Ze,Xe]).then(function([nt,lt]){if(E.destroyed)throw new Error("Loading aborted");const ht=new _message_handler.MessageHandler(Z,nt,se.port),st=new WorkerTransport(ht,E,lt,De,ve);E._transport=st,ht.send("Ready",null)})}).catch(E._capability.reject),E}async function _fetchDocument($,E){if($.destroyed)throw new Error("Worker was destroyed");const Z=await $.messageHandler.sendWithPromise("GetDocRequest",E,E.data?[E.data.buffer]:null);if($.destroyed)throw new Error("Worker was destroyed");return Z}function getUrlProp($){if($ instanceof URL)return $.href;try{return new URL($,window.location).href}catch{if(_util.isNodeJS&&typeof $=="string")return $}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp($){if(_util.isNodeJS&&typeof Buffer<"u"&&$ instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if($ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength)return $;if(typeof $=="string")return(0,_util.stringToBytes)($);if(typeof $=="object"&&!isNaN($==null?void 0:$.length)||(0,_util.isArrayBuffer)($))return new Uint8Array($);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const n=class n{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Vi(n,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var E,Z,W;this.destroyed=!0;try{(E=this._worker)!=null&&E.port&&(this._worker._pendingDestroy=!0),await((Z=this._transport)==null?void 0:Z.destroy())}catch(ce){throw(W=this._worker)!=null&&W.port&&delete this._worker._pendingDestroy,ce}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,re(n,e,0);let PDFDocumentLoadingTask=n;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(E,Z,W=!1,ce=null){this.length=E,this.initialData=Z,this.progressiveDone=W,this.contentDispositionFilename=ce,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(E){this._rangeListeners.push(E)}addProgressListener(E){this._progressListeners.push(E)}addProgressiveReadListener(E){this._progressiveReadListeners.push(E)}addProgressiveDoneListener(E){this._progressiveDoneListeners.push(E)}onDataRange(E,Z){for(const W of this._rangeListeners)W(E,Z)}onDataProgress(E,Z){this._readyCapability.promise.then(()=>{for(const W of this._progressListeners)W(E,Z)})}onDataProgressiveRead(E){this._readyCapability.promise.then(()=>{for(const Z of this._progressiveReadListeners)Z(E)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const E of this._progressiveDoneListeners)E()})}transportReady(){this._readyCapability.resolve()}requestDataRange(E,Z){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(E,Z){this._pdfInfo=E,this._transport=Z,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(W=>{if(!W)return W;const ce=[];for(const fe in W)ce.push(...W[fe]);return ce}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(E){return this._transport.getPage(E)}getPageIndex(E){return this._transport.getPageIndex(E)}getDestinations(){return this._transport.getDestinations()}getDestination(E){return this._transport.getDestination(E)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(E=!1){return this._transport.startCleanup(E||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(E,Z,W,ce=!1){re(this,o);re(this,c);re(this,s,null);re(this,r,!1);this._pageIndex=E,this._pageInfo=Z,this._transport=W,this._stats=ce?new _display_utils.StatTimer:null,this._pdfBug=ce,this.commonObjs=W.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:E,rotation:Z=this.rotate,offsetX:W=0,offsetY:ce=0,dontFlip:fe=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:E,rotation:Z,offsetX:W,offsetY:ce,dontFlip:fe})}getAnnotations({intent:E="display"}={}){const Z=this._transport.getRenderingIntent(E);return this._transport.getAnnotations(this._pageIndex,Z.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var E;return((E=this._transport._htmlForXfa)==null?void 0:E.children[this._pageIndex])||null}render({canvasContext:E,viewport:Z,intent:W="display",annotationMode:ce=_util.AnnotationMode.ENABLE,transform:fe=null,background:J=null,optionalContentConfigPromise:pe=null,annotationCanvasMap:xe=null,pageColors:Se=null,printAnnotationStorage:se=null}){var v,m;(v=this._stats)==null||v.time("Overall");const Fe=this._transport.getRenderingIntent(W,ce,se);Re(this,r,!1),ge(this,c,Bs).call(this),pe||(pe=this._transport.getOptionalContentConfig());let Ne=this._intentStates.get(Fe.cacheKey);Ne||(Ne=Object.create(null),this._intentStates.set(Fe.cacheKey,Ne)),Ne.streamReaderCancelTimeout&&(clearTimeout(Ne.streamReaderCancelTimeout),Ne.streamReaderCancelTimeout=null);const Be=!!(Fe.renderingIntent&_util.RenderingIntentFlag.PRINT);Ne.displayReadyCapability||(Ne.displayReadyCapability=new _util.PromiseCapability,Ne.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(Fe));const ze=T=>{var k,q;Ne.renderTasks.delete(K),(this._maybeCleanupAfterRender||Be)&&Re(this,r,!0),ge(this,o,Ei).call(this,!Be),T?(K.capability.reject(T),this._abortOperatorList({intentState:Ne,reason:T instanceof Error?T:new Error(T)})):K.capability.resolve(),(k=this._stats)==null||k.timeEnd("Rendering"),(q=this._stats)==null||q.timeEnd("Overall")},K=new InternalRenderTask({callback:ze,params:{canvasContext:E,viewport:Z,transform:fe,background:J},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:xe,operatorList:Ne.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Be,pdfBug:this._pdfBug,pageColors:Se});(Ne.renderTasks||(Ne.renderTasks=new Set)).add(K);const g=K.task;return Promise.all([Ne.displayReadyCapability.promise,pe]).then(([T,k])=>{var q;if(this.destroyed){ze();return}(q=this._stats)==null||q.time("Rendering"),K.initializeGraphics({transparency:T,optionalContentConfig:k}),K.operatorListChanged()}).catch(ze),g}getOperatorList({intent:E="display",annotationMode:Z=_util.AnnotationMode.ENABLE,printAnnotationStorage:W=null}={}){var xe;function ce(){J.operatorList.lastChunk&&(J.opListReadCapability.resolve(J.operatorList),J.renderTasks.delete(pe))}const fe=this._transport.getRenderingIntent(E,Z,W,!0);let J=this._intentStates.get(fe.cacheKey);J||(J=Object.create(null),this._intentStates.set(fe.cacheKey,J));let pe;return J.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=ce,J.opListReadCapability=new _util.PromiseCapability,(J.renderTasks||(J.renderTasks=new Set)).add(pe),J.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(xe=this._stats)==null||xe.time("Page Request"),this._pumpOperatorList(fe)),J.opListReadCapability.promise}streamTextContent({includeMarkedContent:E=!1,disableNormalization:Z=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:E===!0,disableNormalization:Z===!0},{highWaterMark:100,size(ce){return ce.items.length}})}getTextContent(E={}){if(this._transport._htmlForXfa)return this.getXfa().then(W=>_xfa_text.XfaText.textContent(W));const Z=this.streamTextContent(E);return new Promise(function(W,ce){function fe(){J.read().then(function({value:xe,done:Se}){if(Se){W(pe);return}Object.assign(pe.styles,xe.styles),pe.items.push(...xe.items),fe()},ce)}const J=Z.getReader(),pe={items:[],styles:Object.create(null)};fe()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const E=[];for(const Z of this._intentStates.values())if(this._abortOperatorList({intentState:Z,reason:new Error("Page was destroyed."),force:!0}),!Z.opListReadCapability)for(const W of Z.renderTasks)E.push(W.completed),W.cancel();return this.objs.clear(),Re(this,r,!1),ge(this,c,Bs).call(this),Promise.all(E)}cleanup(E=!1){Re(this,r,!0);const Z=ge(this,o,Ei).call(this,!1);return E&&Z&&this._stats&&(this._stats=new _display_utils.StatTimer),Z}_startRenderPage(E,Z){var ce,fe;const W=this._intentStates.get(Z);W&&((ce=this._stats)==null||ce.timeEnd("Page Request"),(fe=W.displayReadyCapability)==null||fe.resolve(E))}_renderPageChunk(E,Z){for(let W=0,ce=E.length;W<ce;W++)Z.operatorList.fnArray.push(E.fnArray[W]),Z.operatorList.argsArray.push(E.argsArray[W]);Z.operatorList.lastChunk=E.lastChunk,Z.operatorList.separateAnnots=E.separateAnnots;for(const W of Z.renderTasks)W.operatorListChanged();E.lastChunk&&ge(this,o,Ei).call(this,!0)}_pumpOperatorList({renderingIntent:E,cacheKey:Z,annotationStorageSerializable:W}){const{map:ce,transfers:fe}=W,pe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:E,cacheKey:Z,annotationStorage:ce},fe).getReader(),xe=this._intentStates.get(Z);xe.streamReader=pe;const Se=()=>{pe.read().then(({value:se,done:Fe})=>{if(Fe){xe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(se,xe),Se())},se=>{if(xe.streamReader=null,!this._transport.destroyed){if(xe.operatorList){xe.operatorList.lastChunk=!0;for(const Fe of xe.renderTasks)Fe.operatorListChanged();ge(this,o,Ei).call(this,!0)}if(xe.displayReadyCapability)xe.displayReadyCapability.reject(se);else if(xe.opListReadCapability)xe.opListReadCapability.reject(se);else throw se}})};Se()}_abortOperatorList({intentState:E,reason:Z,force:W=!1}){if(E.streamReader){if(E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null),!W){if(E.renderTasks.size>0)return;if(Z instanceof _display_utils.RenderingCancelledException){let ce=RENDERING_CANCELLED_TIMEOUT;Z.extraDelay>0&&Z.extraDelay<1e3&&(ce+=Z.extraDelay),E.streamReaderCancelTimeout=setTimeout(()=>{E.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:E,reason:Z,force:!0})},ce);return}}if(E.streamReader.cancel(new _util.AbortException(Z.message)).catch(()=>{}),E.streamReader=null,!this._transport.destroyed){for(const[ce,fe]of this._intentStates)if(fe===E){this._intentStates.delete(ce);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,r=new WeakMap,o=new WeakSet,Ei=function(E=!1){if(ge(this,c,Bs).call(this),!u(this,r)||this.destroyed)return!1;if(E)return Re(this,s,setTimeout(()=>{Re(this,s,null),ge(this,o,Ei).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Z,operatorList:W}of this._intentStates.values())if(Z.size>0||!W.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Re(this,r,!1),!0},c=new WeakSet,Bs=function(){u(this,s)&&(clearTimeout(u(this,s)),Re(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){re(this,b,new Set);re(this,A,Promise.resolve())}postMessage(E,Z){const W={data:structuredClone(E,Z?{transfer:Z}:null)};u(this,A).then(()=>{for(const ce of u(this,b))ce.call(this,W)})}addEventListener(E,Z){u(this,b).add(Z)}removeEventListener(E,Z){u(this,b).delete(Z)}terminate(){u(this,b).clear()}}b=new WeakMap,A=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $=(d=document==null?void 0:document.currentScript)==null?void 0:d.src;$&&(PDFWorkerUtil.fallbackWorkerSrc=$.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($,E){let Z;try{if(Z=new URL($),!Z.origin||Z.origin==="null")return!1}catch{return!1}const W=new URL(E,Z);return Z.origin===W.origin},PDFWorkerUtil.createCDNWrapper=function($){const E=`importScripts("${$}");`;return URL.createObjectURL(new Blob([E]))}}const _PDFWorker=class _PDFWorker{constructor({name:$=null,port:E=null,verbosity:Z=(0,_util.getVerbosityLevel)()}={}){var W;if(this.name=$,this.destroyed=!1,this.verbosity=Z,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,E){if((W=u(_PDFWorker,x))!=null&&W.has(E))throw new Error("Cannot use more than one PDFWorker per port.");(u(_PDFWorker,x)||Re(_PDFWorker,x,new WeakMap)).set(E,this),this._initializeFromPort(E);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new _message_handler.MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const E=new Worker($),Z=new _message_handler.MessageHandler("main","worker",E),W=()=>{E.removeEventListener("error",ce),Z.destroy(),E.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ce=()=>{this._webWorker||W()};E.addEventListener("error",ce),Z.on("test",J=>{if(E.removeEventListener("error",ce),this.destroyed){W();return}J?(this._messageHandler=Z,this._port=E,this._webWorker=E,this._readyCapability.resolve(),Z.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Z.destroy(),E.terminate())}),Z.on("ready",J=>{if(E.removeEventListener("error",ce),this.destroyed){W();return}try{fe()}catch{this._setupFakeWorker()}});const fe=()=>{const J=new Uint8Array;Z.send("test",J,[J.buffer])};fe();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const E=new LoopbackPort;this._port=E;const Z=`fake${PDFWorkerUtil.fakeWorkerId++}`,W=new _message_handler.MessageHandler(Z+"_worker",Z,E);$.setup(W,E);const ce=new _message_handler.MessageHandler(Z,Z+"_worker",E);this._messageHandler=ce,this._readyCapability.resolve(),ce.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=u(_PDFWorker,x))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var Z;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const E=(Z=u(this,x))==null?void 0:Z.get($.port);if(E){if(E._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return E}return new _PDFWorker($)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};x=new WeakMap,re(_PDFWorker,x,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(E,Z,W,ce,fe){re(this,w);re(this,z,new Map);re(this,D,new Map);re(this,F,new Map);re(this,M,null);this.messageHandler=E,this.loadingTask=Z,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ce.ownerDocument,styleElement:ce.styleElement}),this._params=ce,this.canvasFactory=fe.canvasFactory,this.filterFactory=fe.filterFactory,this.cMapReaderFactory=fe.cMapReaderFactory,this.standardFontDataFactory=fe.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=W,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(E,Z=_util.AnnotationMode.ENABLE,W=null,ce=!1){let fe=_util.RenderingIntentFlag.DISPLAY,J=_annotation_storage.SerializableEmpty;switch(E){case"any":fe=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":fe=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${E}`)}switch(Z){case _util.AnnotationMode.DISABLE:fe+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:fe+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:fe+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,J=(fe&_util.RenderingIntentFlag.PRINT&&W instanceof _annotation_storage.PrintAnnotationStorage?W:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Z}`)}return ce&&(fe+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:fe,cacheKey:`${fe}_${J.hash}`,annotationStorageSerializable:J}}destroy(){var W;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(W=u(this,M))==null||W.reject(new Error("Worker was destroyed during onPassword callback"));const E=[];for(const ce of u(this,D).values())E.push(ce._destroy());u(this,D).clear(),u(this,F).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Z=this.messageHandler.sendWithPromise("Terminate",null);return E.push(Z),Promise.all(E).then(()=>{var ce;this.commonObjs.clear(),this.fontLoader.clear(),u(this,z).clear(),this.filterFactory.destroy(),(ce=this._networkStream)==null||ce.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:E,loadingTask:Z}=this;E.on("GetReader",(W,ce)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=fe=>{this._lastProgress={loaded:fe.loaded,total:fe.total}},ce.onPull=()=>{this._fullReader.read().then(function({value:fe,done:J}){if(J){ce.close();return}(0,_util.assert)(fe instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ce.enqueue(new Uint8Array(fe),1,[fe])}).catch(fe=>{ce.error(fe)})},ce.onCancel=fe=>{this._fullReader.cancel(fe),ce.ready.catch(J=>{if(!this.destroyed)throw J})}}),E.on("ReaderHeadersReady",W=>{const ce=new _util.PromiseCapability,fe=this._fullReader;return fe.headersReady.then(()=>{var J;(!fe.isStreamingSupported||!fe.isRangeSupported)&&(this._lastProgress&&((J=Z.onProgress)==null||J.call(Z,this._lastProgress)),fe.onProgress=pe=>{var xe;(xe=Z.onProgress)==null||xe.call(Z,{loaded:pe.loaded,total:pe.total})}),ce.resolve({isStreamingSupported:fe.isStreamingSupported,isRangeSupported:fe.isRangeSupported,contentLength:fe.contentLength})},ce.reject),ce.promise}),E.on("GetRangeReader",(W,ce)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const fe=this._networkStream.getRangeReader(W.begin,W.end);if(!fe){ce.close();return}ce.onPull=()=>{fe.read().then(function({value:J,done:pe}){if(pe){ce.close();return}(0,_util.assert)(J instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ce.enqueue(new Uint8Array(J),1,[J])}).catch(J=>{ce.error(J)})},ce.onCancel=J=>{fe.cancel(J),ce.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),E.on("GetDoc",({pdfInfo:W})=>{this._numPages=W.numPages,this._htmlForXfa=W.htmlForXfa,delete W.htmlForXfa,Z._capability.resolve(new PDFDocumentProxy(W,this))}),E.on("DocException",function(W){let ce;switch(W.name){case"PasswordException":ce=new _util.PasswordException(W.message,W.code);break;case"InvalidPDFException":ce=new _util.InvalidPDFException(W.message);break;case"MissingPDFException":ce=new _util.MissingPDFException(W.message);break;case"UnexpectedResponseException":ce=new _util.UnexpectedResponseException(W.message,W.status);break;case"UnknownErrorException":ce=new _util.UnknownErrorException(W.message,W.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Z._capability.reject(ce)}),E.on("PasswordRequest",W=>{if(Re(this,M,new _util.PromiseCapability),Z.onPassword){const ce=fe=>{fe instanceof Error?u(this,M).reject(fe):u(this,M).resolve({password:fe})};try{Z.onPassword(ce,W.code)}catch(fe){u(this,M).reject(fe)}}else u(this,M).reject(new _util.PasswordException(W.message,W.code));return u(this,M).promise}),E.on("DataLoaded",W=>{var ce;(ce=Z.onProgress)==null||ce.call(Z,{loaded:W.length,total:W.length}),this.downloadInfoCapability.resolve(W)}),E.on("StartRenderPage",W=>{if(this.destroyed)return;u(this,D).get(W.pageIndex)._startRenderPage(W.transparency,W.cacheKey)}),E.on("commonobj",([W,ce,fe])=>{var J;if(!this.destroyed&&!this.commonObjs.has(W))switch(ce){case"Font":const pe=this._params;if("error"in fe){const se=fe.error;(0,_util.warn)(`Error during font loading: ${se}`),this.commonObjs.resolve(W,se);break}const xe=pe.pdfBug&&((J=globalThis.FontInspector)!=null&&J.enabled)?(se,Fe)=>globalThis.FontInspector.fontAdded(se,Fe):null,Se=new _font_loader.FontFaceObject(fe,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,inspectFont:xe});this.fontLoader.bind(Se).catch(se=>E.sendWithPromise("FontFallback",{id:W})).finally(()=>{!pe.fontExtraProperties&&Se.data&&(Se.data=null),this.commonObjs.resolve(W,Se)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(W,fe);break;default:throw new Error(`Got unknown common object type ${ce}`)}}),E.on("obj",([W,ce,fe,J])=>{var xe;if(this.destroyed)return;const pe=u(this,D).get(ce);if(!pe.objs.has(W))switch(fe){case"Image":if(pe.objs.resolve(W,J),J){let Se;if(J.bitmap){const{width:se,height:Fe}=J;Se=se*Fe*4}else Se=((xe=J.data)==null?void 0:xe.length)||0;Se>_util.MAX_IMAGE_SIZE_TO_CACHE&&(pe._maybeCleanupAfterRender=!0)}break;case"Pattern":pe.objs.resolve(W,J);break;default:throw new Error(`Got unknown object type ${fe}`)}}),E.on("DocProgress",W=>{var ce;this.destroyed||(ce=Z.onProgress)==null||ce.call(Z,{loaded:W.loaded,total:W.total})}),E.on("FetchBuiltInCMap",W=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(W):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),E.on("FetchStandardFontData",W=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(W):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var W;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:E,transfers:Z}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:E,filename:((W=this._fullReader)==null?void 0:W.filename)??null},Z).finally(()=>{this.annotationStorage.resetModified()})}getPage(E){if(!Number.isInteger(E)||E<=0||E>this._numPages)return Promise.reject(new Error("Invalid page request."));const Z=E-1,W=u(this,F).get(Z);if(W)return W;const ce=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Z}).then(fe=>{if(this.destroyed)throw new Error("Transport destroyed");const J=new PDFPageProxy(Z,fe,this,this._params.pdfBug);return u(this,D).set(Z,J),J});return u(this,F).set(Z,ce),ce}getPageIndex(E){return typeof E!="object"||E===null||!Number.isInteger(E.num)||E.num<0||!Number.isInteger(E.gen)||E.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:E.num,gen:E.gen})}getAnnotations(E,Z){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:E,intent:Z})}getFieldObjects(){return ge(this,w,$s).call(this,"GetFieldObjects")}hasJSActions(){return ge(this,w,$s).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(E){return typeof E!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:E})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ge(this,w,$s).call(this,"GetDocJSActions")}getPageJSActions(E){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:E})}getStructTree(E){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:E})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(E=>new _optional_content_config.OptionalContentConfig(E))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const E="GetMetadata",Z=u(this,z).get(E);if(Z)return Z;const W=this.messageHandler.sendWithPromise(E,null).then(ce=>{var fe,J;return{info:ce[0],metadata:ce[1]?new _metadata.Metadata(ce[1]):null,contentDispositionFilename:((fe=this._fullReader)==null?void 0:fe.filename)??null,contentLength:((J=this._fullReader)==null?void 0:J.contentLength)??null}});return u(this,z).set(E,W),W}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(E=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Z of u(this,D).values())if(!Z.cleanup())throw new Error(`startCleanup: Page ${Z.pageNumber} is currently rendering.`);this.commonObjs.clear(),E||this.fontLoader.clear(),u(this,z).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:E,enableXfa:Z}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:E,enableXfa:Z})}}z=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,w=new WeakSet,$s=function(E,Z=null){const W=u(this,z).get(E);if(W)return W;const ce=this.messageHandler.sendWithPromise(E,Z);return u(this,z).set(E,ce),ce};class PDFObjects{constructor(){re(this,U);re(this,H,Object.create(null))}get(E,Z=null){if(Z){const ce=ge(this,U,co).call(this,E);return ce.capability.promise.then(()=>Z(ce.data)),null}const W=u(this,H)[E];if(!(W!=null&&W.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${E}.`);return W.data}has(E){const Z=u(this,H)[E];return(Z==null?void 0:Z.capability.settled)||!1}resolve(E,Z=null){const W=ge(this,U,co).call(this,E);W.data=Z,W.capability.resolve()}clear(){var E;for(const Z in u(this,H)){const{data:W}=u(this,H)[Z];(E=W==null?void 0:W.bitmap)==null||E.close()}Re(this,H,Object.create(null))}}H=new WeakMap,U=new WeakSet,co=function(E){var Z;return(Z=u(this,H))[E]||(Z[E]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(E){re(this,S,null);Re(this,S,E),this.onContinue=null}get promise(){return u(this,S).capability.promise}cancel(E=0){u(this,S).cancel(null,E)}get separateAnnots(){const{separateAnnots:E}=u(this,S).operatorList;if(!E)return!1;const{annotationCanvasMap:Z}=u(this,S);return E.form||E.canvas&&(Z==null?void 0:Z.size)>0}}S=new WeakMap,exports.RenderTask=RenderTask;const Y=class Y{constructor({callback:E,params:Z,objs:W,commonObjs:ce,annotationCanvasMap:fe,operatorList:J,pageIndex:pe,canvasFactory:xe,filterFactory:Se,useRequestAnimationFrame:se=!1,pdfBug:Fe=!1,pageColors:Ne=null}){this.callback=E,this.params=Z,this.objs=W,this.commonObjs=ce,this.annotationCanvasMap=fe,this.operatorListIdx=null,this.operatorList=J,this._pageIndex=pe,this.canvasFactory=xe,this.filterFactory=Se,this._pdfBug=Fe,this.pageColors=Ne,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=se===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Z.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:E=!1,optionalContentConfig:Z}){var pe,xe;if(this.cancelled)return;if(this._canvas){if(u(Y,C).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Y,C).add(this._canvas)}this._pdfBug&&((pe=globalThis.StepperManager)!=null&&pe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:W,viewport:ce,transform:fe,background:J}=this.params;this.gfx=new _canvas.CanvasGraphics(W,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Z},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:fe,viewport:ce,transparency:E,background:J}),this.operatorListIdx=0,this.graphicsReady=!0,(xe=this.graphicsReadyCallback)==null||xe.call(this)}cancel(E=null,Z=0){var W;this.running=!1,this.cancelled=!0,(W=this.gfx)==null||W.endDrawing(),u(Y,C).delete(this._canvas),this.callback(E||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Z))}operatorListChanged(){var E;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(E=this.stepper)==null||E.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Y,C).delete(this._canvas),this.callback())))}};C=new WeakMap,re(Y,C,new WeakSet);let InternalRenderTask=Y;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,n,s)=>{var A,d,x,gc,D;Object.defineProperty(n,"__esModule",{value:!0}),n.SerializableEmpty=n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var r=s(1),o=s(4),l=s(8);const c=Object.freeze({map:null,hash:"",transfers:void 0});n.SerializableEmpty=c;class y{constructor(){re(this,x);re(this,A,!1);re(this,d,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(M,w){const O=u(this,d).get(M);return O===void 0?w:Object.assign(w,O)}getRawValue(M){return u(this,d).get(M)}remove(M){if(u(this,d).delete(M),u(this,d).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const w of u(this,d).values())if(w instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(M,w){const O=u(this,d).get(M);let H=!1;if(O!==void 0)for(const[U,I]of Object.entries(w))O[U]!==I&&(H=!0,O[U]=I);else H=!0,u(this,d).set(M,w);H&&ge(this,x,gc).call(this),w instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(w.constructor._type)}has(M){return u(this,d).has(M)}getAll(){return u(this,d).size>0?(0,r.objectFromMap)(u(this,d)):null}setAll(M){for(const[w,O]of Object.entries(M))this.setValue(w,O)}get size(){return u(this,d).size}resetModified(){u(this,A)&&(Re(this,A,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(u(this,d).size===0)return c;const M=new Map,w=new l.MurmurHash3_64,O=[],H=Object.create(null);let U=!1;for(const[I,S]of u(this,d)){const C=S instanceof o.AnnotationEditor?S.serialize(!1,H):S;C&&(M.set(I,C),w.update(`${I}:${JSON.stringify(C)}`),U||(U=!!C.bitmap))}if(U)for(const I of M.values())I.bitmap&&O.push(I.bitmap);return M.size>0?{map:M,hash:w.hexdigest(),transfers:O}:c}}A=new WeakMap,d=new WeakMap,x=new WeakSet,gc=function(){u(this,A)||(Re(this,A,!0),typeof this.onSetModified=="function"&&this.onSetModified())},n.AnnotationStorage=y;class b extends y{constructor(w){super();re(this,D,void 0);const{map:O,hash:H,transfers:U}=w.serializable,I=structuredClone(O,U?{transfer:U}:null);Re(this,D,{map:I,hash:H,transfers:U})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,D)}}D=new WeakMap,n.PrintAnnotationStorage=b},(e,n,s)=>{var b,A,d,x,z,D,F,M,w,O,H,U,I,S,C,uo,$,ho,Z,fo,ce,po,J,mc,xe,_c,se,bc,Ne,go,ze,vc;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var r=s(5),o=s(1),l=s(6);const g=class g{constructor(m){re(this,C);re(this,$);re(this,ce);re(this,J);re(this,xe);re(this,se);re(this,Ne);re(this,ze);re(this,b,"");re(this,A,!1);re(this,d,null);re(this,x,null);re(this,z,null);re(this,D,!1);re(this,F,null);re(this,M,this.focusin.bind(this));re(this,w,this.focusout.bind(this));re(this,O,!1);re(this,H,!1);re(this,U,!1);Nt(this,"_initialOptions",Object.create(null));Nt(this,"_uiManager",null);Nt(this,"_focusEventsAllowed",!0);Nt(this,"_l10nPromise",null);re(this,I,!1);re(this,S,g._zIndex++);this.constructor===g&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=m.parent,this.id=m.id,this.width=this.height=null,this.pageIndex=m.parent.pageIndex,this.name=m.name,this.div=null,this._uiManager=m.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=m.isCentered,this._structTreeParentId=null;const{rotation:T,rawDims:{pageWidth:k,pageHeight:q,pageX:Q,pageY:ae}}=this.parent.viewport;this.rotation=T,this.pageRotation=(360+T-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[k,q],this.pageTranslation=[Q,ae];const[we,R]=this.parentDimensions;this.x=m.x/we,this.y=m.y/R,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(m){const T=new y({id:m.parent.getNextId(),parent:m.parent,uiManager:m._uiManager});T.annotationElementId=m.annotationElementId,T.deleted=!0,T._uiManager.addToAnnotationStorage(T)}static initialize(m,T=null){if(g._l10nPromise||(g._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(q=>[q,m.get(q)]))),T!=null&&T.strings)for(const q of T.strings)g._l10nPromise.set(q,m.get(q));if(g._borderLineWidth!==-1)return;const k=getComputedStyle(document.documentElement);g._borderLineWidth=parseFloat(k.getPropertyValue("--outline-width"))||0}static updateDefaultParams(m,T){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(m){return!1}static paste(m,T){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,I)}set _isDraggable(m){var T;Re(this,I,m),(T=this.div)==null||T.classList.toggle("draggable",m)}center(){const[m,T]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*T/(m*2),this.y+=this.width*m/(T*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*T/(m*2),this.y-=this.width*m/(T*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(m){this._uiManager.addCommands(m)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,S)}setParent(m){m!==null&&(this.pageIndex=m.pageIndex,this.pageDimensions=m.pageDimensions),this.parent=m}focusin(m){this._focusEventsAllowed&&(u(this,O)?Re(this,O,!1):this.parent.setSelected(this))}focusout(m){var k;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const T=m.relatedTarget;T!=null&&T.closest(`#${this.id}`)||(m.preventDefault(),(k=this.parent)!=null&&k.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(m,T,k,q){const[Q,ae]=this.parentDimensions;[k,q]=this.screenToPageTranslation(k,q),this.x=(m+k)/Q,this.y=(T+q)/ae,this.fixAndSetPosition()}translate(m,T){ge(this,C,uo).call(this,this.parentDimensions,m,T)}translateInPage(m,T){ge(this,C,uo).call(this,this.pageDimensions,m,T),this.div.scrollIntoView({block:"nearest"})}drag(m,T){const[k,q]=this.parentDimensions;if(this.x+=m/k,this.y+=T/q,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:B,y:ee}=this.div.getBoundingClientRect();this.parent.findNewParent(this,B,ee)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Q,y:ae}=this;const[we,R]=ge(this,$,ho).call(this);Q+=we,ae+=R,this.div.style.left=`${(100*Q).toFixed(2)}%`,this.div.style.top=`${(100*ae).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[m,T]=this.pageDimensions;let{x:k,y:q,width:Q,height:ae}=this;switch(Q*=m,ae*=T,k*=m,q*=T,this.rotation){case 0:k=Math.max(0,Math.min(m-Q,k)),q=Math.max(0,Math.min(T-ae,q));break;case 90:k=Math.max(0,Math.min(m-ae,k)),q=Math.min(T,Math.max(Q,q));break;case 180:k=Math.min(m,Math.max(Q,k)),q=Math.min(T,Math.max(ae,q));break;case 270:k=Math.min(m,Math.max(ae,k)),q=Math.max(0,Math.min(T-Q,q));break}this.x=k/=m,this.y=q/=T;const[we,R]=ge(this,$,ho).call(this);k+=we,q+=R;const{style:B}=this.div;B.left=`${(100*k).toFixed(2)}%`,B.top=`${(100*q).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(m,T){var k;return ge(k=g,Z,fo).call(k,m,T,this.parentRotation)}pageTranslationToScreen(m,T){var k;return ge(k=g,Z,fo).call(k,m,T,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:m,pageDimensions:[T,k]}=this,q=T*m,Q=k*m;return o.FeatureTest.isCSSRoundSupported?[Math.round(q),Math.round(Q)]:[q,Q]}setDims(m,T){var Q;const[k,q]=this.parentDimensions;this.div.style.width=`${(100*m/k).toFixed(2)}%`,u(this,D)||(this.div.style.height=`${(100*T/q).toFixed(2)}%`),(Q=u(this,d))==null||Q.classList.toggle("small",m<g.SMALL_EDITOR_SIZE||T<g.SMALL_EDITOR_SIZE)}fixDims(){const{style:m}=this.div,{height:T,width:k}=m,q=k.endsWith("%"),Q=!u(this,D)&&T.endsWith("%");if(q&&Q)return;const[ae,we]=this.parentDimensions;q||(m.width=`${(100*parseFloat(k)/ae).toFixed(2)}%`),!u(this,D)&&!Q&&(m.height=`${(100*parseFloat(T)/we).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(u(this,d))return;const m=Re(this,d,document.createElement("button"));m.className="altText";const T=await g._l10nPromise.get("editor_alt_text_button_label");m.textContent=T,m.setAttribute("aria-label",T),m.tabIndex="0",m.addEventListener("contextmenu",l.noContextMenu),m.addEventListener("pointerdown",k=>k.stopPropagation()),m.addEventListener("click",k=>{k.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),m.addEventListener("keydown",k=>{k.target===m&&k.key==="Enter"&&(k.preventDefault(),this._uiManager.editAltText(this))}),ge(this,Ne,go).call(this),this.div.append(m),g.SMALL_EDITOR_SIZE||(g.SMALL_EDITOR_SIZE=Math.min(128,Math.round(m.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:u(this,b),decorative:u(this,A)}}set altTextData({altText:m,decorative:T}){u(this,b)===m&&u(this,A)===T||(Re(this,b,m),Re(this,A,T),ge(this,Ne,go).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",u(this,M)),this.div.addEventListener("focusout",u(this,w));const[m,T]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*T/m).toFixed(2)}%`,this.div.style.maxHeight=`${(100*m/T).toFixed(2)}%`);const[k,q]=this.getInitialTranslation();return this.translate(k,q),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(m){const{isMac:T}=o.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&T){m.preventDefault();return}Re(this,O,!0),ge(this,ze,vc).call(this,m)}moveInDOM(){var m;(m=this.parent)==null||m.moveEditorInDOM(this)}_setParentAndPosition(m,T,k){m.changeParent(this),this.x=T,this.y=k,this.fixAndSetPosition()}getRect(m,T){const k=this.parentScale,[q,Q]=this.pageDimensions,[ae,we]=this.pageTranslation,R=m/k,B=T/k,ee=this.x*q,be=this.y*Q,oe=this.width*q,Ce=this.height*Q;switch(this.rotation){case 0:return[ee+R+ae,Q-be-B-Ce+we,ee+R+oe+ae,Q-be-B+we];case 90:return[ee+B+ae,Q-be+R+we,ee+B+Ce+ae,Q-be+R+oe+we];case 180:return[ee-R-oe+ae,Q-be+B+we,ee-R+ae,Q-be+B+Ce+we];case 270:return[ee-B-Ce+ae,Q-be-R-oe+we,ee-B+ae,Q-be-R+we];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(m,T){const[k,q,Q,ae]=m,we=Q-k,R=ae-q;switch(this.rotation){case 0:return[k,T-ae,we,R];case 90:return[k,T-q,R,we];case 180:return[Q,T-q,we,R];case 270:return[Q,T-ae,R,we];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Re(this,U,!0)}disableEditMode(){Re(this,U,!1)}isInEditMode(){return u(this,U)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var m,T;(m=this.div)==null||m.addEventListener("focusin",u(this,M)),(T=this.div)==null||T.addEventListener("focusout",u(this,w))}serialize(m=!1,T=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(m,T,k){const q=new this.prototype.constructor({parent:T,id:T.getNextId(),uiManager:k});q.rotation=m.rotation;const[Q,ae]=q.pageDimensions,[we,R,B,ee]=q.getRectInCurrentCoords(m.rect,ae);return q.x=we/Q,q.y=R/ae,q.width=B/Q,q.height=ee/ae,q}remove(){var m;this.div.removeEventListener("focusin",u(this,M)),this.div.removeEventListener("focusout",u(this,w)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(m=u(this,d))==null||m.remove(),Re(this,d,null),Re(this,x,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ge(this,J,mc).call(this),u(this,F).classList.remove("hidden"))}select(){var m;this.makeResizable(),(m=this.div)==null||m.classList.add("selectedEditor")}unselect(){var m,T,k;(m=u(this,F))==null||m.classList.add("hidden"),(T=this.div)==null||T.classList.remove("selectedEditor"),(k=this.div)!=null&&k.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(m,T){}disableEditing(){u(this,d)&&(u(this,d).hidden=!0)}enableEditing(){u(this,d)&&(u(this,d).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return u(this,H)}set isEditing(m){Re(this,H,m),this.parent&&(m?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(m,T){Re(this,D,!0);const k=m/T,{style:q}=this.div;q.aspectRatio=k,q.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,A=new WeakMap,d=new WeakMap,x=new WeakMap,z=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,H=new WeakMap,U=new WeakMap,I=new WeakMap,S=new WeakMap,C=new WeakSet,uo=function([m,T],k,q){[k,q]=this.screenToPageTranslation(k,q),this.x+=k/m,this.y+=q/T,this.fixAndSetPosition()},$=new WeakSet,ho=function(){const[m,T]=this.parentDimensions,{_borderLineWidth:k}=g,q=k/m,Q=k/T;switch(this.rotation){case 90:return[-q,Q];case 180:return[q,Q];case 270:return[q,-Q];default:return[-q,-Q]}},Z=new WeakSet,fo=function(m,T,k){switch(k){case 90:return[T,-m];case 180:return[-m,-T];case 270:return[-T,m];default:return[m,T]}},ce=new WeakSet,po=function(m){switch(m){case 90:{const[T,k]=this.pageDimensions;return[0,-T/k,k/T,0]}case 180:return[-1,0,0,-1];case 270:{const[T,k]=this.pageDimensions;return[0,T/k,-k/T,0]}default:return[1,0,0,1]}},J=new WeakSet,mc=function(){if(u(this,F))return;Re(this,F,document.createElement("div")),u(this,F).classList.add("resizers");const m=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||m.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const T of m){const k=document.createElement("div");u(this,F).append(k),k.classList.add("resizer",T),k.addEventListener("pointerdown",ge(this,xe,_c).bind(this,T)),k.addEventListener("contextmenu",l.noContextMenu)}this.div.prepend(u(this,F))},xe=new WeakSet,_c=function(m,T){T.preventDefault();const{isMac:k}=o.FeatureTest.platform;if(T.button!==0||T.ctrlKey&&k)return;const q=ge(this,se,bc).bind(this,m),Q=this._isDraggable;this._isDraggable=!1;const ae={passive:!0,capture:!0};window.addEventListener("pointermove",q,ae);const we=this.x,R=this.y,B=this.width,ee=this.height,be=this.parent.div.style.cursor,oe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(T.target).cursor;const Ce=()=>{this._isDraggable=Q,window.removeEventListener("pointerup",Ce),window.removeEventListener("blur",Ce),window.removeEventListener("pointermove",q,ae),this.parent.div.style.cursor=be,this.div.style.cursor=oe;const Ie=this.x,Ee=this.y,Pe=this.width,he=this.height;Ie===we&&Ee===R&&Pe===B&&he===ee||this.addCommands({cmd:()=>{this.width=Pe,this.height=he,this.x=Ie,this.y=Ee;const[le,ie]=this.parentDimensions;this.setDims(le*Pe,ie*he),this.fixAndSetPosition()},undo:()=>{this.width=B,this.height=ee,this.x=we,this.y=R;const[le,ie]=this.parentDimensions;this.setDims(le*B,ie*ee),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ce),window.addEventListener("blur",Ce)},se=new WeakSet,bc=function(m,T){const[k,q]=this.parentDimensions,Q=this.x,ae=this.y,we=this.width,R=this.height,B=g.MIN_SIZE/k,ee=g.MIN_SIZE/q,be=$e=>Math.round($e*1e4)/1e4,oe=ge(this,ce,po).call(this,this.rotation),Ce=($e,We)=>[oe[0]*$e+oe[2]*We,oe[1]*$e+oe[3]*We],Ie=ge(this,ce,po).call(this,360-this.rotation),Ee=($e,We)=>[Ie[0]*$e+Ie[2]*We,Ie[1]*$e+Ie[3]*We];let Pe,he,le=!1,ie=!1;switch(m){case"topLeft":le=!0,Pe=($e,We)=>[0,0],he=($e,We)=>[$e,We];break;case"topMiddle":Pe=($e,We)=>[$e/2,0],he=($e,We)=>[$e/2,We];break;case"topRight":le=!0,Pe=($e,We)=>[$e,0],he=($e,We)=>[0,We];break;case"middleRight":ie=!0,Pe=($e,We)=>[$e,We/2],he=($e,We)=>[0,We/2];break;case"bottomRight":le=!0,Pe=($e,We)=>[$e,We],he=($e,We)=>[0,0];break;case"bottomMiddle":Pe=($e,We)=>[$e/2,We],he=($e,We)=>[$e/2,0];break;case"bottomLeft":le=!0,Pe=($e,We)=>[0,We],he=($e,We)=>[$e,0];break;case"middleLeft":ie=!0,Pe=($e,We)=>[0,We/2],he=($e,We)=>[$e,We/2];break}const ve=Pe(we,R),Oe=he(we,R);let De=Ce(...Oe);const Ze=be(Q+De[0]),Xe=be(ae+De[1]);let nt=1,lt=1,[ht,st]=this.screenToPageTranslation(T.movementX,T.movementY);if([ht,st]=Ee(ht/k,st/q),le){const $e=Math.hypot(we,R);nt=lt=Math.max(Math.min(Math.hypot(Oe[0]-ve[0]-ht,Oe[1]-ve[1]-st)/$e,1/we,1/R),B/we,ee/R)}else ie?nt=Math.max(B,Math.min(1,Math.abs(Oe[0]-ve[0]-ht)))/we:lt=Math.max(ee,Math.min(1,Math.abs(Oe[1]-ve[1]-st)))/R;const pt=be(we*nt),Me=be(R*lt);De=Ce(...he(pt,Me));const me=Ze-De[0],de=Xe-De[1];this.width=pt,this.height=Me,this.x=me,this.y=de,this.setDims(k*pt,q*Me),this.fixAndSetPosition()},Ne=new WeakSet,go=async function(){var k;const m=u(this,d);if(!m)return;if(!u(this,b)&&!u(this,A)){m.classList.remove("done"),(k=u(this,x))==null||k.remove();return}g._l10nPromise.get("editor_alt_text_edit_button_label").then(q=>{m.setAttribute("aria-label",q)});let T=u(this,x);if(!T){Re(this,x,T=document.createElement("span")),T.className="tooltip",T.setAttribute("role","tooltip");const q=T.id=`alt-text-tooltip-${this.id}`;m.setAttribute("aria-describedby",q);const Q=100;m.addEventListener("mouseenter",()=>{Re(this,z,setTimeout(()=>{Re(this,z,null),u(this,x).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Q))}),m.addEventListener("mouseleave",()=>{var ae;clearTimeout(u(this,z)),Re(this,z,null),(ae=u(this,x))==null||ae.classList.remove("show")})}m.classList.add("done"),T.innerText=u(this,A)?await g._l10nPromise.get("editor_alt_text_decorative_tooltip"):u(this,b),T.parentNode||m.append(T)},ze=new WeakSet,vc=function(m){if(!this._isDraggable)return;const T=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let k,q;T&&(k={passive:!0,capture:!0},q=ae=>{const[we,R]=this.screenToPageTranslation(ae.movementX,ae.movementY);this._uiManager.dragSelectedEditors(we,R)},window.addEventListener("pointermove",q,k));const Q=()=>{if(window.removeEventListener("pointerup",Q),window.removeEventListener("blur",Q),T&&window.removeEventListener("pointermove",q,k),Re(this,O,!1),!this._uiManager.endDragSession()){const{isMac:ae}=o.FeatureTest.platform;m.ctrlKey&&!ae||m.shiftKey||m.metaKey&&ae?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Q),window.addEventListener("blur",Q)},re(g,Z),Nt(g,"_borderLineWidth",-1),Nt(g,"_colorManager",new r.ColorManager),Nt(g,"_zIndex",1),Nt(g,"SMALL_EDITOR_SIZE",0);let c=g;n.AnnotationEditor=c;class y extends c{constructor(m){super(m),this.annotationElementId=m.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,n,s)=>{var D,F,M,w,O,mo,I,S,C,Y,$,yc,W,ce,fe,J,pe,xe,Se,se,Fe,Ne,Be,ze,K,g,v,m,T,k,q,Q,ae,we,R,B,ee,be,oe,Ce,Ie,Ee,Pe,he,le,ie,ve,Ac,De,_o,Xe,bo,lt,Us,st,vo,Me,yo,de,wn,We,ji,Rt,Sc,Ke,Ec,Ye,Ao,ct,zi,Ue,So;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=l,n.opacityToHex=c;var r=s(1),o=s(6);function l(te,f,V){for(const ne of V)f.addEventListener(ne,te[ne].bind(te))}function c(te){return Math.round(Math.min(255,Math.max(1,255*te))).toString(16).padStart(2,"0")}class y{constructor(){re(this,D,0)}getId(){return`${r.AnnotationEditorPrefix}${Vi(this,D)._++}`}}D=new WeakMap;const U=class U{constructor(){re(this,O);re(this,F,(0,r.getUuid)());re(this,M,0);re(this,w,null)}static get _isSVGFittingCanvas(){const f='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ne=new OffscreenCanvas(1,3).getContext("2d"),N=new Image;N.src=f;const L=N.decode().then(()=>(ne.drawImage(N,0,0,1,1,0,0,1,3),new Uint32Array(ne.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",L)}async getFromFile(f){const{lastModified:V,name:ne,size:N,type:L}=f;return ge(this,O,mo).call(this,`${V}_${ne}_${N}_${L}`,f)}async getFromUrl(f){return ge(this,O,mo).call(this,f,f)}async getFromId(f){u(this,w)||Re(this,w,new Map);const V=u(this,w).get(f);return V?V.bitmap?(V.refCounter+=1,V):V.file?this.getFromFile(V.file):this.getFromUrl(V.url):null}getSvgUrl(f){const V=u(this,w).get(f);return V!=null&&V.isSvg?V.svgUrl:null}deleteId(f){u(this,w)||Re(this,w,new Map);const V=u(this,w).get(f);V&&(V.refCounter-=1,V.refCounter===0&&(V.bitmap=null))}isValidId(f){return f.startsWith(`image_${u(this,F)}_`)}};F=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakSet,mo=async function(f,V){u(this,w)||Re(this,w,new Map);let ne=u(this,w).get(f);if(ne===null)return null;if(ne!=null&&ne.bitmap)return ne.refCounter+=1,ne;try{ne||(ne={bitmap:null,id:`image_${u(this,F)}_${Vi(this,M)._++}`,refCounter:0,isSvg:!1});let N;if(typeof V=="string"){ne.url=V;const L=await fetch(V);if(!L.ok)throw new Error(L.statusText);N=await L.blob()}else N=ne.file=V;if(N.type==="image/svg+xml"){const L=U._isSVGFittingCanvas,G=new FileReader,_e=new Image,Ve=new Promise((qe,at)=>{_e.onload=()=>{ne.bitmap=_e,ne.isSvg=!0,qe()},G.onload=async()=>{const Qe=ne.svgUrl=G.result;_e.src=await L?`${Qe}#svgView(preserveAspectRatio(none))`:Qe},_e.onerror=G.onerror=at});G.readAsDataURL(N),await Ve}else ne.bitmap=await createImageBitmap(N);ne.refCounter=1}catch(N){console.error(N),ne=null}return u(this,w).set(f,ne),ne&&u(this,w).set(ne.id,ne),ne};let b=U;class A{constructor(f=128){re(this,I,[]);re(this,S,!1);re(this,C,void 0);re(this,Y,-1);Re(this,C,f)}add({cmd:f,undo:V,mustExec:ne,type:N=NaN,overwriteIfSameType:L=!1,keepUndo:G=!1}){if(ne&&f(),u(this,S))return;const _e={cmd:f,undo:V,type:N};if(u(this,Y)===-1){u(this,I).length>0&&(u(this,I).length=0),Re(this,Y,0),u(this,I).push(_e);return}if(L&&u(this,I)[u(this,Y)].type===N){G&&(_e.undo=u(this,I)[u(this,Y)].undo),u(this,I)[u(this,Y)]=_e;return}const Ve=u(this,Y)+1;Ve===u(this,C)?u(this,I).splice(0,1):(Re(this,Y,Ve),Ve<u(this,I).length&&u(this,I).splice(Ve)),u(this,I).push(_e)}undo(){u(this,Y)!==-1&&(Re(this,S,!0),u(this,I)[u(this,Y)].undo(),Re(this,S,!1),Re(this,Y,u(this,Y)-1))}redo(){u(this,Y)<u(this,I).length-1&&(Re(this,Y,u(this,Y)+1),Re(this,S,!0),u(this,I)[u(this,Y)].cmd(),Re(this,S,!1))}hasSomethingToUndo(){return u(this,Y)!==-1}hasSomethingToRedo(){return u(this,Y)<u(this,I).length-1}destroy(){Re(this,I,null)}}I=new WeakMap,S=new WeakMap,C=new WeakMap,Y=new WeakMap,n.CommandManager=A;class d{constructor(f){re(this,$);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:V}=r.FeatureTest.platform;for(const[ne,N,L={}]of f)for(const G of ne){const _e=G.startsWith("mac+");V&&_e?(this.callbacks.set(G.slice(4),{callback:N,options:L}),this.allKeys.add(G.split("+").at(-1))):!V&&!_e&&(this.callbacks.set(G,{callback:N,options:L}),this.allKeys.add(G.split("+").at(-1)))}}exec(f,V){if(!this.allKeys.has(V.key))return;const ne=this.callbacks.get(ge(this,$,yc).call(this,V));if(!ne)return;const{callback:N,options:{bubbles:L=!1,args:G=[],checker:_e=null}}=ne;_e&&!_e(f,V)||(N.bind(f,...G)(),L||(V.stopPropagation(),V.preventDefault()))}}$=new WeakSet,yc=function(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);const V=this.buffer.join("+");return this.buffer.length=0,V},n.KeyboardManager=d;const Z=class Z{get _colors(){const f=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(f),(0,r.shadow)(this,"_colors",f)}convert(f){const V=(0,o.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return V;for(const[ne,N]of this._colors)if(N.every((L,G)=>L===V[G]))return Z._colorsMapping.get(ne);return V}getHexCode(f){const V=this._colors.get(f);return V?r.Util.makeHexColor(...V):f}};Nt(Z,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let x=Z;n.ColorManager=x;const it=class it{constructor(f,V,ne,N,L,G){re(this,ve);re(this,De);re(this,Xe);re(this,lt);re(this,st);re(this,Me);re(this,de);re(this,We);re(this,Rt);re(this,Ke);re(this,Ye);re(this,ct);re(this,Ue);re(this,W,null);re(this,ce,new Map);re(this,fe,new Map);re(this,J,null);re(this,pe,null);re(this,xe,new A);re(this,Se,0);re(this,se,new Set);re(this,Fe,null);re(this,Ne,null);re(this,Be,new Set);re(this,ze,null);re(this,K,new y);re(this,g,!1);re(this,v,!1);re(this,m,null);re(this,T,r.AnnotationEditorType.NONE);re(this,k,new Set);re(this,q,null);re(this,Q,this.blur.bind(this));re(this,ae,this.focus.bind(this));re(this,we,this.copy.bind(this));re(this,R,this.cut.bind(this));re(this,B,this.paste.bind(this));re(this,ee,this.keydown.bind(this));re(this,be,this.onEditingAction.bind(this));re(this,oe,this.onPageChanging.bind(this));re(this,Ce,this.onScaleChanging.bind(this));re(this,Ie,this.onRotationChanging.bind(this));re(this,Ee,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});re(this,Pe,[0,0]);re(this,he,null);re(this,le,null);re(this,ie,null);Re(this,le,f),Re(this,ie,V),Re(this,J,ne),this._eventBus=N,this._eventBus._on("editingaction",u(this,be)),this._eventBus._on("pagechanging",u(this,oe)),this._eventBus._on("scalechanging",u(this,Ce)),this._eventBus._on("rotationchanging",u(this,Ie)),Re(this,pe,L.annotationStorage),Re(this,ze,L.filterFactory),Re(this,q,G),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const f=it.prototype,V=L=>{const{activeElement:G}=document;return G&&u(L,le).contains(G)&&L.hasSomethingToControl()},ne=this.TRANSLATE_SMALL,N=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new d([[["ctrl+a","mac+meta+a"],f.selectAll],[["ctrl+z","mac+meta+z"],f.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],f.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],f.delete],[["Escape","mac+Escape"],f.unselectAll],[["ArrowLeft","mac+ArrowLeft"],f.translateSelectedEditors,{args:[-ne,0],checker:V}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f.translateSelectedEditors,{args:[-N,0],checker:V}],[["ArrowRight","mac+ArrowRight"],f.translateSelectedEditors,{args:[ne,0],checker:V}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f.translateSelectedEditors,{args:[N,0],checker:V}],[["ArrowUp","mac+ArrowUp"],f.translateSelectedEditors,{args:[0,-ne],checker:V}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f.translateSelectedEditors,{args:[0,-N],checker:V}],[["ArrowDown","mac+ArrowDown"],f.translateSelectedEditors,{args:[0,ne],checker:V}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f.translateSelectedEditors,{args:[0,N],checker:V}]]))}destroy(){ge(this,lt,Us).call(this),ge(this,De,_o).call(this),this._eventBus._off("editingaction",u(this,be)),this._eventBus._off("pagechanging",u(this,oe)),this._eventBus._off("scalechanging",u(this,Ce)),this._eventBus._off("rotationchanging",u(this,Ie));for(const f of u(this,fe).values())f.destroy();u(this,fe).clear(),u(this,ce).clear(),u(this,Be).clear(),Re(this,W,null),u(this,k).clear(),u(this,xe).destroy(),u(this,J).destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",u(this,q)?u(this,ze).addHCMFilter(u(this,q).foreground,u(this,q).background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(u(this,le)).direction)}editAltText(f){var V;(V=u(this,J))==null||V.editAltText(this,f)}onPageChanging({pageNumber:f}){Re(this,Se,f-1)}focusMainContainer(){u(this,le).focus()}findParent(f,V){for(const ne of u(this,fe).values()){const{x:N,y:L,width:G,height:_e}=ne.div.getBoundingClientRect();if(f>=N&&f<=N+G&&V>=L&&V<=L+_e)return ne}return null}disableUserSelect(f=!1){u(this,ie).classList.toggle("noUserSelect",f)}addShouldRescale(f){u(this,Be).add(f)}removeShouldRescale(f){u(this,Be).delete(f)}onScaleChanging({scale:f}){this.commitOrRemove(),this.viewParameters.realScale=f*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const V of u(this,Be))V.onScaleChanging()}onRotationChanging({pagesRotation:f}){this.commitOrRemove(),this.viewParameters.rotation=f}addToAnnotationStorage(f){!f.isEmpty()&&u(this,pe)&&!u(this,pe).has(f.id)&&u(this,pe).setValue(f.id,f)}blur(){if(!this.hasSelection)return;const{activeElement:f}=document;for(const V of u(this,k))if(V.div.contains(f)){Re(this,m,[V,f]),V._focusEventsAllowed=!1;break}}focus(){if(!u(this,m))return;const[f,V]=u(this,m);Re(this,m,null),V.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),V.focus()}addEditListeners(){ge(this,Xe,bo).call(this),ge(this,st,vo).call(this)}removeEditListeners(){ge(this,lt,Us).call(this),ge(this,Me,yo).call(this)}copy(f){var ne;if(f.preventDefault(),(ne=u(this,W))==null||ne.commitOrRemove(),!this.hasSelection)return;const V=[];for(const N of u(this,k)){const L=N.serialize(!0);L&&V.push(L)}V.length!==0&&f.clipboardData.setData("application/pdfjs",JSON.stringify(V))}cut(f){this.copy(f),this.delete()}paste(f){f.preventDefault();const{clipboardData:V}=f;for(const L of V.items)for(const G of u(this,Ne))if(G.isHandlingMimeForPasting(L.type)){G.paste(L,this.currentLayer);return}let ne=V.getData("application/pdfjs");if(!ne)return;try{ne=JSON.parse(ne)}catch(L){(0,r.warn)(`paste: "${L.message}".`);return}if(!Array.isArray(ne))return;this.unselectAll();const N=this.currentLayer;try{const L=[];for(const Ve of ne){const qe=N.deserialize(Ve);if(!qe)return;L.push(qe)}const G=()=>{for(const Ve of L)ge(this,Ye,Ao).call(this,Ve);ge(this,Ue,So).call(this,L)},_e=()=>{for(const Ve of L)Ve.remove()};this.addCommands({cmd:G,undo:_e,mustExec:!0})}catch(L){(0,r.warn)(`paste: "${L.message}".`)}}keydown(f){var V;(V=this.getActive())!=null&&V.shouldGetKeyboardEvents()||it._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","delete","selectAll"].includes(f.name)&&this[f.name]()}setEditingState(f){f?(ge(this,ve,Ac).call(this),ge(this,Xe,bo).call(this),ge(this,st,vo).call(this),ge(this,de,wn).call(this,{isEditing:u(this,T)!==r.AnnotationEditorType.NONE,isEmpty:ge(this,ct,zi).call(this),hasSomethingToUndo:u(this,xe).hasSomethingToUndo(),hasSomethingToRedo:u(this,xe).hasSomethingToRedo(),hasSelectedEditor:!1})):(ge(this,De,_o).call(this),ge(this,lt,Us).call(this),ge(this,Me,yo).call(this),ge(this,de,wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(f){if(!u(this,Ne)){Re(this,Ne,f);for(const V of u(this,Ne))ge(this,We,ji).call(this,V.defaultPropertiesToUpdate)}}getId(){return u(this,K).getId()}get currentLayer(){return u(this,fe).get(u(this,Se))}getLayer(f){return u(this,fe).get(f)}get currentPageIndex(){return u(this,Se)}addLayer(f){u(this,fe).set(f.pageIndex,f),u(this,g)?f.enable():f.disable()}removeLayer(f){u(this,fe).delete(f.pageIndex)}updateMode(f,V=null){if(u(this,T)!==f){if(Re(this,T,f),f===r.AnnotationEditorType.NONE){this.setEditingState(!1),ge(this,Ke,Ec).call(this);return}this.setEditingState(!0),ge(this,Rt,Sc).call(this),this.unselectAll();for(const ne of u(this,fe).values())ne.updateMode(f);if(V){for(const ne of u(this,ce).values())if(ne.annotationElementId===V){this.setSelected(ne),ne.enterInEditMode();break}}}}updateToolbar(f){f!==u(this,T)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,V){if(u(this,Ne)){if(f===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(f);return}for(const ne of u(this,k))ne.updateParams(f,V);for(const ne of u(this,Ne))ne.updateDefaultParams(f,V)}}enableWaiting(f=!1){if(u(this,v)!==f){Re(this,v,f);for(const V of u(this,fe).values())f?V.disableClick():V.enableClick(),V.div.classList.toggle("waiting",f)}}getEditors(f){const V=[];for(const ne of u(this,ce).values())ne.pageIndex===f&&V.push(ne);return V}getEditor(f){return u(this,ce).get(f)}addEditor(f){u(this,ce).set(f.id,f)}removeEditor(f){var V;u(this,ce).delete(f.id),this.unselect(f),(!f.annotationElementId||!u(this,se).has(f.annotationElementId))&&((V=u(this,pe))==null||V.remove(f.id))}addDeletedAnnotationElement(f){u(this,se).add(f.annotationElementId),f.deleted=!0}isDeletedAnnotationElement(f){return u(this,se).has(f)}removeDeletedAnnotationElement(f){u(this,se).delete(f.annotationElementId),f.deleted=!1}setActiveEditor(f){u(this,W)!==f&&(Re(this,W,f),f&&ge(this,We,ji).call(this,f.propertiesToUpdate))}toggleSelected(f){if(u(this,k).has(f)){u(this,k).delete(f),f.unselect(),ge(this,de,wn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,k).add(f),f.select(),ge(this,We,ji).call(this,f.propertiesToUpdate),ge(this,de,wn).call(this,{hasSelectedEditor:!0})}setSelected(f){for(const V of u(this,k))V!==f&&V.unselect();u(this,k).clear(),u(this,k).add(f),f.select(),ge(this,We,ji).call(this,f.propertiesToUpdate),ge(this,de,wn).call(this,{hasSelectedEditor:!0})}isSelected(f){return u(this,k).has(f)}unselect(f){f.unselect(),u(this,k).delete(f),ge(this,de,wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,k).size!==0}undo(){u(this,xe).undo(),ge(this,de,wn).call(this,{hasSomethingToUndo:u(this,xe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ge(this,ct,zi).call(this)})}redo(){u(this,xe).redo(),ge(this,de,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,xe).hasSomethingToRedo(),isEmpty:ge(this,ct,zi).call(this)})}addCommands(f){u(this,xe).add(f),ge(this,de,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ge(this,ct,zi).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const f=[...u(this,k)],V=()=>{for(const N of f)N.remove()},ne=()=>{for(const N of f)ge(this,Ye,Ao).call(this,N)};this.addCommands({cmd:V,undo:ne,mustExec:!0})}commitOrRemove(){var f;(f=u(this,W))==null||f.commitOrRemove()}hasSomethingToControl(){return u(this,W)||this.hasSelection}selectAll(){for(const f of u(this,k))f.commit();ge(this,Ue,So).call(this,u(this,ce).values())}unselectAll(){if(u(this,W)){u(this,W).commitOrRemove();return}if(this.hasSelection){for(const f of u(this,k))f.unselect();u(this,k).clear(),ge(this,de,wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(f,V,ne=!1){if(ne||this.commitOrRemove(),!this.hasSelection)return;u(this,Pe)[0]+=f,u(this,Pe)[1]+=V;const[N,L]=u(this,Pe),G=[...u(this,k)],_e=1e3;u(this,he)&&clearTimeout(u(this,he)),Re(this,he,setTimeout(()=>{Re(this,he,null),u(this,Pe)[0]=u(this,Pe)[1]=0,this.addCommands({cmd:()=>{for(const Ve of G)u(this,ce).has(Ve.id)&&Ve.translateInPage(N,L)},undo:()=>{for(const Ve of G)u(this,ce).has(Ve.id)&&Ve.translateInPage(-N,-L)},mustExec:!1})},_e));for(const Ve of G)Ve.translateInPage(f,V)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Re(this,Fe,new Map);for(const f of u(this,k))u(this,Fe).set(f,{savedX:f.x,savedY:f.y,savedPageIndex:f.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Fe))return!1;this.disableUserSelect(!1);const f=u(this,Fe);Re(this,Fe,null);let V=!1;for(const[{x:N,y:L,pageIndex:G},_e]of f)_e.newX=N,_e.newY=L,_e.newPageIndex=G,V||(V=N!==_e.savedX||L!==_e.savedY||G!==_e.savedPageIndex);if(!V)return!1;const ne=(N,L,G,_e)=>{if(u(this,ce).has(N.id)){const Ve=u(this,fe).get(_e);Ve?N._setParentAndPosition(Ve,L,G):(N.pageIndex=_e,N.x=L,N.y=G)}};return this.addCommands({cmd:()=>{for(const[N,{newX:L,newY:G,newPageIndex:_e}]of f)ne(N,L,G,_e)},undo:()=>{for(const[N,{savedX:L,savedY:G,savedPageIndex:_e}]of f)ne(N,L,G,_e)},mustExec:!0}),!0}dragSelectedEditors(f,V){if(u(this,Fe))for(const ne of u(this,Fe).keys())ne.drag(f,V)}rebuild(f){if(f.parent===null){const V=this.getLayer(f.pageIndex);V?(V.changeParent(f),V.addOrRebuild(f)):(this.addEditor(f),this.addToAnnotationStorage(f),f.rebuild())}else f.parent.addOrRebuild(f)}isActive(f){return u(this,W)===f}getActive(){return u(this,W)}getMode(){return u(this,T)}get imageManager(){return(0,r.shadow)(this,"imageManager",new b)}};W=new WeakMap,ce=new WeakMap,fe=new WeakMap,J=new WeakMap,pe=new WeakMap,xe=new WeakMap,Se=new WeakMap,se=new WeakMap,Fe=new WeakMap,Ne=new WeakMap,Be=new WeakMap,ze=new WeakMap,K=new WeakMap,g=new WeakMap,v=new WeakMap,m=new WeakMap,T=new WeakMap,k=new WeakMap,q=new WeakMap,Q=new WeakMap,ae=new WeakMap,we=new WeakMap,R=new WeakMap,B=new WeakMap,ee=new WeakMap,be=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,he=new WeakMap,le=new WeakMap,ie=new WeakMap,ve=new WeakSet,Ac=function(){window.addEventListener("focus",u(this,ae)),window.addEventListener("blur",u(this,Q))},De=new WeakSet,_o=function(){window.removeEventListener("focus",u(this,ae)),window.removeEventListener("blur",u(this,Q))},Xe=new WeakSet,bo=function(){window.addEventListener("keydown",u(this,ee),{capture:!0})},lt=new WeakSet,Us=function(){window.removeEventListener("keydown",u(this,ee),{capture:!0})},st=new WeakSet,vo=function(){document.addEventListener("copy",u(this,we)),document.addEventListener("cut",u(this,R)),document.addEventListener("paste",u(this,B))},Me=new WeakSet,yo=function(){document.removeEventListener("copy",u(this,we)),document.removeEventListener("cut",u(this,R)),document.removeEventListener("paste",u(this,B))},de=new WeakSet,wn=function(f){Object.entries(f).some(([ne,N])=>u(this,Ee)[ne]!==N)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Ee),f)})},We=new WeakSet,ji=function(f){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:f})},Rt=new WeakSet,Sc=function(){if(!u(this,g)){Re(this,g,!0);for(const f of u(this,fe).values())f.enable()}},Ke=new WeakSet,Ec=function(){if(this.unselectAll(),u(this,g)){Re(this,g,!1);for(const f of u(this,fe).values())f.disable()}},Ye=new WeakSet,Ao=function(f){const V=u(this,fe).get(f.pageIndex);V?V.addOrRebuild(f):this.addEditor(f)},ct=new WeakSet,zi=function(){if(u(this,ce).size===0)return!0;if(u(this,ce).size===1)for(const f of u(this,ce).values())return f.isEmpty();return!1},Ue=new WeakSet,So=function(f){u(this,k).clear();for(const V of f)V.isEmpty()||(u(this,k).add(V),V.select());ge(this,de,wn).call(this,{hasSelectedEditor:!0})},Nt(it,"TRANSLATE_SMALL",1),Nt(it,"TRANSLATE_BIG",10);let z=it;n.AnnotationEditorUIManager=z},(e,n,s)=>{var Se,se,Fe,Ne,Be,ze,K,g,v,m,T,k,wi,Q,xi,we,Eo,B,Hs,be,Ws,Ce,qi,Ee,Gi;Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMFilterFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.deprecated=Y,n.getColorValues=ce,n.getCurrentTransform=fe,n.getCurrentTransformInverse=J,n.getFilenameFromUrl=O,n.getPdfFilenameFromUrl=H,n.getRGB=W,n.getXfaPageViewport=Z,n.isDataScheme=M,n.isPdfFile=w,n.isValidFetchUrl=I,n.loadScript=C,n.noContextMenu=S,n.setLayerDimensions=pe;var r=s(7),o=s(1);const l="http://www.w3.org/2000/svg",xe=class xe{};Nt(xe,"CSS",96),Nt(xe,"PDF",72),Nt(xe,"PDF_TO_CSS_UNITS",xe.CSS/xe.PDF);let c=xe;n.PixelsPerInch=c;class y extends r.BaseFilterFactory{constructor({docId:ie,ownerDocument:ve=globalThis.document}={}){super();re(this,k);re(this,Q);re(this,we);re(this,B);re(this,be);re(this,Ce);re(this,Ee);re(this,Se,void 0);re(this,se,void 0);re(this,Fe,void 0);re(this,Ne,void 0);re(this,Be,void 0);re(this,ze,void 0);re(this,K,void 0);re(this,g,void 0);re(this,v,void 0);re(this,m,void 0);re(this,T,0);Re(this,Fe,ie),Re(this,Ne,ve)}addFilter(ie){if(!ie)return"none";let ve=u(this,k,wi).get(ie);if(ve)return ve;let Oe,De,Ze,Xe;if(ie.length===1){const st=ie[0],pt=new Array(256);for(let Me=0;Me<256;Me++)pt[Me]=st[Me]/255;Xe=Oe=De=Ze=pt.join(",")}else{const[st,pt,Me]=ie,me=new Array(256),de=new Array(256),$e=new Array(256);for(let We=0;We<256;We++)me[We]=st[We]/255,de[We]=pt[We]/255,$e[We]=Me[We]/255;Oe=me.join(","),De=de.join(","),Ze=$e.join(","),Xe=`${Oe}${De}${Ze}`}if(ve=u(this,k,wi).get(Xe),ve)return u(this,k,wi).set(ie,ve),ve;const nt=`g_${u(this,Fe)}_transfer_map_${Vi(this,T)._++}`,lt=`url(#${nt})`;u(this,k,wi).set(ie,lt),u(this,k,wi).set(Xe,lt);const ht=ge(this,B,Hs).call(this,nt);return ge(this,Ce,qi).call(this,Oe,De,Ze,ht),lt}addHCMFilter(ie,ve){var pt;const Oe=`${ie}-${ve}`;if(u(this,ze)===Oe)return u(this,K);if(Re(this,ze,Oe),Re(this,K,"none"),(pt=u(this,Be))==null||pt.remove(),!ie||!ve)return u(this,K);const De=ge(this,Ee,Gi).call(this,ie);ie=o.Util.makeHexColor(...De);const Ze=ge(this,Ee,Gi).call(this,ve);if(ve=o.Util.makeHexColor(...Ze),u(this,Q,xi).style.color="",ie==="#000000"&&ve==="#ffffff"||ie===ve)return u(this,K);const Xe=new Array(256);for(let Me=0;Me<=255;Me++){const me=Me/255;Xe[Me]=me<=.03928?me/12.92:((me+.055)/1.055)**2.4}const nt=Xe.join(","),lt=`g_${u(this,Fe)}_hcm_filter`,ht=Re(this,g,ge(this,B,Hs).call(this,lt));ge(this,Ce,qi).call(this,nt,nt,nt,ht),ge(this,we,Eo).call(this,ht);const st=(Me,me)=>{const de=De[Me]/255,$e=Ze[Me]/255,We=new Array(me+1);for(let kt=0;kt<=me;kt++)We[kt]=de+kt/me*($e-de);return We.join(",")};return ge(this,Ce,qi).call(this,st(0,5),st(1,5),st(2,5),ht),Re(this,K,`url(#${lt})`),u(this,K)}addHighlightHCMFilter(ie,ve,Oe,De){var $e;const Ze=`${ie}-${ve}-${Oe}-${De}`;if(u(this,v)===Ze)return u(this,m);if(Re(this,v,Ze),Re(this,m,"none"),($e=u(this,g))==null||$e.remove(),!ie||!ve)return u(this,m);const[Xe,nt]=[ie,ve].map(ge(this,Ee,Gi).bind(this));let lt=Math.round(.2126*Xe[0]+.7152*Xe[1]+.0722*Xe[2]),ht=Math.round(.2126*nt[0]+.7152*nt[1]+.0722*nt[2]),[st,pt]=[Oe,De].map(ge(this,Ee,Gi).bind(this));ht<lt&&([lt,ht,st,pt]=[ht,lt,pt,st]),u(this,Q,xi).style.color="";const Me=(We,kt,Rt)=>{const Ae=new Array(256),Ke=(ht-lt)/Rt,rt=We/255,Ye=(kt-We)/(255*Rt);let ot=0;for(let ct=0;ct<=Rt;ct++){const mt=Math.round(lt+ct*Ke),Ue=rt+ct*Ye;for(let bt=ot;bt<=mt;bt++)Ae[bt]=Ue;ot=mt+1}for(let ct=ot;ct<256;ct++)Ae[ct]=Ae[ot-1];return Ae.join(",")},me=`g_${u(this,Fe)}_hcm_highlight_filter`,de=Re(this,g,ge(this,B,Hs).call(this,me));return ge(this,we,Eo).call(this,de),ge(this,Ce,qi).call(this,Me(st[0],pt[0],5),Me(st[1],pt[1],5),Me(st[2],pt[2],5),de),Re(this,m,`url(#${me})`),u(this,m)}destroy(ie=!1){ie&&(u(this,K)||u(this,m))||(u(this,se)&&(u(this,se).parentNode.parentNode.remove(),Re(this,se,null)),u(this,Se)&&(u(this,Se).clear(),Re(this,Se,null)),Re(this,T,0))}}Se=new WeakMap,se=new WeakMap,Fe=new WeakMap,Ne=new WeakMap,Be=new WeakMap,ze=new WeakMap,K=new WeakMap,g=new WeakMap,v=new WeakMap,m=new WeakMap,T=new WeakMap,k=new WeakSet,wi=function(){return u(this,Se)||Re(this,Se,new Map)},Q=new WeakSet,xi=function(){if(!u(this,se)){const ie=u(this,Ne).createElement("div"),{style:ve}=ie;ve.visibility="hidden",ve.contain="strict",ve.width=ve.height=0,ve.position="absolute",ve.top=ve.left=0,ve.zIndex=-1;const Oe=u(this,Ne).createElementNS(l,"svg");Oe.setAttribute("width",0),Oe.setAttribute("height",0),Re(this,se,u(this,Ne).createElementNS(l,"defs")),ie.append(Oe),Oe.append(u(this,se)),u(this,Ne).body.append(ie)}return u(this,se)},we=new WeakSet,Eo=function(ie){const ve=u(this,Ne).createElementNS(l,"feColorMatrix");ve.setAttribute("type","matrix"),ve.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ie.append(ve)},B=new WeakSet,Hs=function(ie){const ve=u(this,Ne).createElementNS(l,"filter");return ve.setAttribute("color-interpolation-filters","sRGB"),ve.setAttribute("id",ie),u(this,Q,xi).append(ve),ve},be=new WeakSet,Ws=function(ie,ve,Oe){const De=u(this,Ne).createElementNS(l,ve);De.setAttribute("type","discrete"),De.setAttribute("tableValues",Oe),ie.append(De)},Ce=new WeakSet,qi=function(ie,ve,Oe,De){const Ze=u(this,Ne).createElementNS(l,"feComponentTransfer");De.append(Ze),ge(this,be,Ws).call(this,Ze,"feFuncR",ie),ge(this,be,Ws).call(this,Ze,"feFuncG",ve),ge(this,be,Ws).call(this,Ze,"feFuncB",Oe)},Ee=new WeakSet,Gi=function(ie){return u(this,Q,xi).style.color=ie,W(getComputedStyle(u(this,Q,xi)).getPropertyValue("color"))},n.DOMFilterFactory=y;class b extends r.BaseCanvasFactory{constructor({ownerDocument:le=globalThis.document}={}){super(),this._document=le}_createCanvas(le,ie){const ve=this._document.createElement("canvas");return ve.width=le,ve.height=ie,ve}}n.DOMCanvasFactory=b;async function A(he,le=!1){if(I(he,document.baseURI)){const ie=await fetch(he);if(!ie.ok)throw new Error(ie.statusText);return le?new Uint8Array(await ie.arrayBuffer()):(0,o.stringToBytes)(await ie.text())}return new Promise((ie,ve)=>{const Oe=new XMLHttpRequest;Oe.open("GET",he,!0),le&&(Oe.responseType="arraybuffer"),Oe.onreadystatechange=()=>{if(Oe.readyState===XMLHttpRequest.DONE){if(Oe.status===200||Oe.status===0){let De;if(le&&Oe.response?De=new Uint8Array(Oe.response):!le&&Oe.responseText&&(De=(0,o.stringToBytes)(Oe.responseText)),De){ie(De);return}}ve(new Error(Oe.statusText))}},Oe.send(null)})}class d extends r.BaseCMapReaderFactory{_fetchData(le,ie){return A(le,this.isCompressed).then(ve=>({cMapData:ve,compressionType:ie}))}}n.DOMCMapReaderFactory=d;class x extends r.BaseStandardFontDataFactory{_fetchData(le){return A(le,!0)}}n.DOMStandardFontDataFactory=x;class z extends r.BaseSVGFactory{_createSVG(le){return document.createElementNS(l,le)}}n.DOMSVGFactory=z;class D{constructor({viewBox:le,scale:ie,rotation:ve,offsetX:Oe=0,offsetY:De=0,dontFlip:Ze=!1}){this.viewBox=le,this.scale=ie,this.rotation=ve,this.offsetX=Oe,this.offsetY=De;const Xe=(le[2]+le[0])/2,nt=(le[3]+le[1])/2;let lt,ht,st,pt;switch(ve%=360,ve<0&&(ve+=360),ve){case 180:lt=-1,ht=0,st=0,pt=1;break;case 90:lt=0,ht=1,st=1,pt=0;break;case 270:lt=0,ht=-1,st=-1,pt=0;break;case 0:lt=1,ht=0,st=0,pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ze&&(st=-st,pt=-pt);let Me,me,de,$e;lt===0?(Me=Math.abs(nt-le[1])*ie+Oe,me=Math.abs(Xe-le[0])*ie+De,de=(le[3]-le[1])*ie,$e=(le[2]-le[0])*ie):(Me=Math.abs(Xe-le[0])*ie+Oe,me=Math.abs(nt-le[1])*ie+De,de=(le[2]-le[0])*ie,$e=(le[3]-le[1])*ie),this.transform=[lt*ie,ht*ie,st*ie,pt*ie,Me-lt*ie*Xe-st*ie*nt,me-ht*ie*Xe-pt*ie*nt],this.width=de,this.height=$e}get rawDims(){const{viewBox:le}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:le[2]-le[0],pageHeight:le[3]-le[1],pageX:le[0],pageY:le[1]})}clone({scale:le=this.scale,rotation:ie=this.rotation,offsetX:ve=this.offsetX,offsetY:Oe=this.offsetY,dontFlip:De=!1}={}){return new D({viewBox:this.viewBox.slice(),scale:le,rotation:ie,offsetX:ve,offsetY:Oe,dontFlip:De})}convertToViewportPoint(le,ie){return o.Util.applyTransform([le,ie],this.transform)}convertToViewportRectangle(le){const ie=o.Util.applyTransform([le[0],le[1]],this.transform),ve=o.Util.applyTransform([le[2],le[3]],this.transform);return[ie[0],ie[1],ve[0],ve[1]]}convertToPdfPoint(le,ie){return o.Util.applyInverseTransform([le,ie],this.transform)}}n.PageViewport=D;class F extends o.BaseException{constructor(le,ie=0){super(le,"RenderingCancelledException"),this.extraDelay=ie}}n.RenderingCancelledException=F;function M(he){const le=he.length;let ie=0;for(;ie<le&&he[ie].trim()==="";)ie++;return he.substring(ie,ie+5).toLowerCase()==="data:"}function w(he){return typeof he=="string"&&/\.pdf$/i.test(he)}function O(he,le=!1){return le||([he]=he.split(/[#?]/,1)),he.substring(he.lastIndexOf("/")+1)}function H(he,le="document.pdf"){if(typeof he!="string")return le;if(M(he))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),le;const ie=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ve=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Oe=ie.exec(he);let De=ve.exec(Oe[1])||ve.exec(Oe[2])||ve.exec(Oe[3]);if(De&&(De=De[0],De.includes("%")))try{De=ve.exec(decodeURIComponent(De))[0]}catch{}return De||le}class U{constructor(){Nt(this,"started",Object.create(null));Nt(this,"times",[])}time(le){le in this.started&&(0,o.warn)(`Timer is already running for ${le}`),this.started[le]=Date.now()}timeEnd(le){le in this.started||(0,o.warn)(`Timer has not been started for ${le}`),this.times.push({name:le,start:this.started[le],end:Date.now()}),delete this.started[le]}toString(){const le=[];let ie=0;for(const{name:ve}of this.times)ie=Math.max(ve.length,ie);for(const{name:ve,start:Oe,end:De}of this.times)le.push(`${ve.padEnd(ie)} ${De-Oe}ms
`);return le.join("")}}n.StatTimer=U;function I(he,le){try{const{protocol:ie}=le?new URL(he,le):new URL(he);return ie==="http:"||ie==="https:"}catch{return!1}}function S(he){he.preventDefault()}function C(he,le=!1){return new Promise((ie,ve)=>{const Oe=document.createElement("script");Oe.src=he,Oe.onload=function(De){le&&Oe.remove(),ie(De)},Oe.onerror=function(){ve(new Error(`Cannot load script at: ${Oe.src}`))},(document.head||document.documentElement).append(Oe)})}function Y(he){console.log("Deprecated API usage: "+he)}let $;class E{static toDateObject(le){if(!le||typeof le!="string")return null;$||($=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ie=$.exec(le);if(!ie)return null;const ve=parseInt(ie[1],10);let Oe=parseInt(ie[2],10);Oe=Oe>=1&&Oe<=12?Oe-1:0;let De=parseInt(ie[3],10);De=De>=1&&De<=31?De:1;let Ze=parseInt(ie[4],10);Ze=Ze>=0&&Ze<=23?Ze:0;let Xe=parseInt(ie[5],10);Xe=Xe>=0&&Xe<=59?Xe:0;let nt=parseInt(ie[6],10);nt=nt>=0&&nt<=59?nt:0;const lt=ie[7]||"Z";let ht=parseInt(ie[8],10);ht=ht>=0&&ht<=23?ht:0;let st=parseInt(ie[9],10)||0;return st=st>=0&&st<=59?st:0,lt==="-"?(Ze+=ht,Xe+=st):lt==="+"&&(Ze-=ht,Xe-=st),new Date(Date.UTC(ve,Oe,De,Ze,Xe,nt))}}n.PDFDateString=E;function Z(he,{scale:le=1,rotation:ie=0}){const{width:ve,height:Oe}=he.attributes.style,De=[0,0,parseInt(ve),parseInt(Oe)];return new D({viewBox:De,scale:le,rotation:ie})}function W(he){if(he.startsWith("#")){const le=parseInt(he.slice(1),16);return[(le&16711680)>>16,(le&65280)>>8,le&255]}return he.startsWith("rgb(")?he.slice(4,-1).split(",").map(le=>parseInt(le)):he.startsWith("rgba(")?he.slice(5,-1).split(",").map(le=>parseInt(le)).slice(0,3):((0,o.warn)(`Not a valid color format: "${he}"`),[0,0,0])}function ce(he){const le=document.createElement("span");le.style.visibility="hidden",document.body.append(le);for(const ie of he.keys()){le.style.color=ie;const ve=window.getComputedStyle(le).color;he.set(ie,W(ve))}le.remove()}function fe(he){const{a:le,b:ie,c:ve,d:Oe,e:De,f:Ze}=he.getTransform();return[le,ie,ve,Oe,De,Ze]}function J(he){const{a:le,b:ie,c:ve,d:Oe,e:De,f:Ze}=he.getTransform().invertSelf();return[le,ie,ve,Oe,De,Ze]}function pe(he,le,ie=!1,ve=!0){if(le instanceof D){const{pageWidth:Oe,pageHeight:De}=le.rawDims,{style:Ze}=he,Xe=o.FeatureTest.isCSSRoundSupported,nt=`var(--scale-factor) * ${Oe}px`,lt=`var(--scale-factor) * ${De}px`,ht=Xe?`round(${nt}, 1px)`:`calc(${nt})`,st=Xe?`round(${lt}, 1px)`:`calc(${lt})`;!ie||le.rotation%180===0?(Ze.width=ht,Ze.height=st):(Ze.width=st,Ze.height=ht)}ve&&he.setAttribute("data-main-rotation",le.rotation)}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseFilterFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var r=s(1);class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(d){return"none"}addHCMFilter(d,x){return"none"}addHighlightHCMFilter(d,x,z,D){return"none"}destroy(d=!1){}}n.BaseFilterFactory=o;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,x){if(d<=0||x<=0)throw new Error("Invalid canvas size");const z=this._createCanvas(d,x);return{canvas:z,context:z.getContext("2d")}}reset(d,x,z){if(!d.canvas)throw new Error("Canvas is not specified");if(x<=0||z<=0)throw new Error("Invalid canvas size");d.canvas.width=x,d.canvas.height=z}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,x){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=l;class c{constructor({baseUrl:d=null,isCompressed:x=!0}){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=x}async fetch({name:d}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const x=this.baseUrl+d+(this.isCompressed?".bcmap":""),z=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(x,z).catch(D=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})}_fetchData(d,x){(0,r.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=c;class y{constructor({baseUrl:d=null}){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}async fetch({filename:d}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${d}`;return this._fetchData(x).catch(z=>{throw new Error(`Unable to load font data at: ${x}`)})}_fetchData(d){(0,r.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=y;class b{constructor(){this.constructor===b&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,x,z=!1){if(d<=0||x<=0)throw new Error("Invalid SVG dimensions");const D=this._createSVG("svg:svg");return D.setAttribute("version","1.1"),z||(D.setAttribute("width",`${d}px`),D.setAttribute("height",`${x}px`)),D.setAttribute("preserveAspectRatio","none"),D.setAttribute("viewBox",`0 0 ${d} ${x}`),D}createElement(d){if(typeof d!="string")throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,r.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=b},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var r=s(1);const o=3285377520,l=4294901760,c=65535;class y{constructor(A){this.h1=A?A&4294967295:o,this.h2=A?A&4294967295:o}update(A){let d,x;if(typeof A=="string"){d=new Uint8Array(A.length*2),x=0;for(let Y=0,$=A.length;Y<$;Y++){const E=A.charCodeAt(Y);E<=255?d[x++]=E:(d[x++]=E>>>8,d[x++]=E&255)}}else if((0,r.isArrayBuffer)(A))d=A.slice(),x=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const z=x>>2,D=x-z*4,F=new Uint32Array(d.buffer,0,z);let M=0,w=0,O=this.h1,H=this.h2;const U=3432918353,I=461845907,S=U&c,C=I&c;for(let Y=0;Y<z;Y++)Y&1?(M=F[Y],M=M*U&l|M*S&c,M=M<<15|M>>>17,M=M*I&l|M*C&c,O^=M,O=O<<13|O>>>19,O=O*5+3864292196):(w=F[Y],w=w*U&l|w*S&c,w=w<<15|w>>>17,w=w*I&l|w*C&c,H^=w,H=H<<13|H>>>19,H=H*5+3864292196);switch(M=0,D){case 3:M^=d[z*4+2]<<16;case 2:M^=d[z*4+1]<<8;case 1:M^=d[z*4],M=M*U&l|M*S&c,M=M<<15|M>>>17,M=M*I&l|M*C&c,z&1?O^=M:H^=M}this.h1=O,this.h2=H}hexdigest(){let A=this.h1,d=this.h2;return A^=d>>>1,A=A*3981806797&l|A*36045&c,d=d*4283543511&l|((d<<16|A>>>16)*2950163797&l)>>>16,A^=d>>>1,A=A*444984403&l|A*60499&c,d=d*3301882366&l|((d<<16|A>>>16)*3120437893&l)>>>16,A^=d>>>1,(A>>>0).toString(16).padStart(8,"0")+(d>>>0).toString(16).padStart(8,"0")}}n.MurmurHash3_64=y},(e,n,s)=>{var c;Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var r=s(1);class o{constructor({ownerDocument:b=globalThis.document,styleElement:A=null}){re(this,c,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const A=this.styleElement.sheet;A.insertRule(b,A.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),u(this,c).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||u(this,c).has(b.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:A,src:d,style:x}=b,z=new FontFace(A,d,x);this.addNativeFontFace(z);try{await z.load(),u(this,c).add(A)}catch{(0,r.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(z)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=b.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(x){throw(0,r.warn)(`Failed to load font '${d.family}': '${x}'.`),b.disableFontFace=!0,x}}return}const A=b.createFontFaceRule();if(A){if(this.insertRule(A),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const x=this._queueLoadingCallback(d);this._prepareFontLoadEvent(b,x)})}}get isFontLoadingAPISupported(){var A;const b=!!((A=this._document)!=null&&A.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function A(){for((0,r.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;d.length>0&&d[0].done;){const z=d.shift();setTimeout(z.callback,0)}}const{loadingRequests:d}=this,x={done:!1,complete:A,callback:b};return d.push(x),x}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,A){function d(W,ce){return W.charCodeAt(ce)<<24|W.charCodeAt(ce+1)<<16|W.charCodeAt(ce+2)<<8|W.charCodeAt(ce+3)&255}function x(W,ce,fe,J){const pe=W.substring(0,ce),xe=W.substring(ce+fe);return pe+J+xe}let z,D;const F=this._document.createElement("canvas");F.width=1,F.height=1;const M=F.getContext("2d");let w=0;function O(W,ce){if(++w>30){(0,r.warn)("Load test font never loaded."),ce();return}if(M.font="30px "+W,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0){ce();return}setTimeout(O.bind(null,W,ce))}const H=`lt${Date.now()}${this.loadTestFontId++}`;let U=this._loadTestFont;U=x(U,976,H.length,H);const S=16,C=1482184792;let Y=d(U,S);for(z=0,D=H.length-3;z<D;z+=4)Y=Y-C+d(H,z)|0;z<H.length&&(Y=Y-C+d(H+"XXX",z)|0),U=x(U,S,4,(0,r.string32)(Y));const $=`url(data:font/opentype;base64,${btoa(U)});`,E=`@font-face {font-family:"${H}";src:${$}}`;this.insertRule(E);const Z=this._document.createElement("div");Z.style.visibility="hidden",Z.style.width=Z.style.height="10px",Z.style.position="absolute",Z.style.top=Z.style.left="0px";for(const W of[b.loadedName,H]){const ce=this._document.createElement("span");ce.textContent="Hi",ce.style.fontFamily=W,Z.append(ce)}this._document.body.append(Z),O(H,()=>{Z.remove(),A.complete()})}}c=new WeakMap,n.FontLoader=o;class l{constructor(b,{isEvalSupported:A=!0,disableFontFace:d=!1,ignoreErrors:x=!1,inspectFont:z=null}){this.compiledGlyphs=Object.create(null);for(const D in b)this[D]=b[D];this.isEvalSupported=A!==!1,this.disableFontFace=d===!0,this.ignoreErrors=x===!0,this._inspectFont=z}createNativeFontFace(){var A;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return(A=this._inspectFont)==null||A.call(this,this),b}createFontFaceRule(){var x;if(!this.data||this.disableFontFace)return null;const b=(0,r.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(b)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${A}}`;else{let z=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(z+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${z}src:${A}}`}return(x=this._inspectFont)==null||x.call(this,this,A),d}getPathGenerator(b,A){if(this.compiledGlyphs[A]!==void 0)return this.compiledGlyphs[A];let d;try{d=b.get(this.loadedName+"_path_"+A)}catch(x){if(!this.ignoreErrors)throw x;return(0,r.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[A]=function(z,D){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const x=[];for(const z of d){const D=z.args!==void 0?z.args.join(","):"";x.push("c.",z.cmd,"(",D,`);
`)}return this.compiledGlyphs[A]=new Function("c","size",x.join(""))}return this.compiledGlyphs[A]=function(x,z){for(const D of d)D.cmd==="scale"&&(D.args=[z,-z]),x[D.cmd].apply(x,D.args)}}}n.FontFaceObject=l},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeFilterFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var r=s(7);s(1);const o=function(A){return new Promise((d,x)=>{require$$5.readFile(A,(D,F)=>{if(D||!F){x(new Error(D));return}d(new Uint8Array(F))})})};class l extends r.BaseFilterFactory{}n.NodeFilterFactory=l;class c extends r.BaseCanvasFactory{_createCanvas(d,x){return require$$5.createCanvas(d,x)}}n.NodeCanvasFactory=c;class y extends r.BaseCMapReaderFactory{_fetchData(d,x){return o(d).then(z=>({cMapData:z,compressionType:x}))}}n.NodeCMapReaderFactory=y;class b extends r.BaseStandardFontDataFactory{_fetchData(d){return o(d)}}n.NodeStandardFontDataFactory=b},(e,n,s)=>{var se,wo,Ne,xo;Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var r=s(1),o=s(6),l=s(12),c=s(13);const y=16,b=100,A=4096,d=15,x=10,z=1e3,D=16;function F(K,g){if(K._removeMirroring)throw new Error("Context is already forwarding operations.");K.__originalSave=K.save,K.__originalRestore=K.restore,K.__originalRotate=K.rotate,K.__originalScale=K.scale,K.__originalTranslate=K.translate,K.__originalTransform=K.transform,K.__originalSetTransform=K.setTransform,K.__originalResetTransform=K.resetTransform,K.__originalClip=K.clip,K.__originalMoveTo=K.moveTo,K.__originalLineTo=K.lineTo,K.__originalBezierCurveTo=K.bezierCurveTo,K.__originalRect=K.rect,K.__originalClosePath=K.closePath,K.__originalBeginPath=K.beginPath,K._removeMirroring=()=>{K.save=K.__originalSave,K.restore=K.__originalRestore,K.rotate=K.__originalRotate,K.scale=K.__originalScale,K.translate=K.__originalTranslate,K.transform=K.__originalTransform,K.setTransform=K.__originalSetTransform,K.resetTransform=K.__originalResetTransform,K.clip=K.__originalClip,K.moveTo=K.__originalMoveTo,K.lineTo=K.__originalLineTo,K.bezierCurveTo=K.__originalBezierCurveTo,K.rect=K.__originalRect,K.closePath=K.__originalClosePath,K.beginPath=K.__originalBeginPath,delete K._removeMirroring},K.save=function(){g.save(),this.__originalSave()},K.restore=function(){g.restore(),this.__originalRestore()},K.translate=function(m,T){g.translate(m,T),this.__originalTranslate(m,T)},K.scale=function(m,T){g.scale(m,T),this.__originalScale(m,T)},K.transform=function(m,T,k,q,Q,ae){g.transform(m,T,k,q,Q,ae),this.__originalTransform(m,T,k,q,Q,ae)},K.setTransform=function(m,T,k,q,Q,ae){g.setTransform(m,T,k,q,Q,ae),this.__originalSetTransform(m,T,k,q,Q,ae)},K.resetTransform=function(){g.resetTransform(),this.__originalResetTransform()},K.rotate=function(m){g.rotate(m),this.__originalRotate(m)},K.clip=function(m){g.clip(m),this.__originalClip(m)},K.moveTo=function(v,m){g.moveTo(v,m),this.__originalMoveTo(v,m)},K.lineTo=function(v,m){g.lineTo(v,m),this.__originalLineTo(v,m)},K.bezierCurveTo=function(v,m,T,k,q,Q){g.bezierCurveTo(v,m,T,k,q,Q),this.__originalBezierCurveTo(v,m,T,k,q,Q)},K.rect=function(v,m,T,k){g.rect(v,m,T,k),this.__originalRect(v,m,T,k)},K.closePath=function(){g.closePath(),this.__originalClosePath()},K.beginPath=function(){g.beginPath(),this.__originalBeginPath()}}class M{constructor(g){this.canvasFactory=g,this.cache=Object.create(null)}getCanvas(g,v,m){let T;return this.cache[g]!==void 0?(T=this.cache[g],this.canvasFactory.reset(T,v,m)):(T=this.canvasFactory.create(v,m),this.cache[g]=T),T}delete(g){delete this.cache[g]}clear(){for(const g in this.cache){const v=this.cache[g];this.canvasFactory.destroy(v),delete this.cache[g]}}}function w(K,g,v,m,T,k,q,Q,ae,we){const[R,B,ee,be,oe,Ce]=(0,o.getCurrentTransform)(K);if(B===0&&ee===0){const Pe=q*R+oe,he=Math.round(Pe),le=Q*be+Ce,ie=Math.round(le),ve=(q+ae)*R+oe,Oe=Math.abs(Math.round(ve)-he)||1,De=(Q+we)*be+Ce,Ze=Math.abs(Math.round(De)-ie)||1;return K.setTransform(Math.sign(R),0,0,Math.sign(be),he,ie),K.drawImage(g,v,m,T,k,0,0,Oe,Ze),K.setTransform(R,B,ee,be,oe,Ce),[Oe,Ze]}if(R===0&&be===0){const Pe=Q*ee+oe,he=Math.round(Pe),le=q*B+Ce,ie=Math.round(le),ve=(Q+we)*ee+oe,Oe=Math.abs(Math.round(ve)-he)||1,De=(q+ae)*B+Ce,Ze=Math.abs(Math.round(De)-ie)||1;return K.setTransform(0,Math.sign(B),Math.sign(ee),0,he,ie),K.drawImage(g,v,m,T,k,0,0,Ze,Oe),K.setTransform(R,B,ee,be,oe,Ce),[Ze,Oe]}K.drawImage(g,v,m,T,k,q,Q,ae,we);const Ie=Math.hypot(R,B),Ee=Math.hypot(ee,be);return[Ie*ae,Ee*we]}function O(K){const{width:g,height:v}=K;if(g>z||v>z)return null;const m=1e3,T=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=g+1;let q=new Uint8Array(k*(v+1)),Q,ae,we;const R=g+7&-8;let B=new Uint8Array(R*v),ee=0;for(const Ee of K.data){let Pe=128;for(;Pe>0;)B[ee++]=Ee&Pe?0:255,Pe>>=1}let be=0;for(ee=0,B[ee]!==0&&(q[0]=1,++be),ae=1;ae<g;ae++)B[ee]!==B[ee+1]&&(q[ae]=B[ee]?2:1,++be),ee++;for(B[ee]!==0&&(q[ae]=2,++be),Q=1;Q<v;Q++){ee=Q*R,we=Q*k,B[ee-R]!==B[ee]&&(q[we]=B[ee]?1:8,++be);let Ee=(B[ee]?4:0)+(B[ee-R]?8:0);for(ae=1;ae<g;ae++)Ee=(Ee>>2)+(B[ee+1]?4:0)+(B[ee-R+1]?8:0),T[Ee]&&(q[we+ae]=T[Ee],++be),ee++;if(B[ee-R]!==B[ee]&&(q[we+ae]=B[ee]?2:4,++be),be>m)return null}for(ee=R*(v-1),we=Q*k,B[ee]!==0&&(q[we]=8,++be),ae=1;ae<g;ae++)B[ee]!==B[ee+1]&&(q[we+ae]=B[ee]?4:8,++be),ee++;if(B[ee]!==0&&(q[we+ae]=4,++be),be>m)return null;const oe=new Int32Array([0,k,-1,0,-k,0,0,0,1]),Ce=new Path2D;for(Q=0;be&&Q<=v;Q++){let Ee=Q*k;const Pe=Ee+g;for(;Ee<Pe&&!q[Ee];)Ee++;if(Ee===Pe)continue;Ce.moveTo(Ee%k,Q);const he=Ee;let le=q[Ee];do{const ie=oe[le];do Ee+=ie;while(!q[Ee]);const ve=q[Ee];ve!==5&&ve!==10?(le=ve,q[Ee]=0):(le=ve&51*le>>4,q[Ee]&=le>>2|le<<2),Ce.lineTo(Ee%k,Ee/k|0),q[Ee]||--be}while(he!==Ee);--Q}return B=null,q=null,function(Ee){Ee.save(),Ee.scale(1/g,-1/v),Ee.translate(0,-v),Ee.fill(Ce),Ee.beginPath(),Ee.restore()}}class H{constructor(g,v){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,g,v])}clone(){const g=Object.create(this);return g.clipBox=this.clipBox.slice(),g}setCurrentPoint(g,v){this.x=g,this.y=v}updatePathMinMax(g,v,m){[v,m]=r.Util.applyTransform([v,m],g),this.minX=Math.min(this.minX,v),this.minY=Math.min(this.minY,m),this.maxX=Math.max(this.maxX,v),this.maxY=Math.max(this.maxY,m)}updateRectMinMax(g,v){const m=r.Util.applyTransform(v,g),T=r.Util.applyTransform(v.slice(2),g);this.minX=Math.min(this.minX,m[0],T[0]),this.minY=Math.min(this.minY,m[1],T[1]),this.maxX=Math.max(this.maxX,m[0],T[0]),this.maxY=Math.max(this.maxY,m[1],T[1])}updateScalingPathMinMax(g,v){r.Util.scaleMinMax(g,v),this.minX=Math.min(this.minX,v[0]),this.maxX=Math.max(this.maxX,v[1]),this.minY=Math.min(this.minY,v[2]),this.maxY=Math.max(this.maxY,v[3])}updateCurvePathMinMax(g,v,m,T,k,q,Q,ae,we,R){const B=r.Util.bezierBoundingBox(v,m,T,k,q,Q,ae,we);if(R){R[0]=Math.min(R[0],B[0],B[2]),R[1]=Math.max(R[1],B[0],B[2]),R[2]=Math.min(R[2],B[1],B[3]),R[3]=Math.max(R[3],B[1],B[3]);return}this.updateRectMinMax(g,B)}getPathBoundingBox(g=l.PathType.FILL,v=null){const m=[this.minX,this.minY,this.maxX,this.maxY];if(g===l.PathType.STROKE){v||(0,r.unreachable)("Stroke bounding box must include transform.");const T=r.Util.singularValueDecompose2dScale(v),k=T[0]*this.lineWidth/2,q=T[1]*this.lineWidth/2;m[0]-=k,m[1]-=q,m[2]+=k,m[3]+=q}return m}updateClipFromPath(){const g=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(g||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(g){this.clipBox=g,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(g=l.PathType.FILL,v=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(g,v))}}function U(K,g){if(typeof ImageData<"u"&&g instanceof ImageData){K.putImageData(g,0,0);return}const v=g.height,m=g.width,T=v%D,k=(v-T)/D,q=T===0?k:k+1,Q=K.createImageData(m,D);let ae=0,we;const R=g.data,B=Q.data;let ee,be,oe,Ce;if(g.kind===r.ImageKind.GRAYSCALE_1BPP){const Ie=R.byteLength,Ee=new Uint32Array(B.buffer,0,B.byteLength>>2),Pe=Ee.length,he=m+7>>3,le=4294967295,ie=r.FeatureTest.isLittleEndian?4278190080:255;for(ee=0;ee<q;ee++){for(oe=ee<k?D:T,we=0,be=0;be<oe;be++){const ve=Ie-ae;let Oe=0;const De=ve>he?m:ve*8-7,Ze=De&-8;let Xe=0,nt=0;for(;Oe<Ze;Oe+=8)nt=R[ae++],Ee[we++]=nt&128?le:ie,Ee[we++]=nt&64?le:ie,Ee[we++]=nt&32?le:ie,Ee[we++]=nt&16?le:ie,Ee[we++]=nt&8?le:ie,Ee[we++]=nt&4?le:ie,Ee[we++]=nt&2?le:ie,Ee[we++]=nt&1?le:ie;for(;Oe<De;Oe++)Xe===0&&(nt=R[ae++],Xe=128),Ee[we++]=nt&Xe?le:ie,Xe>>=1}for(;we<Pe;)Ee[we++]=0;K.putImageData(Q,0,ee*D)}}else if(g.kind===r.ImageKind.RGBA_32BPP){for(be=0,Ce=m*D*4,ee=0;ee<k;ee++)B.set(R.subarray(ae,ae+Ce)),ae+=Ce,K.putImageData(Q,0,be),be+=D;ee<q&&(Ce=m*T*4,B.set(R.subarray(ae,ae+Ce)),K.putImageData(Q,0,be))}else if(g.kind===r.ImageKind.RGB_24BPP)for(oe=D,Ce=m*oe,ee=0;ee<q;ee++){for(ee>=k&&(oe=T,Ce=m*oe),we=0,be=Ce;be--;)B[we++]=R[ae++],B[we++]=R[ae++],B[we++]=R[ae++],B[we++]=255;K.putImageData(Q,0,ee*D)}else throw new Error(`bad image kind: ${g.kind}`)}function I(K,g){if(g.bitmap){K.drawImage(g.bitmap,0,0);return}const v=g.height,m=g.width,T=v%D,k=(v-T)/D,q=T===0?k:k+1,Q=K.createImageData(m,D);let ae=0;const we=g.data,R=Q.data;for(let B=0;B<q;B++){const ee=B<k?D:T;({srcPos:ae}=(0,c.convertBlackAndWhiteToRGBA)({src:we,srcPos:ae,dest:R,width:m,height:ee,nonBlackColor:0})),K.putImageData(Q,0,B*D)}}function S(K,g){const v=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const m of v)K[m]!==void 0&&(g[m]=K[m]);K.setLineDash!==void 0&&(g.setLineDash(K.getLineDash()),g.lineDashOffset=K.lineDashOffset)}function C(K){if(K.strokeStyle=K.fillStyle="#000000",K.fillRule="nonzero",K.globalAlpha=1,K.lineWidth=1,K.lineCap="butt",K.lineJoin="miter",K.miterLimit=10,K.globalCompositeOperation="source-over",K.font="10px sans-serif",K.setLineDash!==void 0&&(K.setLineDash([]),K.lineDashOffset=0),!r.isNodeJS){const{filter:g}=K;g!=="none"&&g!==""&&(K.filter="none")}}function Y(K,g,v,m){const T=K.length;for(let k=3;k<T;k+=4){const q=K[k];if(q===0)K[k-3]=g,K[k-2]=v,K[k-1]=m;else if(q<255){const Q=255-q;K[k-3]=K[k-3]*q+g*Q>>8,K[k-2]=K[k-2]*q+v*Q>>8,K[k-1]=K[k-1]*q+m*Q>>8}}}function $(K,g,v){const m=K.length,T=1/255;for(let k=3;k<m;k+=4){const q=v?v[K[k]]:K[k];g[k]=g[k]*q*T|0}}function E(K,g,v){const m=K.length;for(let T=3;T<m;T+=4){const k=K[T-3]*77+K[T-2]*152+K[T-1]*28;g[T]=v?g[T]*v[k>>8]>>8:g[T]*k>>16}}function Z(K,g,v,m,T,k,q,Q,ae,we,R){const B=!!k,ee=B?k[0]:0,be=B?k[1]:0,oe=B?k[2]:0,Ce=T==="Luminosity"?E:$,Ee=Math.min(m,Math.ceil(1048576/v));for(let Pe=0;Pe<m;Pe+=Ee){const he=Math.min(Ee,m-Pe),le=K.getImageData(Q-we,Pe+(ae-R),v,he),ie=g.getImageData(Q,Pe+ae,v,he);B&&Y(le.data,ee,be,oe),Ce(le.data,ie.data,q),g.putImageData(ie,Q,Pe+ae)}}function W(K,g,v,m){const T=m[0],k=m[1],q=m[2]-T,Q=m[3]-k;q===0||Q===0||(Z(g.context,v,q,Q,g.subtype,g.backdrop,g.transferMap,T,k,g.offsetX,g.offsetY),K.save(),K.globalAlpha=1,K.globalCompositeOperation="source-over",K.setTransform(1,0,0,1,0,0),K.drawImage(v.canvas,0,0),K.restore())}function ce(K,g){const v=r.Util.singularValueDecompose2dScale(K);v[0]=Math.fround(v[0]),v[1]=Math.fround(v[1]);const m=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return g!==void 0?g:v[0]<=m||v[1]<=m}const fe=["butt","round","square"],J=["miter","round","bevel"],pe={},xe={},ze=class ze{constructor(g,v,m,T,k,{optionalContentConfig:q,markedContentStack:Q=null},ae,we){re(this,se);re(this,Ne);this.ctx=g,this.current=new H(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=v,this.objs=m,this.canvasFactory=T,this.filterFactory=k,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Q||[],this.optionalContentConfig=q,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ae,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=we,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(g,v=null){return typeof g=="string"?g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g):v}beginDrawing({transform:g,viewport:v,transparency:m=!1,background:T=null}){const k=this.ctx.canvas.width,q=this.ctx.canvas.height,Q=this.ctx.fillStyle;if(this.ctx.fillStyle=T||"#ffffff",this.ctx.fillRect(0,0,k,q),this.ctx.fillStyle=Q,m){const ae=this.cachedCanvases.getCanvas("transparent",k,q);this.compositeCtx=this.ctx,this.transparentCanvas=ae.canvas,this.ctx=ae.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx),g&&(this.ctx.transform(...g),this.outputScaleX=g[0],this.outputScaleY=g[0]),this.ctx.transform(...v.transform),this.viewportScale=v.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(g,v,m,T){const k=g.argsArray,q=g.fnArray;let Q=v||0;const ae=k.length;if(ae===Q)return Q;const we=ae-Q>x&&typeof m=="function",R=we?Date.now()+d:0;let B=0;const ee=this.commonObjs,be=this.objs;let oe;for(;;){if(T!==void 0&&Q===T.nextBreakPoint)return T.breakIt(Q,m),Q;if(oe=q[Q],oe!==r.OPS.dependency)this[oe].apply(this,k[Q]);else for(const Ce of k[Q]){const Ie=Ce.startsWith("g_")?ee:be;if(!Ie.has(Ce))return Ie.get(Ce,m),Q}if(Q++,Q===ae)return Q;if(we&&++B>x){if(Date.now()>R)return m(),Q;B=0}}}endDrawing(){ge(this,se,wo).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const g of this._cachedBitmapsMap.values()){for(const v of g.values())typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement&&(v.width=v.height=0);g.clear()}this._cachedBitmapsMap.clear(),ge(this,Ne,xo).call(this)}_scaleImage(g,v){const m=g.width,T=g.height;let k=Math.max(Math.hypot(v[0],v[1]),1),q=Math.max(Math.hypot(v[2],v[3]),1),Q=m,ae=T,we="prescale1",R,B;for(;k>2&&Q>1||q>2&&ae>1;){let ee=Q,be=ae;k>2&&Q>1&&(ee=Q>=16384?Math.floor(Q/2)-1||1:Math.ceil(Q/2),k/=Q/ee),q>2&&ae>1&&(be=ae>=16384?Math.floor(ae/2)-1||1:Math.ceil(ae)/2,q/=ae/be),R=this.cachedCanvases.getCanvas(we,ee,be),B=R.context,B.clearRect(0,0,ee,be),B.drawImage(g,0,0,Q,ae,0,0,ee,be),g=R.canvas,Q=ee,ae=be,we=we==="prescale1"?"prescale2":"prescale1"}return{img:g,paintWidth:Q,paintHeight:ae}}_createMaskCanvas(g){const v=this.ctx,{width:m,height:T}=g,k=this.current.fillColor,q=this.current.patternFill,Q=(0,o.getCurrentTransform)(v);let ae,we,R,B;if((g.bitmap||g.data)&&g.count>1){const Oe=g.bitmap||g.data.buffer;we=JSON.stringify(q?Q:[Q.slice(0,4),k]),ae=this._cachedBitmapsMap.get(Oe),ae||(ae=new Map,this._cachedBitmapsMap.set(Oe,ae));const De=ae.get(we);if(De&&!q){const Ze=Math.round(Math.min(Q[0],Q[2])+Q[4]),Xe=Math.round(Math.min(Q[1],Q[3])+Q[5]);return{canvas:De,offsetX:Ze,offsetY:Xe}}R=De}R||(B=this.cachedCanvases.getCanvas("maskCanvas",m,T),I(B.context,g));let ee=r.Util.transform(Q,[1/m,0,0,-1/T,0,0]);ee=r.Util.transform(ee,[1,0,0,1,0,-T]);const be=r.Util.applyTransform([0,0],ee),oe=r.Util.applyTransform([m,T],ee),Ce=r.Util.normalizeRect([be[0],be[1],oe[0],oe[1]]),Ie=Math.round(Ce[2]-Ce[0])||1,Ee=Math.round(Ce[3]-Ce[1])||1,Pe=this.cachedCanvases.getCanvas("fillCanvas",Ie,Ee),he=Pe.context,le=Math.min(be[0],oe[0]),ie=Math.min(be[1],oe[1]);he.translate(-le,-ie),he.transform(...ee),R||(R=this._scaleImage(B.canvas,(0,o.getCurrentTransformInverse)(he)),R=R.img,ae&&q&&ae.set(we,R)),he.imageSmoothingEnabled=ce((0,o.getCurrentTransform)(he),g.interpolate),w(he,R,0,0,R.width,R.height,0,0,m,T),he.globalCompositeOperation="source-in";const ve=r.Util.transform((0,o.getCurrentTransformInverse)(he),[1,0,0,1,-le,-ie]);return he.fillStyle=q?k.getPattern(v,this,ve,l.PathType.FILL):k,he.fillRect(0,0,m,T),ae&&!q&&(this.cachedCanvases.delete("fillCanvas"),ae.set(we,Pe.canvas)),{canvas:Pe.canvas,offsetX:Math.round(le),offsetY:Math.round(ie)}}setLineWidth(g){g!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=g,this.ctx.lineWidth=g}setLineCap(g){this.ctx.lineCap=fe[g]}setLineJoin(g){this.ctx.lineJoin=J[g]}setMiterLimit(g){this.ctx.miterLimit=g}setDash(g,v){const m=this.ctx;m.setLineDash!==void 0&&(m.setLineDash(g),m.lineDashOffset=v)}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[v,m]of g)switch(v){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m[0],m[1]);break;case"CA":this.current.strokeAlpha=m;break;case"ca":this.current.fillAlpha=m,this.ctx.globalAlpha=m;break;case"BM":this.ctx.globalCompositeOperation=m;break;case"SMask":this.current.activeSMask=m?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(m);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const g=this.inSMaskMode;this.current.activeSMask&&!g?this.beginSMaskMode():!this.current.activeSMask&&g&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const g=this.ctx.canvas.width,v=this.ctx.canvas.height,m="smaskGroupAt"+this.groupLevel,T=this.cachedCanvases.getCanvas(m,g,v);this.suspendedCtx=this.ctx,this.ctx=T.context;const k=this.ctx;k.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),S(this.suspendedCtx,k),F(k,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),S(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(g){if(!this.current.activeSMask)return;g?(g[0]=Math.floor(g[0]),g[1]=Math.floor(g[1]),g[2]=Math.ceil(g[2]),g[3]=Math.ceil(g[3])):g=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const v=this.current.activeSMask,m=this.suspendedCtx;W(m,v,this.ctx,g),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(S(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const g=this.current;this.stateStack.push(g),this.current=g.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),S(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(g,v,m,T,k,q){this.ctx.transform(g,v,m,T,k,q),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(g,v,m){const T=this.ctx,k=this.current;let q=k.x,Q=k.y,ae,we;const R=(0,o.getCurrentTransform)(T),B=R[0]===0&&R[3]===0||R[1]===0&&R[2]===0,ee=B?m.slice(0):null;for(let be=0,oe=0,Ce=g.length;be<Ce;be++)switch(g[be]|0){case r.OPS.rectangle:q=v[oe++],Q=v[oe++];const Ie=v[oe++],Ee=v[oe++],Pe=q+Ie,he=Q+Ee;T.moveTo(q,Q),Ie===0||Ee===0?T.lineTo(Pe,he):(T.lineTo(Pe,Q),T.lineTo(Pe,he),T.lineTo(q,he)),B||k.updateRectMinMax(R,[q,Q,Pe,he]),T.closePath();break;case r.OPS.moveTo:q=v[oe++],Q=v[oe++],T.moveTo(q,Q),B||k.updatePathMinMax(R,q,Q);break;case r.OPS.lineTo:q=v[oe++],Q=v[oe++],T.lineTo(q,Q),B||k.updatePathMinMax(R,q,Q);break;case r.OPS.curveTo:ae=q,we=Q,q=v[oe+4],Q=v[oe+5],T.bezierCurveTo(v[oe],v[oe+1],v[oe+2],v[oe+3],q,Q),k.updateCurvePathMinMax(R,ae,we,v[oe],v[oe+1],v[oe+2],v[oe+3],q,Q,ee),oe+=6;break;case r.OPS.curveTo2:ae=q,we=Q,T.bezierCurveTo(q,Q,v[oe],v[oe+1],v[oe+2],v[oe+3]),k.updateCurvePathMinMax(R,ae,we,q,Q,v[oe],v[oe+1],v[oe+2],v[oe+3],ee),q=v[oe+2],Q=v[oe+3],oe+=4;break;case r.OPS.curveTo3:ae=q,we=Q,q=v[oe+2],Q=v[oe+3],T.bezierCurveTo(v[oe],v[oe+1],q,Q,q,Q),k.updateCurvePathMinMax(R,ae,we,v[oe],v[oe+1],q,Q,q,Q,ee),oe+=4;break;case r.OPS.closePath:T.closePath();break}B&&k.updateScalingPathMinMax(R,ee),k.setCurrentPoint(q,Q)}closePath(){this.ctx.closePath()}stroke(g=!0){const v=this.ctx,m=this.current.strokeColor;v.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof m=="object"&&(m!=null&&m.getPattern)?(v.save(),v.strokeStyle=m.getPattern(v,this,(0,o.getCurrentTransformInverse)(v),l.PathType.STROKE),this.rescaleAndStroke(!1),v.restore()):this.rescaleAndStroke(!0)),g&&this.consumePath(this.current.getClippedPathBoundingBox()),v.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(g=!0){const v=this.ctx,m=this.current.fillColor,T=this.current.patternFill;let k=!1;T&&(v.save(),v.fillStyle=m.getPattern(v,this,(0,o.getCurrentTransformInverse)(v),l.PathType.FILL),k=!0);const q=this.current.getClippedPathBoundingBox();this.contentVisible&&q!==null&&(this.pendingEOFill?(v.fill("evenodd"),this.pendingEOFill=!1):v.fill()),k&&v.restore(),g&&this.consumePath(q)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=pe}eoClip(){this.pendingClip=xe}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const g=this.pendingTextPaths,v=this.ctx;if(g===void 0){v.beginPath();return}v.save(),v.beginPath();for(const m of g)v.setTransform(...m.transform),v.translate(m.x,m.y),m.addToPath(v,m.fontSize);v.restore(),v.clip(),v.beginPath(),delete this.pendingTextPaths}setCharSpacing(g){this.current.charSpacing=g}setWordSpacing(g){this.current.wordSpacing=g}setHScale(g){this.current.textHScale=g/100}setLeading(g){this.current.leading=-g}setFont(g,v){var R;const m=this.commonObjs.get(g),T=this.current;if(!m)throw new Error(`Can't find font for ${g}`);if(T.fontMatrix=m.fontMatrix||r.FONT_IDENTITY_MATRIX,(T.fontMatrix[0]===0||T.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+g),v<0?(v=-v,T.fontDirection=-1):T.fontDirection=1,this.current.font=m,this.current.fontSize=v,m.isType3Font)return;const k=m.loadedName||"sans-serif",q=((R=m.systemFontInfo)==null?void 0:R.css)||`"${k}", ${m.fallbackName}`;let Q="normal";m.black?Q="900":m.bold&&(Q="bold");const ae=m.italic?"italic":"normal";let we=v;v<y?we=y:v>b&&(we=b),this.current.fontSizeScale=v/we,this.ctx.font=`${ae} ${Q} ${we}px ${q}`}setTextRenderingMode(g){this.current.textRenderingMode=g}setTextRise(g){this.current.textRise=g}moveText(g,v){this.current.x=this.current.lineX+=g,this.current.y=this.current.lineY+=v}setLeadingMoveText(g,v){this.setLeading(-v),this.moveText(g,v)}setTextMatrix(g,v,m,T,k,q){this.current.textMatrix=[g,v,m,T,k,q],this.current.textMatrixScale=Math.hypot(g,v),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(g,v,m,T){const k=this.ctx,q=this.current,Q=q.font,ae=q.textRenderingMode,we=q.fontSize/q.fontSizeScale,R=ae&r.TextRenderingMode.FILL_STROKE_MASK,B=!!(ae&r.TextRenderingMode.ADD_TO_PATH_FLAG),ee=q.patternFill&&!Q.missingFile;let be;(Q.disableFontFace||B||ee)&&(be=Q.getPathGenerator(this.commonObjs,g)),Q.disableFontFace||ee?(k.save(),k.translate(v,m),k.beginPath(),be(k,we),T&&k.setTransform(...T),(R===r.TextRenderingMode.FILL||R===r.TextRenderingMode.FILL_STROKE)&&k.fill(),(R===r.TextRenderingMode.STROKE||R===r.TextRenderingMode.FILL_STROKE)&&k.stroke(),k.restore()):((R===r.TextRenderingMode.FILL||R===r.TextRenderingMode.FILL_STROKE)&&k.fillText(g,v,m),(R===r.TextRenderingMode.STROKE||R===r.TextRenderingMode.FILL_STROKE)&&k.strokeText(g,v,m)),B&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(k),x:v,y:m,fontSize:we,addToPath:be})}get isFontSubpixelAAEnabled(){const{context:g}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);g.scale(1.5,1),g.fillText("I",0,10);const v=g.getImageData(0,0,10,10).data;let m=!1;for(let T=3;T<v.length;T+=4)if(v[T]>0&&v[T]<255){m=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",m)}showText(g){const v=this.current,m=v.font;if(m.isType3Font)return this.showType3Text(g);const T=v.fontSize;if(T===0)return;const k=this.ctx,q=v.fontSizeScale,Q=v.charSpacing,ae=v.wordSpacing,we=v.fontDirection,R=v.textHScale*we,B=g.length,ee=m.vertical,be=ee?1:-1,oe=m.defaultVMetrics,Ce=T*v.fontMatrix[0],Ie=v.textRenderingMode===r.TextRenderingMode.FILL&&!m.disableFontFace&&!v.patternFill;k.save(),k.transform(...v.textMatrix),k.translate(v.x,v.y+v.textRise),we>0?k.scale(R,-1):k.scale(R,1);let Ee;if(v.patternFill){k.save();const ve=v.fillColor.getPattern(k,this,(0,o.getCurrentTransformInverse)(k),l.PathType.FILL);Ee=(0,o.getCurrentTransform)(k),k.restore(),k.fillStyle=ve}let Pe=v.lineWidth;const he=v.textMatrixScale;if(he===0||Pe===0){const ve=v.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(ve===r.TextRenderingMode.STROKE||ve===r.TextRenderingMode.FILL_STROKE)&&(Pe=this.getSinglePixelWidth())}else Pe/=he;if(q!==1&&(k.scale(q,q),Pe/=q),k.lineWidth=Pe,m.isInvalidPDFjsFont){const ve=[];let Oe=0;for(const De of g)ve.push(De.unicode),Oe+=De.width;k.fillText(ve.join(""),0,0),v.x+=Oe*Ce*R,k.restore(),this.compose();return}let le=0,ie;for(ie=0;ie<B;++ie){const ve=g[ie];if(typeof ve=="number"){le+=be*ve*T/1e3;continue}let Oe=!1;const De=(ve.isSpace?ae:0)+Q,Ze=ve.fontChar,Xe=ve.accent;let nt,lt,ht=ve.width;if(ee){const pt=ve.vmetric||oe,Me=-(ve.vmetric?pt[1]:ht*.5)*Ce,me=pt[2]*Ce;ht=pt?-pt[0]:ht,nt=Me/q,lt=(le+me)/q}else nt=le/q,lt=0;if(m.remeasure&&ht>0){const pt=k.measureText(Ze).width*1e3/T*q;if(ht<pt&&this.isFontSubpixelAAEnabled){const Me=ht/pt;Oe=!0,k.save(),k.scale(Me,1),nt/=Me}else ht!==pt&&(nt+=(ht-pt)/2e3*T/q)}if(this.contentVisible&&(ve.isInFont||m.missingFile)){if(Ie&&!Xe)k.fillText(Ze,nt,lt);else if(this.paintChar(Ze,nt,lt,Ee),Xe){const pt=nt+T*Xe.offset.x/q,Me=lt-T*Xe.offset.y/q;this.paintChar(Xe.fontChar,pt,Me,Ee)}}const st=ee?ht*Ce-De*we:ht*Ce+De*we;le+=st,Oe&&k.restore()}ee?v.y-=le:v.x+=le*R,k.restore(),this.compose()}showType3Text(g){const v=this.ctx,m=this.current,T=m.font,k=m.fontSize,q=m.fontDirection,Q=T.vertical?1:-1,ae=m.charSpacing,we=m.wordSpacing,R=m.textHScale*q,B=m.fontMatrix||r.FONT_IDENTITY_MATRIX,ee=g.length,be=m.textRenderingMode===r.TextRenderingMode.INVISIBLE;let oe,Ce,Ie,Ee;if(!(be||k===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,v.save(),v.transform(...m.textMatrix),v.translate(m.x,m.y),v.scale(R,q),oe=0;oe<ee;++oe){if(Ce=g[oe],typeof Ce=="number"){Ee=Q*Ce*k/1e3,this.ctx.translate(Ee,0),m.x+=Ee*R;continue}const Pe=(Ce.isSpace?we:0)+ae,he=T.charProcOperatorList[Ce.operatorListId];if(!he){(0,r.warn)(`Type3 character "${Ce.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ce,this.save(),v.scale(k,k),v.transform(...B),this.executeOperatorList(he),this.restore()),Ie=r.Util.applyTransform([Ce.width,0],B)[0]*k+Pe,v.translate(Ie,0),m.x+=Ie*R}v.restore(),this.processingType3=null}}setCharWidth(g,v){}setCharWidthAndBounds(g,v,m,T,k,q){this.ctx.rect(m,T,k-m,q-T),this.ctx.clip(),this.endPath()}getColorN_Pattern(g){let v;if(g[0]==="TilingPattern"){const m=g[1],T=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),k={createCanvasGraphics:q=>new ze(q,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};v=new l.TilingPattern(g,m,this.ctx,k,T)}else v=this._getPattern(g[1],g[2]);return v}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(g,v,m){const T=r.Util.makeHexColor(g,v,m);this.ctx.strokeStyle=T,this.current.strokeColor=T}setFillRGBColor(g,v,m){const T=r.Util.makeHexColor(g,v,m);this.ctx.fillStyle=T,this.current.fillColor=T,this.current.patternFill=!1}_getPattern(g,v=null){let m;return this.cachedPatterns.has(g)?m=this.cachedPatterns.get(g):(m=(0,l.getShadingPattern)(this.getObject(g)),this.cachedPatterns.set(g,m)),v&&(m.matrix=v),m}shadingFill(g){if(!this.contentVisible)return;const v=this.ctx;this.save();const m=this._getPattern(g);v.fillStyle=m.getPattern(v,this,(0,o.getCurrentTransformInverse)(v),l.PathType.SHADING);const T=(0,o.getCurrentTransformInverse)(v);if(T){const{width:k,height:q}=v.canvas,[Q,ae,we,R]=r.Util.getAxialAlignedBoundingBox([0,0,k,q],T);this.ctx.fillRect(Q,ae,we-Q,R-ae)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(g,v){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(g)&&g.length===6&&this.transform(...g),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),v)){const m=v[2]-v[0],T=v[3]-v[1];this.ctx.rect(v[0],v[1],m,T),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),v),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(g){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const v=this.ctx;g.isolated||(0,r.info)("TODO: Support non-isolated groups."),g.knockout&&(0,r.warn)("Knockout groups not supported.");const m=(0,o.getCurrentTransform)(v);if(g.matrix&&v.transform(...g.matrix),!g.bbox)throw new Error("Bounding box is required.");let T=r.Util.getAxialAlignedBoundingBox(g.bbox,(0,o.getCurrentTransform)(v));const k=[0,0,v.canvas.width,v.canvas.height];T=r.Util.intersect(T,k)||[0,0,0,0];const q=Math.floor(T[0]),Q=Math.floor(T[1]);let ae=Math.max(Math.ceil(T[2])-q,1),we=Math.max(Math.ceil(T[3])-Q,1),R=1,B=1;ae>A&&(R=ae/A,ae=A),we>A&&(B=we/A,we=A),this.current.startNewPathAndClipBox([0,0,ae,we]);let ee="groupAt"+this.groupLevel;g.smask&&(ee+="_smask_"+this.smaskCounter++%2);const be=this.cachedCanvases.getCanvas(ee,ae,we),oe=be.context;oe.scale(1/R,1/B),oe.translate(-q,-Q),oe.transform(...m),g.smask?this.smaskStack.push({canvas:be.canvas,context:oe,offsetX:q,offsetY:Q,scaleX:R,scaleY:B,subtype:g.smask.subtype,backdrop:g.smask.backdrop,transferMap:g.smask.transferMap||null,startTransformInverse:null}):(v.setTransform(1,0,0,1,0,0),v.translate(q,Q),v.scale(R,B),v.save()),S(v,oe),this.ctx=oe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(v),this.groupLevel++}endGroup(g){if(!this.contentVisible)return;this.groupLevel--;const v=this.ctx,m=this.groupStack.pop();if(this.ctx=m,this.ctx.imageSmoothingEnabled=!1,g.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const T=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...T);const k=r.Util.getAxialAlignedBoundingBox([0,0,v.canvas.width,v.canvas.height],T);this.ctx.drawImage(v.canvas,0,0),this.ctx.restore(),this.compose(k)}}beginAnnotation(g,v,m,T,k){if(ge(this,se,wo).call(this),C(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(v)&&v.length===4){const q=v[2]-v[0],Q=v[3]-v[1];if(k&&this.annotationCanvasMap){m=m.slice(),m[4]-=v[0],m[5]-=v[1],v=v.slice(),v[0]=v[1]=0,v[2]=q,v[3]=Q;const[ae,we]=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:R}=this,B=Math.ceil(q*this.outputScaleX*R),ee=Math.ceil(Q*this.outputScaleY*R);this.annotationCanvas=this.canvasFactory.create(B,ee);const{canvas:be,context:oe}=this.annotationCanvas;this.annotationCanvasMap.set(g,be),this.annotationCanvas.savedCtx=this.ctx,this.ctx=oe,this.ctx.save(),this.ctx.setTransform(ae,0,0,-we,0,Q*we),C(this.ctx)}else C(this.ctx),this.ctx.rect(v[0],v[1],q,Q),this.ctx.clip(),this.endPath()}this.current=new H(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...m),this.transform(...T)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ge(this,Ne,xo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(g){if(!this.contentVisible)return;const v=g.count;g=this.getObject(g.data,g),g.count=v;const m=this.ctx,T=this.processingType3;if(T&&(T.compiled===void 0&&(T.compiled=O(g)),T.compiled)){T.compiled(m);return}const k=this._createMaskCanvas(g),q=k.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(q,k.offsetX,k.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(g,v,m=0,T=0,k,q){if(!this.contentVisible)return;g=this.getObject(g.data,g);const Q=this.ctx;Q.save();const ae=(0,o.getCurrentTransform)(Q);Q.transform(v,m,T,k,0,0);const we=this._createMaskCanvas(g);Q.setTransform(1,0,0,1,we.offsetX-ae[4],we.offsetY-ae[5]);for(let R=0,B=q.length;R<B;R+=2){const ee=r.Util.transform(ae,[v,m,T,k,q[R],q[R+1]]),[be,oe]=r.Util.applyTransform([0,0],ee);Q.drawImage(we.canvas,be,oe)}Q.restore(),this.compose()}paintImageMaskXObjectGroup(g){if(!this.contentVisible)return;const v=this.ctx,m=this.current.fillColor,T=this.current.patternFill;for(const k of g){const{data:q,width:Q,height:ae,transform:we}=k,R=this.cachedCanvases.getCanvas("maskCanvas",Q,ae),B=R.context;B.save();const ee=this.getObject(q,k);I(B,ee),B.globalCompositeOperation="source-in",B.fillStyle=T?m.getPattern(B,this,(0,o.getCurrentTransformInverse)(v),l.PathType.FILL):m,B.fillRect(0,0,Q,ae),B.restore(),v.save(),v.transform(...we),v.scale(1,-1),w(v,R.canvas,0,0,Q,ae,0,-1,1,1),v.restore()}this.compose()}paintImageXObject(g){if(!this.contentVisible)return;const v=this.getObject(g);if(!v){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(v)}paintImageXObjectRepeat(g,v,m,T){if(!this.contentVisible)return;const k=this.getObject(g);if(!k){(0,r.warn)("Dependent image isn't ready yet");return}const q=k.width,Q=k.height,ae=[];for(let we=0,R=T.length;we<R;we+=2)ae.push({transform:[v,0,0,m,T[we],T[we+1]],x:0,y:0,w:q,h:Q});this.paintInlineImageXObjectGroup(k,ae)}applyTransferMapsToCanvas(g){return this.current.transferMaps!=="none"&&(g.filter=this.current.transferMaps,g.drawImage(g.canvas,0,0),g.filter="none"),g.canvas}applyTransferMapsToBitmap(g){if(this.current.transferMaps==="none")return g.bitmap;const{bitmap:v,width:m,height:T}=g,k=this.cachedCanvases.getCanvas("inlineImage",m,T),q=k.context;return q.filter=this.current.transferMaps,q.drawImage(v,0,0),q.filter="none",k.canvas}paintInlineImageXObject(g){if(!this.contentVisible)return;const v=g.width,m=g.height,T=this.ctx;if(this.save(),!r.isNodeJS){const{filter:Q}=T;Q!=="none"&&Q!==""&&(T.filter="none")}T.scale(1/v,-1/m);let k;if(g.bitmap)k=this.applyTransferMapsToBitmap(g);else if(typeof HTMLElement=="function"&&g instanceof HTMLElement||!g.data)k=g;else{const ae=this.cachedCanvases.getCanvas("inlineImage",v,m).context;U(ae,g),k=this.applyTransferMapsToCanvas(ae)}const q=this._scaleImage(k,(0,o.getCurrentTransformInverse)(T));T.imageSmoothingEnabled=ce((0,o.getCurrentTransform)(T),g.interpolate),w(T,q.img,0,0,q.paintWidth,q.paintHeight,0,-m,v,m),this.compose(),this.restore()}paintInlineImageXObjectGroup(g,v){if(!this.contentVisible)return;const m=this.ctx;let T;if(g.bitmap)T=g.bitmap;else{const k=g.width,q=g.height,ae=this.cachedCanvases.getCanvas("inlineImage",k,q).context;U(ae,g),T=this.applyTransferMapsToCanvas(ae)}for(const k of v)m.save(),m.transform(...k.transform),m.scale(1,-1),w(m,T,k.x,k.y,k.w,k.h,0,-1,1,1),m.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(g){}markPointProps(g,v){}beginMarkedContent(g){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(g,v){g==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(v)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(g){const v=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(g);const m=this.ctx;this.pendingClip&&(v||(this.pendingClip===xe?m.clip("evenodd"):m.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const g=(0,o.getCurrentTransform)(this.ctx);if(g[1]===0&&g[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(g[0]),Math.abs(g[3]));else{const v=Math.abs(g[0]*g[3]-g[2]*g[1]),m=Math.hypot(g[0],g[2]),T=Math.hypot(g[1],g[3]);this._cachedGetSinglePixelWidth=Math.max(m,T)/v}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:g}=this.current,{a:v,b:m,c:T,d:k}=this.ctx.getTransform();let q,Q;if(m===0&&T===0){const ae=Math.abs(v),we=Math.abs(k);if(ae===we)if(g===0)q=Q=1/ae;else{const R=ae*g;q=Q=R<1?1/R:1}else if(g===0)q=1/ae,Q=1/we;else{const R=ae*g,B=we*g;q=R<1?1/R:1,Q=B<1?1/B:1}}else{const ae=Math.abs(v*k-m*T),we=Math.hypot(v,m),R=Math.hypot(T,k);if(g===0)q=R/ae,Q=we/ae;else{const B=g*ae;q=R>B?R/B:1,Q=we>B?we/B:1}}this._cachedScaleForStroking[0]=q,this._cachedScaleForStroking[1]=Q}return this._cachedScaleForStroking}rescaleAndStroke(g){const{ctx:v}=this,{lineWidth:m}=this.current,[T,k]=this.getScaleForStroking();if(v.lineWidth=m||1,T===1&&k===1){v.stroke();return}const q=v.getLineDash();if(g&&v.save(),v.scale(T,k),q.length>0){const Q=Math.max(T,k);v.setLineDash(q.map(ae=>ae/Q)),v.lineDashOffset/=Q}v.stroke(),g&&v.restore()}isContentVisible(){for(let g=this.markedContentStack.length-1;g>=0;g--)if(!this.markedContentStack[g].visible)return!1;return!0}};se=new WeakSet,wo=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ne=new WeakSet,xo=function(){if(this.pageColors){const g=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(g!=="none"){const v=this.ctx.filter;this.ctx.filter=g,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}};let Se=ze;n.CanvasGraphics=Se;for(const K in r.OPS)Se.prototype[K]!==void 0&&(Se.prototype[r.OPS[K]]=Se.prototype[K])},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=D;var r=s(1),o=s(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=l;function c(O,H){if(!H)return;const U=H[2]-H[0],I=H[3]-H[1],S=new Path2D;S.rect(H[0],H[1],U,I),O.clip(S)}class y{constructor(){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class b extends y{constructor(H){super(),this._type=H[1],this._bbox=H[2],this._colorStops=H[3],this._p0=H[4],this._p1=H[5],this._r0=H[6],this._r1=H[7],this.matrix=null}_createGradient(H){let U;this._type==="axial"?U=H.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(U=H.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const I of this._colorStops)U.addColorStop(I[0],I[1]);return U}getPattern(H,U,I,S){let C;if(S===l.STROKE||S===l.FILL){const Y=U.current.getClippedPathBoundingBox(S,(0,o.getCurrentTransform)(H))||[0,0,0,0],$=Math.ceil(Y[2]-Y[0])||1,E=Math.ceil(Y[3]-Y[1])||1,Z=U.cachedCanvases.getCanvas("pattern",$,E,!0),W=Z.context;W.clearRect(0,0,W.canvas.width,W.canvas.height),W.beginPath(),W.rect(0,0,W.canvas.width,W.canvas.height),W.translate(-Y[0],-Y[1]),I=r.Util.transform(I,[1,0,0,1,Y[0],Y[1]]),W.transform(...U.baseTransform),this.matrix&&W.transform(...this.matrix),c(W,this._bbox),W.fillStyle=this._createGradient(W),W.fill(),C=H.createPattern(Z.canvas,"no-repeat");const ce=new DOMMatrix(I);C.setTransform(ce)}else c(H,this._bbox),C=this._createGradient(H);return C}}function A(O,H,U,I,S,C,Y,$){const E=H.coords,Z=H.colors,W=O.data,ce=O.width*4;let fe;E[U+1]>E[I+1]&&(fe=U,U=I,I=fe,fe=C,C=Y,Y=fe),E[I+1]>E[S+1]&&(fe=I,I=S,S=fe,fe=Y,Y=$,$=fe),E[U+1]>E[I+1]&&(fe=U,U=I,I=fe,fe=C,C=Y,Y=fe);const J=(E[U]+H.offsetX)*H.scaleX,pe=(E[U+1]+H.offsetY)*H.scaleY,xe=(E[I]+H.offsetX)*H.scaleX,Se=(E[I+1]+H.offsetY)*H.scaleY,se=(E[S]+H.offsetX)*H.scaleX,Fe=(E[S+1]+H.offsetY)*H.scaleY;if(pe>=Fe)return;const Ne=Z[C],Be=Z[C+1],ze=Z[C+2],K=Z[Y],g=Z[Y+1],v=Z[Y+2],m=Z[$],T=Z[$+1],k=Z[$+2],q=Math.round(pe),Q=Math.round(Fe);let ae,we,R,B,ee,be,oe,Ce;for(let Ie=q;Ie<=Q;Ie++){if(Ie<Se){const ie=Ie<pe?0:(pe-Ie)/(pe-Se);ae=J-(J-xe)*ie,we=Ne-(Ne-K)*ie,R=Be-(Be-g)*ie,B=ze-(ze-v)*ie}else{let ie;Ie>Fe?ie=1:Se===Fe?ie=0:ie=(Se-Ie)/(Se-Fe),ae=xe-(xe-se)*ie,we=K-(K-m)*ie,R=g-(g-T)*ie,B=v-(v-k)*ie}let Ee;Ie<pe?Ee=0:Ie>Fe?Ee=1:Ee=(pe-Ie)/(pe-Fe),ee=J-(J-se)*Ee,be=Ne-(Ne-m)*Ee,oe=Be-(Be-T)*Ee,Ce=ze-(ze-k)*Ee;const Pe=Math.round(Math.min(ae,ee)),he=Math.round(Math.max(ae,ee));let le=ce*Ie+Pe*4;for(let ie=Pe;ie<=he;ie++)Ee=(ae-ie)/(ae-ee),Ee<0?Ee=0:Ee>1&&(Ee=1),W[le++]=we-(we-be)*Ee|0,W[le++]=R-(R-oe)*Ee|0,W[le++]=B-(B-Ce)*Ee|0,W[le++]=255}}function d(O,H,U){const I=H.coords,S=H.colors;let C,Y;switch(H.type){case"lattice":const $=H.verticesPerRow,E=Math.floor(I.length/$)-1,Z=$-1;for(C=0;C<E;C++){let W=C*$;for(let ce=0;ce<Z;ce++,W++)A(O,U,I[W],I[W+1],I[W+$],S[W],S[W+1],S[W+$]),A(O,U,I[W+$+1],I[W+1],I[W+$],S[W+$+1],S[W+1],S[W+$])}break;case"triangles":for(C=0,Y=I.length;C<Y;C+=3)A(O,U,I[C],I[C+1],I[C+2],S[C],S[C+1],S[C+2]);break;default:throw new Error("illegal figure")}}class x extends y{constructor(H){super(),this._coords=H[2],this._colors=H[3],this._figures=H[4],this._bounds=H[5],this._bbox=H[7],this._background=H[8],this.matrix=null}_createMeshCanvas(H,U,I){const $=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),Z=Math.ceil(this._bounds[2])-$,W=Math.ceil(this._bounds[3])-E,ce=Math.min(Math.ceil(Math.abs(Z*H[0]*1.1)),3e3),fe=Math.min(Math.ceil(Math.abs(W*H[1]*1.1)),3e3),J=Z/ce,pe=W/fe,xe={coords:this._coords,colors:this._colors,offsetX:-$,offsetY:-E,scaleX:1/J,scaleY:1/pe},Se=ce+2*2,se=fe+2*2,Fe=I.getCanvas("mesh",Se,se,!1),Ne=Fe.context,Be=Ne.createImageData(ce,fe);if(U){const K=Be.data;for(let g=0,v=K.length;g<v;g+=4)K[g]=U[0],K[g+1]=U[1],K[g+2]=U[2],K[g+3]=255}for(const K of this._figures)d(Be,K,xe);return Ne.putImageData(Be,2,2),{canvas:Fe.canvas,offsetX:$-2*J,offsetY:E-2*pe,scaleX:J,scaleY:pe}}getPattern(H,U,I,S){c(H,this._bbox);let C;if(S===l.SHADING)C=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(H));else if(C=r.Util.singularValueDecompose2dScale(U.baseTransform),this.matrix){const $=r.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*$[0],C[1]*$[1]]}const Y=this._createMeshCanvas(C,S===l.SHADING?null:this._background,U.cachedCanvases);return S!==l.SHADING&&(H.setTransform(...U.baseTransform),this.matrix&&H.transform(...this.matrix)),H.translate(Y.offsetX,Y.offsetY),H.scale(Y.scaleX,Y.scaleY),H.createPattern(Y.canvas,"no-repeat")}}class z extends y{getPattern(){return"hotpink"}}function D(O){switch(O[0]){case"RadialAxial":return new b(O);case"Mesh":return new x(O);case"Dummy":return new z}throw new Error(`Unknown IR type: ${O[0]}`)}const F={COLORED:1,UNCOLORED:2},w=class w{constructor(H,U,I,S,C){this.operatorList=H[2],this.matrix=H[3]||[1,0,0,1,0,0],this.bbox=H[4],this.xstep=H[5],this.ystep=H[6],this.paintType=H[7],this.tilingType=H[8],this.color=U,this.ctx=I,this.canvasGraphicsFactory=S,this.baseTransform=C}createPatternCanvas(H){const U=this.operatorList,I=this.bbox,S=this.xstep,C=this.ystep,Y=this.paintType,$=this.tilingType,E=this.color,Z=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+$);const W=I[0],ce=I[1],fe=I[2],J=I[3],pe=r.Util.singularValueDecompose2dScale(this.matrix),xe=r.Util.singularValueDecompose2dScale(this.baseTransform),Se=[pe[0]*xe[0],pe[1]*xe[1]],se=this.getSizeAndScale(S,this.ctx.canvas.width,Se[0]),Fe=this.getSizeAndScale(C,this.ctx.canvas.height,Se[1]),Ne=H.cachedCanvases.getCanvas("pattern",se.size,Fe.size,!0),Be=Ne.context,ze=Z.createCanvasGraphics(Be);ze.groupLevel=H.groupLevel,this.setFillAndStrokeStyleToContext(ze,Y,E);let K=W,g=ce,v=fe,m=J;return W<0&&(K=0,v+=Math.abs(W)),ce<0&&(g=0,m+=Math.abs(ce)),Be.translate(-(se.scale*K),-(Fe.scale*g)),ze.transform(se.scale,0,0,Fe.scale,0,0),Be.save(),this.clipBbox(ze,K,g,v,m),ze.baseTransform=(0,o.getCurrentTransform)(ze.ctx),ze.executeOperatorList(U),ze.endDrawing(),{canvas:Ne.canvas,scaleX:se.scale,scaleY:Fe.scale,offsetX:K,offsetY:g}}getSizeAndScale(H,U,I){H=Math.abs(H);const S=Math.max(w.MAX_PATTERN_SIZE,U);let C=Math.ceil(H*I);return C>=S?C=S:I=C/H,{scale:I,size:C}}clipBbox(H,U,I,S,C){const Y=S-U,$=C-I;H.ctx.rect(U,I,Y,$),H.current.updateRectMinMax((0,o.getCurrentTransform)(H.ctx),[U,I,S,C]),H.clip(),H.endPath()}setFillAndStrokeStyleToContext(H,U,I){const S=H.ctx,C=H.current;switch(U){case F.COLORED:const Y=this.ctx;S.fillStyle=Y.fillStyle,S.strokeStyle=Y.strokeStyle,C.fillColor=Y.fillStyle,C.strokeColor=Y.strokeStyle;break;case F.UNCOLORED:const $=r.Util.makeHexColor(I[0],I[1],I[2]);S.fillStyle=$,S.strokeStyle=$,C.fillColor=$,C.strokeColor=$;break;default:throw new r.FormatError(`Unsupported paint type: ${U}`)}}getPattern(H,U,I,S){let C=I;S!==l.SHADING&&(C=r.Util.transform(C,U.baseTransform),this.matrix&&(C=r.Util.transform(C,this.matrix)));const Y=this.createPatternCanvas(U);let $=new DOMMatrix(C);$=$.translate(Y.offsetX,Y.offsetY),$=$.scale(1/Y.scaleX,1/Y.scaleY);const E=H.createPattern(Y.canvas,"repeat");return E.setTransform($),E}};Nt(w,"MAX_PATTERN_SIZE",3e3);let M=w;n.TilingPattern=M},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.convertBlackAndWhiteToRGBA=l,n.convertToRGBA=o,n.grayToRGBA=y;var r=s(1);function o(b){switch(b.kind){case r.ImageKind.GRAYSCALE_1BPP:return l(b);case r.ImageKind.RGB_24BPP:return c(b)}return null}function l({src:b,srcPos:A=0,dest:d,width:x,height:z,nonBlackColor:D=4294967295,inverseDecode:F=!1}){const M=r.FeatureTest.isLittleEndian?4278190080:255,[w,O]=F?[D,M]:[M,D],H=x>>3,U=x&7,I=b.length;d=new Uint32Array(d.buffer);let S=0;for(let C=0;C<z;C++){for(const $=A+H;A<$;A++){const E=A<I?b[A]:255;d[S++]=E&128?O:w,d[S++]=E&64?O:w,d[S++]=E&32?O:w,d[S++]=E&16?O:w,d[S++]=E&8?O:w,d[S++]=E&4?O:w,d[S++]=E&2?O:w,d[S++]=E&1?O:w}if(U===0)continue;const Y=A<I?b[A++]:255;for(let $=0;$<U;$++)d[S++]=Y&1<<7-$?O:w}return{srcPos:A,destPos:S}}function c({src:b,srcPos:A=0,dest:d,destPos:x=0,width:z,height:D}){let F=0;const M=b.length>>2,w=new Uint32Array(b.buffer,A,M);if(r.FeatureTest.isLittleEndian){for(;F<M-2;F+=3,x+=4){const O=w[F],H=w[F+1],U=w[F+2];d[x]=O|4278190080,d[x+1]=O>>>24|H<<8|4278190080,d[x+2]=H>>>16|U<<16|4278190080,d[x+3]=U>>>8|4278190080}for(let O=F*4,H=b.length;O<H;O+=3)d[x++]=b[O]|b[O+1]<<8|b[O+2]<<16|4278190080}else{for(;F<M-2;F+=3,x+=4){const O=w[F],H=w[F+1],U=w[F+2];d[x]=O|255,d[x+1]=O<<24|H>>>8|255,d[x+2]=H<<16|U>>>16|255,d[x+3]=U<<8|255}for(let O=F*4,H=b.length;O<H;O+=3)d[x++]=b[O]<<24|b[O+1]<<16|b[O+2]<<8|255}return{srcPos:A,destPos:x}}function y(b,A){if(r.FeatureTest.isLittleEndian)for(let d=0,x=b.length;d<x;d++)A[d]=b[d]*65793|4278190080;else for(let d=0,x=b.length;d<x;d++)A[d]=b[d]*16843008|255}},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const s=Object.create(null);n.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,n,s)=>{var b,wc,d,xc,z,Vs;Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var r=s(1);const o={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c(F){switch(F instanceof Error||typeof F=="object"&&F!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F.name){case"AbortException":return new r.AbortException(F.message);case"MissingPDFException":return new r.MissingPDFException(F.message);case"PasswordException":return new r.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new r.UnknownErrorException(F.message,F.details);default:return new r.UnknownErrorException(F.message,F.toString())}}class y{constructor(M,w,O){re(this,b);re(this,d);re(this,z);this.sourceName=M,this.targetName=w,this.comObj=O,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=H=>{const U=H.data;if(U.targetName!==this.sourceName)return;if(U.stream){ge(this,d,xc).call(this,U);return}if(U.callback){const S=U.callbackId,C=this.callbackCapabilities[S];if(!C)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],U.callback===o.DATA)C.resolve(U.data);else if(U.callback===o.ERROR)C.reject(c(U.reason));else throw new Error("Unexpected callback case");return}const I=this.actionHandler[U.action];if(!I)throw new Error(`Unknown action from worker: ${U.action}`);if(U.callbackId){const S=this.sourceName,C=U.sourceName;new Promise(function(Y){Y(I(U.data))}).then(function(Y){O.postMessage({sourceName:S,targetName:C,callback:o.DATA,callbackId:U.callbackId,data:Y})},function(Y){O.postMessage({sourceName:S,targetName:C,callback:o.ERROR,callbackId:U.callbackId,reason:c(Y)})});return}if(U.streamId){ge(this,b,wc).call(this,U);return}I(U.data)},O.addEventListener("message",this._onComObjOnMessage)}on(M,w){const O=this.actionHandler;if(O[M])throw new Error(`There is already an actionName called "${M}"`);O[M]=w}send(M,w,O){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:w},O)}sendWithPromise(M,w,O){const H=this.callbackId++,U=new r.PromiseCapability;this.callbackCapabilities[H]=U;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:H,data:w},O)}catch(I){U.reject(I)}return U.promise}sendWithStream(M,w,O,H){const U=this.streamId++,I=this.sourceName,S=this.targetName,C=this.comObj;return new ReadableStream({start:Y=>{const $=new r.PromiseCapability;return this.streamControllers[U]={controller:Y,startCall:$,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:I,targetName:S,action:M,streamId:U,data:w,desiredSize:Y.desiredSize},H),$.promise},pull:Y=>{const $=new r.PromiseCapability;return this.streamControllers[U].pullCall=$,C.postMessage({sourceName:I,targetName:S,stream:l.PULL,streamId:U,desiredSize:Y.desiredSize}),$.promise},cancel:Y=>{(0,r.assert)(Y instanceof Error,"cancel must have a valid reason");const $=new r.PromiseCapability;return this.streamControllers[U].cancelCall=$,this.streamControllers[U].isClosed=!0,C.postMessage({sourceName:I,targetName:S,stream:l.CANCEL,streamId:U,reason:c(Y)}),$.promise}},O)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,wc=function(M){const w=M.streamId,O=this.sourceName,H=M.sourceName,U=this.comObj,I=this,S=this.actionHandler[M.action],C={enqueue(Y,$=1,E){if(this.isCancelled)return;const Z=this.desiredSize;this.desiredSize-=$,Z>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),U.postMessage({sourceName:O,targetName:H,stream:l.ENQUEUE,streamId:w,chunk:Y},E)},close(){this.isCancelled||(this.isCancelled=!0,U.postMessage({sourceName:O,targetName:H,stream:l.CLOSE,streamId:w}),delete I.streamSinks[w])},error(Y){(0,r.assert)(Y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,U.postMessage({sourceName:O,targetName:H,stream:l.ERROR,streamId:w,reason:c(Y)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[w]=C,new Promise(function(Y){Y(S(M.data,C))}).then(function(){U.postMessage({sourceName:O,targetName:H,stream:l.START_COMPLETE,streamId:w,success:!0})},function(Y){U.postMessage({sourceName:O,targetName:H,stream:l.START_COMPLETE,streamId:w,reason:c(Y)})})},d=new WeakSet,xc=function(M){const w=M.streamId,O=this.sourceName,H=M.sourceName,U=this.comObj,I=this.streamControllers[w],S=this.streamSinks[w];switch(M.stream){case l.START_COMPLETE:M.success?I.startCall.resolve():I.startCall.reject(c(M.reason));break;case l.PULL_COMPLETE:M.success?I.pullCall.resolve():I.pullCall.reject(c(M.reason));break;case l.PULL:if(!S){U.postMessage({sourceName:O,targetName:H,stream:l.PULL_COMPLETE,streamId:w,success:!0});break}S.desiredSize<=0&&M.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=M.desiredSize,new Promise(function(C){var Y;C((Y=S.onPull)==null?void 0:Y.call(S))}).then(function(){U.postMessage({sourceName:O,targetName:H,stream:l.PULL_COMPLETE,streamId:w,success:!0})},function(C){U.postMessage({sourceName:O,targetName:H,stream:l.PULL_COMPLETE,streamId:w,reason:c(C)})});break;case l.ENQUEUE:if((0,r.assert)(I,"enqueue should have stream controller"),I.isClosed)break;I.controller.enqueue(M.chunk);break;case l.CLOSE:if((0,r.assert)(I,"close should have stream controller"),I.isClosed)break;I.isClosed=!0,I.controller.close(),ge(this,z,Vs).call(this,I,w);break;case l.ERROR:(0,r.assert)(I,"error should have stream controller"),I.controller.error(c(M.reason)),ge(this,z,Vs).call(this,I,w);break;case l.CANCEL_COMPLETE:M.success?I.cancelCall.resolve():I.cancelCall.reject(c(M.reason)),ge(this,z,Vs).call(this,I,w);break;case l.CANCEL:if(!S)break;new Promise(function(C){var Y;C((Y=S.onCancel)==null?void 0:Y.call(S,c(M.reason)))}).then(function(){U.postMessage({sourceName:O,targetName:H,stream:l.CANCEL_COMPLETE,streamId:w,success:!0})},function(C){U.postMessage({sourceName:O,targetName:H,stream:l.CANCEL_COMPLETE,streamId:w,reason:c(C)})}),S.sinkCapability.reject(c(M.reason)),S.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}},z=new WeakSet,Vs=async function(M,w){var O,H,U;await Promise.allSettled([(O=M.startCall)==null?void 0:O.promise,(H=M.pullCall)==null?void 0:H.promise,(U=M.cancelCall)==null?void 0:U.promise]),delete this.streamControllers[w]},n.MessageHandler=y},(e,n,s)=>{var l,c;Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var r=s(1);class o{constructor({parsedData:b,rawData:A}){re(this,l,void 0);re(this,c,void 0);Re(this,l,b),Re(this,c,A)}getRaw(){return u(this,c)}get(b){return u(this,l).get(b)??null}getAll(){return(0,r.objectFromMap)(u(this,l))}has(b){return u(this,l).has(b)}}l=new WeakMap,c=new WeakMap,n.Metadata=o},(e,n,s)=>{var b,A,d,x,z,D,Co;Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var r=s(1),o=s(8);const l=Symbol("INTERNAL");class c{constructor(w,O){re(this,b,!0);this.name=w,this.intent=O}get visible(){return u(this,b)}_setVisible(w,O){w!==l&&(0,r.unreachable)("Internal method `_setVisible` called."),Re(this,b,O)}}b=new WeakMap;class y{constructor(w){re(this,D);re(this,A,null);re(this,d,new Map);re(this,x,null);re(this,z,null);if(this.name=null,this.creator=null,w!==null){this.name=w.name,this.creator=w.creator,Re(this,z,w.order);for(const O of w.groups)u(this,d).set(O.id,new c(O.name,O.intent));if(w.baseState==="OFF")for(const O of u(this,d).values())O._setVisible(l,!1);for(const O of w.on)u(this,d).get(O)._setVisible(l,!0);for(const O of w.off)u(this,d).get(O)._setVisible(l,!1);Re(this,x,this.getHash())}}isVisible(w){if(u(this,d).size===0)return!0;if(!w)return(0,r.warn)("Optional content group not defined."),!0;if(w.type==="OCG")return u(this,d).has(w.id)?u(this,d).get(w.id).visible:((0,r.warn)(`Optional content group not found: ${w.id}`),!0);if(w.type==="OCMD"){if(w.expression)return ge(this,D,Co).call(this,w.expression);if(!w.policy||w.policy==="AnyOn"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(u(this,d).get(O).visible)return!0}return!1}else if(w.policy==="AllOn"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(!u(this,d).get(O).visible)return!1}return!0}else if(w.policy==="AnyOff"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(!u(this,d).get(O).visible)return!0}return!1}else if(w.policy==="AllOff"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(u(this,d).get(O).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${w.policy}.`),!0}return(0,r.warn)(`Unknown group type ${w.type}.`),!0}setVisibility(w,O=!0){if(!u(this,d).has(w)){(0,r.warn)(`Optional content group not found: ${w}`);return}u(this,d).get(w)._setVisible(l,!!O),Re(this,A,null)}get hasInitialVisibility(){return u(this,x)===null||this.getHash()===u(this,x)}getOrder(){return u(this,d).size?u(this,z)?u(this,z).slice():[...u(this,d).keys()]:null}getGroups(){return u(this,d).size>0?(0,r.objectFromMap)(u(this,d)):null}getGroup(w){return u(this,d).get(w)||null}getHash(){if(u(this,A)!==null)return u(this,A);const w=new o.MurmurHash3_64;for(const[O,H]of u(this,d))w.update(`${O}:${H.visible}`);return Re(this,A,w.hexdigest())}}A=new WeakMap,d=new WeakMap,x=new WeakMap,z=new WeakMap,D=new WeakSet,Co=function(w){const O=w.length;if(O<2)return!0;const H=w[0];for(let U=1;U<O;U++){const I=w[U];let S;if(Array.isArray(I))S=ge(this,D,Co).call(this,I);else if(u(this,d).has(I))S=u(this,d).get(I).visible;else return(0,r.warn)(`Optional content group not found: ${I}`),!0;switch(H){case"And":if(!S)return!1;break;case"Or":if(S)return!0;break;case"Not":return!S;default:return!0}}return H==="And"},n.OptionalContentConfig=y},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var r=s(1),o=s(6);class l{constructor({length:A,initialData:d,progressiveDone:x=!1,contentDispositionFilename:z=null,disableRange:D=!1,disableStream:F=!1},M){if((0,r.assert)(M,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=x,this._contentDispositionFilename=z,(d==null?void 0:d.length)>0){const w=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=M,this._isStreamingSupported=!F,this._isRangeSupported=!D,this._contentLength=A,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,O)=>{this._onReceiveData({begin:w,chunk:O})}),this._pdfDataRangeTransport.addProgressListener((w,O)=>{this._onProgress({loaded:w,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:A,chunk:d}){const x=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;if(A===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const z=this._rangeReaders.some(function(D){return D._begin!==A?!1:(D._enqueue(x),!0)});(0,r.assert)(z,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var A;return((A=this._fullRequestReader)==null?void 0:A._loaded)??0}_onProgress(A){var d,x,z,D;A.total===void 0?(x=(d=this._rangeReaders[0])==null?void 0:d.onProgress)==null||x.call(d,{loaded:A.loaded}):(D=(z=this._fullRequestReader)==null?void 0:z.onProgress)==null||D.call(z,{loaded:A.loaded,total:A.total})}_onProgressiveDone(){var A;(A=this._fullRequestReader)==null||A.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const d=this._rangeReaders.indexOf(A);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new c(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,d){if(d<=this._progressiveDataLength)return null;const x=new y(this,A,d);return this._pdfDataRangeTransport.requestDataRange(A,d),this._rangeReaders.push(x),x}cancelAllRequests(A){var d;(d=this._fullRequestReader)==null||d.cancel(A);for(const x of this._rangeReaders.slice(0))x.cancel(A);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=l;class c{constructor(A,d,x=!1,z=null){this._stream=A,this._done=x||!1,this._filename=(0,o.isPdfFile)(z)?z:null,this._queuedChunks=d||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=new r.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class y{constructor(A,d,x){this._stream=A,this._begin=d,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(this._requests.length===0)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const A=new r.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var r=s(1),o=s(20);function l(x,z,D){return{method:"GET",headers:x,signal:D.signal,mode:"cors",credentials:z?"include":"same-origin",redirect:"follow"}}function c(x){const z=new Headers;for(const D in x){const F=x[D];F!==void 0&&z.append(D,F)}return z}function y(x){return x instanceof Uint8Array?x.buffer:x instanceof ArrayBuffer?x:((0,r.warn)(`getArrayBuffer - unexpected data format: ${x}`),new Uint8Array(x).buffer)}class b{constructor(z){this.source=z,this.isHttp=/^https?:/i.test(z.url),this.httpHeaders=this.isHttp&&z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var z;return((z=this._fullRequestReader)==null?void 0:z._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A(this),this._fullRequestReader}getRangeReader(z,D){if(D<=this._progressiveDataLength)return null;const F=new d(this,z,D);return this._rangeRequestReaders.push(F),F}cancelAllRequests(z){var D;(D=this._fullRequestReader)==null||D.cancel(z);for(const F of this._rangeRequestReaders.slice(0))F.cancel(z)}}n.PDFFetchStream=b;class A{constructor(z){this._stream=z,this._reader=null,this._loaded=0,this._filename=null;const D=z.source;this._withCredentials=D.withCredentials||!1,this._contentLength=D.length,this._headersCapability=new r.PromiseCapability,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._headers=c(this._stream.httpHeaders);const F=D.url;fetch(F,l(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,o.validateResponseStatus)(M.status))throw(0,o.createResponseStatusError)(M.status,F);this._reader=M.body.getReader(),this._headersCapability.resolve();const w=U=>M.headers.get(U),{allowRangeRequests:O,suggestedLength:H}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=O,this._contentLength=H||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var F;await this._headersCapability.promise;const{value:z,done:D}=await this._reader.read();return D?{value:z,done:D}:(this._loaded+=z.byteLength,(F=this.onProgress)==null||F.call(this,{loaded:this._loaded,total:this._contentLength}),{value:y(z),done:!1})}cancel(z){var D;(D=this._reader)==null||D.cancel(z),this._abortController.abort()}}class d{constructor(z,D,F){this._stream=z,this._reader=null,this._loaded=0;const M=z.source;this._withCredentials=M.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!M.disableStream,this._abortController=new AbortController,this._headers=c(this._stream.httpHeaders),this._headers.append("Range",`bytes=${D}-${F-1}`);const w=M.url;fetch(w,l(this._headers,this._withCredentials,this._abortController)).then(O=>{if(!(0,o.validateResponseStatus)(O.status))throw(0,o.createResponseStatusError)(O.status,w);this._readCapability.resolve(),this._reader=O.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var F;await this._readCapability.promise;const{value:z,done:D}=await this._reader.read();return D?{value:z,done:D}:(this._loaded+=z.byteLength,(F=this.onProgress)==null||F.call(this,{loaded:this._loaded}),{value:y(z),done:!1})}cancel(z){var D;(D=this._reader)==null||D.cancel(z),this._abortController.abort()}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=b,n.extractFilenameFromHeader=y,n.validateRangeRequestCapabilities=c,n.validateResponseStatus=A;var r=s(1),o=s(21),l=s(6);function c({getResponseHeader:d,isHttp:x,rangeChunkSize:z,disableRange:D}){const F={allowRangeRequests:!1,suggestedLength:void 0},M=parseInt(d("Content-Length"),10);return!Number.isInteger(M)||(F.suggestedLength=M,M<=2*z)||D||!x||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(F.allowRangeRequests=!0),F}function y(d){const x=d("Content-Disposition");if(x){let z=(0,o.getFilenameFromContentDispositionHeader)(x);if(z.includes("%"))try{z=decodeURIComponent(z)}catch{}if((0,l.isPdfFile)(z))return z}return null}function b(d,x){return d===404||d===0&&x.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+x+'".'):new r.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${x}".`,d)}function A(d){return d===200||d===206}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=o;var r=s(1);function o(l){let c=!0,y=b("filename\\*","i").exec(l);if(y){y=y[1];let M=z(y);return M=unescape(M),M=D(M),M=F(M),d(M)}if(y=x(l),y){const M=F(y);return d(M)}if(y=b("filename","i").exec(l),y){y=y[1];let M=z(y);return M=F(M),d(M)}function b(M,w){return new RegExp("(?:^|;)\\s*"+M+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function A(M,w){if(M){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const O=new TextDecoder(M,{fatal:!0}),H=(0,r.stringToBytes)(w);w=O.decode(H),c=!1}catch{}}return w}function d(M){return c&&/[\x80-\xff]/.test(M)&&(M=A("utf-8",M),c&&(M=A("iso-8859-1",M))),M}function x(M){const w=[];let O;const H=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(O=H.exec(M))!==null;){let[,I,S,C]=O;if(I=parseInt(I,10),I in w){if(I===0)break;continue}w[I]=[S,C]}const U=[];for(let I=0;I<w.length&&I in w;++I){let[S,C]=w[I];C=z(C),S&&(C=unescape(C),I===0&&(C=D(C))),U.push(C)}return U.join("")}function z(M){if(M.startsWith('"')){const w=M.slice(1).split('\\"');for(let O=0;O<w.length;++O){const H=w[O].indexOf('"');H!==-1&&(w[O]=w[O].slice(0,H),w.length=O+1),w[O]=w[O].replaceAll(/\\(.)/g,"$1")}M=w.join('"')}return M}function D(M){const w=M.indexOf("'");if(w===-1)return M;const O=M.slice(0,w),U=M.slice(w+1).replace(/^[^']*'/,"");return A(O,U)}function F(M){return!M.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(M)?M:M.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,O,H,U){if(H==="q"||H==="Q")return U=U.replaceAll("_"," "),U=U.replaceAll(/=([0-9a-fA-F]{2})/g,function(I,S){return String.fromCharCode(parseInt(S,16))}),A(O,U);try{U=atob(U)}catch{}return A(O,U)})}return""}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var r=s(1),o=s(20);const l=200,c=206;function y(z){const D=z.response;return typeof D!="string"?D:(0,r.stringToBytes)(D).buffer}class b{constructor(D,F={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&F.httpHeaders||Object.create(null),this.withCredentials=F.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,F,M){const w={begin:D,end:F};for(const O in M)w[O]=M[O];return this.request(w)}requestFull(D){return this.request(D)}request(D){const F=new XMLHttpRequest,M=this.currXhrId++,w=this.pendingRequests[M]={xhr:F};F.open("GET",this.url),F.withCredentials=this.withCredentials;for(const O in this.httpHeaders){const H=this.httpHeaders[O];H!==void 0&&F.setRequestHeader(O,H)}return this.isHttp&&"begin"in D&&"end"in D?(F.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),w.expectedStatus=c):w.expectedStatus=l,F.responseType="arraybuffer",D.onError&&(F.onerror=function(O){D.onError(F.status)}),F.onreadystatechange=this.onStateChange.bind(this,M),F.onprogress=this.onProgress.bind(this,M),w.onHeadersReceived=D.onHeadersReceived,w.onDone=D.onDone,w.onError=D.onError,w.onProgress=D.onProgress,F.send(null),M}onProgress(D,F){var w;const M=this.pendingRequests[D];M&&((w=M.onProgress)==null||w.call(M,F))}onStateChange(D,F){var I,S,C;const M=this.pendingRequests[D];if(!M)return;const w=M.xhr;if(w.readyState>=2&&M.onHeadersReceived&&(M.onHeadersReceived(),delete M.onHeadersReceived),w.readyState!==4||!(D in this.pendingRequests))return;if(delete this.pendingRequests[D],w.status===0&&this.isHttp){(I=M.onError)==null||I.call(M,w.status);return}const O=w.status||l;if(!(O===l&&M.expectedStatus===c)&&O!==M.expectedStatus){(S=M.onError)==null||S.call(M,w.status);return}const U=y(w);if(O===c){const Y=w.getResponseHeader("Content-Range"),$=/bytes (\d+)-(\d+)\/(\d+)/.exec(Y);M.onDone({begin:parseInt($[1],10),chunk:U})}else U?M.onDone({begin:0,chunk:U}):(C=M.onError)==null||C.call(M,w.status)}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const F=this.pendingRequests[D].xhr;delete this.pendingRequests[D],F.abort()}}class A{constructor(D){this._source=D,this._manager=new b(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const F=this._rangeRequestReaders.indexOf(D);F>=0&&this._rangeRequestReaders.splice(F,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(D,F){const M=new x(this._manager,D,F);return M.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(M),M}cancelAllRequests(D){var F;(F=this._fullRequestReader)==null||F.cancel(D);for(const M of this._rangeRequestReaders.slice(0))M.cancel(D)}}n.PDFNetworkStream=A;class d{constructor(D,F){this._manager=D;const M={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=F.url,this._fullRequestId=D.requestFull(M),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=F.disableRange||!1,this._contentLength=F.length,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,F=this._manager.getRequestXhr(D),M=H=>F.getResponseHeader(H),{allowRangeRequests:w,suggestedLength:O}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=O||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(M),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,o.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){var F;(F=this.onProgress)==null||F.call(this,{loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const D=new r.PromiseCapability;return this._requests.push(D),D.promise}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(D,F,M){this._manager=D;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(F,M,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var D;(D=this.onClosed)==null||D.call(this,this)}_onDone(D){const F=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunk=F,this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,o.createResponseStatusError)(D,this._url);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){var F;this.isStreamingSupported||(F=this.onProgress)==null||F.call(this,{loaded:D.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const F=this._queuedChunk;return this._queuedChunk=null,{value:F,done:!1}}if(this._done)return{value:void 0,done:!0};const D=new r.PromiseCapability;return this._requests.push(D),D.promise}cancel(D){this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var r=s(1),o=s(20);const l=/^file:\/\/\/[a-zA-Z]:\//;function c(M){const w=require$$5,O=w.parse(M);return O.protocol==="file:"||O.host?O:/^[a-z]:[/\\]/i.test(M)?w.parse(`file:///${M}`):(O.host||(O.protocol="file:"),O)}class y{constructor(w){this.source=w,this.url=c(w.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w;return((w=this._fullRequestReader)==null?void 0:w._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new D(this):new x(this),this._fullRequestReader}getRangeReader(w,O){if(O<=this._progressiveDataLength)return null;const H=this.isFsUrl?new F(this,w,O):new z(this,w,O);return this._rangeRequestReaders.push(H),H}cancelAllRequests(w){var O;(O=this._fullRequestReader)==null||O.cancel(w);for(const H of this._rangeRequestReaders.slice(0))H.cancel(w)}}n.PDFNodeStream=y;class b{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const O=w.source;this._contentLength=O.length,this._loaded=0,this._filename=null,this._disableRange=O.disableRange||!1,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!O.disableStream,this._isRangeSupported=!O.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var H;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=w.length,(H=this.onProgress)==null||H.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",O=>{this._error(O)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const O=w.source;this._isStreamingSupported=!O.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var H;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=w.length,(H=this.onProgress)==null||H.call(this,{loaded:this._loaded}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",O=>{this._error(O)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(M,w){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:w}}class x extends b{constructor(w){super(w);const O=H=>{if(H.statusCode===404){const C=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(H);const U=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:I,suggestedLength:S}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=S||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(U)};if(this._request=null,this._url.protocol==="http:"){const H=require$$5;this._request=H.request(d(this._url,w.httpHeaders),O)}else{const H=require$$5;this._request=H.request(d(this._url,w.httpHeaders),O)}this._request.on("error",H=>{this._storedError=H,this._headersCapability.reject(H)}),this._request.end()}}class z extends A{constructor(w,O,H){super(w),this._httpHeaders={};for(const I in w.httpHeaders){const S=w.httpHeaders[I];S!==void 0&&(this._httpHeaders[I]=S)}this._httpHeaders.Range=`bytes=${O}-${H-1}`;const U=I=>{if(I.statusCode===404){const S=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S;return}this._setReadableStream(I)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(d(this._url,this._httpHeaders),U)}else{const I=require$$5;this._request=I.request(d(this._url,this._httpHeaders),U)}this._request.on("error",I=>{this._storedError=I}),this._request.end()}}class D extends b{constructor(w){super(w);let O=decodeURIComponent(this._url.path);l.test(this._url.href)&&(O=O.replace(/^\//,""));const H=require$$5;H.lstat(O,(U,I)=>{if(U){U.code==="ENOENT"&&(U=new r.MissingPDFException(`Missing PDF "${O}".`)),this._storedError=U,this._headersCapability.reject(U);return}this._contentLength=I.size,this._setReadableStream(H.createReadStream(O)),this._headersCapability.resolve()})}}class F extends A{constructor(w,O,H){super(w);let U=decodeURIComponent(this._url.path);l.test(this._url.href)&&(U=U.replace(/^\//,""));const I=require$$5;this._setReadableStream(I.createReadStream(U,{start:O,end:H-1}))}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var r=s(6),o=s(1);const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",b=["butt","round","square"],A=["miter","round","bevel"],d=function(I,S="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([I],{type:S}));const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let $=`data:${S};base64,`;for(let E=0,Z=I.length;E<Z;E+=3){const W=I[E]&255,ce=I[E+1]&255,fe=I[E+2]&255,J=W>>2,pe=(W&3)<<4|ce>>4,xe=E+1<Z?(ce&15)<<2|fe>>6:64,Se=E+2<Z?fe&63:64;$+=Y[J]+Y[pe]+Y[xe]+Y[Se]}return $},x=function(){const I=new Uint8Array([137,80,78,71,13,10,26,10]),S=12,C=new Int32Array(256);for(let fe=0;fe<256;fe++){let J=fe;for(let pe=0;pe<8;pe++)J=J&1?3988292384^J>>1&2147483647:J>>1&2147483647;C[fe]=J}function Y(fe,J,pe){let xe=-1;for(let Se=J;Se<pe;Se++){const se=(xe^fe[Se])&255,Fe=C[se];xe=xe>>>8^Fe}return xe^-1}function $(fe,J,pe,xe){let Se=xe;const se=J.length;pe[Se]=se>>24&255,pe[Se+1]=se>>16&255,pe[Se+2]=se>>8&255,pe[Se+3]=se&255,Se+=4,pe[Se]=fe.charCodeAt(0)&255,pe[Se+1]=fe.charCodeAt(1)&255,pe[Se+2]=fe.charCodeAt(2)&255,pe[Se+3]=fe.charCodeAt(3)&255,Se+=4,pe.set(J,Se),Se+=J.length;const Fe=Y(pe,xe+4,Se);pe[Se]=Fe>>24&255,pe[Se+1]=Fe>>16&255,pe[Se+2]=Fe>>8&255,pe[Se+3]=Fe&255}function E(fe,J,pe){let xe=1,Se=0;for(let se=J;se<pe;++se)xe=(xe+(fe[se]&255))%65521,Se=(Se+xe)%65521;return Se<<16|xe}function Z(fe){if(!o.isNodeJS)return W(fe);try{const J=parseInt(process.versions.node)>=8?fe:Buffer.from(fe),pe=require$$5.deflateSync(J,{level:9});return pe instanceof Uint8Array?pe:new Uint8Array(pe)}catch(J){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+J)}return W(fe)}function W(fe){let J=fe.length;const pe=65535,xe=Math.ceil(J/pe),Se=new Uint8Array(2+J+xe*5+4);let se=0;Se[se++]=120,Se[se++]=156;let Fe=0;for(;J>pe;)Se[se++]=0,Se[se++]=255,Se[se++]=255,Se[se++]=0,Se[se++]=0,Se.set(fe.subarray(Fe,Fe+pe),se),se+=pe,Fe+=pe,J-=pe;Se[se++]=1,Se[se++]=J&255,Se[se++]=J>>8&255,Se[se++]=~J&65535&255,Se[se++]=(~J&65535)>>8&255,Se.set(fe.subarray(Fe),se),se+=fe.length-Fe;const Ne=E(fe,0,fe.length);return Se[se++]=Ne>>24&255,Se[se++]=Ne>>16&255,Se[se++]=Ne>>8&255,Se[se++]=Ne&255,Se}function ce(fe,J,pe,xe){const Se=fe.width,se=fe.height;let Fe,Ne,Be;const ze=fe.data;switch(J){case o.ImageKind.GRAYSCALE_1BPP:Ne=0,Fe=1,Be=Se+7>>3;break;case o.ImageKind.RGB_24BPP:Ne=2,Fe=8,Be=Se*3;break;case o.ImageKind.RGBA_32BPP:Ne=6,Fe=8,Be=Se*4;break;default:throw new Error("invalid format")}const K=new Uint8Array((1+Be)*se);let g=0,v=0;for(let ae=0;ae<se;++ae)K[g++]=0,K.set(ze.subarray(v,v+Be),g),v+=Be,g+=Be;if(J===o.ImageKind.GRAYSCALE_1BPP&&xe){g=0;for(let ae=0;ae<se;ae++){g++;for(let we=0;we<Be;we++)K[g++]^=255}}const m=new Uint8Array([Se>>24&255,Se>>16&255,Se>>8&255,Se&255,se>>24&255,se>>16&255,se>>8&255,se&255,Fe,Ne,0,0,0]),T=Z(K),k=I.length+S*3+m.length+T.length,q=new Uint8Array(k);let Q=0;return q.set(I,Q),Q+=I.length,$("IHDR",m,q,Q),Q+=S+m.length,$("IDATA",T,q,Q),Q+=S+T.length,$("IEND",new Uint8Array(0),q,Q),d(q,"image/png",pe)}return function(J,pe,xe){const Se=J.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:J.kind;return ce(J,Se,pe,xe)}}();class z{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(S,C){this.x=S,this.y=C}}function D(I){let S=[];const C=[];for(const Y of I){if(Y.fn==="save"){S.push({fnId:92,fn:"group",items:[]}),C.push(S),S=S.at(-1).items;continue}Y.fn==="restore"?S=C.pop():S.push(Y)}return S}function F(I){if(Number.isInteger(I))return I.toString();const S=I.toFixed(10);let C=S.length-1;if(S[C]!=="0")return S;do C--;while(S[C]==="0");return S.substring(0,S[C]==="."?C:C+1)}function M(I){if(I[4]===0&&I[5]===0){if(I[1]===0&&I[2]===0)return I[0]===1&&I[3]===1?"":`scale(${F(I[0])} ${F(I[3])})`;if(I[0]===I[3]&&I[1]===-I[2]){const S=Math.acos(I[0])*180/Math.PI;return`rotate(${F(S)})`}}else if(I[0]===1&&I[1]===0&&I[2]===0&&I[3]===1)return`translate(${F(I[4])} ${F(I[5])})`;return`matrix(${F(I[0])} ${F(I[1])} ${F(I[2])} ${F(I[3])} ${F(I[4])} ${F(I[5])})`}let w=0,O=0,H=0;class U{constructor(S,C,Y=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new z,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=S,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Y,this._operatorIdMapping=[];for(const $ in o.OPS)this._operatorIdMapping[o.OPS[$]]=$}getObject(S,C=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):C}save(){this.transformStack.push(this.transformMatrix);const S=this.current;this.extraStack.push(S),this.current=S.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(S){this.save(),this.executeOpTree(S),this.restore()}loadDependencies(S){const C=S.fnArray,Y=S.argsArray;for(let $=0,E=C.length;$<E;$++)if(C[$]===o.OPS.dependency)for(const Z of Y[$]){const W=Z.startsWith("g_")?this.commonObjs:this.objs,ce=new Promise(fe=>{W.get(Z,fe)});this.current.dependencies.push(ce)}return Promise.all(this.current.dependencies)}transform(S,C,Y,$,E,Z){const W=[S,C,Y,$,E,Z];this.transformMatrix=o.Util.transform(this.transformMatrix,W),this.tgrp=null}getSVG(S,C){this.viewport=C;const Y=this._initialize(C);return this.loadDependencies(S).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(S)),Y))}convertOpList(S){const C=this._operatorIdMapping,Y=S.argsArray,$=S.fnArray,E=[];for(let Z=0,W=$.length;Z<W;Z++){const ce=$[Z];E.push({fnId:ce,fn:C[ce],args:Y[Z]})}return D(E)}executeOpTree(S){for(const C of S){const Y=C.fn,$=C.fnId,E=C.args;switch($|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(E);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(E[0],E[1]);break;case o.OPS.setFont:this.setFont(E);break;case o.OPS.showText:this.showText(E[0]);break;case o.OPS.showSpacedText:this.showText(E[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(E[0],E[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(E[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(E[0]);break;case o.OPS.setHScale:this.setHScale(E[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(E[0],E[1],E[2],E[3],E[4],E[5]);break;case o.OPS.setTextRise:this.setTextRise(E[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(E[0]);break;case o.OPS.setLineWidth:this.setLineWidth(E[0]);break;case o.OPS.setLineJoin:this.setLineJoin(E[0]);break;case o.OPS.setLineCap:this.setLineCap(E[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(E[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(E[0],E[1],E[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(E[0],E[1],E[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(E);break;case o.OPS.setFillColorN:this.setFillColorN(E);break;case o.OPS.shadingFill:this.shadingFill(E[0]);break;case o.OPS.setDash:this.setDash(E[0],E[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(E[0]);break;case o.OPS.setFlatness:this.setFlatness(E[0]);break;case o.OPS.setGState:this.setGState(E[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(E[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(E[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(E[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(E[0],E[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(E[0],E[1],E[2],E[3],E[4],E[5]);break;case o.OPS.constructPath:this.constructPath(E[0],E[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,o.warn)(`Unimplemented operator ${Y}`);break}}}setWordSpacing(S){this.current.wordSpacing=S}setCharSpacing(S){this.current.charSpacing=S}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(S,C,Y,$,E,Z){const W=this.current;W.textMatrix=W.lineMatrix=[S,C,Y,$,E,Z],W.textMatrixScale=Math.hypot(S,C),W.x=W.lineX=0,W.y=W.lineY=0,W.xcoords=[],W.ycoords=[],W.tspan=this.svgFactory.createElement("svg:tspan"),W.tspan.setAttributeNS(null,"font-family",W.fontFamily),W.tspan.setAttributeNS(null,"font-size",`${F(W.fontSize)}px`),W.tspan.setAttributeNS(null,"y",F(-W.y)),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtElement.append(W.tspan)}beginText(){const S=this.current;S.x=S.lineX=0,S.y=S.lineY=0,S.textMatrix=o.IDENTITY_MATRIX,S.lineMatrix=o.IDENTITY_MATRIX,S.textMatrixScale=1,S.tspan=this.svgFactory.createElement("svg:tspan"),S.txtElement=this.svgFactory.createElement("svg:text"),S.txtgrp=this.svgFactory.createElement("svg:g"),S.xcoords=[],S.ycoords=[]}moveText(S,C){const Y=this.current;Y.x=Y.lineX+=S,Y.y=Y.lineY+=C,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size",`${F(Y.fontSize)}px`),Y.tspan.setAttributeNS(null,"y",F(-Y.y))}showText(S){const C=this.current,Y=C.font,$=C.fontSize;if($===0)return;const E=C.fontSizeScale,Z=C.charSpacing,W=C.wordSpacing,ce=C.fontDirection,fe=C.textHScale*ce,J=Y.vertical,pe=J?1:-1,xe=Y.defaultVMetrics,Se=$*C.fontMatrix[0];let se=0;for(const Be of S){if(Be===null){se+=ce*W;continue}else if(typeof Be=="number"){se+=pe*Be*$/1e3;continue}const ze=(Be.isSpace?W:0)+Z,K=Be.fontChar;let g,v,m=Be.width;if(J){let k;const q=Be.vmetric||xe;k=Be.vmetric?q[1]:m*.5,k=-k*Se;const Q=q[2]*Se;m=q?-q[0]:m,g=k/E,v=(se+Q)/E}else g=se/E,v=0;(Be.isInFont||Y.missingFile)&&(C.xcoords.push(C.x+g),J&&C.ycoords.push(-C.y+v),C.tspan.textContent+=K);const T=J?m*Se-ze*ce:m*Se+ze*ce;se+=T}C.tspan.setAttributeNS(null,"x",C.xcoords.map(F).join(" ")),J?C.tspan.setAttributeNS(null,"y",C.ycoords.map(F).join(" ")):C.tspan.setAttributeNS(null,"y",F(-C.y)),J?C.y-=se:C.x+=se*fe,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${F(C.fontSize)}px`),C.fontStyle!==l.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==l.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);const Fe=C.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(Fe===o.TextRenderingMode.FILL||Fe===o.TextRenderingMode.FILL_STROKE?(C.fillColor!==l.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),Fe===o.TextRenderingMode.STROKE||Fe===o.TextRenderingMode.FILL_STROKE){const Be=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,Be)}let Ne=C.textMatrix;C.textRise!==0&&(Ne=Ne.slice(),Ne[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${M(Ne)} scale(${F(fe)}, -1)`),C.txtElement.setAttributeNS(c,"xml:space","preserve"),C.txtElement.append(C.tspan),C.txtgrp.append(C.txtElement),this._ensureTransformGroup().append(C.txtElement)}setLeadingMoveText(S,C){this.setLeading(-C),this.moveText(S,C)}addFontStyle(S){if(!S.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const C=d(S.data,S.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${S.loadedName}"; src: url(${C}); }
`}setFont(S){const C=this.current,Y=this.commonObjs.get(S[0]);let $=S[1];C.font=Y,this.embedFonts&&!Y.missingFile&&!this.embeddedFonts[Y.loadedName]&&(this.addFontStyle(Y),this.embeddedFonts[Y.loadedName]=Y),C.fontMatrix=Y.fontMatrix||o.FONT_IDENTITY_MATRIX;let E="normal";Y.black?E="900":Y.bold&&(E="bold");const Z=Y.italic?"italic":"normal";$<0?($=-$,C.fontDirection=-1):C.fontDirection=1,C.fontSize=$,C.fontFamily=Y.loadedName,C.fontWeight=E,C.fontStyle=Z,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",F(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;const S=this.current;S.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=S.txtElement)!=null&&C.hasChildNodes())&&(S.element=S.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(S){S>0&&(this.current.lineWidth=S)}setLineCap(S){this.current.lineCap=b[S]}setLineJoin(S){this.current.lineJoin=A[S]}setMiterLimit(S){this.current.miterLimit=S}setStrokeAlpha(S){this.current.strokeAlpha=S}setStrokeRGBColor(S,C,Y){this.current.strokeColor=o.Util.makeHexColor(S,C,Y)}setFillAlpha(S){this.current.fillAlpha=S}setFillRGBColor(S,C,Y){this.current.fillColor=o.Util.makeHexColor(S,C,Y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(S){this.current.strokeColor=this._makeColorN_Pattern(S)}setFillColorN(S){this.current.fillColor=this._makeColorN_Pattern(S)}shadingFill(S){const{width:C,height:Y}=this.viewport,$=o.Util.inverseTransform(this.transformMatrix),[E,Z,W,ce]=o.Util.getAxialAlignedBoundingBox([0,0,C,Y],$),fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x",E),fe.setAttributeNS(null,"y",Z),fe.setAttributeNS(null,"width",W-E),fe.setAttributeNS(null,"height",ce-Z),fe.setAttributeNS(null,"fill",this._makeShadingPattern(S)),this.current.fillAlpha<1&&fe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(fe)}_makeColorN_Pattern(S){return S[0]==="TilingPattern"?this._makeTilingPattern(S):this._makeShadingPattern(S)}_makeTilingPattern(S){const C=S[1],Y=S[2],$=S[3]||o.IDENTITY_MATRIX,[E,Z,W,ce]=S[4],fe=S[5],J=S[6],pe=S[7],xe=`shading${H++}`,[Se,se,Fe,Ne]=o.Util.normalizeRect([...o.Util.applyTransform([E,Z],$),...o.Util.applyTransform([W,ce],$)]),[Be,ze]=o.Util.singularValueDecompose2dScale($),K=fe*Be,g=J*ze,v=this.svgFactory.createElement("svg:pattern");v.setAttributeNS(null,"id",xe),v.setAttributeNS(null,"patternUnits","userSpaceOnUse"),v.setAttributeNS(null,"width",K),v.setAttributeNS(null,"height",g),v.setAttributeNS(null,"x",`${Se}`),v.setAttributeNS(null,"y",`${se}`);const m=this.svg,T=this.transformMatrix,k=this.current.fillColor,q=this.current.strokeColor,Q=this.svgFactory.create(Fe-Se,Ne-se);if(this.svg=Q,this.transformMatrix=$,pe===2){const ae=o.Util.makeHexColor(...C);this.current.fillColor=ae,this.current.strokeColor=ae}return this.executeOpTree(this.convertOpList(Y)),this.svg=m,this.transformMatrix=T,this.current.fillColor=k,this.current.strokeColor=q,v.append(Q.childNodes[0]),this.defs.append(v),`url(#${xe})`}_makeShadingPattern(S){switch(typeof S=="string"&&(S=this.objs.get(S)),S[0]){case"RadialAxial":const C=`shading${H++}`,Y=S[3];let $;switch(S[1]){case"axial":const E=S[4],Z=S[5];$=this.svgFactory.createElement("svg:linearGradient"),$.setAttributeNS(null,"id",C),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"x1",E[0]),$.setAttributeNS(null,"y1",E[1]),$.setAttributeNS(null,"x2",Z[0]),$.setAttributeNS(null,"y2",Z[1]);break;case"radial":const W=S[4],ce=S[5],fe=S[6],J=S[7];$=this.svgFactory.createElement("svg:radialGradient"),$.setAttributeNS(null,"id",C),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"cx",ce[0]),$.setAttributeNS(null,"cy",ce[1]),$.setAttributeNS(null,"r",J),$.setAttributeNS(null,"fx",W[0]),$.setAttributeNS(null,"fy",W[1]),$.setAttributeNS(null,"fr",fe);break;default:throw new Error(`Unknown RadialAxial type: ${S[1]}`)}for(const E of Y){const Z=this.svgFactory.createElement("svg:stop");Z.setAttributeNS(null,"offset",E[0]),Z.setAttributeNS(null,"stop-color",E[1]),$.append(Z)}return this.defs.append($),`url(#${C})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${S[0]}`)}}setDash(S,C){this.current.dashArray=S,this.current.dashPhase=C}constructPath(S,C){const Y=this.current;let $=Y.x,E=Y.y,Z=[],W=0;for(const ce of S)switch(ce|0){case o.OPS.rectangle:$=C[W++],E=C[W++];const fe=C[W++],J=C[W++],pe=$+fe,xe=E+J;Z.push("M",F($),F(E),"L",F(pe),F(E),"L",F(pe),F(xe),"L",F($),F(xe),"Z");break;case o.OPS.moveTo:$=C[W++],E=C[W++],Z.push("M",F($),F(E));break;case o.OPS.lineTo:$=C[W++],E=C[W++],Z.push("L",F($),F(E));break;case o.OPS.curveTo:$=C[W+4],E=C[W+5],Z.push("C",F(C[W]),F(C[W+1]),F(C[W+2]),F(C[W+3]),F($),F(E)),W+=6;break;case o.OPS.curveTo2:Z.push("C",F($),F(E),F(C[W]),F(C[W+1]),F(C[W+2]),F(C[W+3])),$=C[W+2],E=C[W+3],W+=4;break;case o.OPS.curveTo3:$=C[W+2],E=C[W+3],Z.push("C",F(C[W]),F(C[W+1]),F($),F(E),F($),F(E)),W+=4;break;case o.OPS.closePath:Z.push("Z");break}Z=Z.join(" "),Y.path&&S.length>0&&S[0]!==o.OPS.rectangle&&S[0]!==o.OPS.moveTo?Z=Y.path.getAttributeNS(null,"d")+Z:(Y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Y.path)),Y.path.setAttributeNS(null,"d",Z),Y.path.setAttributeNS(null,"fill","none"),Y.element=Y.path,Y.setCurrentPoint($,E)}endPath(){const S=this.current;if(S.path=null,!this.pendingClip)return;if(!S.element){this.pendingClip=null;return}const C=`clippath${w++}`,Y=this.svgFactory.createElement("svg:clipPath");Y.setAttributeNS(null,"id",C),Y.setAttributeNS(null,"transform",M(this.transformMatrix));const $=S.element.cloneNode(!0);if(this.pendingClip==="evenodd"?$.setAttributeNS(null,"clip-rule","evenodd"):$.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Y.append($),this.defs.append(Y),S.activeClipUrl){S.clipGroup=null;for(const E of this.extraStack)E.clipGroup=null;Y.setAttributeNS(null,"clip-path",S.activeClipUrl)}S.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(S){this.pendingClip=S}closePath(){const S=this.current;if(S.path){const C=`${S.path.getAttributeNS(null,"d")}Z`;S.path.setAttributeNS(null,"d",C)}}setLeading(S){this.current.leading=-S}setTextRise(S){this.current.textRise=S}setTextRenderingMode(S){this.current.textRenderingMode=S}setHScale(S){this.current.textHScale=S/100}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[C,Y]of S)switch(C){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y);break;case"CA":this.setStrokeAlpha(Y);break;case"ca":this.setFillAlpha(Y);break;default:(0,o.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){const S=this.current;S.element&&(S.element.setAttributeNS(null,"fill",S.fillColor),S.element.setAttributeNS(null,"fill-opacity",S.fillAlpha),this.endPath())}stroke(){const S=this.current;S.element&&(this._setStrokeAttributes(S.element),S.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(S,C=1){const Y=this.current;let $=Y.dashArray;C!==1&&$.length>0&&($=$.map(function(E){return C*E})),S.setAttributeNS(null,"stroke",Y.strokeColor),S.setAttributeNS(null,"stroke-opacity",Y.strokeAlpha),S.setAttributeNS(null,"stroke-miterlimit",F(Y.miterLimit)),S.setAttributeNS(null,"stroke-linecap",Y.lineCap),S.setAttributeNS(null,"stroke-linejoin",Y.lineJoin),S.setAttributeNS(null,"stroke-width",F(C*Y.lineWidth)+"px"),S.setAttributeNS(null,"stroke-dasharray",$.map(F).join(" ")),S.setAttributeNS(null,"stroke-dashoffset",F(C*Y.dashPhase)+"px")}eoFill(){var S;(S=this.current.element)==null||S.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var S;(S=this.current.element)==null||S.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width","1px"),S.setAttributeNS(null,"height","1px"),S.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(S)}paintImageXObject(S){const C=this.getObject(S);if(!C){(0,o.warn)(`Dependent image with object ID ${S} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(S,C){const Y=S.width,$=S.height,E=x(S,this.forceDataSchema,!!C),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y","0"),Z.setAttributeNS(null,"width",F(Y)),Z.setAttributeNS(null,"height",F($)),this.current.element=Z,this.clip("nonzero");const W=this.svgFactory.createElement("svg:image");W.setAttributeNS(y,"xlink:href",E),W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y",F(-$)),W.setAttributeNS(null,"width",F(Y)+"px"),W.setAttributeNS(null,"height",F($)+"px"),W.setAttributeNS(null,"transform",`scale(${F(1/Y)} ${F(-1/$)})`),C?C.append(W):this._ensureTransformGroup().append(W)}paintImageMaskXObject(S){const C=this.getObject(S.data,S);if(C.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Y=this.current,$=C.width,E=C.height,Z=Y.fillColor;Y.maskId=`mask${O++}`;const W=this.svgFactory.createElement("svg:mask");W.setAttributeNS(null,"id",Y.maskId);const ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y","0"),ce.setAttributeNS(null,"width",F($)),ce.setAttributeNS(null,"height",F(E)),ce.setAttributeNS(null,"fill",Z),ce.setAttributeNS(null,"mask",`url(#${Y.maskId})`),this.defs.append(W),this._ensureTransformGroup().append(ce),this.paintInlineImageXObject(C,W)}paintFormXObjectBegin(S,C){if(Array.isArray(S)&&S.length===6&&this.transform(S[0],S[1],S[2],S[3],S[4],S[5]),C){const Y=C[2]-C[0],$=C[3]-C[1],E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",C[0]),E.setAttributeNS(null,"y",C[1]),E.setAttributeNS(null,"width",F(Y)),E.setAttributeNS(null,"height",F($)),this.current.element=E,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(S){const C=this.svgFactory.create(S.width,S.height),Y=this.svgFactory.createElement("svg:defs");C.append(Y),this.defs=Y;const $=this.svgFactory.createElement("svg:g");return $.setAttributeNS(null,"transform",M(S.transform)),C.append($),this.svg=$,C}_ensureClipGroup(){if(!this.current.clipGroup){const S=this.svgFactory.createElement("svg:g");S.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(S),this.current.clipGroup=S}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}n.SVGGraphics=U},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class s{static textContent(o){const l=[],c={items:l,styles:Object.create(null)};function y(b){var x;if(!b)return;let A=null;const d=b.name;if(d==="#text")A=b.value;else if(s.shouldBuildText(d))(x=b==null?void 0:b.attributes)!=null&&x.textContent?A=b.attributes.textContent:b.value&&(A=b.value);else return;if(A!==null&&l.push({str:A}),!!b.children)for(const z of b.children)y(z)}return y(o),c}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}n.XfaText=s},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=M,n.updateTextLayer=w;var r=s(1),o=s(6);const l=1e5,c=30,y=.8,b=new Map;function A(O,H){let U;if(H&&r.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(O,O).getContext("2d",{alpha:!1});else{const I=document.createElement("canvas");I.width=I.height=O,U=I.getContext("2d",{alpha:!1})}return U}function d(O,H){const U=b.get(O);if(U)return U;const I=A(c,H);I.font=`${c}px ${O}`;const S=I.measureText("");let C=S.fontBoundingBoxAscent,Y=Math.abs(S.fontBoundingBoxDescent);if(C){const E=C/(C+Y);return b.set(O,E),I.canvas.width=I.canvas.height=0,E}I.strokeStyle="red",I.clearRect(0,0,c,c),I.strokeText("g",0,0);let $=I.getImageData(0,0,c,c).data;Y=0;for(let E=$.length-1-3;E>=0;E-=4)if($[E]>0){Y=Math.ceil(E/4/c);break}I.clearRect(0,0,c,c),I.strokeText("A",0,c),$=I.getImageData(0,0,c,c).data,C=0;for(let E=0,Z=$.length;E<Z;E+=4)if($[E]>0){C=c-Math.floor(E/4/c);break}if(I.canvas.width=I.canvas.height=0,C){const E=C/(C+Y);return b.set(O,E),E}return b.set(O,y),y}function x(O,H,U){const I=document.createElement("span"),S={angle:0,canvasWidth:0,hasText:H.str!=="",hasEOL:H.hasEOL,fontSize:0};O._textDivs.push(I);const C=r.Util.transform(O._transform,H.transform);let Y=Math.atan2(C[1],C[0]);const $=U[H.fontName];$.vertical&&(Y+=Math.PI/2);const E=Math.hypot(C[2],C[3]),Z=E*d($.fontFamily,O._isOffscreenCanvasSupported);let W,ce;Y===0?(W=C[4],ce=C[5]-Z):(W=C[4]+Z*Math.sin(Y),ce=C[5]-Z*Math.cos(Y));const fe="calc(var(--scale-factor)*",J=I.style;O._container===O._rootContainer?(J.left=`${(100*W/O._pageWidth).toFixed(2)}%`,J.top=`${(100*ce/O._pageHeight).toFixed(2)}%`):(J.left=`${fe}${W.toFixed(2)}px)`,J.top=`${fe}${ce.toFixed(2)}px)`),J.fontSize=`${fe}${E.toFixed(2)}px)`,J.fontFamily=$.fontFamily,S.fontSize=E,I.setAttribute("role","presentation"),I.textContent=H.str,I.dir=H.dir,O._fontInspectorEnabled&&(I.dataset.fontName=H.fontName),Y!==0&&(S.angle=Y*(180/Math.PI));let pe=!1;if(H.str.length>1)pe=!0;else if(H.str!==" "&&H.transform[0]!==H.transform[3]){const xe=Math.abs(H.transform[0]),Se=Math.abs(H.transform[3]);xe!==Se&&Math.max(xe,Se)/Math.min(xe,Se)>1.5&&(pe=!0)}pe&&(S.canvasWidth=$.vertical?H.height:H.width),O._textDivProperties.set(I,S),O._isReadableStream&&O._layoutText(I)}function z(O){const{div:H,scale:U,properties:I,ctx:S,prevFontSize:C,prevFontFamily:Y}=O,{style:$}=H;let E="";if(I.canvasWidth!==0&&I.hasText){const{fontFamily:Z}=$,{canvasWidth:W,fontSize:ce}=I;(C!==ce||Y!==Z)&&(S.font=`${ce*U}px ${Z}`,O.prevFontSize=ce,O.prevFontFamily=Z);const{width:fe}=S.measureText(H.textContent);fe>0&&(E=`scaleX(${W*U/fe})`)}I.angle!==0&&(E=`rotate(${I.angle}deg) ${E}`),E.length>0&&($.transform=E)}function D(O){if(O._canceled)return;const H=O._textDivs,U=O._capability;if(H.length>l){U.resolve();return}if(!O._isReadableStream)for(const S of H)O._layoutText(S);U.resolve()}class F{constructor({textContentSource:H,container:U,viewport:I,textDivs:S,textDivProperties:C,textContentItemsStr:Y,isOffscreenCanvasSupported:$}){var fe;this._textContentSource=H,this._isReadableStream=H instanceof ReadableStream,this._container=this._rootContainer=U,this._textDivs=S||[],this._textContentItemsStr=Y||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!((fe=globalThis.FontInspector)!=null&&fe.enabled),this._reader=null,this._textDivProperties=C||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:A(0,$)};const{pageWidth:E,pageHeight:Z,pageX:W,pageY:ce}=I.rawDims;this._transform=[1,0,0,-1,-W,ce+Z],this._pageWidth=E,this._pageHeight=Z,(0,o.setLayerDimensions)(U,I),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(H,U){for(const I of H){if(I.str===void 0){if(I.type==="beginMarkedContentProps"||I.type==="beginMarkedContent"){const S=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),I.id!==null&&this._container.setAttribute("id",`${I.id}`),S.append(this._container)}else I.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(I.str),x(this,I,U)}}_layoutText(H){const U=this._layoutTextParams.properties=this._textDivProperties.get(H);if(this._layoutTextParams.div=H,z(this._layoutTextParams),U.hasText&&this._container.append(H),U.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(){const H=new r.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const I=()=>{this._reader.read().then(({value:S,done:C})=>{if(C){H.resolve();return}Object.assign(U,S.styles),this._processItems(S.items,U),I()},H.reject)};this._reader=this._textContentSource.getReader(),I()}else if(this._textContentSource){const{items:I,styles:S}=this._textContentSource;this._processItems(I,S),H.resolve()}else throw new Error('No "textContentSource" parameter specified.');H.promise.then(()=>{U=null,D(this)},this._capability.reject)}}n.TextLayerRenderTask=F;function M(O){!O.textContentSource&&(O.textContent||O.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),O.textContentSource=O.textContent||O.textContentStream);const{container:H,viewport:U}=O,I=getComputedStyle(H),S=I.getPropertyValue("visibility"),C=parseFloat(I.getPropertyValue("--scale-factor"));S==="visible"&&(!C||Math.abs(C-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Y=new F(O);return Y._render(),Y}function w({container:O,viewport:H,textDivs:U,textDivProperties:I,isOffscreenCanvasSupported:S,mustRotate:C=!0,mustRescale:Y=!0}){if(C&&(0,o.setLayerDimensions)(O,{rotation:H.rotation}),Y){const $=A(0,S),Z={prevFontSize:null,prevFontFamily:null,div:null,scale:H.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const W of U)Z.properties=I.get(W),Z.div=W,z(Z)}}},(e,n,s)=>{var d,x,z,D,F,M,w,O,H,U,I,To,C,js,$,Ro,Z,Po;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var r=s(1),o=s(4),l=s(28),c=s(33),y=s(6),b=s(34);const ce=class ce{constructor({uiManager:J,pageIndex:pe,div:xe,accessibilityManager:Se,annotationLayer:se,viewport:Fe,l10n:Ne}){re(this,I);re(this,C);re(this,$);re(this,Z);re(this,d,void 0);re(this,x,!1);re(this,z,null);re(this,D,this.pointerup.bind(this));re(this,F,this.pointerdown.bind(this));re(this,M,new Map);re(this,w,!1);re(this,O,!1);re(this,H,!1);re(this,U,void 0);const Be=[l.FreeTextEditor,c.InkEditor,b.StampEditor];if(!ce._initialized){ce._initialized=!0;for(const ze of Be)ze.initialize(Ne)}J.registerEditorTypes(Be),Re(this,U,J),this.pageIndex=pe,this.div=xe,Re(this,d,Se),Re(this,z,se),this.viewport=Fe,u(this,U).addLayer(this)}get isEmpty(){return u(this,M).size===0}updateToolbar(J){u(this,U).updateToolbar(J)}updateMode(J=u(this,U).getMode()){ge(this,Z,Po).call(this),J===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),J!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",J===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",J===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",J===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(J){if(!J&&u(this,U).getMode()!==r.AnnotationEditorType.INK)return;if(!J){for(const xe of u(this,M).values())if(xe.isEmpty()){xe.setInBackground();return}}ge(this,C,js).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(J){u(this,U).setEditingState(J)}addCommands(J){u(this,U).addCommands(J)}enable(){this.div.style.pointerEvents="auto";const J=new Set;for(const xe of u(this,M).values())xe.enableEditing(),xe.annotationElementId&&J.add(xe.annotationElementId);if(!u(this,z))return;const pe=u(this,z).getEditableAnnotations();for(const xe of pe){if(xe.hide(),u(this,U).isDeletedAnnotationElement(xe.data.id)||J.has(xe.data.id))continue;const Se=this.deserialize(xe);Se&&(this.addOrRebuild(Se),Se.enableEditing())}}disable(){var pe;Re(this,H,!0),this.div.style.pointerEvents="none";const J=new Set;for(const xe of u(this,M).values()){if(xe.disableEditing(),!xe.annotationElementId||xe.serialize()!==null){J.add(xe.annotationElementId);continue}(pe=this.getEditableAnnotation(xe.annotationElementId))==null||pe.show(),xe.remove()}if(u(this,z)){const xe=u(this,z).getEditableAnnotations();for(const Se of xe){const{id:se}=Se.data;J.has(se)||u(this,U).isDeletedAnnotationElement(se)||Se.show()}}ge(this,Z,Po).call(this),this.isEmpty&&(this.div.hidden=!0),Re(this,H,!1)}getEditableAnnotation(J){var pe;return((pe=u(this,z))==null?void 0:pe.getEditableAnnotation(J))||null}setActiveEditor(J){u(this,U).getActive()!==J&&u(this,U).setActiveEditor(J)}enableClick(){this.div.addEventListener("pointerdown",u(this,F)),this.div.addEventListener("pointerup",u(this,D))}disableClick(){this.div.removeEventListener("pointerdown",u(this,F)),this.div.removeEventListener("pointerup",u(this,D))}attach(J){u(this,M).set(J.id,J);const{annotationElementId:pe}=J;pe&&u(this,U).isDeletedAnnotationElement(pe)&&u(this,U).removeDeletedAnnotationElement(J)}detach(J){var pe;u(this,M).delete(J.id),(pe=u(this,d))==null||pe.removePointerInTextLayer(J.contentDiv),!u(this,H)&&J.annotationElementId&&u(this,U).addDeletedAnnotationElement(J)}remove(J){this.detach(J),u(this,U).removeEditor(J),J.div.contains(document.activeElement)&&setTimeout(()=>{u(this,U).focusMainContainer()},0),J.div.remove(),J.isAttachedToDOM=!1,u(this,O)||this.addInkEditorIfNeeded(!1)}changeParent(J){var pe;J.parent!==this&&(J.annotationElementId&&(u(this,U).addDeletedAnnotationElement(J.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(J),J.annotationElementId=null),this.attach(J),(pe=J.parent)==null||pe.detach(J),J.setParent(this),J.div&&J.isAttachedToDOM&&(J.div.remove(),this.div.append(J.div)))}add(J){if(this.changeParent(J),u(this,U).addEditor(J),this.attach(J),!J.isAttachedToDOM){const pe=J.render();this.div.append(pe),J.isAttachedToDOM=!0}J.fixAndSetPosition(),J.onceAdded(),u(this,U).addToAnnotationStorage(J)}moveEditorInDOM(J){var xe;if(!J.isAttachedToDOM)return;const{activeElement:pe}=document;J.div.contains(pe)&&(J._focusEventsAllowed=!1,setTimeout(()=>{J.div.contains(document.activeElement)?J._focusEventsAllowed=!0:(J.div.addEventListener("focusin",()=>{J._focusEventsAllowed=!0},{once:!0}),pe.focus())},0)),J._structTreeParentId=(xe=u(this,d))==null?void 0:xe.moveElementInDOM(this.div,J.div,J.contentDiv,!0)}addOrRebuild(J){J.needsToBeRebuilt()?J.rebuild():this.add(J)}addUndoableEditor(J){const pe=()=>J._uiManager.rebuild(J),xe=()=>{J.remove()};this.addCommands({cmd:pe,undo:xe,mustExec:!1})}getNextId(){return u(this,U).getId()}pasteEditor(J,pe){u(this,U).updateToolbar(J),u(this,U).updateMode(J);const{offsetX:xe,offsetY:Se}=ge(this,$,Ro).call(this),se=this.getNextId(),Fe=ge(this,I,To).call(this,{parent:this,id:se,x:xe,y:Se,uiManager:u(this,U),isCentered:!0,...pe});Fe&&this.add(Fe)}deserialize(J){switch(J.annotationType??J.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(J,this,u(this,U));case r.AnnotationEditorType.INK:return c.InkEditor.deserialize(J,this,u(this,U));case r.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(J,this,u(this,U))}return null}addNewEditor(){ge(this,C,js).call(this,ge(this,$,Ro).call(this),!0)}setSelected(J){u(this,U).setSelected(J)}toggleSelected(J){u(this,U).toggleSelected(J)}isSelected(J){return u(this,U).isSelected(J)}unselect(J){u(this,U).unselect(J)}pointerup(J){const{isMac:pe}=r.FeatureTest.platform;if(!(J.button!==0||J.ctrlKey&&pe)&&J.target===this.div&&u(this,w)){if(Re(this,w,!1),!u(this,x)){Re(this,x,!0);return}if(u(this,U).getMode()===r.AnnotationEditorType.STAMP){u(this,U).unselectAll();return}ge(this,C,js).call(this,J,!1)}}pointerdown(J){if(u(this,w)){Re(this,w,!1);return}const{isMac:pe}=r.FeatureTest.platform;if(J.button!==0||J.ctrlKey&&pe||J.target!==this.div)return;Re(this,w,!0);const xe=u(this,U).getActive();Re(this,x,!xe||xe.isEmpty())}findNewParent(J,pe,xe){const Se=u(this,U).findParent(pe,xe);return Se===null||Se===this?!1:(Se.changeParent(J),!0)}destroy(){var J,pe;((J=u(this,U).getActive())==null?void 0:J.parent)===this&&(u(this,U).commitOrRemove(),u(this,U).setActiveEditor(null));for(const xe of u(this,M).values())(pe=u(this,d))==null||pe.removePointerInTextLayer(xe.contentDiv),xe.setParent(null),xe.isAttachedToDOM=!1,xe.div.remove();this.div=null,u(this,M).clear(),u(this,U).removeLayer(this)}render({viewport:J}){this.viewport=J,(0,y.setLayerDimensions)(this.div,J);for(const pe of u(this,U).getEditors(this.pageIndex))this.add(pe);this.updateMode()}update({viewport:J}){u(this,U).commitOrRemove(),this.viewport=J,(0,y.setLayerDimensions)(this.div,{rotation:J.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:J,pageHeight:pe}=this.viewport.rawDims;return[J,pe]}};d=new WeakMap,x=new WeakMap,z=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,H=new WeakMap,U=new WeakMap,I=new WeakSet,To=function(J){switch(u(this,U).getMode()){case r.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(J);case r.AnnotationEditorType.INK:return new c.InkEditor(J);case r.AnnotationEditorType.STAMP:return new b.StampEditor(J)}return null},C=new WeakSet,js=function(J,pe){const xe=this.getNextId(),Se=ge(this,I,To).call(this,{parent:this,id:xe,x:J.offsetX,y:J.offsetY,uiManager:u(this,U),isCentered:pe});return Se&&this.add(Se),Se},$=new WeakSet,Ro=function(){const{x:J,y:pe,width:xe,height:Se}=this.div.getBoundingClientRect(),se=Math.max(0,J),Fe=Math.max(0,pe),Ne=Math.min(window.innerWidth,J+xe),Be=Math.min(window.innerHeight,pe+Se),ze=(se+Ne)/2-J,K=(Fe+Be)/2-pe,[g,v]=this.viewport.rotation%180===0?[ze,K]:[K,ze];return{offsetX:g,offsetY:v}},Z=new WeakSet,Po=function(){Re(this,O,!0);for(const J of u(this,M).values())J.isEmpty()&&J.remove();Re(this,O,!1)},Nt(ce,"_initialized",!1);let A=ce;n.AnnotationEditorLayer=A},(e,n,s)=>{var b,A,d,x,z,D,F,M,w,O,Cc,U,Tc,S,Rc,Y,Ki,E,ko,W,Pc,fe,Fo;Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var r=s(1),o=s(5),l=s(4),c=s(29);const pe=class pe extends l.AnnotationEditor{constructor(se){super({...se,name:"freeTextEditor"});re(this,O);re(this,U);re(this,S);re(this,Y);re(this,E);re(this,W);re(this,fe);re(this,b,this.editorDivBlur.bind(this));re(this,A,this.editorDivFocus.bind(this));re(this,d,this.editorDivInput.bind(this));re(this,x,this.editorDivKeydown.bind(this));re(this,z,void 0);re(this,D,"");re(this,F,`${this.id}-editor`);re(this,M,void 0);re(this,w,null);Re(this,z,se.color||pe._defaultColor||l.AnnotationEditor._defaultLineColor),Re(this,M,se.fontSize||pe._defaultFontSize)}static get _keyboardManager(){const se=pe.prototype,Fe=ze=>ze.isEmpty(),Ne=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Be=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],se.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],se.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],se._translateEmpty,{args:[-Ne,0],checker:Fe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],se._translateEmpty,{args:[-Be,0],checker:Fe}],[["ArrowRight","mac+ArrowRight"],se._translateEmpty,{args:[Ne,0],checker:Fe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],se._translateEmpty,{args:[Be,0],checker:Fe}],[["ArrowUp","mac+ArrowUp"],se._translateEmpty,{args:[0,-Ne],checker:Fe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],se._translateEmpty,{args:[0,-Be],checker:Fe}],[["ArrowDown","mac+ArrowDown"],se._translateEmpty,{args:[0,Ne],checker:Fe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],se._translateEmpty,{args:[0,Be],checker:Fe}]]))}static initialize(se){l.AnnotationEditor.initialize(se,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Fe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Fe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(se,Fe){switch(se){case r.AnnotationEditorParamsType.FREETEXT_SIZE:pe._defaultFontSize=Fe;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:pe._defaultColor=Fe;break}}updateParams(se,Fe){switch(se){case r.AnnotationEditorParamsType.FREETEXT_SIZE:ge(this,O,Cc).call(this,Fe);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:ge(this,U,Tc).call(this,Fe);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,pe._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,pe._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,u(this,M)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,u(this,z)]]}_translateEmpty(se,Fe){this._uiManager.translateSelectedEditors(se,Fe,!0)}getInitialTranslation(){const se=this.parentScale;return[-pe._internalPadding*se,-(pe._internalPadding+u(this,M))*se]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",u(this,x)),this.editorDiv.addEventListener("focus",u(this,A)),this.editorDiv.addEventListener("blur",u(this,b)),this.editorDiv.addEventListener("input",u(this,d)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,F)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",u(this,x)),this.editorDiv.removeEventListener("focus",u(this,A)),this.editorDiv.removeEventListener("blur",u(this,b)),this.editorDiv.removeEventListener("input",u(this,d)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(se){this._focusEventsAllowed&&(super.focusin(se),se.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var se;if(this.width){ge(this,fe,Fo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(se=this._initialOptions)!=null&&se.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const se=u(this,D),Fe=Re(this,D,ge(this,S,Rc).call(this).trimEnd());if(se===Fe)return;const Ne=Be=>{if(Re(this,D,Be),!Be){this.remove();return}ge(this,E,ko).call(this),this._uiManager.rebuild(this),ge(this,Y,Ki).call(this)};this.addCommands({cmd:()=>{Ne(Fe)},undo:()=>{Ne(se)},mustExec:!1}),ge(this,Y,Ki).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(se){this.enterInEditMode()}keydown(se){se.target===this.div&&se.key==="Enter"&&(this.enterInEditMode(),se.preventDefault())}editorDivKeydown(se){pe._keyboardManager.exec(this,se)}editorDivFocus(se){this.isEditing=!0}editorDivBlur(se){this.isEditing=!1}editorDivInput(se){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let se,Fe;this.width&&(se=this.x,Fe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,F)),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Be=>{var ze;return(ze=this.editorDiv)==null?void 0:ze.setAttribute("aria-label",Be)}),l.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Be=>{var ze;return(ze=this.editorDiv)==null?void 0:ze.setAttribute("default-content",Be)}),this.editorDiv.contentEditable=!0;const{style:Ne}=this.editorDiv;if(Ne.fontSize=`calc(${u(this,M)}px * var(--scale-factor))`,Ne.color=u(this,z),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Be,ze]=this.parentDimensions;if(this.annotationElementId){const{position:K}=u(this,w);let[g,v]=this.getInitialTranslation();[g,v]=this.pageTranslationToScreen(g,v);const[m,T]=this.pageDimensions,[k,q]=this.pageTranslation;let Q,ae;switch(this.rotation){case 0:Q=se+(K[0]-k)/m,ae=Fe+this.height-(K[1]-q)/T;break;case 90:Q=se+(K[0]-k)/m,ae=Fe-(K[1]-q)/T,[g,v]=[v,-g];break;case 180:Q=se-this.width+(K[0]-k)/m,ae=Fe-(K[1]-q)/T,[g,v]=[-g,-v];break;case 270:Q=se+(K[0]-k-this.height*T)/m,ae=Fe+(K[1]-q-this.width*m)/T,[g,v]=[-v,g];break}this.setAt(Q*Be,ae*ze,g,v)}else this.setAt(se*Be,Fe*ze,this.width*Be,this.height*ze);ge(this,E,ko).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(se,Fe,Ne){let Be=null;if(se instanceof c.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:K,fontColor:g},rect:v,rotation:m,id:T},textContent:k,textPosition:q,parent:{page:{pageNumber:Q}}}=se;if(!k||k.length===0)return null;Be=se={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(g),fontSize:K,value:k.join(`
`),position:q,pageIndex:Q-1,rect:v,rotation:m,id:T,deleted:!1}}const ze=super.deserialize(se,Fe,Ne);return Re(ze,M,se.fontSize),Re(ze,z,r.Util.makeHexColor(...se.color)),Re(ze,D,se.value),ze.annotationElementId=se.id||null,Re(ze,w,Be),ze}serialize(se=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Fe=pe._internalPadding*this.parentScale,Ne=this.getRect(Fe,Fe),Be=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,z)),ze={annotationType:r.AnnotationEditorType.FREETEXT,color:Be,fontSize:u(this,M),value:u(this,D),pageIndex:this.pageIndex,rect:Ne,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return se?ze:this.annotationElementId&&!ge(this,W,Pc).call(this,ze)?null:(ze.id=this.annotationElementId,ze)}};b=new WeakMap,A=new WeakMap,d=new WeakMap,x=new WeakMap,z=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakSet,Cc=function(se){const Fe=Be=>{this.editorDiv.style.fontSize=`calc(${Be}px * var(--scale-factor))`,this.translate(0,-(Be-u(this,M))*this.parentScale),Re(this,M,Be),ge(this,Y,Ki).call(this)},Ne=u(this,M);this.addCommands({cmd:()=>{Fe(se)},undo:()=>{Fe(Ne)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},U=new WeakSet,Tc=function(se){const Fe=u(this,z);this.addCommands({cmd:()=>{Re(this,z,this.editorDiv.style.color=se)},undo:()=>{Re(this,z,this.editorDiv.style.color=Fe)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},S=new WeakSet,Rc=function(){const se=this.editorDiv.getElementsByTagName("div");if(se.length===0)return this.editorDiv.innerText;const Fe=[];for(const Ne of se)Fe.push(Ne.innerText.replace(/\r\n?|\n/,""));return Fe.join(`
`)},Y=new WeakSet,Ki=function(){const[se,Fe]=this.parentDimensions;let Ne;if(this.isAttachedToDOM)Ne=this.div.getBoundingClientRect();else{const{currentLayer:Be,div:ze}=this,K=ze.style.display;ze.style.display="hidden",Be.div.append(this.div),Ne=ze.getBoundingClientRect(),ze.remove(),ze.style.display=K}this.rotation%180===this.parentRotation%180?(this.width=Ne.width/se,this.height=Ne.height/Fe):(this.width=Ne.height/se,this.height=Ne.width/Fe),this.fixAndSetPosition()},E=new WeakSet,ko=function(){if(this.editorDiv.replaceChildren(),!!u(this,D))for(const se of u(this,D).split(`
`)){const Fe=document.createElement("div");Fe.append(se?document.createTextNode(se):document.createElement("br")),this.editorDiv.append(Fe)}},W=new WeakSet,Pc=function(se){const{value:Fe,fontSize:Ne,color:Be,rect:ze,pageIndex:K}=u(this,w);return se.value!==Fe||se.fontSize!==Ne||se.rect.some((g,v)=>Math.abs(g-ze[v])>=1)||se.color.some((g,v)=>g!==Be[v])||se.pageIndex!==K},fe=new WeakSet,Fo=function(se=!1){if(!this.annotationElementId)return;if(ge(this,Y,Ki).call(this),!se&&(this.width===0||this.height===0)){setTimeout(()=>ge(this,fe,Fo).call(this,!0),0);return}const Fe=pe._internalPadding*this.parentScale;u(this,w).rect=this.getRect(Fe,Fe)},Nt(pe,"_freeTextDefaultContent",""),Nt(pe,"_internalPadding",0),Nt(pe,"_defaultColor",null),Nt(pe,"_defaultFontSize",10),Nt(pe,"_type","freetext");let y=pe;n.FreeTextEditor=y},(e,n,s)=>{var v,T,li,q,kc,ae,we,R,B,ee,be,oe,Ce,Ie,Ee,Pe,he,le,ie,ve,Oe,De,Ze,Fc,nt,zs,ht,Mo,pt,Oo,me,de,$e,We,kt,Rt,Ae,Io,rt,Ye,ot,ct,Mc,Ue,Do;Object.defineProperty(n,"__esModule",{value:!0}),n.StampAnnotationElement=n.InkAnnotationElement=n.FreeTextAnnotationElement=n.AnnotationLayer=void 0;var r=s(1),o=s(6),l=s(3),c=s(30),y=s(31),b=s(32);const A=1e3,d=9,x=new WeakSet;function z(it){return{width:it[2]-it[0],height:it[3]-it[1]}}class D{static create(te){switch(te.data.annotationType){case r.AnnotationType.LINK:return new M(te);case r.AnnotationType.TEXT:return new w(te);case r.AnnotationType.WIDGET:switch(te.data.fieldType){case"Tx":return new H(te);case"Btn":return te.data.radioButton?new S(te):te.data.checkBox?new I(te):new C(te);case"Ch":return new Y(te);case"Sig":return new U(te)}return new O(te);case r.AnnotationType.POPUP:return new $(te);case r.AnnotationType.FREETEXT:return new Z(te);case r.AnnotationType.LINE:return new W(te);case r.AnnotationType.SQUARE:return new ce(te);case r.AnnotationType.CIRCLE:return new fe(te);case r.AnnotationType.POLYLINE:return new J(te);case r.AnnotationType.CARET:return new xe(te);case r.AnnotationType.INK:return new Se(te);case r.AnnotationType.POLYGON:return new pe(te);case r.AnnotationType.HIGHLIGHT:return new se(te);case r.AnnotationType.UNDERLINE:return new Fe(te);case r.AnnotationType.SQUIGGLY:return new Ne(te);case r.AnnotationType.STRIKEOUT:return new Be(te);case r.AnnotationType.STAMP:return new ze(te);case r.AnnotationType.FILEATTACHMENT:return new K(te);default:return new F(te)}}}const m=class m{constructor(te,{isRenderable:f=!1,ignoreBorder:V=!1,createQuadrilaterals:ne=!1}={}){re(this,v,!1);this.isRenderable=f,this.data=te.data,this.layer=te.layer,this.linkService=te.linkService,this.downloadManager=te.downloadManager,this.imageResourcesPath=te.imageResourcesPath,this.renderForms=te.renderForms,this.svgFactory=te.svgFactory,this.annotationStorage=te.annotationStorage,this.enableScripting=te.enableScripting,this.hasJSActions=te.hasJSActions,this._fieldObjects=te.fieldObjects,this.parent=te.parent,f&&(this.container=this._createContainer(V)),ne&&this._createQuadrilaterals()}static _hasPopupData({titleObj:te,contentsObj:f,richText:V}){return!!(te!=null&&te.str||f!=null&&f.str||V!=null&&V.str)}get hasPopupData(){return m._hasPopupData(this.data)}_createContainer(te){const{data:f,parent:{page:V,viewport:ne}}=this,N=document.createElement("section");N.setAttribute("data-annotation-id",f.id),this instanceof O||(N.tabIndex=A),N.style.zIndex=this.parent.zIndex++,this.data.popupRef&&N.setAttribute("aria-haspopup","dialog"),f.noRotate&&N.classList.add("norotate");const{pageWidth:L,pageHeight:G,pageX:_e,pageY:Ve}=ne.rawDims;if(!f.rect||this instanceof $){const{rotation:dt}=f;return!f.hasOwnCanvas&&dt!==0&&this.setRotation(dt,N),N}const{width:qe,height:at}=z(f.rect),Qe=r.Util.normalizeRect([f.rect[0],V.view[3]-f.rect[1]+V.view[1],f.rect[2],V.view[3]-f.rect[3]+V.view[1]]);if(!te&&f.borderStyle.width>0){N.style.borderWidth=`${f.borderStyle.width}px`;const dt=f.borderStyle.horizontalCornerRadius,_t=f.borderStyle.verticalCornerRadius;if(dt>0||_t>0){const Pt=`calc(${dt}px * var(--scale-factor)) / calc(${_t}px * var(--scale-factor))`;N.style.borderRadius=Pt}else if(this instanceof S){const Pt=`calc(${qe}px * var(--scale-factor)) / calc(${at}px * var(--scale-factor))`;N.style.borderRadius=Pt}switch(f.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:N.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:N.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:N.style.borderBottomStyle="solid";break}const St=f.borderColor||null;St?(Re(this,v,!0),N.style.borderColor=r.Util.makeHexColor(St[0]|0,St[1]|0,St[2]|0)):N.style.borderWidth=0}N.style.left=`${100*(Qe[0]-_e)/L}%`,N.style.top=`${100*(Qe[1]-Ve)/G}%`;const{rotation:et}=f;return f.hasOwnCanvas||et===0?(N.style.width=`${100*qe/L}%`,N.style.height=`${100*at/G}%`):this.setRotation(et,N),N}setRotation(te,f=this.container){if(!this.data.rect)return;const{pageWidth:V,pageHeight:ne}=this.parent.viewport.rawDims,{width:N,height:L}=z(this.data.rect);let G,_e;te%180===0?(G=100*N/V,_e=100*L/ne):(G=100*L/V,_e=100*N/ne),f.style.width=`${G}%`,f.style.height=`${_e}%`,f.setAttribute("data-main-rotation",(360-te)%360)}get _commonActions(){const te=(f,V,ne)=>{const N=ne.detail[f],L=N[0],G=N.slice(1);ne.target.style[V]=c.ColorConverters[`${L}_HTML`](G),this.annotationStorage.setValue(this.data.id,{[V]:c.ColorConverters[`${L}_rgb`](G)})};return(0,r.shadow)(this,"_commonActions",{display:f=>{const{display:V}=f.detail,ne=V%2===1;this.container.style.visibility=ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ne,noPrint:V===1||V===2})},print:f=>{this.annotationStorage.setValue(this.data.id,{noPrint:!f.detail.print})},hidden:f=>{const{hidden:V}=f.detail;this.container.style.visibility=V?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:V,noView:V})},focus:f=>{setTimeout(()=>f.target.focus({preventScroll:!1}),0)},userName:f=>{f.target.title=f.detail.userName},readonly:f=>{f.target.disabled=f.detail.readonly},required:f=>{this._setRequired(f.target,f.detail.required)},bgColor:f=>{te("bgColor","backgroundColor",f)},fillColor:f=>{te("fillColor","backgroundColor",f)},fgColor:f=>{te("fgColor","color",f)},textColor:f=>{te("textColor","color",f)},borderColor:f=>{te("borderColor","borderColor",f)},strokeColor:f=>{te("strokeColor","borderColor",f)},rotation:f=>{const V=f.detail.rotation;this.setRotation(V),this.annotationStorage.setValue(this.data.id,{rotation:V})}})}_dispatchEventFromSandbox(te,f){const V=this._commonActions;for(const ne of Object.keys(f.detail)){const N=te[ne]||V[ne];N==null||N(f)}}_setDefaultPropertiesFromJS(te){if(!this.enableScripting)return;const f=this.annotationStorage.getRawValue(this.data.id);if(!f)return;const V=this._commonActions;for(const[ne,N]of Object.entries(f)){const L=V[ne];if(L){const G={detail:{[ne]:N},target:te};L(G),delete f[ne]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:te}=this.data;if(!te)return;const[f,V,ne,N]=this.data.rect;if(te.length===1){const[,{x:_t,y:St},{x:Pt,y:Ht}]=te[0];if(ne===_t&&N===St&&f===Pt&&V===Ht)return}const{style:L}=this.container;let G;if(u(this,v)){const{borderColor:_t,borderWidth:St}=L;L.borderWidth=0,G=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_t}" stroke-width="${St}">`],this.container.classList.add("hasBorder")}const _e=ne-f,Ve=N-V,{svgFactory:qe}=this,at=qe.createElement("svg");at.classList.add("quadrilateralsContainer"),at.setAttribute("width",0),at.setAttribute("height",0);const Qe=qe.createElement("defs");at.append(Qe);const et=qe.createElement("clipPath"),dt=`clippath_${this.data.id}`;et.setAttribute("id",dt),et.setAttribute("clipPathUnits","objectBoundingBox"),Qe.append(et);for(const[,{x:_t,y:St},{x:Pt,y:Ht}]of te){const Bt=qe.createElement("rect"),Jt=(Pt-f)/_e,Pn=(N-St)/Ve,kn=(_t-Pt)/_e,Ji=(St-Ht)/Ve;Bt.setAttribute("x",Jt),Bt.setAttribute("y",Pn),Bt.setAttribute("width",kn),Bt.setAttribute("height",Ji),et.append(Bt),G==null||G.push(`<rect vector-effect="non-scaling-stroke" x="${Jt}" y="${Pn}" width="${kn}" height="${Ji}"/>`)}u(this,v)&&(G.push("</g></svg>')"),L.backgroundImage=G.join("")),this.container.append(at),this.container.style.clipPath=`url(#${dt})`}_createPopup(){const{container:te,data:f}=this;te.setAttribute("aria-haspopup","dialog");const V=new $({data:{color:f.color,titleObj:f.titleObj,modificationDate:f.modificationDate,contentsObj:f.contentsObj,richText:f.richText,parentRect:f.rect,borderStyle:0,id:`popup_${f.id}`,rotation:f.rotation},parent:this.parent,elements:[this]});this.parent.div.append(V.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(te,f=null){const V=[];if(this._fieldObjects){const ne=this._fieldObjects[te];if(ne)for(const{page:N,id:L,exportValues:G}of ne){if(N===-1||L===f)continue;const _e=typeof G=="string"?G:null,Ve=document.querySelector(`[data-element-id="${L}"]`);if(Ve&&!x.has(Ve)){(0,r.warn)(`_getElementsByName - element not allowed: ${L}`);continue}V.push({id:L,exportValue:_e,domElement:Ve})}return V}for(const ne of document.getElementsByName(te)){const{exportValue:N}=ne,L=ne.getAttribute("data-element-id");L!==f&&x.has(ne)&&V.push({id:L,exportValue:N,domElement:ne})}return V}show(){var te;this.container&&(this.container.hidden=!1),(te=this.popup)==null||te.maybeShow()}hide(){var te;this.container&&(this.container.hidden=!0),(te=this.popup)==null||te.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const te=this.getElementsToTriggerPopup();if(Array.isArray(te))for(const f of te)f.classList.add("highlightArea");else te.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:te,data:{id:f}}=this;this.container.addEventListener("dblclick",()=>{var V;(V=this.linkService.eventBus)==null||V.dispatch("switchannotationeditormode",{source:this,mode:te,editId:f})})}};v=new WeakMap;let F=m;class M extends F{constructor(f,V=null){super(f,{isRenderable:!0,ignoreBorder:!!(V!=null&&V.ignoreBorder),createQuadrilaterals:!0});re(this,T);re(this,q);this.isTooltipOnly=f.data.isTooltipOnly}render(){const{data:f,linkService:V}=this,ne=document.createElement("a");ne.setAttribute("data-element-id",f.id);let N=!1;return f.url?(V.addLinkAttributes(ne,f.url,f.newWindow),N=!0):f.action?(this._bindNamedAction(ne,f.action),N=!0):f.attachment?(this._bindAttachment(ne,f.attachment),N=!0):f.setOCGState?(ge(this,q,kc).call(this,ne,f.setOCGState),N=!0):f.dest?(this._bindLink(ne,f.dest),N=!0):(f.actions&&(f.actions.Action||f.actions["Mouse Up"]||f.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ne,f),N=!0),f.resetForm?(this._bindResetFormAction(ne,f.resetForm),N=!0):this.isTooltipOnly&&!N&&(this._bindLink(ne,""),N=!0)),this.container.classList.add("linkAnnotation"),N&&this.container.append(ne),this.container}_bindLink(f,V){f.href=this.linkService.getDestinationHash(V),f.onclick=()=>(V&&this.linkService.goToDestination(V),!1),(V||V==="")&&ge(this,T,li).call(this)}_bindNamedAction(f,V){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>(this.linkService.executeNamedAction(V),!1),ge(this,T,li).call(this)}_bindAttachment(f,V){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>{var ne;return(ne=this.downloadManager)==null||ne.openOrDownloadData(this.container,V.content,V.filename),!1},ge(this,T,li).call(this)}_bindJSAction(f,V){f.href=this.linkService.getAnchorUrl("");const ne=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const N of Object.keys(V.actions)){const L=ne.get(N);L&&(f[L]=()=>{var G;return(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V.id,name:N}}),!1})}f.onclick||(f.onclick=()=>!1),ge(this,T,li).call(this)}_bindResetFormAction(f,V){const ne=f.onclick;if(ne||(f.href=this.linkService.getAnchorUrl("")),ge(this,T,li).call(this),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ne||(f.onclick=()=>!1);return}f.onclick=()=>{var at;ne==null||ne();const{fields:N,refs:L,include:G}=V,_e=[];if(N.length!==0||L.length!==0){const Qe=new Set(L);for(const et of N){const dt=this._fieldObjects[et]||[];for(const{id:_t}of dt)Qe.add(_t)}for(const et of Object.values(this._fieldObjects))for(const dt of et)Qe.has(dt.id)===G&&_e.push(dt)}else for(const Qe of Object.values(this._fieldObjects))_e.push(...Qe);const Ve=this.annotationStorage,qe=[];for(const Qe of _e){const{id:et}=Qe;switch(qe.push(et),Qe.type){case"text":{const _t=Qe.defaultValue||"";Ve.setValue(et,{value:_t});break}case"checkbox":case"radiobutton":{const _t=Qe.defaultValue===Qe.exportValues;Ve.setValue(et,{value:_t});break}case"combobox":case"listbox":{const _t=Qe.defaultValue||"";Ve.setValue(et,{value:_t});break}default:continue}const dt=document.querySelector(`[data-element-id="${et}"]`);if(dt){if(!x.has(dt)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${et}`);continue}}else continue;dt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qe,name:"ResetForm"}})),!1}}}T=new WeakSet,li=function(){this.container.setAttribute("data-internal-link","")},q=new WeakSet,kc=function(f,V){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>(this.linkService.executeSetOCGState(V),!1),ge(this,T,li).call(this)};class w extends F{constructor(te){super(te,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const te=document.createElement("img");return te.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",te.alt="[{{type}} Annotation]",te.dataset.l10nId="text_annotation_type",te.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(te),this.container}}class O extends F{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(te){var f;this.data.hasOwnCanvas&&(((f=te.previousSibling)==null?void 0:f.nodeName)==="CANVAS"&&(te.previousSibling.hidden=!0),te.hidden=!1)}_getKeyModifier(te){const{isWin:f,isMac:V}=r.FeatureTest.platform;return f&&te.ctrlKey||V&&te.metaKey}_setEventListener(te,f,V,ne,N){V.includes("mouse")?te.addEventListener(V,L=>{var G;(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:N(L),shift:L.shiftKey,modifier:this._getKeyModifier(L)}})}):te.addEventListener(V,L=>{var G;if(V==="blur"){if(!f.focused||!L.relatedTarget)return;f.focused=!1}else if(V==="focus"){if(f.focused)return;f.focused=!0}N&&((G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:N(L)}}))})}_setEventListeners(te,f,V,ne){var N,L,G;for(const[_e,Ve]of V)(Ve==="Action"||(N=this.data.actions)!=null&&N[Ve])&&((Ve==="Focus"||Ve==="Blur")&&(f||(f={focused:!1})),this._setEventListener(te,f,_e,Ve,ne),Ve==="Focus"&&!((L=this.data.actions)!=null&&L.Blur)?this._setEventListener(te,f,"blur","Blur",null):Ve==="Blur"&&!((G=this.data.actions)!=null&&G.Focus)&&this._setEventListener(te,f,"focus","Focus",null))}_setBackgroundColor(te){const f=this.data.backgroundColor||null;te.style.backgroundColor=f===null?"transparent":r.Util.makeHexColor(f[0],f[1],f[2])}_setTextStyle(te){const f=["left","center","right"],{fontColor:V}=this.data.defaultAppearanceData,ne=this.data.defaultAppearanceData.fontSize||d,N=te.style;let L;const G=2,_e=Ve=>Math.round(10*Ve)/10;if(this.data.multiLine){const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-G),qe=Math.round(Ve/(r.LINE_FACTOR*ne))||1,at=Ve/qe;L=Math.min(ne,_e(at/r.LINE_FACTOR))}else{const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-G);L=Math.min(ne,_e(Ve/r.LINE_FACTOR))}N.fontSize=`calc(${L}px * var(--scale-factor))`,N.color=r.Util.makeHexColor(V[0],V[1],V[2]),this.data.textAlignment!==null&&(N.textAlign=f[this.data.textAlignment])}_setRequired(te,f){f?te.setAttribute("required",!0):te.removeAttribute("required"),te.setAttribute("aria-required",f)}}class H extends O{constructor(te){const f=te.renderForms||!te.data.hasAppearance&&!!te.data.fieldValue;super(te,{isRenderable:f})}setPropertyOnSiblings(te,f,V,ne){const N=this.annotationStorage;for(const L of this._getElementsByName(te.name,te.id))L.domElement&&(L.domElement[f]=V),N.setValue(L.id,{[ne]:V})}render(){var ne,N;const te=this.annotationStorage,f=this.data.id;this.container.classList.add("textWidgetAnnotation");let V=null;if(this.renderForms){const L=te.getValue(f,{value:this.data.fieldValue});let G=L.value||"";const _e=te.getValue(f,{charLimit:this.data.maxLen}).charLimit;_e&&G.length>_e&&(G=G.slice(0,_e));let Ve=L.formattedValue||((ne=this.data.textContent)==null?void 0:ne.join(`
`))||null;Ve&&this.data.comb&&(Ve=Ve.replaceAll(/\s+/g,""));const qe={userValue:G,formattedValue:Ve,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(V=document.createElement("textarea"),V.textContent=Ve??G,this.data.doNotScroll&&(V.style.overflowY="hidden")):(V=document.createElement("input"),V.type="text",V.setAttribute("value",Ve??G),this.data.doNotScroll&&(V.style.overflowX="hidden")),this.data.hasOwnCanvas&&(V.hidden=!0),x.add(V),V.setAttribute("data-element-id",f),V.disabled=this.data.readOnly,V.name=this.data.fieldName,V.tabIndex=A,this._setRequired(V,this.data.required),_e&&(V.maxLength=_e),V.addEventListener("input",Qe=>{te.setValue(f,{value:Qe.target.value}),this.setPropertyOnSiblings(V,"value",Qe.target.value,"value"),qe.formattedValue=null}),V.addEventListener("resetform",Qe=>{const et=this.data.defaultFieldValue??"";V.value=qe.userValue=et,qe.formattedValue=null});let at=Qe=>{const{formattedValue:et}=qe;et!=null&&(Qe.target.value=et),Qe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){V.addEventListener("focus",et=>{if(qe.focused)return;const{target:dt}=et;qe.userValue&&(dt.value=qe.userValue),qe.lastCommittedValue=dt.value,qe.commitKey=1,qe.focused=!0}),V.addEventListener("updatefromsandbox",et=>{this.showElementAndHideCanvas(et.target);const dt={value(_t){qe.userValue=_t.detail.value??"",te.setValue(f,{value:qe.userValue.toString()}),_t.target.value=qe.userValue},formattedValue(_t){const{formattedValue:St}=_t.detail;qe.formattedValue=St,St!=null&&_t.target!==document.activeElement&&(_t.target.value=St),te.setValue(f,{formattedValue:St})},selRange(_t){_t.target.setSelectionRange(..._t.detail.selRange)},charLimit:_t=>{var Bt;const{charLimit:St}=_t.detail,{target:Pt}=_t;if(St===0){Pt.removeAttribute("maxLength");return}Pt.setAttribute("maxLength",St);let Ht=qe.userValue;!Ht||Ht.length<=St||(Ht=Ht.slice(0,St),Pt.value=qe.userValue=Ht,te.setValue(f,{value:Ht}),(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Ht,willCommit:!0,commitKey:1,selStart:Pt.selectionStart,selEnd:Pt.selectionEnd}}))}};this._dispatchEventFromSandbox(dt,et)}),V.addEventListener("keydown",et=>{var St;qe.commitKey=1;let dt=-1;if(et.key==="Escape"?dt=0:et.key==="Enter"&&!this.data.multiLine?dt=2:et.key==="Tab"&&(qe.commitKey=3),dt===-1)return;const{value:_t}=et.target;qe.lastCommittedValue!==_t&&(qe.lastCommittedValue=_t,qe.userValue=_t,(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:_t,willCommit:!0,commitKey:dt,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}}))});const Qe=at;at=null,V.addEventListener("blur",et=>{var _t;if(!qe.focused||!et.relatedTarget)return;qe.focused=!1;const{value:dt}=et.target;qe.userValue=dt,qe.lastCommittedValue!==dt&&((_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:dt,willCommit:!0,commitKey:qe.commitKey,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}})),Qe(et)}),(N=this.data.actions)!=null&&N.Keystroke&&V.addEventListener("beforeinput",et=>{var Pn;qe.lastCommittedValue=null;const{data:dt,target:_t}=et,{value:St,selectionStart:Pt,selectionEnd:Ht}=_t;let Bt=Pt,Jt=Ht;switch(et.inputType){case"deleteWordBackward":{const kn=St.substring(0,Pt).match(/\w*[^\w]*$/);kn&&(Bt-=kn[0].length);break}case"deleteWordForward":{const kn=St.substring(Pt).match(/^[^\w]*\w*/);kn&&(Jt+=kn[0].length);break}case"deleteContentBackward":Pt===Ht&&(Bt-=1);break;case"deleteContentForward":Pt===Ht&&(Jt+=1);break}et.preventDefault(),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:St,change:dt||"",willCommit:!1,selStart:Bt,selEnd:Jt}})}),this._setEventListeners(V,qe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.value)}if(at&&V.addEventListener("blur",at),this.data.comb){const et=(this.data.rect[2]-this.data.rect[0])/_e;V.classList.add("comb"),V.style.letterSpacing=`calc(${et}px * var(--scale-factor) - 1ch)`}}else V=document.createElement("div"),V.textContent=this.data.fieldValue,V.style.verticalAlign="middle",V.style.display="table-cell";return this._setTextStyle(V),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class U extends O{constructor(te){super(te,{isRenderable:!!te.data.hasOwnCanvas})}}class I extends O{constructor(te){super(te,{isRenderable:te.renderForms})}render(){const te=this.annotationStorage,f=this.data,V=f.id;let ne=te.getValue(V,{value:f.exportValue===f.fieldValue}).value;typeof ne=="string"&&(ne=ne!=="Off",te.setValue(V,{value:ne})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const N=document.createElement("input");return x.add(N),N.setAttribute("data-element-id",V),N.disabled=f.readOnly,this._setRequired(N,this.data.required),N.type="checkbox",N.name=f.fieldName,ne&&N.setAttribute("checked",!0),N.setAttribute("exportValue",f.exportValue),N.tabIndex=A,N.addEventListener("change",L=>{const{name:G,checked:_e}=L.target;for(const Ve of this._getElementsByName(G,V)){const qe=_e&&Ve.exportValue===f.exportValue;Ve.domElement&&(Ve.domElement.checked=qe),te.setValue(Ve.id,{value:qe})}te.setValue(V,{value:_e})}),N.addEventListener("resetform",L=>{const G=f.defaultFieldValue||"Off";L.target.checked=G===f.exportValue}),this.enableScripting&&this.hasJSActions&&(N.addEventListener("updatefromsandbox",L=>{const G={value(_e){_e.target.checked=_e.detail.value!=="Off",te.setValue(V,{value:_e.target.checked})}};this._dispatchEventFromSandbox(G,L)}),this._setEventListeners(N,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],L=>L.target.checked)),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class S extends O{constructor(te){super(te,{isRenderable:te.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const te=this.annotationStorage,f=this.data,V=f.id;let ne=te.getValue(V,{value:f.fieldValue===f.buttonValue}).value;typeof ne=="string"&&(ne=ne!==f.buttonValue,te.setValue(V,{value:ne}));const N=document.createElement("input");if(x.add(N),N.setAttribute("data-element-id",V),N.disabled=f.readOnly,this._setRequired(N,this.data.required),N.type="radio",N.name=f.fieldName,ne&&N.setAttribute("checked",!0),N.tabIndex=A,N.addEventListener("change",L=>{const{name:G,checked:_e}=L.target;for(const Ve of this._getElementsByName(G,V))te.setValue(Ve.id,{value:!1});te.setValue(V,{value:_e})}),N.addEventListener("resetform",L=>{const G=f.defaultFieldValue;L.target.checked=G!=null&&G===f.buttonValue}),this.enableScripting&&this.hasJSActions){const L=f.buttonValue;N.addEventListener("updatefromsandbox",G=>{const _e={value:Ve=>{const qe=L===Ve.detail.value;for(const at of this._getElementsByName(Ve.target.name)){const Qe=qe&&at.id===V;at.domElement&&(at.domElement.checked=Qe),te.setValue(at.id,{value:Qe})}}};this._dispatchEventFromSandbox(_e,G)}),this._setEventListeners(N,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.checked)}return this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class C extends M{constructor(te){super(te,{ignoreBorder:te.data.hasAppearance})}render(){const te=super.render();te.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(te.title=this.data.alternativeText);const f=te.lastChild;return this.enableScripting&&this.hasJSActions&&f&&(this._setDefaultPropertiesFromJS(f),f.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({},V)})),te}}class Y extends O{constructor(te){super(te,{isRenderable:te.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const te=this.annotationStorage,f=this.data.id,V=te.getValue(f,{value:this.data.fieldValue}),ne=document.createElement("select");x.add(ne),ne.setAttribute("data-element-id",f),ne.disabled=this.data.readOnly,this._setRequired(ne,this.data.required),ne.name=this.data.fieldName,ne.tabIndex=A;let N=this.data.combo&&this.data.options.length>0;this.data.combo||(ne.size=this.data.options.length,this.data.multiSelect&&(ne.multiple=!0)),ne.addEventListener("resetform",qe=>{const at=this.data.defaultFieldValue;for(const Qe of ne.options)Qe.selected=Qe.value===at});for(const qe of this.data.options){const at=document.createElement("option");at.textContent=qe.displayValue,at.value=qe.exportValue,V.value.includes(qe.exportValue)&&(at.setAttribute("selected",!0),N=!1),ne.append(at)}let L=null;if(N){const qe=document.createElement("option");qe.value=" ",qe.setAttribute("hidden",!0),qe.setAttribute("selected",!0),ne.prepend(qe),L=()=>{qe.remove(),ne.removeEventListener("input",L),L=null},ne.addEventListener("input",L)}const G=qe=>{const at=qe?"value":"textContent",{options:Qe,multiple:et}=ne;return et?Array.prototype.filter.call(Qe,dt=>dt.selected).map(dt=>dt[at]):Qe.selectedIndex===-1?null:Qe[Qe.selectedIndex][at]};let _e=G(!1);const Ve=qe=>{const at=qe.target.options;return Array.prototype.map.call(at,Qe=>({displayValue:Qe.textContent,exportValue:Qe.value}))};return this.enableScripting&&this.hasJSActions?(ne.addEventListener("updatefromsandbox",qe=>{const at={value(Qe){L==null||L();const et=Qe.detail.value,dt=new Set(Array.isArray(et)?et:[et]);for(const _t of ne.options)_t.selected=dt.has(_t.value);te.setValue(f,{value:G(!0)}),_e=G(!1)},multipleSelection(Qe){ne.multiple=!0},remove(Qe){const et=ne.options,dt=Qe.detail.remove;et[dt].selected=!1,ne.remove(dt),et.length>0&&Array.prototype.findIndex.call(et,St=>St.selected)===-1&&(et[0].selected=!0),te.setValue(f,{value:G(!0),items:Ve(Qe)}),_e=G(!1)},clear(Qe){for(;ne.length!==0;)ne.remove(0);te.setValue(f,{value:null,items:[]}),_e=G(!1)},insert(Qe){const{index:et,displayValue:dt,exportValue:_t}=Qe.detail.insert,St=ne.children[et],Pt=document.createElement("option");Pt.textContent=dt,Pt.value=_t,St?St.before(Pt):ne.append(Pt),te.setValue(f,{value:G(!0),items:Ve(Qe)}),_e=G(!1)},items(Qe){const{items:et}=Qe.detail;for(;ne.length!==0;)ne.remove(0);for(const dt of et){const{displayValue:_t,exportValue:St}=dt,Pt=document.createElement("option");Pt.textContent=_t,Pt.value=St,ne.append(Pt)}ne.options.length>0&&(ne.options[0].selected=!0),te.setValue(f,{value:G(!0),items:Ve(Qe)}),_e=G(!1)},indices(Qe){const et=new Set(Qe.detail.indices);for(const dt of Qe.target.options)dt.selected=et.has(dt.index);te.setValue(f,{value:G(!0)}),_e=G(!1)},editable(Qe){Qe.target.disabled=!Qe.detail.editable}};this._dispatchEventFromSandbox(at,qe)}),ne.addEventListener("input",qe=>{var Qe;const at=G(!0);te.setValue(f,{value:at}),qe.preventDefault(),(Qe=this.linkService.eventBus)==null||Qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:_e,changeEx:at,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ne,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],qe=>qe.target.value)):ne.addEventListener("input",function(qe){te.setValue(f,{value:G(!0)})}),this.data.combo&&this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class $ extends F{constructor(te){const{data:f,elements:V}=te;super(te,{isRenderable:F._hasPopupData(f)}),this.elements=V}render(){this.container.classList.add("popupAnnotation");const te=new E({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),f=[];for(const V of this.elements)V.popup=te,f.push(V.data.id),V.addHighlightArea();return this.container.setAttribute("aria-controls",f.map(V=>`${r.AnnotationPrefix}${V}`).join(",")),this.container}}class E{constructor({container:te,color:f,elements:V,titleObj:ne,modificationDate:N,contentsObj:L,richText:G,parent:_e,rect:Ve,parentRect:qe,open:at}){re(this,Ze);re(this,nt);re(this,ht);re(this,pt);re(this,ae,null);re(this,we,ge(this,Ze,Fc).bind(this));re(this,R,ge(this,pt,Oo).bind(this));re(this,B,ge(this,ht,Mo).bind(this));re(this,ee,ge(this,nt,zs).bind(this));re(this,be,null);re(this,oe,null);re(this,Ce,null);re(this,Ie,null);re(this,Ee,null);re(this,Pe,null);re(this,he,!1);re(this,le,null);re(this,ie,null);re(this,ve,null);re(this,Oe,null);re(this,De,!1);var et;Re(this,oe,te),Re(this,Oe,ne),Re(this,Ce,L),Re(this,ve,G),Re(this,Ee,_e),Re(this,be,f),Re(this,ie,Ve),Re(this,Pe,qe),Re(this,Ie,V);const Qe=o.PDFDateString.toDateObject(N);Qe&&Re(this,ae,_e.l10n.get("annotation_date_string",{date:Qe.toLocaleDateString(),time:Qe.toLocaleTimeString()})),this.trigger=V.flatMap(dt=>dt.getElementsToTriggerPopup());for(const dt of this.trigger)dt.addEventListener("click",u(this,ee)),dt.addEventListener("mouseenter",u(this,B)),dt.addEventListener("mouseleave",u(this,R)),dt.classList.add("popupTriggerArea");for(const dt of V)(et=dt.container)==null||et.addEventListener("keydown",u(this,we));u(this,oe).hidden=!0,at&&ge(this,nt,zs).call(this)}render(){if(u(this,le))return;const{page:{view:te},viewport:{rawDims:{pageWidth:f,pageHeight:V,pageX:ne,pageY:N}}}=u(this,Ee),L=Re(this,le,document.createElement("div"));if(L.className="popup",u(this,be)){const Bt=L.style.outlineColor=r.Util.makeHexColor(...u(this,be));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?L.style.backgroundColor=`color-mix(in srgb, ${Bt} 30%, white)`:L.style.backgroundColor=r.Util.makeHexColor(...u(this,be).map(Pn=>Math.floor(.7*(255-Pn)+Pn)))}const G=document.createElement("span");G.className="header";const _e=document.createElement("h1");if(G.append(_e),{dir:_e.dir,str:_e.textContent}=u(this,Oe),L.append(G),u(this,ae)){const Bt=document.createElement("span");Bt.classList.add("popupDate"),u(this,ae).then(Jt=>{Bt.textContent=Jt}),G.append(Bt)}const Ve=u(this,Ce),qe=u(this,ve);if(qe!=null&&qe.str&&(!(Ve!=null&&Ve.str)||Ve.str===qe.str))b.XfaLayer.render({xfaHtml:qe.html,intent:"richText",div:L}),L.lastChild.classList.add("richText","popupContent");else{const Bt=this._formatContents(Ve);L.append(Bt)}let at=!!u(this,Pe),Qe=at?u(this,Pe):u(this,ie);for(const Bt of u(this,Ie))if(!Qe||r.Util.intersect(Bt.data.rect,Qe)!==null){Qe=Bt.data.rect,at=!0;break}const et=r.Util.normalizeRect([Qe[0],te[3]-Qe[1]+te[1],Qe[2],te[3]-Qe[3]+te[1]]),dt=5,_t=at?Qe[2]-Qe[0]+dt:0,St=et[0]+_t,Pt=et[1],{style:Ht}=u(this,oe);Ht.left=`${100*(St-ne)/f}%`,Ht.top=`${100*(Pt-N)/V}%`,u(this,oe).append(L)}_formatContents({str:te,dir:f}){const V=document.createElement("p");V.classList.add("popupContent"),V.dir=f;const ne=te.split(/(?:\r\n?|\n)/);for(let N=0,L=ne.length;N<L;++N){const G=ne[N];V.append(document.createTextNode(G)),N<L-1&&V.append(document.createElement("br"))}return V}forceHide(){Re(this,De,this.isVisible),u(this,De)&&(u(this,oe).hidden=!0)}maybeShow(){u(this,De)&&(Re(this,De,!1),u(this,oe).hidden=!1)}get isVisible(){return u(this,oe).hidden===!1}}ae=new WeakMap,we=new WeakMap,R=new WeakMap,B=new WeakMap,ee=new WeakMap,be=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,he=new WeakMap,le=new WeakMap,ie=new WeakMap,ve=new WeakMap,Oe=new WeakMap,De=new WeakMap,Ze=new WeakSet,Fc=function(te){te.altKey||te.shiftKey||te.ctrlKey||te.metaKey||(te.key==="Enter"||te.key==="Escape"&&u(this,he))&&ge(this,nt,zs).call(this)},nt=new WeakSet,zs=function(){Re(this,he,!u(this,he)),u(this,he)?(ge(this,ht,Mo).call(this),u(this,oe).addEventListener("click",u(this,ee)),u(this,oe).addEventListener("keydown",u(this,we))):(ge(this,pt,Oo).call(this),u(this,oe).removeEventListener("click",u(this,ee)),u(this,oe).removeEventListener("keydown",u(this,we)))},ht=new WeakSet,Mo=function(){u(this,le)||this.render(),this.isVisible?u(this,he)&&u(this,oe).classList.add("focused"):(u(this,oe).hidden=!1,u(this,oe).style.zIndex=parseInt(u(this,oe).style.zIndex)+1e3)},pt=new WeakSet,Oo=function(){u(this,oe).classList.remove("focused"),!(u(this,he)||!this.isVisible)&&(u(this,oe).hidden=!0,u(this,oe).style.zIndex=parseInt(u(this,oe).style.zIndex)-1e3)};class Z extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.textContent=te.data.textContent,this.textPosition=te.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const te=document.createElement("div");te.classList.add("annotationTextContent"),te.setAttribute("role","comment");for(const f of this.textContent){const V=document.createElement("span");V.textContent=f,te.append(V)}this.container.append(te)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}n.FreeTextAnnotationElement=Z;class W extends F{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,me,null)}render(){this.container.classList.add("lineAnnotation");const f=this.data,{width:V,height:ne}=z(f.rect),N=this.svgFactory.create(V,ne,!0),L=Re(this,me,this.svgFactory.createElement("svg:line"));return L.setAttribute("x1",f.rect[2]-f.lineCoordinates[0]),L.setAttribute("y1",f.rect[3]-f.lineCoordinates[1]),L.setAttribute("x2",f.rect[2]-f.lineCoordinates[2]),L.setAttribute("y2",f.rect[3]-f.lineCoordinates[3]),L.setAttribute("stroke-width",f.borderStyle.width||1),L.setAttribute("stroke","transparent"),L.setAttribute("fill","transparent"),N.append(L),this.container.append(N),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,me)}addHighlightArea(){this.container.classList.add("highlightArea")}}me=new WeakMap;class ce extends F{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,de,null)}render(){this.container.classList.add("squareAnnotation");const f=this.data,{width:V,height:ne}=z(f.rect),N=this.svgFactory.create(V,ne,!0),L=f.borderStyle.width,G=Re(this,de,this.svgFactory.createElement("svg:rect"));return G.setAttribute("x",L/2),G.setAttribute("y",L/2),G.setAttribute("width",V-L),G.setAttribute("height",ne-L),G.setAttribute("stroke-width",L||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),N.append(G),this.container.append(N),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,de)}addHighlightArea(){this.container.classList.add("highlightArea")}}de=new WeakMap;class fe extends F{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,$e,null)}render(){this.container.classList.add("circleAnnotation");const f=this.data,{width:V,height:ne}=z(f.rect),N=this.svgFactory.create(V,ne,!0),L=f.borderStyle.width,G=Re(this,$e,this.svgFactory.createElement("svg:ellipse"));return G.setAttribute("cx",V/2),G.setAttribute("cy",ne/2),G.setAttribute("rx",V/2-L/2),G.setAttribute("ry",ne/2-L/2),G.setAttribute("stroke-width",L||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),N.append(G),this.container.append(N),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,$e)}addHighlightArea(){this.container.classList.add("highlightArea")}}$e=new WeakMap;class J extends F{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,We,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const f=this.data,{width:V,height:ne}=z(f.rect),N=this.svgFactory.create(V,ne,!0);let L=[];for(const _e of f.vertices){const Ve=_e.x-f.rect[0],qe=f.rect[3]-_e.y;L.push(Ve+","+qe)}L=L.join(" ");const G=Re(this,We,this.svgFactory.createElement(this.svgElementName));return G.setAttribute("points",L),G.setAttribute("stroke-width",f.borderStyle.width||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),N.append(G),this.container.append(N),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,We)}addHighlightArea(){this.container.classList.add("highlightArea")}}We=new WeakMap;class pe extends J{constructor(te){super(te),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class xe extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Se extends F{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,kt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const f=this.data,{width:V,height:ne}=z(f.rect),N=this.svgFactory.create(V,ne,!0);for(const L of f.inkLists){let G=[];for(const Ve of L){const qe=Ve.x-f.rect[0],at=f.rect[3]-Ve.y;G.push(`${qe},${at}`)}G=G.join(" ");const _e=this.svgFactory.createElement(this.svgElementName);u(this,kt).push(_e),_e.setAttribute("points",G),_e.setAttribute("stroke-width",f.borderStyle.width||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),!f.popupRef&&this.hasPopupData&&this._createPopup(),N.append(_e)}return this.container.append(N),this.container}getElementsToTriggerPopup(){return u(this,kt)}addHighlightArea(){this.container.classList.add("highlightArea")}}kt=new WeakMap,n.InkAnnotationElement=Se;class se extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Fe extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ne extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Be extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ze extends F{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}n.StampAnnotationElement=ze;class K extends F{constructor(f){var N;super(f,{isRenderable:!0});re(this,Ae);re(this,Rt,null);const{filename:V,content:ne}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(V,!0),this.content=ne,(N=this.linkService.eventBus)==null||N.dispatch("fileattachmentannotation",{source:this,filename:V,content:ne})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:f,data:V}=this;let ne;V.hasAppearance||V.fillAlpha===0?ne=document.createElement("div"):(ne=document.createElement("img"),ne.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(V.name)?"paperclip":"pushpin"}.svg`,V.fillAlpha&&V.fillAlpha<1&&(ne.style=`filter: opacity(${Math.round(V.fillAlpha*100)}%);`)),ne.addEventListener("dblclick",ge(this,Ae,Io).bind(this)),Re(this,Rt,ne);const{isMac:N}=r.FeatureTest.platform;return f.addEventListener("keydown",L=>{L.key==="Enter"&&(N?L.metaKey:L.ctrlKey)&&ge(this,Ae,Io).call(this)}),!V.popupRef&&this.hasPopupData?this._createPopup():ne.classList.add("popupTriggerArea"),f.append(ne),f}getElementsToTriggerPopup(){return u(this,Rt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rt=new WeakMap,Ae=new WeakSet,Io=function(){var f;(f=this.downloadManager)==null||f.openOrDownloadData(this.container,this.content,this.filename)};class g{constructor({div:te,accessibilityManager:f,annotationCanvasMap:V,l10n:ne,page:N,viewport:L}){re(this,ct);re(this,Ue);re(this,rt,null);re(this,Ye,null);re(this,ot,new Map);this.div=te,Re(this,rt,f),Re(this,Ye,V),this.l10n=ne,this.page=N,this.viewport=L,this.zIndex=0,this.l10n||(this.l10n=y.NullL10n)}async render(te){const{annotations:f}=te,V=this.div;(0,o.setLayerDimensions)(V,this.viewport);const ne=new Map,N={data:null,layer:V,linkService:te.linkService,downloadManager:te.downloadManager,imageResourcesPath:te.imageResourcesPath||"",renderForms:te.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:te.annotationStorage||new l.AnnotationStorage,enableScripting:te.enableScripting===!0,hasJSActions:te.hasJSActions,fieldObjects:te.fieldObjects,parent:this,elements:null};for(const L of f){if(L.noHTML)continue;const G=L.annotationType===r.AnnotationType.POPUP;if(G){const qe=ne.get(L.id);if(!qe)continue;N.elements=qe}else{const{width:qe,height:at}=z(L.rect);if(qe<=0||at<=0)continue}N.data=L;const _e=D.create(N);if(!_e.isRenderable)continue;if(!G&&L.popupRef){const qe=ne.get(L.popupRef);qe?qe.push(_e):ne.set(L.popupRef,[_e])}_e.annotationEditorType>0&&u(this,ot).set(_e.data.id,_e);const Ve=_e.render();L.hidden&&(Ve.style.visibility="hidden"),ge(this,ct,Mc).call(this,Ve,L.id)}ge(this,Ue,Do).call(this),await this.l10n.translate(V)}update({viewport:te}){const f=this.div;this.viewport=te,(0,o.setLayerDimensions)(f,{rotation:te.rotation}),ge(this,Ue,Do).call(this),f.hidden=!1}getEditableAnnotations(){return Array.from(u(this,ot).values())}getEditableAnnotation(te){return u(this,ot).get(te)}}rt=new WeakMap,Ye=new WeakMap,ot=new WeakMap,ct=new WeakSet,Mc=function(te,f){var ne;const V=te.firstChild||te;V.id=`${r.AnnotationPrefix}${f}`,this.div.append(te),(ne=u(this,rt))==null||ne.moveElementInDOM(this.div,te,V,!1)},Ue=new WeakSet,Do=function(){if(!u(this,Ye))return;const te=this.div;for(const[f,V]of u(this,Ye)){const ne=te.querySelector(`[data-annotation-id="${f}"]`);if(!ne)continue;const{firstChild:N}=ne;N?N.nodeName==="CANVAS"?N.replaceWith(V):N.before(V):ne.append(V)}u(this,Ye).clear()},n.AnnotationLayer=g},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function s(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function r(l){return Math.max(0,Math.min(255,255*l))}class o{static CMYK_G([c,y,b,A]){return["G",1-Math.min(1,.3*c+.59*b+.11*y+A)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_rgb([c]){return c=r(c),[c,c,c]}static G_HTML([c]){const y=s(c);return`#${y}${y}${y}`}static RGB_G([c,y,b]){return["G",.3*c+.59*y+.11*b]}static RGB_rgb(c){return c.map(r)}static RGB_HTML(c){return`#${c.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([c,y,b,A]){return["RGB",1-Math.min(1,c+A),1-Math.min(1,b+A),1-Math.min(1,y+A)]}static CMYK_rgb([c,y,b,A]){return[r(1-Math.min(1,c+A)),r(1-Math.min(1,b+A)),r(1-Math.min(1,y+A))]}static CMYK_HTML(c){const y=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(y)}static RGB_CMYK([c,y,b]){const A=1-c,d=1-y,x=1-b,z=Math.min(A,d,x);return["CMYK",A,d,x,z]}}n.ColorConverters=o},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.getL10nFallback=r;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function r(c,y){switch(c){case"find_match_count":c=`find_match_count[${y.total===1?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${y.limit===1?"one":"other"}]`;break}return s[c]||""}function o(c,y){return y?c.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,A)=>A in y?y[A]:"{{"+A+"}}"):c}const l={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(c,y=null,b=r(c,y)){return o(b,y)},async translate(c){}};n.NullL10n=l},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var r=s(25);class o{static setupStorage(c,y,b,A,d){const x=A.getValue(y,{value:null});switch(b.name){case"textarea":if(x.value!==null&&(c.textContent=x.value),d==="print")break;c.addEventListener("input",z=>{A.setValue(y,{value:z.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if(x.value===b.attributes.xfaOn?c.setAttribute("checked",!0):x.value===b.attributes.xfaOff&&c.removeAttribute("checked"),d==="print")break;c.addEventListener("change",z=>{A.setValue(y,{value:z.target.checked?z.target.getAttribute("xfaOn"):z.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&c.setAttribute("value",x.value),d==="print")break;c.addEventListener("input",z=>{A.setValue(y,{value:z.target.value})})}break;case"select":if(x.value!==null){c.setAttribute("value",x.value);for(const z of b.children)z.attributes.value===x.value?z.attributes.selected=!0:z.attributes.hasOwnProperty("selected")&&delete z.attributes.selected}c.addEventListener("input",z=>{const D=z.target.options,F=D.selectedIndex===-1?"":D[D.selectedIndex].value;A.setValue(y,{value:F})});break}}static setAttributes({html:c,element:y,storage:b=null,intent:A,linkService:d}){const{attributes:x}=y,z=c instanceof HTMLAnchorElement;x.type==="radio"&&(x.name=`${x.name}-${A}`);for(const[D,F]of Object.entries(x))if(F!=null)switch(D){case"class":F.length&&c.setAttribute(D,F.join(" "));break;case"dataId":break;case"id":c.setAttribute("data-element-id",F);break;case"style":Object.assign(c.style,F);break;case"textContent":c.textContent=F;break;default:(!z||D!=="href"&&D!=="newWindow")&&c.setAttribute(D,F)}z&&d.addLinkAttributes(c,x.href,x.newWindow),b&&x.dataId&&this.setupStorage(c,x.dataId,y,b)}static render(c){var M;const y=c.annotationStorage,b=c.linkService,A=c.xfaHtml,d=c.intent||"display",x=document.createElement(A.name);A.attributes&&this.setAttributes({html:x,element:A,intent:d,linkService:b});const z=[[A,-1,x]],D=c.div;if(D.append(x),c.viewport){const w=`matrix(${c.viewport.transform.join(",")})`;D.style.transform=w}d!=="richText"&&D.setAttribute("class","xfaLayer xfaFont");const F=[];for(;z.length>0;){const[w,O,H]=z.at(-1);if(O+1===w.children.length){z.pop();continue}const U=w.children[++z.at(-1)[1]];if(U===null)continue;const{name:I}=U;if(I==="#text"){const C=document.createTextNode(U.value);F.push(C),H.append(C);continue}const S=(M=U==null?void 0:U.attributes)!=null&&M.xmlns?document.createElementNS(U.attributes.xmlns,I):document.createElement(I);if(H.append(S),U.attributes&&this.setAttributes({html:S,element:U,storage:y,intent:d,linkService:b}),U.children&&U.children.length>0)z.push([U,-1,S]);else if(U.value){const C=document.createTextNode(U.value);r.XfaText.shouldBuildText(I)&&F.push(C),S.append(C)}}for(const w of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:F}}static update(c){const y=`matrix(${c.viewport.transform.join(",")})`;c.div.style.transform=y,c.div.hidden=!1}}n.XfaLayer=o},(e,n,s)=>{var A,d,x,z,D,F,M,w,O,H,U,I,S,C,Y,Oc,E,Ic,W,Dc,fe,Lc,pe,Lo,Se,Nc,Fe,No,Be,Bc,K,$c,v,Uc,T,Hc,q,Wc,ae,Vn,R,Bo,ee,qs,oe,Gs,Ie,Ci,Pe,$o,le,Ks,ve,Vc,De,Uo,Xe,jc,lt,zc,st,Ho,Me,Xs,de,Ti;Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0;var r=s(1),o=s(4),l=s(29),c=s(6),y=s(5);const We=class We extends o.AnnotationEditor{constructor(Ae){super({...Ae,name:"inkEditor"});re(this,Y);re(this,E);re(this,W);re(this,fe);re(this,pe);re(this,Se);re(this,Fe);re(this,Be);re(this,K);re(this,v);re(this,T);re(this,q);re(this,ae);re(this,R);re(this,ee);re(this,oe);re(this,Ie);re(this,Pe);re(this,le);re(this,lt);re(this,st);re(this,Me);re(this,de);re(this,A,0);re(this,d,0);re(this,x,this.canvasPointermove.bind(this));re(this,z,this.canvasPointerleave.bind(this));re(this,D,this.canvasPointerup.bind(this));re(this,F,this.canvasPointerdown.bind(this));re(this,M,new Path2D);re(this,w,!1);re(this,O,!1);re(this,H,!1);re(this,U,null);re(this,I,0);re(this,S,0);re(this,C,null);this.color=Ae.color||null,this.thickness=Ae.thickness||null,this.opacity=Ae.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ae){o.AnnotationEditor.initialize(Ae,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ae,Ke){switch(Ae){case r.AnnotationEditorParamsType.INK_THICKNESS:We._defaultThickness=Ke;break;case r.AnnotationEditorParamsType.INK_COLOR:We._defaultColor=Ke;break;case r.AnnotationEditorParamsType.INK_OPACITY:We._defaultOpacity=Ke/100;break}}updateParams(Ae,Ke){switch(Ae){case r.AnnotationEditorParamsType.INK_THICKNESS:ge(this,Y,Oc).call(this,Ke);break;case r.AnnotationEditorParamsType.INK_COLOR:ge(this,E,Ic).call(this,Ke);break;case r.AnnotationEditorParamsType.INK_OPACITY:ge(this,W,Dc).call(this,Ke);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,We._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,We._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(We._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||We._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||We._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??We._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ge(this,ee,qs).call(this),ge(this,oe,Gs).call(this)),this.isAttachedToDOM||(this.parent.add(this),ge(this,Ie,Ci).call(this)),ge(this,de,Ti).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,U).disconnect(),Re(this,U,null),super.remove())}setParent(Ae){!this.parent&&Ae?this._uiManager.removeShouldRescale(this):this.parent&&Ae===null&&this._uiManager.addShouldRescale(this),super.setParent(Ae)}onScaleChanging(){const[Ae,Ke]=this.parentDimensions,rt=this.width*Ae,Ye=this.height*Ke;this.setDimensions(rt,Ye)}enableEditMode(){u(this,w)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",u(this,F)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,F)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,w)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Re(this,w,!0),this.div.classList.add("disabled"),ge(this,de,Ti).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ae){this._focusEventsAllowed&&(super.focusin(Ae),this.enableEditMode())}canvasPointerdown(Ae){Ae.button!==0||!this.isInEditMode()||u(this,w)||(this.setInForeground(),Ae.preventDefault(),Ae.type!=="mouse"&&this.div.focus(),ge(this,Se,Nc).call(this,Ae.offsetX,Ae.offsetY))}canvasPointermove(Ae){Ae.preventDefault(),ge(this,Fe,No).call(this,Ae.offsetX,Ae.offsetY)}canvasPointerup(Ae){Ae.preventDefault(),ge(this,R,Bo).call(this,Ae)}canvasPointerleave(Ae){ge(this,R,Bo).call(this,Ae)}get isResizable(){return!this.isEmpty()&&u(this,w)}render(){if(this.div)return this.div;let Ae,Ke;this.width&&(Ae=this.x,Ke=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(mt=>{var Ue;return(Ue=this.div)==null?void 0:Ue.setAttribute("aria-label",mt)});const[rt,Ye,ot,ct]=ge(this,fe,Lc).call(this);if(this.setAt(rt,Ye,0,0),this.setDims(ot,ct),ge(this,ee,qs).call(this),this.width){const[mt,Ue]=this.parentDimensions;this.setAspectRatio(this.width*mt,this.height*Ue),this.setAt(Ae*mt,Ke*Ue,this.width*mt,this.height*Ue),Re(this,H,!0),ge(this,Ie,Ci).call(this),this.setDims(this.width*mt,this.height*Ue),ge(this,ae,Vn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ge(this,oe,Gs).call(this),this.div}setDimensions(Ae,Ke){const rt=Math.round(Ae),Ye=Math.round(Ke);if(u(this,I)===rt&&u(this,S)===Ye)return;Re(this,I,rt),Re(this,S,Ye),this.canvas.style.visibility="hidden";const[ot,ct]=this.parentDimensions;this.width=Ae/ot,this.height=Ke/ct,this.fixAndSetPosition(),u(this,w)&&ge(this,Pe,$o).call(this,Ae,Ke),ge(this,Ie,Ci).call(this),ge(this,ae,Vn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ae,Ke,rt){var N,L,G;if(Ae instanceof l.InkAnnotationElement)return null;const Ye=super.deserialize(Ae,Ke,rt);Ye.thickness=Ae.thickness,Ye.color=r.Util.makeHexColor(...Ae.color),Ye.opacity=Ae.opacity;const[ot,ct]=Ye.pageDimensions,mt=Ye.width*ot,Ue=Ye.height*ct,bt=Ye.parentScale,it=Ae.thickness/2;Re(Ye,w,!0),Re(Ye,I,Math.round(mt)),Re(Ye,S,Math.round(Ue));const{paths:te,rect:f,rotation:V}=Ae;for(let{bezier:_e}of te){_e=ge(N=We,Xe,jc).call(N,_e,f,V);const Ve=[];Ye.paths.push(Ve);let qe=bt*(_e[0]-it),at=bt*(_e[1]-it);for(let et=2,dt=_e.length;et<dt;et+=6){const _t=bt*(_e[et]-it),St=bt*(_e[et+1]-it),Pt=bt*(_e[et+2]-it),Ht=bt*(_e[et+3]-it),Bt=bt*(_e[et+4]-it),Jt=bt*(_e[et+5]-it);Ve.push([[qe,at],[_t,St],[Pt,Ht],[Bt,Jt]]),qe=Bt,at=Jt}const Qe=ge(this,ve,Vc).call(this,Ve);Ye.bezierPath2D.push(Qe)}const ne=ge(L=Ye,st,Ho).call(L);return Re(Ye,d,Math.max(o.AnnotationEditor.MIN_SIZE,ne[2]-ne[0])),Re(Ye,A,Math.max(o.AnnotationEditor.MIN_SIZE,ne[3]-ne[1])),ge(G=Ye,Pe,$o).call(G,mt,Ue),Ye}serialize(){if(this.isEmpty())return null;const Ae=this.getRect(0,0),Ke=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:Ke,thickness:this.thickness,opacity:this.opacity,paths:ge(this,lt,zc).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ae),pageIndex:this.pageIndex,rect:Ae,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};A=new WeakMap,d=new WeakMap,x=new WeakMap,z=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,H=new WeakMap,U=new WeakMap,I=new WeakMap,S=new WeakMap,C=new WeakMap,Y=new WeakSet,Oc=function(Ae){const Ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ae,ge(this,de,Ti).call(this)},undo:()=>{this.thickness=Ke,ge(this,de,Ti).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,Ic=function(Ae){const Ke=this.color;this.addCommands({cmd:()=>{this.color=Ae,ge(this,ae,Vn).call(this)},undo:()=>{this.color=Ke,ge(this,ae,Vn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},W=new WeakSet,Dc=function(Ae){Ae/=100;const Ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ae,ge(this,ae,Vn).call(this)},undo:()=>{this.opacity=Ke,ge(this,ae,Vn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},fe=new WeakSet,Lc=function(){const{parentRotation:Ae,parentDimensions:[Ke,rt]}=this;switch(Ae){case 90:return[0,rt,rt,Ke];case 180:return[Ke,rt,Ke,rt];case 270:return[Ke,0,rt,Ke];default:return[0,0,Ke,rt]}},pe=new WeakSet,Lo=function(){const{ctx:Ae,color:Ke,opacity:rt,thickness:Ye,parentScale:ot,scaleFactor:ct}=this;Ae.lineWidth=Ye*ot/ct,Ae.lineCap="round",Ae.lineJoin="round",Ae.miterLimit=10,Ae.strokeStyle=`${Ke}${(0,y.opacityToHex)(rt)}`},Se=new WeakSet,Nc=function(Ae,Ke){this.canvas.addEventListener("contextmenu",c.noContextMenu),this.canvas.addEventListener("pointerleave",u(this,z)),this.canvas.addEventListener("pointermove",u(this,x)),this.canvas.addEventListener("pointerup",u(this,D)),this.canvas.removeEventListener("pointerdown",u(this,F)),this.isEditing=!0,u(this,H)||(Re(this,H,!0),ge(this,Ie,Ci).call(this),this.thickness||(this.thickness=We._defaultThickness),this.color||(this.color=We._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=We._defaultOpacity)),this.currentPath.push([Ae,Ke]),Re(this,O,!1),ge(this,pe,Lo).call(this),Re(this,C,()=>{ge(this,v,Uc).call(this),u(this,C)&&window.requestAnimationFrame(u(this,C))}),window.requestAnimationFrame(u(this,C))},Fe=new WeakSet,No=function(Ae,Ke){const[rt,Ye]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ae===rt&&Ke===Ye)return;const ot=this.currentPath;let ct=u(this,M);if(ot.push([Ae,Ke]),Re(this,O,!0),ot.length<=2){ct.moveTo(...ot[0]),ct.lineTo(Ae,Ke);return}ot.length===3&&(Re(this,M,ct=new Path2D),ct.moveTo(...ot[0])),ge(this,T,Hc).call(this,ct,...ot.at(-3),...ot.at(-2),Ae,Ke)},Be=new WeakSet,Bc=function(){if(this.currentPath.length===0)return;const Ae=this.currentPath.at(-1);u(this,M).lineTo(...Ae)},K=new WeakSet,$c=function(Ae,Ke){Re(this,C,null),Ae=Math.min(Math.max(Ae,0),this.canvas.width),Ke=Math.min(Math.max(Ke,0),this.canvas.height),ge(this,Fe,No).call(this,Ae,Ke),ge(this,Be,Bc).call(this);let rt;if(this.currentPath.length!==1)rt=ge(this,q,Wc).call(this);else{const Ue=[Ae,Ke];rt=[[Ue,Ue.slice(),Ue.slice(),Ue]]}const Ye=u(this,M),ot=this.currentPath;this.currentPath=[],Re(this,M,new Path2D);const ct=()=>{this.allRawPaths.push(ot),this.paths.push(rt),this.bezierPath2D.push(Ye),this.rebuild()},mt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ge(this,ee,qs).call(this),ge(this,oe,Gs).call(this)),ge(this,de,Ti).call(this))};this.addCommands({cmd:ct,undo:mt,mustExec:!0})},v=new WeakSet,Uc=function(){if(!u(this,O))return;Re(this,O,!1);const Ae=Math.ceil(this.thickness*this.parentScale),Ke=this.currentPath.slice(-3),rt=Ke.map(ct=>ct[0]),Ye=Ke.map(ct=>ct[1]);Math.min(...rt)-Ae,Math.max(...rt)+Ae,Math.min(...Ye)-Ae,Math.max(...Ye)+Ae;const{ctx:ot}=this;ot.save(),ot.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ct of this.bezierPath2D)ot.stroke(ct);ot.stroke(u(this,M)),ot.restore()},T=new WeakSet,Hc=function(Ae,Ke,rt,Ye,ot,ct,mt){const Ue=(Ke+Ye)/2,bt=(rt+ot)/2,it=(Ye+ct)/2,te=(ot+mt)/2;Ae.bezierCurveTo(Ue+2*(Ye-Ue)/3,bt+2*(ot-bt)/3,it+2*(Ye-it)/3,te+2*(ot-te)/3,it,te)},q=new WeakSet,Wc=function(){const Ae=this.currentPath;if(Ae.length<=2)return[[Ae[0],Ae[0],Ae.at(-1),Ae.at(-1)]];const Ke=[];let rt,[Ye,ot]=Ae[0];for(rt=1;rt<Ae.length-2;rt++){const[f,V]=Ae[rt],[ne,N]=Ae[rt+1],L=(f+ne)/2,G=(V+N)/2,_e=[Ye+2*(f-Ye)/3,ot+2*(V-ot)/3],Ve=[L+2*(f-L)/3,G+2*(V-G)/3];Ke.push([[Ye,ot],_e,Ve,[L,G]]),[Ye,ot]=[L,G]}const[ct,mt]=Ae[rt],[Ue,bt]=Ae[rt+1],it=[Ye+2*(ct-Ye)/3,ot+2*(mt-ot)/3],te=[Ue+2*(ct-Ue)/3,bt+2*(mt-bt)/3];return Ke.push([[Ye,ot],it,te,[Ue,bt]]),Ke},ae=new WeakSet,Vn=function(){if(this.isEmpty()){ge(this,le,Ks).call(this);return}ge(this,pe,Lo).call(this);const{canvas:Ae,ctx:Ke}=this;Ke.setTransform(1,0,0,1,0,0),Ke.clearRect(0,0,Ae.width,Ae.height),ge(this,le,Ks).call(this);for(const rt of this.bezierPath2D)Ke.stroke(rt)},R=new WeakSet,Bo=function(Ae){this.canvas.removeEventListener("pointerleave",u(this,z)),this.canvas.removeEventListener("pointermove",u(this,x)),this.canvas.removeEventListener("pointerup",u(this,D)),this.canvas.addEventListener("pointerdown",u(this,F)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",c.noContextMenu)},10),ge(this,K,$c).call(this,Ae.offsetX,Ae.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ee=new WeakSet,qs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ae=>{var Ke;return(Ke=this.canvas)==null?void 0:Ke.setAttribute("aria-label",Ae)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},oe=new WeakSet,Gs=function(){Re(this,U,new ResizeObserver(Ae=>{const Ke=Ae[0].contentRect;Ke.width&&Ke.height&&this.setDimensions(Ke.width,Ke.height)})),u(this,U).observe(this.div)},Ie=new WeakSet,Ci=function(){if(!u(this,H))return;const[Ae,Ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ae),this.canvas.height=Math.ceil(this.height*Ke),ge(this,le,Ks).call(this)},Pe=new WeakSet,$o=function(Ae,Ke){const rt=ge(this,Me,Xs).call(this),Ye=(Ae-rt)/u(this,d),ot=(Ke-rt)/u(this,A);this.scaleFactor=Math.min(Ye,ot)},le=new WeakSet,Ks=function(){const Ae=ge(this,Me,Xs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ae,this.translationY*this.scaleFactor+Ae)},ve=new WeakSet,Vc=function(Ae){const Ke=new Path2D;for(let rt=0,Ye=Ae.length;rt<Ye;rt++){const[ot,ct,mt,Ue]=Ae[rt];rt===0&&Ke.moveTo(...ot),Ke.bezierCurveTo(ct[0],ct[1],mt[0],mt[1],Ue[0],Ue[1])}return Ke},De=new WeakSet,Uo=function(Ae,Ke,rt){const[Ye,ot,ct,mt]=Ke;switch(rt){case 0:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2)Ae[Ue]+=Ye,Ae[Ue+1]=mt-Ae[Ue+1];break;case 90:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2){const it=Ae[Ue];Ae[Ue]=Ae[Ue+1]+Ye,Ae[Ue+1]=it+ot}break;case 180:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2)Ae[Ue]=ct-Ae[Ue],Ae[Ue+1]+=ot;break;case 270:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2){const it=Ae[Ue];Ae[Ue]=ct-Ae[Ue+1],Ae[Ue+1]=mt-it}break;default:throw new Error("Invalid rotation")}return Ae},Xe=new WeakSet,jc=function(Ae,Ke,rt){const[Ye,ot,ct,mt]=Ke;switch(rt){case 0:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2)Ae[Ue]-=Ye,Ae[Ue+1]=mt-Ae[Ue+1];break;case 90:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2){const it=Ae[Ue];Ae[Ue]=Ae[Ue+1]-ot,Ae[Ue+1]=it-Ye}break;case 180:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2)Ae[Ue]=ct-Ae[Ue],Ae[Ue+1]-=ot;break;case 270:for(let Ue=0,bt=Ae.length;Ue<bt;Ue+=2){const it=Ae[Ue];Ae[Ue]=mt-Ae[Ue+1],Ae[Ue+1]=ct-it}break;default:throw new Error("Invalid rotation")}return Ae},lt=new WeakSet,zc=function(Ae,Ke,rt,Ye){var bt,it;const ot=[],ct=this.thickness/2,mt=Ae*Ke+ct,Ue=Ae*rt+ct;for(const te of this.paths){const f=[],V=[];for(let ne=0,N=te.length;ne<N;ne++){const[L,G,_e,Ve]=te[ne],qe=Ae*L[0]+mt,at=Ae*L[1]+Ue,Qe=Ae*G[0]+mt,et=Ae*G[1]+Ue,dt=Ae*_e[0]+mt,_t=Ae*_e[1]+Ue,St=Ae*Ve[0]+mt,Pt=Ae*Ve[1]+Ue;ne===0&&(f.push(qe,at),V.push(qe,at)),f.push(Qe,et,dt,_t,St,Pt),V.push(Qe,et),ne===N-1&&V.push(St,Pt)}ot.push({bezier:ge(bt=We,De,Uo).call(bt,f,Ye,this.rotation),points:ge(it=We,De,Uo).call(it,V,Ye,this.rotation)})}return ot},st=new WeakSet,Ho=function(){let Ae=1/0,Ke=-1/0,rt=1/0,Ye=-1/0;for(const ot of this.paths)for(const[ct,mt,Ue,bt]of ot){const it=r.Util.bezierBoundingBox(...ct,...mt,...Ue,...bt);Ae=Math.min(Ae,it[0]),rt=Math.min(rt,it[1]),Ke=Math.max(Ke,it[2]),Ye=Math.max(Ye,it[3])}return[Ae,rt,Ke,Ye]},Me=new WeakSet,Xs=function(){return u(this,w)?Math.ceil(this.thickness*this.parentScale):0},de=new WeakSet,Ti=function(Ae=!1){if(this.isEmpty())return;if(!u(this,w)){ge(this,ae,Vn).call(this);return}const Ke=ge(this,st,Ho).call(this),rt=ge(this,Me,Xs).call(this);Re(this,d,Math.max(o.AnnotationEditor.MIN_SIZE,Ke[2]-Ke[0])),Re(this,A,Math.max(o.AnnotationEditor.MIN_SIZE,Ke[3]-Ke[1]));const Ye=Math.ceil(rt+u(this,d)*this.scaleFactor),ot=Math.ceil(rt+u(this,A)*this.scaleFactor),[ct,mt]=this.parentDimensions;this.width=Ye/ct,this.height=ot/mt,this.setAspectRatio(Ye,ot);const Ue=this.translationX,bt=this.translationY;this.translationX=-Ke[0],this.translationY=-Ke[1],ge(this,Ie,Ci).call(this),ge(this,ae,Vn).call(this),Re(this,I,Ye),Re(this,S,ot),this.setDims(Ye,ot);const it=Ae?rt/this.scaleFactor/2:0;this.translate(Ue-this.translationX-it,bt-this.translationY-it)},re(We,ve),re(We,De),re(We,Xe),Nt(We,"_defaultColor",null),Nt(We,"_defaultOpacity",1),Nt(We,"_defaultThickness",1),Nt(We,"_type","ink");let b=We;n.InkEditor=b},(e,n,s)=>{var b,A,d,x,z,D,F,M,w,O,H,Xi,I,Yi,C,Ys,$,Wo,Z,qc,ce,Gc,J,Vo,xe,Js,se,Kc;Object.defineProperty(n,"__esModule",{value:!0}),n.StampEditor=void 0;var r=s(1),o=s(4),l=s(6),c=s(29);const Ne=class Ne extends o.AnnotationEditor{constructor(K){super({...K,name:"stampEditor"});re(this,H);re(this,I);re(this,C);re(this,$);re(this,Z);re(this,ce);re(this,J);re(this,xe);re(this,se);re(this,b,null);re(this,A,null);re(this,d,null);re(this,x,null);re(this,z,null);re(this,D,null);re(this,F,null);re(this,M,null);re(this,w,!1);re(this,O,!1);Re(this,x,K.bitmapUrl),Re(this,z,K.bitmapFile)}static initialize(K){o.AnnotationEditor.initialize(K)}static get supportedTypes(){const K=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",K.map(g=>`image/${g}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(K){return this.supportedTypes.includes(K)}static paste(K,g){g.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:K.getAsFile()})}remove(){var K,g;u(this,A)&&(Re(this,b,null),this._uiManager.imageManager.deleteId(u(this,A)),(K=u(this,D))==null||K.remove(),Re(this,D,null),(g=u(this,F))==null||g.disconnect(),Re(this,F,null)),super.remove()}rebuild(){if(!this.parent){u(this,A)&&ge(this,C,Ys).call(this);return}super.rebuild(),this.div!==null&&(u(this,A)&&ge(this,C,Ys).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,d)||u(this,b)||u(this,x)||u(this,z))}get isResizable(){return!0}render(){if(this.div)return this.div;let K,g;if(this.width&&(K=this.x,g=this.y),super.render(),this.div.hidden=!0,u(this,b)?ge(this,$,Wo).call(this):ge(this,C,Ys).call(this),this.width){const[v,m]=this.parentDimensions;this.setAt(K*v,g*m,this.width*v,this.height*m)}return this.div}static deserialize(K,g,v){if(K instanceof c.StampAnnotationElement)return null;const m=super.deserialize(K,g,v),{rect:T,bitmapUrl:k,bitmapId:q,isSvg:Q,accessibilityData:ae}=K;q&&v.imageManager.isValidId(q)?Re(m,A,q):Re(m,x,k),Re(m,w,Q);const[we,R]=m.pageDimensions;return m.width=(T[2]-T[0])/we,m.height=(T[3]-T[1])/R,ae&&(m.altTextData=ae),m}serialize(K=!1,g=null){if(this.isEmpty())return null;const v={annotationType:r.AnnotationEditorType.STAMP,bitmapId:u(this,A),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,w),structTreeParentId:this._structTreeParentId};if(K)return v.bitmapUrl=ge(this,xe,Js).call(this,!0),v.accessibilityData=this.altTextData,v;const{decorative:m,altText:T}=this.altTextData;if(!m&&T&&(v.accessibilityData={type:"Figure",alt:T}),g===null)return v;g.stamps||(g.stamps=new Map);const k=u(this,w)?(v.rect[2]-v.rect[0])*(v.rect[3]-v.rect[1]):null;if(!g.stamps.has(u(this,A)))g.stamps.set(u(this,A),{area:k,serialized:v}),v.bitmap=ge(this,xe,Js).call(this,!1);else if(u(this,w)){const q=g.stamps.get(u(this,A));k>q.area&&(q.area=k,q.serialized.bitmap.close(),q.serialized.bitmap=ge(this,xe,Js).call(this,!1))}return v}};b=new WeakMap,A=new WeakMap,d=new WeakMap,x=new WeakMap,z=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,H=new WeakSet,Xi=function(K,g=!1){if(!K){this.remove();return}Re(this,b,K.bitmap),g||(Re(this,A,K.id),Re(this,w,K.isSvg)),ge(this,$,Wo).call(this)},I=new WeakSet,Yi=function(){Re(this,d,null),this._uiManager.enableWaiting(!1),u(this,D)&&this.div.focus()},C=new WeakSet,Ys=function(){if(u(this,A)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,A)).then(g=>ge(this,H,Xi).call(this,g,!0)).finally(()=>ge(this,I,Yi).call(this));return}if(u(this,x)){const g=u(this,x);Re(this,x,null),this._uiManager.enableWaiting(!0),Re(this,d,this._uiManager.imageManager.getFromUrl(g).then(v=>ge(this,H,Xi).call(this,v)).finally(()=>ge(this,I,Yi).call(this)));return}if(u(this,z)){const g=u(this,z);Re(this,z,null),this._uiManager.enableWaiting(!0),Re(this,d,this._uiManager.imageManager.getFromFile(g).then(v=>ge(this,H,Xi).call(this,v)).finally(()=>ge(this,I,Yi).call(this)));return}const K=document.createElement("input");K.type="file",K.accept=Ne.supportedTypesStr,Re(this,d,new Promise(g=>{K.addEventListener("change",async()=>{if(!K.files||K.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const v=await this._uiManager.imageManager.getFromFile(K.files[0]);ge(this,H,Xi).call(this,v)}g()}),K.addEventListener("cancel",()=>{this.remove(),g()})}).finally(()=>ge(this,I,Yi).call(this))),K.click()},$=new WeakSet,Wo=function(){const{div:K}=this;let{width:g,height:v}=u(this,b);const[m,T]=this.pageDimensions,k=.75;if(this.width)g=this.width*m,v=this.height*T;else if(g>k*m||v>k*T){const we=Math.min(k*m/g,k*T/v);g*=we,v*=we}const[q,Q]=this.parentDimensions;this.setDims(g*q/m,v*Q/T),this._uiManager.enableWaiting(!1);const ae=Re(this,D,document.createElement("canvas"));K.append(ae),K.hidden=!1,ge(this,J,Vo).call(this,g,v),ge(this,se,Kc).call(this),u(this,O)||(this.parent.addUndoableEditor(this),Re(this,O,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Z=new WeakSet,qc=function(K,g){var k;const[v,m]=this.parentDimensions;this.width=K/v,this.height=g/m,this.setDims(K,g),(k=this._initialOptions)!=null&&k.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,M)!==null&&clearTimeout(u(this,M)),Re(this,M,setTimeout(()=>{Re(this,M,null),ge(this,J,Vo).call(this,K,g)},200))},ce=new WeakSet,Gc=function(K,g){const{width:v,height:m}=u(this,b);let T=v,k=m,q=u(this,b);for(;T>2*K||k>2*g;){const Q=T,ae=k;T>2*K&&(T=T>=16384?Math.floor(T/2)-1:Math.ceil(T/2)),k>2*g&&(k=k>=16384?Math.floor(k/2)-1:Math.ceil(k/2));const we=new OffscreenCanvas(T,k);we.getContext("2d").drawImage(q,0,0,Q,ae,0,0,T,k),q=we.transferToImageBitmap()}return q},J=new WeakSet,Vo=function(K,g){K=Math.ceil(K),g=Math.ceil(g);const v=u(this,D);if(!v||v.width===K&&v.height===g)return;v.width=K,v.height=g;const m=u(this,w)?u(this,b):ge(this,ce,Gc).call(this,K,g),T=v.getContext("2d");T.filter=this._uiManager.hcmFilter,T.drawImage(m,0,0,m.width,m.height,0,0,K,g)},xe=new WeakSet,Js=function(K){if(K){if(u(this,w)){const m=this._uiManager.imageManager.getSvgUrl(u(this,A));if(m)return m}const g=document.createElement("canvas");return{width:g.width,height:g.height}=u(this,b),g.getContext("2d").drawImage(u(this,b),0,0),g.toDataURL()}if(u(this,w)){const[g,v]=this.pageDimensions,m=Math.round(this.width*g*l.PixelsPerInch.PDF_TO_CSS_UNITS),T=Math.round(this.height*v*l.PixelsPerInch.PDF_TO_CSS_UNITS),k=new OffscreenCanvas(m,T);return k.getContext("2d").drawImage(u(this,b),0,0,u(this,b).width,u(this,b).height,0,0,m,T),k.transferToImageBitmap()}return structuredClone(u(this,b))},se=new WeakSet,Kc=function(){Re(this,F,new ResizeObserver(K=>{const g=K[0].contentRect;g.width&&g.height&&ge(this,Z,qc).call(this,g.width,g.height)})),u(this,F).observe(this.div)},Nt(Ne,"_type","stamp");let y=Ne;n.StampEditor=y}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var n=__webpack_module_cache__[e];if(n!==void 0)return n.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return n.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return y.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return n.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return n.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return n.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return n.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var n=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),c=__w_pdfjs_require__(5),y=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),A=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const PdfReviewer_vue_vue_type_style_index_0_scoped_2b347b4c_lang="",_export_sfc=(e,n)=>{const s=e.__vccOpts||e;for(const[r,o]of n)s[r]=o;return s},_hoisted_1={class:"pdf-viewer-container flex flex-col bg-gray-100 overflow-hidden"},_hoisted_2={class:"flex items-center justify-between p-4 bg-white border-b border-gray-200 flex-shrink-0"},_hoisted_3={class:"flex items-center gap-4"},_hoisted_4={class:"text-xl font-bold text-gray-700"},_hoisted_5={key:0,class:"flex items-center gap-3"},_hoisted_6=["disabled"],_hoisted_7=["disabled"],_hoisted_8={key:1,class:"flex items-center gap-2 border border-gray-300 rounded-lg p-1"},_hoisted_9=["disabled"],_hoisted_10=["value"],_hoisted_11=["disabled"],_hoisted_12={key:2,class:"flex items-center gap-2 border border-gray-300 rounded-lg p-1"},_hoisted_13={key:0,class:"flex items-center justify-center h-full"},_hoisted_14=["width","height"],_hoisted_15=["onClick"],_hoisted_16=["transform"],_hoisted_17=["fill"],_hoisted_18=["x","y","width","height"],_hoisted_19=["x","y","width","height"],_hoisted_20={class:"comments-sidebar flex flex-col bg-gray-50 border-l border-gray-200"},_hoisted_21={class:"p-4 border-b flex-shrink-0"},_hoisted_22={class:"mt-3 flex gap-2"},_hoisted_23={key:0,class:"mt-2 text-sm text-gray-600 text-center"},_hoisted_24={class:"flex-1 overflow-hidden flex flex-col"},_hoisted_25={key:0,class:"flex-grow flex items-center justify-center p-4"},_hoisted_26={key:1,class:"flex-grow min-h-0 overflow-hidden flex flex-col"},_hoisted_27={class:"flex-grow overflow-y-auto p-3"},_hoisted_28=["onClick"],_hoisted_29={class:"p-4"},_hoisted_30={class:"flex justify-between items-start gap-3 mb-3"},_hoisted_31={class:"comment-header flex-1"},_hoisted_32={class:"flex items-center gap-2 mb-1"},_hoisted_33=["onClick"],_hoisted_34=["title"],_hoisted_35={key:0,class:"text-xs text-gray-400"},_hoisted_36=["title"],_hoisted_37={class:"flex items-center gap-2 flex-shrink-0"},_hoisted_38=["onClick"],_hoisted_39=["checked","onChange","disabled","title"],_hoisted_40={class:"comment-content-wrapper"},_hoisted_41={key:0,class:"mb-3"},_hoisted_42={class:"flex gap-2 mt-2"},_hoisted_43=["onClick"],_hoisted_44=["onClick"],_hoisted_45={class:"flex items-center gap-3 text-xs text-gray-500 border-t pt-2"},_hoisted_46=["onClick"],_hoisted_47=["onClick"],_hoisted_48=["onClick"],_hoisted_49={key:0,class:"px-4 pb-4"},_hoisted_50={class:"ml-4 pl-4 border-l-2 border-gray-200"},_hoisted_51={class:"flex gap-2 mt-2"},_hoisted_52=["onClick"],_hoisted_53={key:1,class:"px-4 pb-4"},_hoisted_54={class:"ml-4 pl-4 border-l-2 border-gray-200 space-y-2"},_hoisted_55={class:"flex justify-between items-start gap-3 mb-2"},_hoisted_56={class:"flex items-center gap-2 mb-1"},_hoisted_57={class:"text-xs font-semibold text-gray-600"},_hoisted_58=["title"],_hoisted_59={key:0,class:"flex items-center gap-2 text-xs text-gray-500"},_hoisted_60=["onClick"],_hoisted_61=["onClick"],_hoisted_62={key:0,class:"text-xs text-gray-400 mb-1"},_hoisted_63=["title"],_hoisted_64={key:1,class:"mb-2"},_hoisted_65={class:"flex gap-2 mt-2"},_hoisted_66=["onClick"],_hoisted_67={key:2,class:"comment-content text-sm text-gray-700"},_hoisted_68={key:0,class:"p-3 border-t bg-white flex-shrink-0"},_hoisted_69={class:"flex items-center justify-between"},_hoisted_70=["disabled"],_hoisted_71={class:"flex items-center gap-1"},_hoisted_72=["onClick"],_hoisted_73={key:1,class:"px-1 text-xs text-gray-500"},_hoisted_74=["disabled"],_hoisted_75={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},_hoisted_76={class:"bg-white rounded-lg shadow-xl p-6 w-[60rem] max-w-[90vw]"},_sfc_main={__name:"PdfReviewer",props:{document:Object,currentUser:Object,creatorId:[Number,String],apiStoreUrl:String,apiUpdateUrlTemplate:String,apiDeleteUrlTemplate:String,apiStatusUrlTemplate:String},setup(e){let n=null;const s=()=>{n=N=>{if(N.ctrlKey||N.metaKey)switch(N.key){case"=":case"+":N.preventDefault(),R();break;case"-":N.preventDefault(),B();break;case"0":N.preventDefault(),x.value=1,Xe(b.value);break}},document.addEventListener("keydown",n)},r=()=>{n&&(document.removeEventListener("keydown",n),n=null)};axios$1.defaults.baseURL="/app/publyse/public/",axios$1.defaults.withCredentials=!0;const o=e,l=ref(o.document.comments||[]),c=ref(o.document.pdf_url),y=ref(null),b=ref(1),A=ref(1),d=ref(0),x=ref(1.5),z=ref(1),D=ref(!1),F=ref({width:0,height:0}),M=ref(null),w=ref(.25),O=ref(5);ref(.25);const H=ref([{value:.25,label:"25%"},{value:.5,label:"50%"},{value:.75,label:"75%"},{value:1,label:"100%"},{value:1.25,label:"125%"},{value:1.5,label:"150%"},{value:2,label:"200%"},{value:3,label:"300%"},{value:4,label:"400%"},{value:5,label:"500%"}]),U=ref("point"),I=ref(!1),S=ref(null),C=ref({content:"",position:null,type:"",page_number:0}),Y=ref(null),$=ref("all"),E=ref(!1),Z=ref({x:0,y:0}),W=ref(null),ce=ref(null),fe=ref(""),J=ref(null),pe=ref(""),xe=ref(null),Se=ref(""),se=ref(null),Fe=ref(null),Ne=ref({}),Be=ref(1),ze=ref(5),K=ref([]);let g=null;const v=N=>{const L=new Map,G=[];return N.forEach(_e=>{_e.replies=[],L.set(_e.id,_e)}),N.forEach(_e=>{_e.parent_id&&L.has(_e.parent_id)?L.get(_e.parent_id).replies.push(_e):G.push(_e)}),G},m=computed(()=>v([...l.value])),T=computed(()=>m.value.sort((N,L)=>N.page_number-L.page_number||N.id-L.id)),k=computed(()=>Math.ceil(K.value.length/ze.value)),q=computed(()=>(Be.value-1)*ze.value),Q=computed(()=>q.value+ze.value),ae=computed(()=>K.value.slice(q.value,Q.value)),we=computed(()=>{const N=k.value,L=Be.value,G=[];if(N<=7)for(let _e=1;_e<=N;_e++)G.push(_e);else if(L<=4){for(let _e=1;_e<=5;_e++)G.push(_e);G.push("..."),G.push(N)}else if(L>=N-3){G.push(1),G.push("...");for(let _e=N-4;_e<=N;_e++)G.push(_e)}else{G.push(1),G.push("...");for(let _e=L-1;_e<=L+1;_e++)G.push(_e);G.push("..."),G.push(N)}return G}),R=()=>{const N=H.value.findIndex(L=>L.value===x.value);N<H.value.length-1&&(x.value=H.value[N+1].value,Xe(b.value))},B=()=>{const N=H.value.findIndex(L=>L.value===x.value);N>0&&(x.value=H.value[N-1].value,Xe(b.value))},ee=()=>{Xe(b.value)},be=async()=>{if(!(!y.value||!M.value))try{const L=(await y.value.getPage(b.value)).getViewport({scale:1}),_e=(M.value.clientWidth-40)/L.width;x.value=Math.max(w.value,Math.min(O.value,_e)),Xe(b.value)}catch(N){console.error("Error fitting to width:",N)}},oe=async()=>{if(!(!y.value||!M.value))try{const L=(await y.value.getPage(b.value)).getViewport({scale:1}),G=M.value.clientWidth-40,_e=M.value.clientHeight-40,Ve=G/L.width,qe=_e/L.height,at=Math.min(Ve,qe);x.value=Math.max(w.value,Math.min(O.value,at)),Xe(b.value)}catch(N){console.error("Error fitting to page:",N)}},Ce=N=>{if(N.ctrlKey||N.metaKey){N.preventDefault();const L=N.deltaY<0?1:-1,G=H.value.findIndex(_e=>_e.value===x.value);L>0&&G<H.value.length-1?(x.value=H.value[G+1].value,Xe(b.value)):L<0&&G>0&&(x.value=H.value[G-1].value,Xe(b.value))}},Ie=N=>{pt(N)},Ee=N=>{Me(N)},Pe=N=>{me()},he=N=>{if(!N)return"";const L=new Date,G=new Date(N),_e=Math.floor((L-G)/1e3);if(_e<60)return"Baru saja";const Ve=Math.floor(_e/60);if(Ve<60)return`${Ve} menit yang lalu`;const qe=Math.floor(Ve/60);if(qe<24)return`${qe} jam yang lalu`;const at=Math.floor(qe/24);if(at<7)return`${at} hari yang lalu`;const Qe=Math.floor(at/7);if(Qe<4)return`${Qe} minggu yang lalu`;const et=Math.floor(at/30);return et<12?`${et} bulan yang lalu`:`${Math.floor(at/365)} tahun yang lalu`},le=N=>{if(!N)return"";const L=new Date(N),G={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};return L.toLocaleDateString("id-ID",G)},ie=N=>{$.value=N,Be.value=1,N==="all"?K.value=T.value:K.value=T.value.filter(L=>{const G=L.status===N,_e=L.replies&&L.replies.some(Ve=>Ve.status===N);return G||_e}).map(L=>N!=="all"?{...L,replies:L.replies?L.replies.filter(G=>G.status===N):[]}:L)},ve=N=>{N>=1&&N<=k.value&&(Be.value=N)},Oe=()=>{Be.value>1&&Be.value--},De=()=>{Be.value<k.value&&Be.value++};watch(T,N=>{ie($.value)},{immediate:!0}),pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",onUnmounted(()=>{g&&clearInterval(g),r()}),onMounted(async()=>{var L;console.log("Component mounted");const N=axios$1.create();try{const G=await N.get("http://localhost/app/publyse/public/sanctum/csrf-cookie",{withCredentials:!0});console.log("✅ CSRF OK:",G.status)}catch(G){console.error("❌ CSRF error:",(L=G.response)==null?void 0:L.status,G.message)}nextTick(()=>{Ze()}),g=setInterval(()=>{l.value.length>0&&(l.value=[...l.value])},6e4),s()}),watch(I,N=>{N&&nextTick(()=>{var L;(L=S.value)==null||L.focus()})});const Ze=async()=>{D.value=!0;try{const L=await pdfExports.getDocument(c.value).promise;y.value=markRaw(L),d.value=L.numPages,await Xe(1)}catch(N){console.error("Gagal memuat PDF:",N),alert("Gagal memuat file PDF dari server. Pastikan path benar dan file dapat diakses.")}finally{D.value=!1}},Xe=async N=>{if(y.value){D.value=!0;try{const L=await y.value.getPage(N),G=L.getViewport({scale:x.value}),_e=document.getElementById("pdf-canvas"),Ve=_e.getContext("2d");_e.height=G.height,_e.width=G.width,F.value={width:G.width,height:G.height};const qe={canvasContext:Ve,viewport:G};await L.render(qe).promise,b.value=N,A.value=N}catch(L){console.error("Gagal merender halaman:",L)}finally{D.value=!1}}},nt=N=>{const L=b.value+N;L>0&&L<=d.value&&Xe(L)},lt=N=>{const L=parseInt(N,10);L>0&&L<=d.value?Xe(L):A.value=b.value},ht=N=>{U.value=N},st=N=>{U.value!=="point"||E.value||(C.value={content:"",position:{x:N.offsetX,y:N.offsetY},type:"point",page_number:b.value},I.value=!0)},pt=N=>{U.value!=="area"||N.target.closest("g, rect")||(E.value=!0,Z.value={x:N.offsetX,y:N.offsetY},W.value={x:N.offsetX,y:N.offsetY,width:0,height:0})},Me=N=>{if(!E.value)return;const L=N.offsetX,G=N.offsetY,_e=Math.min(L,Z.value.x),Ve=Math.min(G,Z.value.y),qe=Math.abs(L-Z.value.x),at=Math.abs(G-Z.value.y);W.value={x:_e,y:Ve,width:qe,height:at}},me=()=>{if(E.value){if(E.value=!1,W.value.width<5||W.value.height<5){W.value=null;return}C.value={content:"",position:{...W.value},type:"area",page_number:b.value},I.value=!0,W.value=null}},de=()=>{I.value=!1,C.value={content:"",position:null,type:"",page_number:0}},$e=async()=>{if(!C.value.content.trim())return;const N={...C.value,document_id:o.document.id};N.position&&(N.position=JSON.stringify(N.position));try{let G=(await axios$1.post(o.apiStoreUrl,N)).data;G.position=mt(G.position),l.value.push(G),de()}catch(L){console.error("Gagal menyimpan komentar:",L),alert("Gagal menyimpan komentar.")}},We=async N=>{const L=N.status==="open"?"done":"open";try{const G=o.apiStatusUrlTemplate.replace("COMMENT_ID",N.id);await axios$1.patch(G,{status:L}),N.status=L,l.value=[...l.value]}catch(G){console.error("Gagal mengubah status:",G),alert("Terjadi kesalahan saat mengubah status.")}},kt=async N=>{N.page_number&&N.page_number!==b.value&&await Xe(N.page_number),Y.value=N.id,setTimeout(()=>{Y.value=null},1500)},Rt=N=>{se.value=N.id},Ae=N=>{ce.value=N,fe.value=N.content},Ke=()=>{ce.value=null,fe.value=""},rt=async N=>{if(fe.value.trim())try{const L=o.apiUpdateUrlTemplate.replace("COMMENT_ID",N.id),G=await axios$1.put(L,{content:fe.value});N.content=G.data.content,N.updated_at=G.data.updated_at,l.value=[...l.value],Ke()}catch(L){console.error("Gagal mengupdate komentar:",L),alert("Gagal mengupdate komentar.")}},Ye=N=>{xe.value=N,Se.value=N.content},ot=()=>{xe.value=null,Se.value=""},ct=async(N,L)=>{if(Se.value.trim())try{const G=o.apiUpdateUrlTemplate.replace("COMMENT_ID",L.id),_e=await axios$1.put(G,{content:Se.value});L.content=_e.data.content,L.updated_at=_e.data.updated_at,l.value=[...l.value],ot()}catch(G){console.error("Gagal mengupdate balasan:",G),alert("Gagal mengupdate balasan.")}},mt=N=>{if(!N)return null;try{return typeof N=="object"?N:typeof N=="string"?JSON.parse(N):null}catch(L){return console.error("Error parsing position:",L),null}},Ue=(N,L)=>N.filter(G=>G.id!==L),bt=async N=>{if(confirm("Anda yakin ingin menghapus komentar ini?"))try{const L=o.apiDeleteUrlTemplate.replace("COMMENT_ID",N.id);await axios$1.delete(L),l.value=Ue(l.value,N.id)}catch(L){console.error("Gagal menghapus komentar:",L),alert("Gagal menghapus komentar.")}},it=async(N,L)=>{if(confirm("Anda yakin ingin menghapus balasan ini?"))try{const G=o.apiDeleteUrlTemplate.replace("COMMENT_ID",L.id);await axios$1.delete(G),l.value=Ue(l.value,L.id)}catch(G){console.error("Gagal menghapus balasan:",G),alert("Gagal menghapus balasan.")}},te=N=>{J.value=N,pe.value=""},f=()=>{J.value=null,pe.value=""},V=async N=>{var G,_e,Ve,qe;if(!pe.value.trim()){console.warn("Reply text is empty");return}const L={content:pe.value,document_id:o.document.id,parent_id:N.id};console.log("Sending reply payload:",L);try{const at=await axios$1.post(o.apiStoreUrl,L);console.log("Reply response:",at.data),l.value.push(at.data),f(),console.log("Reply berhasil ditambahkan")}catch(at){console.error("Gagal mengirim balasan:",at),console.error("Error response:",(G=at.response)==null?void 0:G.data),console.error("Error status:",(_e=at.response)==null?void 0:_e.status),(qe=(Ve=at.response)==null?void 0:Ve.data)!=null&&qe.message?alert(`Gagal mengirim balasan: ${at.response.data.message}`):alert("Gagal mengirim balasan.")}},ne=computed(()=>m.value.filter(N=>{if(N.parent_id!==null||N.type===null||N.page_number!==b.value)return!1;const L=mt(N.position);return L?N.type==="point"?typeof L.x=="number"&&typeof L.y=="number":N.type==="area"?typeof L.x=="number"&&typeof L.y=="number"&&typeof L.width=="number"&&typeof L.height=="number":!1:!1}));return(N,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["flex w-full h-screen",{"no-select":E.value}])},[createBaseVNode("main",_hoisted_1,[createBaseVNode("header",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("h1",_hoisted_4,"Versi: "+toDisplayString(e.document.version),1)]),y.value?(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("button",{onClick:L[0]||(L[0]=G=>nt(-1)),disabled:b.value<=1,class:"px-3 py-2 bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"},"<",8,_hoisted_6),createBaseVNode("span",null,[L[15]||(L[15]=createTextVNode("Halaman ")),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":L[1]||(L[1]=G=>A.value=G),onChange:L[2]||(L[2]=G=>lt(A.value)),class:"w-14 text-center border rounded-md p-1"},null,544),[[vModelText,A.value,void 0,{number:!0}]]),createTextVNode(" / "+toDisplayString(d.value),1)]),createBaseVNode("button",{onClick:L[3]||(L[3]=G=>nt(1)),disabled:b.value>=d.value,class:"px-3 py-2 bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"},">",8,_hoisted_7)])):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",_hoisted_8,[createBaseVNode("button",{onClick:B,disabled:x.value<=w.value,class:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom Out"},L[16]||(L[16]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}),createBaseVNode("path",{d:"M4 6.5h6a.5.5 0 0 1 0 1H4a.5.5 0 0 1 0-1z"})],-1)]),8,_hoisted_9),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":L[4]||(L[4]=G=>x.value=G),onChange:ee,class:"text-sm border-0 bg-transparent focus:ring-0 cursor-pointer"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(H.value,G=>(openBlock(),createElementBlock("option",{key:G.value,value:G.value},toDisplayString(G.label),9,_hoisted_10))),128))],544),[[vModelSelect,x.value]]),createBaseVNode("button",{onClick:R,disabled:x.value>=O.value,class:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom In"},L[17]||(L[17]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}),createBaseVNode("path",{d:"M6.5 4a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 6.5 4z"})],-1)]),8,_hoisted_11),L[20]||(L[20]=createBaseVNode("div",{class:"border-l border-gray-300 h-6 mx-1"},null,-1)),createBaseVNode("button",{onClick:be,class:"p-2 rounded-md hover:bg-gray-100",title:"Fit to Width"},L[18]||(L[18]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"}),createBaseVNode("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zM2 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm10-3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"})],-1)])),createBaseVNode("button",{onClick:oe,class:"p-2 rounded-md hover:bg-gray-100",title:"Fit to Page"},L[19]||(L[19]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"}),createBaseVNode("path",{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1)]))])):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("button",{onClick:L[5]||(L[5]=G=>ht("point")),class:normalizeClass([[U.value==="point"?"bg-blue-500 text-white":"bg-white","hover:bg-blue-100"],"p-2 rounded-md"]),title:"Komentar Titik"},L[21]||(L[21]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})],-1)]),2),createBaseVNode("button",{onClick:L[6]||(L[6]=G=>ht("area")),class:normalizeClass([[U.value==="area"?"bg-blue-500 text-white":"bg-white","hover:bg-blue-100"],"p-2 rounded-md"]),title:"Komentar Area"},L[22]||(L[22]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm-5 0H6v3h4V4zM6 0v3H1v1h5V0zM1 4h4v3H1V4zm4 4H1v1h4V8zm-4 4h4v3H1v-3zm5 3v-3h4v3h-4zm5-3h4v3h-4v-3zM11 4h4V1h-4v3z"})],-1)]),2)])):createCommentVNode("",!0)]),createBaseVNode("div",{class:"flex-grow p-4 overflow-auto flex justify-center items-start bg-gray-100",ref_key:"pdfContainer",ref:M},[D.value?(openBlock(),createElementBlock("div",_hoisted_13,L[23]||(L[23]=[createBaseVNode("span",{class:"text-gray-500"},"Memuat PDF...",-1)]))):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",{key:1,id:"pdf-container",class:"relative",style:normalizeStyle({transform:`scale(${z.value})`,transformOrigin:"top center"})},[L[24]||(L[24]=createBaseVNode("canvas",{id:"pdf-canvas"},null,-1)),(openBlock(),createElementBlock("svg",{id:"annotation-layer",onMousedown:Ie,onMousemove:Ee,onMouseup:Pe,onClick:withModifiers(st,["self"]),onWheel:Ce,width:F.value.width,height:F.value.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ne.value,G=>(openBlock(),createElementBlock("g",{key:G.id,onClick:_e=>kt(G)},[G.type==="point"&&mt(G.position)?(openBlock(),createElementBlock("g",{key:0,transform:`translate(${mt(G.position).x||0}, ${mt(G.position).y||0})`,class:"cursor-pointer"},[createBaseVNode("circle",{r:"12",fill:G.status==="done"?"#16a34a":"red","fill-opacity":"0.3"},null,8,_hoisted_17),createBaseVNode("path",{class:normalizeClass([{highlighted:G.id===Y.value&&G.status==="open","highlighted-done":G.id===Y.value&&G.status==="done","done-point":G.status==="done"},"annotation-point"]),d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z",fill:"#ef4444",transform:"translate(-8, -16) scale(1)"},null,2)],8,_hoisted_16)):createCommentVNode("",!0),G.type==="area"&&mt(G.position)?(openBlock(),createElementBlock("rect",{key:1,class:normalizeClass([{"highlighted-area":G.id===Y.value&&G.status==="open","highlighted-area-done":G.id===Y.value&&G.status==="done","done-area":G.status==="done"},"annotation-area cursor-pointer"]),x:mt(G.position).x||0,y:mt(G.position).y||0,width:mt(G.position).width||0,height:mt(G.position).height||0,stroke:"#3b82f6",fill:"rgba(59, 130, 246, 0.2)"},null,10,_hoisted_18)):createCommentVNode("",!0)],8,_hoisted_15))),128)),E.value&&W.value?(openBlock(),createElementBlock("rect",{key:0,x:W.value.x,y:W.value.y,width:W.value.width,height:W.value.height,fill:"rgba(59, 130, 246, 0.2)",stroke:"#3b82f6","stroke-width":"1","stroke-dasharray":"4"},null,8,_hoisted_19)):createCommentVNode("",!0)],40,_hoisted_14))],4)):createCommentVNode("",!0)],512)]),createBaseVNode("aside",_hoisted_20,[createBaseVNode("div",_hoisted_21,[L[25]||(L[25]=createBaseVNode("h2",{class:"text-xl font-bold text-gray-700"},"Daftar Komentar",-1)),createBaseVNode("div",_hoisted_22,[createBaseVNode("button",{onClick:L[7]||(L[7]=G=>ie("all")),class:normalizeClass([{"bg-blue-500 text-white":$.value==="all"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Semua",2),createBaseVNode("button",{onClick:L[8]||(L[8]=G=>ie("open")),class:normalizeClass([{"bg-blue-500 text-white":$.value==="open"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Terbuka",2),createBaseVNode("button",{onClick:L[9]||(L[9]=G=>ie("done")),class:normalizeClass([{"bg-blue-500 text-white":$.value==="done"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Selesai",2)]),K.value.length>0?(openBlock(),createElementBlock("div",_hoisted_23," Menampilkan "+toDisplayString(q.value+1)+"-"+toDisplayString(Math.min(Q.value,K.value.length))+" dari "+toDisplayString(K.value.length)+" komentar ",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_24,[K.value.length===0?(openBlock(),createElementBlock("div",_hoisted_25,L[26]||(L[26]=[createBaseVNode("p",{class:"text-gray-500 text-center"},"Tidak ada komentar yang cocok dengan filter ini.",-1)]))):(openBlock(),createElementBlock("div",_hoisted_26,[createBaseVNode("div",_hoisted_27,[createBaseVNode("ul",{class:"space-y-3",ref_key:"commentListEl",ref:Fe},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ae.value,G=>(openBlock(),createElementBlock("li",{key:G.id,ref_for:!0,ref:_e=>{_e&&(Ne.value[G.id]=_e)},onClick:_e=>Rt(G),class:normalizeClass(["comment-item border transition-colors rounded-lg overflow-hidden",[G.status==="done"?"bg-green-50 border-green-200":"bg-white border-gray-200",G.id===se.value?"border-yellow-400 bg-yellow-50":"cursor-pointer hover:bg-blue-50"]])},[createBaseVNode("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,[createBaseVNode("div",_hoisted_31,[createBaseVNode("div",_hoisted_32,[createBaseVNode("p",{class:"text-sm font-semibold text-gray-600 cursor-pointer",onClick:_e=>kt(G)},toDisplayString(G.user.fullname),9,_hoisted_33),L[27]||(L[27]=createBaseVNode("span",{class:"text-xs text-gray-400"},"•",-1)),createBaseVNode("span",{class:"text-xs text-gray-400 cursor-help",title:le(G.created_at)},toDisplayString(he(G.created_at)),9,_hoisted_34)]),G.updated_at&&G.updated_at!==G.created_at?(openBlock(),createElementBlock("div",_hoisted_35,[createBaseVNode("span",{class:"cursor-help",title:le(G.updated_at)}," Diedit "+toDisplayString(he(G.updated_at)),9,_hoisted_36)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_37,[G.page_number?(openBlock(),createElementBlock("span",{key:0,class:"text-xs font-semibold bg-gray-200 text-gray-700 px-2 py-1 rounded-full whitespace-nowrap cursor-pointer",onClick:_e=>kt(G)}," Hal. "+toDisplayString(G.page_number),9,_hoisted_38)):createCommentVNode("",!0),createBaseVNode("input",{type:"checkbox",checked:G.status==="done",onChange:_e=>We(G),onClick:L[10]||(L[10]=withModifiers(()=>{},["stop"])),class:normalizeClass(["form-checkbox h-4 w-4 rounded text-green-600 transition duration-150 ease-in-out",{"cursor-not-allowed":!(e.currentUser.id===e.creatorId||e.currentUser.id===G.user_id)}]),disabled:!(e.currentUser.id===e.creatorId||e.currentUser.id===G.user_id),title:e.currentUser.id===e.creatorId||e.currentUser.id===G.user_id?"Tandai sebagai selesai":"Hanya pemilik publikasi/komentar yang bisa mengubah status"},null,42,_hoisted_39)])]),createBaseVNode("div",_hoisted_40,[ce.value&&ce.value.id===G.id?(openBlock(),createElementBlock("div",_hoisted_41,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":L[11]||(L[11]=_e=>fe.value=_e),class:"comment-textarea w-full border rounded-md p-3 text-sm resize-none focus:ring-1 focus:ring-blue-400 focus:border-blue-400",rows:"3"},"                                            ",512),[[vModelText,fe.value]]),createBaseVNode("div",_hoisted_42,[createBaseVNode("button",{onClick:_e=>rt(G),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"}," Simpan ",8,_hoisted_43),createBaseVNode("button",{onClick:Ke,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["comment-content cursor-pointer mb-3",{"line-through text-gray-500":G.status==="done"}]),onClick:_e=>kt(G)},toDisplayString(G.content),11,_hoisted_44))]),createBaseVNode("div",_hoisted_45,[createBaseVNode("button",{onClick:_e=>te(G),class:"hover:underline hover:text-blue-600"}," Balas ",8,_hoisted_46),e.currentUser.id===G.user_id?(openBlock(),createElementBlock(Fragment,{key:0},[L[28]||(L[28]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:_e=>Ae(G),class:"hover:underline hover:text-blue-600"}," Edit ",8,_hoisted_47),L[29]||(L[29]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:_e=>bt(G),class:"hover:underline text-red-500 hover:text-red-700"}," Hapus ",8,_hoisted_48)],64)):createCommentVNode("",!0)])]),J.value&&J.value.id===G.id?(openBlock(),createElementBlock("div",_hoisted_49,[createBaseVNode("div",_hoisted_50,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":L[12]||(L[12]=_e=>pe.value=_e),class:"comment-textarea w-full border rounded-md p-3 text-sm focus:ring-1 focus:ring-blue-400 focus:border-blue-400",placeholder:"Tulis balasan...",rows:"2"},"                                        ",512),[[vModelText,pe.value]]),createBaseVNode("div",_hoisted_51,[createBaseVNode("button",{onClick:_e=>V(G),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"},"Kirim",8,_hoisted_52),createBaseVNode("button",{onClick:f,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])])):createCommentVNode("",!0),G.replies&&G.replies.length>0?(openBlock(),createElementBlock("div",_hoisted_53,[createBaseVNode("div",_hoisted_54,[(openBlock(!0),createElementBlock(Fragment,null,renderList(G.replies,_e=>(openBlock(),createElementBlock("div",{key:_e.id,class:"bg-gray-50 p-3 rounded-md"},[createBaseVNode("div",_hoisted_55,[createBaseVNode("div",_hoisted_56,[createBaseVNode("p",_hoisted_57,toDisplayString(_e.user.fullname),1),L[30]||(L[30]=createBaseVNode("span",{class:"text-xs text-gray-400"},"•",-1)),createBaseVNode("span",{class:"text-xs text-gray-400 cursor-help",title:le(_e.created_at)},toDisplayString(he(_e.created_at)),9,_hoisted_58)]),e.currentUser.id===_e.user_id?(openBlock(),createElementBlock("div",_hoisted_59,[createBaseVNode("button",{onClick:Ve=>Ye(_e),class:"hover:underline hover:text-blue-600"}," Edit ",8,_hoisted_60),L[31]||(L[31]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:Ve=>it(G,_e),class:"hover:underline text-red-500 hover:text-red-700"}," Hapus ",8,_hoisted_61)])):createCommentVNode("",!0)]),_e.updated_at&&_e.updated_at!==_e.created_at?(openBlock(),createElementBlock("div",_hoisted_62,[createBaseVNode("span",{class:"cursor-help",title:le(_e.updated_at)}," Diedit "+toDisplayString(he(_e.updated_at)),9,_hoisted_63)])):createCommentVNode("",!0),xe.value&&xe.value.id===_e.id?(openBlock(),createElementBlock("div",_hoisted_64,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":L[13]||(L[13]=Ve=>Se.value=Ve),class:"comment-textarea w-full border rounded-md p-2 text-sm resize-none focus:ring-1 focus:ring-blue-400 focus:border-blue-400",rows:"2"},"                                                ",512),[[vModelText,Se.value]]),createBaseVNode("div",_hoisted_65,[createBaseVNode("button",{onClick:Ve=>ct(G,_e),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"}," Simpan ",8,_hoisted_66),createBaseVNode("button",{onClick:ot,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])):(openBlock(),createElementBlock("div",_hoisted_67,toDisplayString(_e.content),1))]))),128))])])):createCommentVNode("",!0)],10,_hoisted_28))),128))],512)]),k.value>1?(openBlock(),createElementBlock("div",_hoisted_68,[createBaseVNode("div",_hoisted_69,[createBaseVNode("button",{onClick:Oe,disabled:Be.value<=1,class:"px-3 py-1 text-sm bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"}," < Prev ",8,_hoisted_70),createBaseVNode("div",_hoisted_71,[(openBlock(!0),createElementBlock(Fragment,null,renderList(we.value,G=>(openBlock(),createElementBlock("span",{key:G,class:"pagination-item"},[G!=="..."?(openBlock(),createElementBlock("button",{key:0,onClick:_e=>ve(G),class:normalizeClass([G===Be.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300","px-2 py-1 text-xs rounded"])},toDisplayString(G),11,_hoisted_72)):(openBlock(),createElementBlock("span",_hoisted_73,"..."))]))),128))]),createBaseVNode("button",{onClick:De,disabled:Be.value>=k.value,class:"px-3 py-1 text-sm bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"}," Next > ",8,_hoisted_74)])])):createCommentVNode("",!0)]))])]),I.value?(openBlock(),createElementBlock("div",_hoisted_75,[createBaseVNode("div",_hoisted_76,[L[32]||(L[32]=createBaseVNode("h3",{class:"text-lg font-semibold mb-4 text-gray-700"},"Komentar Baru",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":L[14]||(L[14]=G=>C.value.content=G),ref_key:"commentTextarea",ref:S,class:"comment-textarea w-full border border-gray-300 rounded-md p-4 text-sm resize-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",placeholder:"Tulis komentar...",rows:"4"},"                ",512),[[vModelText,C.value.content]]),createBaseVNode("div",{class:"mt-6 flex justify-end gap-4"},[createBaseVNode("button",{onClick:de,class:"px-6 py-3 bg-gray-300 rounded-md hover:bg-gray-400 text-sm"},"Batal"),createBaseVNode("button",{onClick:$e,class:"px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm"},"Simpan")])])])):createCommentVNode("",!0)],2))}},PdfReviewer=_export_sfc(_sfc_main,[["__scopeId","data-v-2b347b4c"]]);console.log("File app.js baru berhasil dijalankan!");const reviewerAppEl=document.getElementById("pdf-reviewer-app");reviewerAppEl?(console.log("Elemen #pdf-reviewer-app DITEMUKAN! Memulai mount Vue..."),JSON.parse(reviewerAppEl.dataset.document),JSON.parse(reviewerAppEl.dataset.user),createApp(PdfReviewer,{document:JSON.parse(reviewerAppEl.dataset.document),currentUser:JSON.parse(reviewerAppEl.dataset.user),apiStoreUrl:reviewerAppEl.dataset.apiStoreUrl,apiUpdateUrlTemplate:reviewerAppEl.dataset.apiUpdateUrlTemplate,apiDeleteUrlTemplate:reviewerAppEl.dataset.apiDeleteUrlTemplate,apiStatusUrlTemplate:reviewerAppEl.dataset.apiStatusUrlTemplate}).mount(reviewerAppEl),console.log("Aplikasi Vue berhasil di-mount.")):console.log("Elemen #pdf-reviewer-app TIDAK ditemukan di halaman ini.");
