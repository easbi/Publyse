var e0=Object.defineProperty;var t0=(e,n,s)=>n in e?e0(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var Nt=(e,n,s)=>(t0(e,typeof n!="symbol"?n+"":n,s),s),lo=(e,n,s)=>{if(!n.has(e))throw TypeError("Cannot "+s)};var u=(e,n,s)=>(lo(e,n,"read from private field"),s?s.call(e):n.get(e)),ne=(e,n,s)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,s)},Re=(e,n,s,r)=>(lo(e,n,"write to private field"),r?r.call(e,s):n.set(e,s),s);var Vi=(e,n,s,r)=>({set _(o){Re(e,n,o,s)},get _(){return u(e,n,r)}}),me=(e,n,s)=>(lo(e,n,"access private method"),s);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var s=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),s}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(e,n){(function(){var s,r="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",y="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",A=500,d="__lodash_placeholder__",x=1,V=2,D=4,k=1,M=2,w=1,O=2,U=4,$=8,I=16,S=32,C=64,G=128,N=256,E=512,X=30,H="...",ae=800,de=16,K=1,ge=2,Ce=3,xe=1/0,ie=9007199254740991,Oe=17976931348623157e292,Ue=0/0,He=4294967295,Ge=He-1,q=He>>>1,g=[["ary",G],["bind",w],["bindKey",O],["curry",$],["curryRight",I],["flip",E],["partial",S],["partialRight",C],["rearg",N]],v="[object Arguments]",m="[object Array]",T="[object AsyncFunction]",F="[object Boolean]",j="[object Date]",Y="[object DOMException]",re="[object Error]",Se="[object Function]",R="[object GeneratorFunction]",B="[object Map]",Z="[object Number]",_e="[object Null]",se="[object Object]",Ee="[object Promise]",Ne="[object Proxy]",Ae="[object RegExp]",ke="[object Set]",ce="[object String]",oe="[object Symbol]",te="[object Undefined]",fe="[object WeakMap]",Le="[object WeakSet]",Be="[object ArrayBuffer]",Qe="[object DataView]",nt="[object Float32Array]",rt="[object Float64Array]",lt="[object Int8Array]",dt="[object Int16Array]",ot="[object Int32Array]",gt="[object Uint8Array]",Ie="[object Uint8ClampedArray]",pe="[object Uint16Array]",he="[object Uint32Array]",We=/\b__p \+= '';/g,ze=/\b(__p \+=) '' \+/g,Ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,ye=/[&<>"']/g,Xe=RegExp(St.source),at=RegExp(ye.source),Ye=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,ut=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,J=RegExp(De.source),f=/^\s+/,L=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ve=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,Ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,st=/^0b[01]+$/i,pt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,Et=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,Jt="\\ud800-\\udfff",Pn="\\u0300-\\u036f",kn="\\ufe20-\\ufe2f",Ji="\\u20d0-\\u20ff",jo=Pn+kn+Ji,zo="\\u2700-\\u27bf",qo="a-z\\xdf-\\xf6\\xf8-\\xff",Xc="\\xac\\xb1\\xd7\\xf7",Yc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jc="\\u2000-\\u206f",Zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Go="A-Z\\xc0-\\xd6\\xd8-\\xde",Ko="\\ufe0e\\ufe0f",Xo=Xc+Yc+Jc+Zc,Zs="['’]",Qc="["+Jt+"]",Yo="["+Xo+"]",Zi="["+jo+"]",Jo="\\d+",eu="["+zo+"]",Zo="["+qo+"]",Qo="[^"+Jt+Xo+Jo+zo+qo+Go+"]",Qs="\\ud83c[\\udffb-\\udfff]",tu="(?:"+Zi+"|"+Qs+")",ea="[^"+Jt+"]",er="(?:\\ud83c[\\udde6-\\uddff]){2}",tr="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+Go+"]",ta="\\u200d",na="(?:"+Zo+"|"+Qo+")",nu="(?:"+ci+"|"+Qo+")",ia="(?:"+Zs+"(?:d|ll|m|re|s|t|ve))?",sa="(?:"+Zs+"(?:D|LL|M|RE|S|T|VE))?",ra=tu+"?",oa="["+Ko+"]?",iu="(?:"+ta+"(?:"+[ea,er,tr].join("|")+")"+oa+ra+")*",su="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ru="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aa=oa+ra+iu,ou="(?:"+[eu,er,tr].join("|")+")"+aa,au="(?:"+[ea+Zi+"?",Zi,er,tr,Qc].join("|")+")",lu=RegExp(Zs,"g"),cu=RegExp(Zi,"g"),nr=RegExp(Qs+"(?="+Qs+")|"+au+aa,"g"),uu=RegExp([ci+"?"+Zo+"+"+ia+"(?="+[Yo,ci,"$"].join("|")+")",nu+"+"+sa+"(?="+[Yo,ci+na,"$"].join("|")+")",ci+"?"+na+"+"+ia,ci+"+"+sa,ru,su,Jo,ou].join("|"),"g"),hu=RegExp("["+ta+Jt+jo+Ko+"]"),du=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pu=-1,Wt={};Wt[nt]=Wt[rt]=Wt[lt]=Wt[dt]=Wt[ot]=Wt[gt]=Wt[Ie]=Wt[pe]=Wt[he]=!0,Wt[v]=Wt[m]=Wt[Be]=Wt[F]=Wt[Qe]=Wt[j]=Wt[re]=Wt[Se]=Wt[B]=Wt[Z]=Wt[se]=Wt[Ae]=Wt[ke]=Wt[ce]=Wt[fe]=!1;var Ut={};Ut[v]=Ut[m]=Ut[Be]=Ut[Qe]=Ut[F]=Ut[j]=Ut[nt]=Ut[rt]=Ut[lt]=Ut[dt]=Ut[ot]=Ut[B]=Ut[Z]=Ut[se]=Ut[Ae]=Ut[ke]=Ut[ce]=Ut[oe]=Ut[gt]=Ut[Ie]=Ut[pe]=Ut[he]=!0,Ut[re]=Ut[Se]=Ut[fe]=!1;var gu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vu=parseFloat,yu=parseInt,la=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Au=typeof self=="object"&&self&&self.Object===Object&&self,Zt=la||Au||Function("return this")(),ir=n&&!n.nodeType&&n,Qn=ir&&!0&&e&&!e.nodeType&&e,ca=Qn&&Qn.exports===ir,sr=ca&&la.process,mn=function(){try{var Te=Qn&&Qn.require&&Qn.require("util").types;return Te||sr&&sr.binding&&sr.binding("util")}catch{}}(),ua=mn&&mn.isArrayBuffer,ha=mn&&mn.isDate,da=mn&&mn.isMap,fa=mn&&mn.isRegExp,pa=mn&&mn.isSet,ga=mn&&mn.isTypedArray;function un(Te,je,$e){switch($e.length){case 0:return Te.call(je);case 1:return Te.call(je,$e[0]);case 2:return Te.call(je,$e[0],$e[1]);case 3:return Te.call(je,$e[0],$e[1],$e[2])}return Te.apply(je,$e)}function Su(Te,je,$e,ft){for(var wt=-1,It=Te==null?0:Te.length;++wt<It;){var Kt=Te[wt];je(ft,Kt,$e(Kt),Te)}return ft}function _n(Te,je){for(var $e=-1,ft=Te==null?0:Te.length;++$e<ft&&je(Te[$e],$e,Te)!==!1;);return Te}function Eu(Te,je){for(var $e=Te==null?0:Te.length;$e--&&je(Te[$e],$e,Te)!==!1;);return Te}function ma(Te,je){for(var $e=-1,ft=Te==null?0:Te.length;++$e<ft;)if(!je(Te[$e],$e,Te))return!1;return!0}function jn(Te,je){for(var $e=-1,ft=Te==null?0:Te.length,wt=0,It=[];++$e<ft;){var Kt=Te[$e];je(Kt,$e,Te)&&(It[wt++]=Kt)}return It}function Qi(Te,je){var $e=Te==null?0:Te.length;return!!$e&&ui(Te,je,0)>-1}function rr(Te,je,$e){for(var ft=-1,wt=Te==null?0:Te.length;++ft<wt;)if($e(je,Te[ft]))return!0;return!1}function Vt(Te,je){for(var $e=-1,ft=Te==null?0:Te.length,wt=Array(ft);++$e<ft;)wt[$e]=je(Te[$e],$e,Te);return wt}function zn(Te,je){for(var $e=-1,ft=je.length,wt=Te.length;++$e<ft;)Te[wt+$e]=je[$e];return Te}function or(Te,je,$e,ft){var wt=-1,It=Te==null?0:Te.length;for(ft&&It&&($e=Te[++wt]);++wt<It;)$e=je($e,Te[wt],wt,Te);return $e}function wu(Te,je,$e,ft){var wt=Te==null?0:Te.length;for(ft&&wt&&($e=Te[--wt]);wt--;)$e=je($e,Te[wt],wt,Te);return $e}function ar(Te,je){for(var $e=-1,ft=Te==null?0:Te.length;++$e<ft;)if(je(Te[$e],$e,Te))return!0;return!1}var xu=lr("length");function Cu(Te){return Te.split("")}function Tu(Te){return Te.match(Me)||[]}function _a(Te,je,$e){var ft;return $e(Te,function(wt,It,Kt){if(je(wt,It,Kt))return ft=It,!1}),ft}function es(Te,je,$e,ft){for(var wt=Te.length,It=$e+(ft?1:-1);ft?It--:++It<wt;)if(je(Te[It],It,Te))return It;return-1}function ui(Te,je,$e){return je===je?$u(Te,je,$e):es(Te,ba,$e)}function Ru(Te,je,$e,ft){for(var wt=$e-1,It=Te.length;++wt<It;)if(ft(Te[wt],je))return wt;return-1}function ba(Te){return Te!==Te}function va(Te,je){var $e=Te==null?0:Te.length;return $e?ur(Te,je)/$e:Ue}function lr(Te){return function(je){return je==null?s:je[Te]}}function cr(Te){return function(je){return Te==null?s:Te[je]}}function ya(Te,je,$e,ft,wt){return wt(Te,function(It,Kt,$t){$e=ft?(ft=!1,It):je($e,It,Kt,$t)}),$e}function Pu(Te,je){var $e=Te.length;for(Te.sort(je);$e--;)Te[$e]=Te[$e].value;return Te}function ur(Te,je){for(var $e,ft=-1,wt=Te.length;++ft<wt;){var It=je(Te[ft]);It!==s&&($e=$e===s?It:$e+It)}return $e}function hr(Te,je){for(var $e=-1,ft=Array(Te);++$e<Te;)ft[$e]=je($e);return ft}function ku(Te,je){return Vt(je,function($e){return[$e,Te[$e]]})}function Aa(Te){return Te&&Te.slice(0,xa(Te)+1).replace(f,"")}function hn(Te){return function(je){return Te(je)}}function dr(Te,je){return Vt(je,function($e){return Te[$e]})}function Ri(Te,je){return Te.has(je)}function Sa(Te,je){for(var $e=-1,ft=Te.length;++$e<ft&&ui(je,Te[$e],0)>-1;);return $e}function Ea(Te,je){for(var $e=Te.length;$e--&&ui(je,Te[$e],0)>-1;);return $e}function Fu(Te,je){for(var $e=Te.length,ft=0;$e--;)Te[$e]===je&&++ft;return ft}var Mu=cr(gu),Ou=cr(mu);function Iu(Te){return"\\"+bu[Te]}function Du(Te,je){return Te==null?s:Te[je]}function hi(Te){return hu.test(Te)}function Lu(Te){return du.test(Te)}function Nu(Te){for(var je,$e=[];!(je=Te.next()).done;)$e.push(je.value);return $e}function fr(Te){var je=-1,$e=Array(Te.size);return Te.forEach(function(ft,wt){$e[++je]=[wt,ft]}),$e}function wa(Te,je){return function($e){return Te(je($e))}}function qn(Te,je){for(var $e=-1,ft=Te.length,wt=0,It=[];++$e<ft;){var Kt=Te[$e];(Kt===je||Kt===d)&&(Te[$e]=d,It[wt++]=$e)}return It}function ts(Te){var je=-1,$e=Array(Te.size);return Te.forEach(function(ft){$e[++je]=ft}),$e}function Bu(Te){var je=-1,$e=Array(Te.size);return Te.forEach(function(ft){$e[++je]=[ft,ft]}),$e}function $u(Te,je,$e){for(var ft=$e-1,wt=Te.length;++ft<wt;)if(Te[ft]===je)return ft;return-1}function Uu(Te,je,$e){for(var ft=$e+1;ft--;)if(Te[ft]===je)return ft;return ft}function di(Te){return hi(Te)?Wu(Te):xu(Te)}function xn(Te){return hi(Te)?Vu(Te):Cu(Te)}function xa(Te){for(var je=Te.length;je--&&L.test(Te.charAt(je)););return je}var Hu=cr(_u);function Wu(Te){for(var je=nr.lastIndex=0;nr.test(Te);)++je;return je}function Vu(Te){return Te.match(nr)||[]}function ju(Te){return Te.match(uu)||[]}var zu=function Te(je){je=je==null?Zt:fi.defaults(Zt.Object(),je,fi.pick(Zt,fu));var $e=je.Array,ft=je.Date,wt=je.Error,It=je.Function,Kt=je.Math,$t=je.Object,pr=je.RegExp,qu=je.String,bn=je.TypeError,ns=$e.prototype,Gu=It.prototype,pi=$t.prototype,is=je["__core-js_shared__"],ss=Gu.toString,Lt=pi.hasOwnProperty,Ku=0,Ca=function(){var t=/[^.]+$/.exec(is&&is.keys&&is.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),rs=pi.toString,Xu=ss.call($t),Yu=Zt._,Ju=pr("^"+ss.call(Lt).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=ca?je.Buffer:s,Gn=je.Symbol,as=je.Uint8Array,Ta=os?os.allocUnsafe:s,ls=wa($t.getPrototypeOf,$t),Ra=$t.create,Pa=pi.propertyIsEnumerable,cs=ns.splice,ka=Gn?Gn.isConcatSpreadable:s,Pi=Gn?Gn.iterator:s,ei=Gn?Gn.toStringTag:s,us=function(){try{var t=ri($t,"defineProperty");return t({},"",{}),t}catch{}}(),Zu=je.clearTimeout!==Zt.clearTimeout&&je.clearTimeout,Qu=ft&&ft.now!==Zt.Date.now&&ft.now,eh=je.setTimeout!==Zt.setTimeout&&je.setTimeout,hs=Kt.ceil,ds=Kt.floor,gr=$t.getOwnPropertySymbols,th=os?os.isBuffer:s,Fa=je.isFinite,nh=ns.join,ih=wa($t.keys,$t),Xt=Kt.max,en=Kt.min,sh=ft.now,rh=je.parseInt,Ma=Kt.random,oh=ns.reverse,mr=ri(je,"DataView"),ki=ri(je,"Map"),_r=ri(je,"Promise"),gi=ri(je,"Set"),Fi=ri(je,"WeakMap"),Mi=ri($t,"create"),fs=Fi&&new Fi,mi={},ah=oi(mr),lh=oi(ki),ch=oi(_r),uh=oi(gi),hh=oi(Fi),ps=Gn?Gn.prototype:s,Oi=ps?ps.valueOf:s,Oa=ps?ps.toString:s;function W(t){if(zt(t)&&!xt(t)&&!(t instanceof Ft)){if(t instanceof vn)return t;if(Lt.call(t,"__wrapped__"))return Il(t)}return new vn(t)}var _i=function(){function t(){}return function(i){if(!jt(i))return{};if(Ra)return Ra(i);t.prototype=i;var a=new t;return t.prototype=s,a}}();function gs(){}function vn(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=s}W.templateSettings={escape:Ye,evaluate:ct,interpolate:ut,variable:"",imports:{_:W}},W.prototype=gs.prototype,W.prototype.constructor=W,vn.prototype=_i(gs.prototype),vn.prototype.constructor=vn;function Ft(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function dh(){var t=new Ft(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t}function fh(){if(this.__filtered__){var t=new Ft(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function ph(){var t=this.__wrapped__.value(),i=this.__dir__,a=xt(t),h=i<0,P=a?t.length:0,z=Cd(0,P,this.__views__),le=z.start,be=z.end,Fe=be-le,qe=h?be:le-1,Ke=this.__iteratees__,Je=Ke.length,ht=0,_t=en(Fe,this.__takeCount__);if(!a||!h&&P==Fe&&_t==Fe)return il(t,this.__actions__);var yt=[];e:for(;Fe--&&ht<_t;){qe+=i;for(var Tt=-1,At=t[qe];++Tt<Je;){var kt=Ke[Tt],Mt=kt.iteratee,pn=kt.type,rn=Mt(At);if(pn==ge)At=rn;else if(!rn){if(pn==K)continue e;break e}}yt[ht++]=At}return yt}Ft.prototype=_i(gs.prototype),Ft.prototype.constructor=Ft;function ti(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var h=t[i];this.set(h[0],h[1])}}function gh(){this.__data__=Mi?Mi(null):{},this.size=0}function mh(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}function _h(t){var i=this.__data__;if(Mi){var a=i[t];return a===b?s:a}return Lt.call(i,t)?i[t]:s}function bh(t){var i=this.__data__;return Mi?i[t]!==s:Lt.call(i,t)}function vh(t,i){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Mi&&i===s?b:i,this}ti.prototype.clear=gh,ti.prototype.delete=mh,ti.prototype.get=_h,ti.prototype.has=bh,ti.prototype.set=vh;function In(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var h=t[i];this.set(h[0],h[1])}}function yh(){this.__data__=[],this.size=0}function Ah(t){var i=this.__data__,a=ms(i,t);if(a<0)return!1;var h=i.length-1;return a==h?i.pop():cs.call(i,a,1),--this.size,!0}function Sh(t){var i=this.__data__,a=ms(i,t);return a<0?s:i[a][1]}function Eh(t){return ms(this.__data__,t)>-1}function wh(t,i){var a=this.__data__,h=ms(a,t);return h<0?(++this.size,a.push([t,i])):a[h][1]=i,this}In.prototype.clear=yh,In.prototype.delete=Ah,In.prototype.get=Sh,In.prototype.has=Eh,In.prototype.set=wh;function Dn(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var h=t[i];this.set(h[0],h[1])}}function xh(){this.size=0,this.__data__={hash:new ti,map:new(ki||In),string:new ti}}function Ch(t){var i=Rs(this,t).delete(t);return this.size-=i?1:0,i}function Th(t){return Rs(this,t).get(t)}function Rh(t){return Rs(this,t).has(t)}function Ph(t,i){var a=Rs(this,t),h=a.size;return a.set(t,i),this.size+=a.size==h?0:1,this}Dn.prototype.clear=xh,Dn.prototype.delete=Ch,Dn.prototype.get=Th,Dn.prototype.has=Rh,Dn.prototype.set=Ph;function ni(t){var i=-1,a=t==null?0:t.length;for(this.__data__=new Dn;++i<a;)this.add(t[i])}function kh(t){return this.__data__.set(t,b),this}function Fh(t){return this.__data__.has(t)}ni.prototype.add=ni.prototype.push=kh,ni.prototype.has=Fh;function Cn(t){var i=this.__data__=new In(t);this.size=i.size}function Mh(){this.__data__=new In,this.size=0}function Oh(t){var i=this.__data__,a=i.delete(t);return this.size=i.size,a}function Ih(t){return this.__data__.get(t)}function Dh(t){return this.__data__.has(t)}function Lh(t,i){var a=this.__data__;if(a instanceof In){var h=a.__data__;if(!ki||h.length<o-1)return h.push([t,i]),this.size=++a.size,this;a=this.__data__=new Dn(h)}return a.set(t,i),this.size=a.size,this}Cn.prototype.clear=Mh,Cn.prototype.delete=Oh,Cn.prototype.get=Ih,Cn.prototype.has=Dh,Cn.prototype.set=Lh;function Ia(t,i){var a=xt(t),h=!a&&ai(t),P=!a&&!h&&Zn(t),z=!a&&!h&&!P&&Ai(t),le=a||h||P||z,be=le?hr(t.length,qu):[],Fe=be.length;for(var qe in t)(i||Lt.call(t,qe))&&!(le&&(qe=="length"||P&&(qe=="offset"||qe=="parent")||z&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||$n(qe,Fe)))&&be.push(qe);return be}function Da(t){var i=t.length;return i?t[Rr(0,i-1)]:s}function Nh(t,i){return Ps(on(t),ii(i,0,t.length))}function Bh(t){return Ps(on(t))}function br(t,i,a){(a!==s&&!Tn(t[i],a)||a===s&&!(i in t))&&Ln(t,i,a)}function Ii(t,i,a){var h=t[i];(!(Lt.call(t,i)&&Tn(h,a))||a===s&&!(i in t))&&Ln(t,i,a)}function ms(t,i){for(var a=t.length;a--;)if(Tn(t[a][0],i))return a;return-1}function $h(t,i,a,h){return Kn(t,function(P,z,le){i(h,P,a(P),le)}),h}function La(t,i){return t&&Mn(i,Yt(i),t)}function Uh(t,i){return t&&Mn(i,ln(i),t)}function Ln(t,i,a){i=="__proto__"&&us?us(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}function vr(t,i){for(var a=-1,h=i.length,P=$e(h),z=t==null;++a<h;)P[a]=z?s:Qr(t,i[a]);return P}function ii(t,i,a){return t===t&&(a!==s&&(t=t<=a?t:a),i!==s&&(t=t>=i?t:i)),t}function yn(t,i,a,h,P,z){var le,be=i&x,Fe=i&V,qe=i&D;if(a&&(le=P?a(t,h,P,z):a(t)),le!==s)return le;if(!jt(t))return t;var Ke=xt(t);if(Ke){if(le=Rd(t),!be)return on(t,le)}else{var Je=tn(t),ht=Je==Se||Je==R;if(Zn(t))return ol(t,be);if(Je==se||Je==v||ht&&!P){if(le=Fe||ht?{}:xl(t),!be)return Fe?_d(t,Uh(le,t)):md(t,La(le,t))}else{if(!Ut[Je])return P?t:{};le=Pd(t,Je,be)}}z||(z=new Cn);var _t=z.get(t);if(_t)return _t;z.set(t,le),ec(t)?t.forEach(function(At){le.add(yn(At,i,a,At,t,z))}):Zl(t)&&t.forEach(function(At,kt){le.set(kt,yn(At,i,a,kt,t,z))});var yt=qe?Fe?$r:Br:Fe?ln:Yt,Tt=Ke?s:yt(t);return _n(Tt||t,function(At,kt){Tt&&(kt=At,At=t[kt]),Ii(le,kt,yn(At,i,a,kt,t,z))}),le}function Hh(t){var i=Yt(t);return function(a){return Na(a,t,i)}}function Na(t,i,a){var h=a.length;if(t==null)return!h;for(t=$t(t);h--;){var P=a[h],z=i[P],le=t[P];if(le===s&&!(P in t)||!z(le))return!1}return!0}function Ba(t,i,a){if(typeof t!="function")throw new bn(c);return Hi(function(){t.apply(s,a)},i)}function Di(t,i,a,h){var P=-1,z=Qi,le=!0,be=t.length,Fe=[],qe=i.length;if(!be)return Fe;a&&(i=Vt(i,hn(a))),h?(z=rr,le=!1):i.length>=o&&(z=Ri,le=!1,i=new ni(i));e:for(;++P<be;){var Ke=t[P],Je=a==null?Ke:a(Ke);if(Ke=h||Ke!==0?Ke:0,le&&Je===Je){for(var ht=qe;ht--;)if(i[ht]===Je)continue e;Fe.push(Ke)}else z(i,Je,h)||Fe.push(Ke)}return Fe}var Kn=hl(Fn),$a=hl(Ar,!0);function Wh(t,i){var a=!0;return Kn(t,function(h,P,z){return a=!!i(h,P,z),a}),a}function _s(t,i,a){for(var h=-1,P=t.length;++h<P;){var z=t[h],le=i(z);if(le!=null&&(be===s?le===le&&!fn(le):a(le,be)))var be=le,Fe=z}return Fe}function Vh(t,i,a,h){var P=t.length;for(a=Ct(a),a<0&&(a=-a>P?0:P+a),h=h===s||h>P?P:Ct(h),h<0&&(h+=P),h=a>h?0:nc(h);a<h;)t[a++]=i;return t}function Ua(t,i){var a=[];return Kn(t,function(h,P,z){i(h,P,z)&&a.push(h)}),a}function Qt(t,i,a,h,P){var z=-1,le=t.length;for(a||(a=Fd),P||(P=[]);++z<le;){var be=t[z];i>0&&a(be)?i>1?Qt(be,i-1,a,h,P):zn(P,be):h||(P[P.length]=be)}return P}var yr=dl(),Ha=dl(!0);function Fn(t,i){return t&&yr(t,i,Yt)}function Ar(t,i){return t&&Ha(t,i,Yt)}function bs(t,i){return jn(i,function(a){return Un(t[a])})}function si(t,i){i=Yn(i,t);for(var a=0,h=i.length;t!=null&&a<h;)t=t[On(i[a++])];return a&&a==h?t:s}function Wa(t,i,a){var h=i(t);return xt(t)?h:zn(h,a(t))}function nn(t){return t==null?t===s?te:_e:ei&&ei in $t(t)?xd(t):Bd(t)}function Sr(t,i){return t>i}function jh(t,i){return t!=null&&Lt.call(t,i)}function zh(t,i){return t!=null&&i in $t(t)}function qh(t,i,a){return t>=en(i,a)&&t<Xt(i,a)}function Er(t,i,a){for(var h=a?rr:Qi,P=t[0].length,z=t.length,le=z,be=$e(z),Fe=1/0,qe=[];le--;){var Ke=t[le];le&&i&&(Ke=Vt(Ke,hn(i))),Fe=en(Ke.length,Fe),be[le]=!a&&(i||P>=120&&Ke.length>=120)?new ni(le&&Ke):s}Ke=t[0];var Je=-1,ht=be[0];e:for(;++Je<P&&qe.length<Fe;){var _t=Ke[Je],yt=i?i(_t):_t;if(_t=a||_t!==0?_t:0,!(ht?Ri(ht,yt):h(qe,yt,a))){for(le=z;--le;){var Tt=be[le];if(!(Tt?Ri(Tt,yt):h(t[le],yt,a)))continue e}ht&&ht.push(yt),qe.push(_t)}}return qe}function Gh(t,i,a,h){return Fn(t,function(P,z,le){i(h,a(P),z,le)}),h}function Li(t,i,a){i=Yn(i,t),t=Pl(t,i);var h=t==null?t:t[On(Sn(i))];return h==null?s:un(h,t,a)}function Va(t){return zt(t)&&nn(t)==v}function Kh(t){return zt(t)&&nn(t)==Be}function Xh(t){return zt(t)&&nn(t)==j}function Ni(t,i,a,h,P){return t===i?!0:t==null||i==null||!zt(t)&&!zt(i)?t!==t&&i!==i:Yh(t,i,a,h,Ni,P)}function Yh(t,i,a,h,P,z){var le=xt(t),be=xt(i),Fe=le?m:tn(t),qe=be?m:tn(i);Fe=Fe==v?se:Fe,qe=qe==v?se:qe;var Ke=Fe==se,Je=qe==se,ht=Fe==qe;if(ht&&Zn(t)){if(!Zn(i))return!1;le=!0,Ke=!1}if(ht&&!Ke)return z||(z=new Cn),le||Ai(t)?Sl(t,i,a,h,P,z):Ed(t,i,Fe,a,h,P,z);if(!(a&k)){var _t=Ke&&Lt.call(t,"__wrapped__"),yt=Je&&Lt.call(i,"__wrapped__");if(_t||yt){var Tt=_t?t.value():t,At=yt?i.value():i;return z||(z=new Cn),P(Tt,At,a,h,z)}}return ht?(z||(z=new Cn),wd(t,i,a,h,P,z)):!1}function Jh(t){return zt(t)&&tn(t)==B}function wr(t,i,a,h){var P=a.length,z=P,le=!h;if(t==null)return!z;for(t=$t(t);P--;){var be=a[P];if(le&&be[2]?be[1]!==t[be[0]]:!(be[0]in t))return!1}for(;++P<z;){be=a[P];var Fe=be[0],qe=t[Fe],Ke=be[1];if(le&&be[2]){if(qe===s&&!(Fe in t))return!1}else{var Je=new Cn;if(h)var ht=h(qe,Ke,Fe,t,i,Je);if(!(ht===s?Ni(Ke,qe,k|M,h,Je):ht))return!1}}return!0}function ja(t){if(!jt(t)||Od(t))return!1;var i=Un(t)?Ju:pt;return i.test(oi(t))}function Zh(t){return zt(t)&&nn(t)==Ae}function Qh(t){return zt(t)&&tn(t)==ke}function ed(t){return zt(t)&&Ds(t.length)&&!!Wt[nn(t)]}function za(t){return typeof t=="function"?t:t==null?cn:typeof t=="object"?xt(t)?Ka(t[0],t[1]):Ga(t):fc(t)}function xr(t){if(!Ui(t))return ih(t);var i=[];for(var a in $t(t))Lt.call(t,a)&&a!="constructor"&&i.push(a);return i}function td(t){if(!jt(t))return Nd(t);var i=Ui(t),a=[];for(var h in t)h=="constructor"&&(i||!Lt.call(t,h))||a.push(h);return a}function Cr(t,i){return t<i}function qa(t,i){var a=-1,h=an(t)?$e(t.length):[];return Kn(t,function(P,z,le){h[++a]=i(P,z,le)}),h}function Ga(t){var i=Hr(t);return i.length==1&&i[0][2]?Tl(i[0][0],i[0][1]):function(a){return a===t||wr(a,t,i)}}function Ka(t,i){return Vr(t)&&Cl(i)?Tl(On(t),i):function(a){var h=Qr(a,t);return h===s&&h===i?eo(a,t):Ni(i,h,k|M)}}function vs(t,i,a,h,P){t!==i&&yr(i,function(z,le){if(P||(P=new Cn),jt(z))nd(t,i,le,a,vs,h,P);else{var be=h?h(zr(t,le),z,le+"",t,i,P):s;be===s&&(be=z),br(t,le,be)}},ln)}function nd(t,i,a,h,P,z,le){var be=zr(t,a),Fe=zr(i,a),qe=le.get(Fe);if(qe){br(t,a,qe);return}var Ke=z?z(be,Fe,a+"",t,i,le):s,Je=Ke===s;if(Je){var ht=xt(Fe),_t=!ht&&Zn(Fe),yt=!ht&&!_t&&Ai(Fe);Ke=Fe,ht||_t||yt?xt(be)?Ke=be:qt(be)?Ke=on(be):_t?(Je=!1,Ke=ol(Fe,!0)):yt?(Je=!1,Ke=al(Fe,!0)):Ke=[]:Wi(Fe)||ai(Fe)?(Ke=be,ai(be)?Ke=ic(be):(!jt(be)||Un(be))&&(Ke=xl(Fe))):Je=!1}Je&&(le.set(Fe,Ke),P(Ke,Fe,h,z,le),le.delete(Fe)),br(t,a,Ke)}function Xa(t,i){var a=t.length;if(a)return i+=i<0?a:0,$n(i,a)?t[i]:s}function Ya(t,i,a){i.length?i=Vt(i,function(z){return xt(z)?function(le){return si(le,z.length===1?z[0]:z)}:z}):i=[cn];var h=-1;i=Vt(i,hn(vt()));var P=qa(t,function(z,le,be){var Fe=Vt(i,function(qe){return qe(z)});return{criteria:Fe,index:++h,value:z}});return Pu(P,function(z,le){return gd(z,le,a)})}function id(t,i){return Ja(t,i,function(a,h){return eo(t,h)})}function Ja(t,i,a){for(var h=-1,P=i.length,z={};++h<P;){var le=i[h],be=si(t,le);a(be,le)&&Bi(z,Yn(le,t),be)}return z}function sd(t){return function(i){return si(i,t)}}function Tr(t,i,a,h){var P=h?Ru:ui,z=-1,le=i.length,be=t;for(t===i&&(i=on(i)),a&&(be=Vt(t,hn(a)));++z<le;)for(var Fe=0,qe=i[z],Ke=a?a(qe):qe;(Fe=P(be,Ke,Fe,h))>-1;)be!==t&&cs.call(be,Fe,1),cs.call(t,Fe,1);return t}function Za(t,i){for(var a=t?i.length:0,h=a-1;a--;){var P=i[a];if(a==h||P!==z){var z=P;$n(P)?cs.call(t,P,1):Fr(t,P)}}return t}function Rr(t,i){return t+ds(Ma()*(i-t+1))}function rd(t,i,a,h){for(var P=-1,z=Xt(hs((i-t)/(a||1)),0),le=$e(z);z--;)le[h?z:++P]=t,t+=a;return le}function Pr(t,i){var a="";if(!t||i<1||i>ie)return a;do i%2&&(a+=t),i=ds(i/2),i&&(t+=t);while(i);return a}function Rt(t,i){return qr(Rl(t,i,cn),t+"")}function od(t){return Da(Si(t))}function ad(t,i){var a=Si(t);return Ps(a,ii(i,0,a.length))}function Bi(t,i,a,h){if(!jt(t))return t;i=Yn(i,t);for(var P=-1,z=i.length,le=z-1,be=t;be!=null&&++P<z;){var Fe=On(i[P]),qe=a;if(Fe==="__proto__"||Fe==="constructor"||Fe==="prototype")return t;if(P!=le){var Ke=be[Fe];qe=h?h(Ke,Fe,be):s,qe===s&&(qe=jt(Ke)?Ke:$n(i[P+1])?[]:{})}Ii(be,Fe,qe),be=be[Fe]}return t}var Qa=fs?function(t,i){return fs.set(t,i),t}:cn,ld=us?function(t,i){return us(t,"toString",{configurable:!0,enumerable:!1,value:no(i),writable:!0})}:cn;function cd(t){return Ps(Si(t))}function An(t,i,a){var h=-1,P=t.length;i<0&&(i=-i>P?0:P+i),a=a>P?P:a,a<0&&(a+=P),P=i>a?0:a-i>>>0,i>>>=0;for(var z=$e(P);++h<P;)z[h]=t[h+i];return z}function ud(t,i){var a;return Kn(t,function(h,P,z){return a=i(h,P,z),!a}),!!a}function ys(t,i,a){var h=0,P=t==null?h:t.length;if(typeof i=="number"&&i===i&&P<=q){for(;h<P;){var z=h+P>>>1,le=t[z];le!==null&&!fn(le)&&(a?le<=i:le<i)?h=z+1:P=z}return P}return kr(t,i,cn,a)}function kr(t,i,a,h){var P=0,z=t==null?0:t.length;if(z===0)return 0;i=a(i);for(var le=i!==i,be=i===null,Fe=fn(i),qe=i===s;P<z;){var Ke=ds((P+z)/2),Je=a(t[Ke]),ht=Je!==s,_t=Je===null,yt=Je===Je,Tt=fn(Je);if(le)var At=h||yt;else qe?At=yt&&(h||ht):be?At=yt&&ht&&(h||!_t):Fe?At=yt&&ht&&!_t&&(h||!Tt):_t||Tt?At=!1:At=h?Je<=i:Je<i;At?P=Ke+1:z=Ke}return en(z,Ge)}function el(t,i){for(var a=-1,h=t.length,P=0,z=[];++a<h;){var le=t[a],be=i?i(le):le;if(!a||!Tn(be,Fe)){var Fe=be;z[P++]=le===0?0:le}}return z}function tl(t){return typeof t=="number"?t:fn(t)?Ue:+t}function dn(t){if(typeof t=="string")return t;if(xt(t))return Vt(t,dn)+"";if(fn(t))return Oa?Oa.call(t):"";var i=t+"";return i=="0"&&1/t==-xe?"-0":i}function Xn(t,i,a){var h=-1,P=Qi,z=t.length,le=!0,be=[],Fe=be;if(a)le=!1,P=rr;else if(z>=o){var qe=i?null:Ad(t);if(qe)return ts(qe);le=!1,P=Ri,Fe=new ni}else Fe=i?[]:be;e:for(;++h<z;){var Ke=t[h],Je=i?i(Ke):Ke;if(Ke=a||Ke!==0?Ke:0,le&&Je===Je){for(var ht=Fe.length;ht--;)if(Fe[ht]===Je)continue e;i&&Fe.push(Je),be.push(Ke)}else P(Fe,Je,a)||(Fe!==be&&Fe.push(Je),be.push(Ke))}return be}function Fr(t,i){return i=Yn(i,t),t=Pl(t,i),t==null||delete t[On(Sn(i))]}function nl(t,i,a,h){return Bi(t,i,a(si(t,i)),h)}function As(t,i,a,h){for(var P=t.length,z=h?P:-1;(h?z--:++z<P)&&i(t[z],z,t););return a?An(t,h?0:z,h?z+1:P):An(t,h?z+1:0,h?P:z)}function il(t,i){var a=t;return a instanceof Ft&&(a=a.value()),or(i,function(h,P){return P.func.apply(P.thisArg,zn([h],P.args))},a)}function Mr(t,i,a){var h=t.length;if(h<2)return h?Xn(t[0]):[];for(var P=-1,z=$e(h);++P<h;)for(var le=t[P],be=-1;++be<h;)be!=P&&(z[P]=Di(z[P]||le,t[be],i,a));return Xn(Qt(z,1),i,a)}function sl(t,i,a){for(var h=-1,P=t.length,z=i.length,le={};++h<P;){var be=h<z?i[h]:s;a(le,t[h],be)}return le}function Or(t){return qt(t)?t:[]}function Ir(t){return typeof t=="function"?t:cn}function Yn(t,i){return xt(t)?t:Vr(t,i)?[t]:Ol(Dt(t))}var hd=Rt;function Jn(t,i,a){var h=t.length;return a=a===s?h:a,!i&&a>=h?t:An(t,i,a)}var rl=Zu||function(t){return Zt.clearTimeout(t)};function ol(t,i){if(i)return t.slice();var a=t.length,h=Ta?Ta(a):new t.constructor(a);return t.copy(h),h}function Dr(t){var i=new t.constructor(t.byteLength);return new as(i).set(new as(t)),i}function dd(t,i){var a=i?Dr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}function fd(t){var i=new t.constructor(t.source,mt.exec(t));return i.lastIndex=t.lastIndex,i}function pd(t){return Oi?$t(Oi.call(t)):{}}function al(t,i){var a=i?Dr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}function ll(t,i){if(t!==i){var a=t!==s,h=t===null,P=t===t,z=fn(t),le=i!==s,be=i===null,Fe=i===i,qe=fn(i);if(!be&&!qe&&!z&&t>i||z&&le&&Fe&&!be&&!qe||h&&le&&Fe||!a&&Fe||!P)return 1;if(!h&&!z&&!qe&&t<i||qe&&a&&P&&!h&&!z||be&&a&&P||!le&&P||!Fe)return-1}return 0}function gd(t,i,a){for(var h=-1,P=t.criteria,z=i.criteria,le=P.length,be=a.length;++h<le;){var Fe=ll(P[h],z[h]);if(Fe){if(h>=be)return Fe;var qe=a[h];return Fe*(qe=="desc"?-1:1)}}return t.index-i.index}function cl(t,i,a,h){for(var P=-1,z=t.length,le=a.length,be=-1,Fe=i.length,qe=Xt(z-le,0),Ke=$e(Fe+qe),Je=!h;++be<Fe;)Ke[be]=i[be];for(;++P<le;)(Je||P<z)&&(Ke[a[P]]=t[P]);for(;qe--;)Ke[be++]=t[P++];return Ke}function ul(t,i,a,h){for(var P=-1,z=t.length,le=-1,be=a.length,Fe=-1,qe=i.length,Ke=Xt(z-be,0),Je=$e(Ke+qe),ht=!h;++P<Ke;)Je[P]=t[P];for(var _t=P;++Fe<qe;)Je[_t+Fe]=i[Fe];for(;++le<be;)(ht||P<z)&&(Je[_t+a[le]]=t[P++]);return Je}function on(t,i){var a=-1,h=t.length;for(i||(i=$e(h));++a<h;)i[a]=t[a];return i}function Mn(t,i,a,h){var P=!a;a||(a={});for(var z=-1,le=i.length;++z<le;){var be=i[z],Fe=h?h(a[be],t[be],be,a,t):s;Fe===s&&(Fe=t[be]),P?Ln(a,be,Fe):Ii(a,be,Fe)}return a}function md(t,i){return Mn(t,Wr(t),i)}function _d(t,i){return Mn(t,El(t),i)}function Ss(t,i){return function(a,h){var P=xt(a)?Su:$h,z=i?i():{};return P(a,t,vt(h,2),z)}}function bi(t){return Rt(function(i,a){var h=-1,P=a.length,z=P>1?a[P-1]:s,le=P>2?a[2]:s;for(z=t.length>3&&typeof z=="function"?(P--,z):s,le&&sn(a[0],a[1],le)&&(z=P<3?s:z,P=1),i=$t(i);++h<P;){var be=a[h];be&&t(i,be,h,z)}return i})}function hl(t,i){return function(a,h){if(a==null)return a;if(!an(a))return t(a,h);for(var P=a.length,z=i?P:-1,le=$t(a);(i?z--:++z<P)&&h(le[z],z,le)!==!1;);return a}}function dl(t){return function(i,a,h){for(var P=-1,z=$t(i),le=h(i),be=le.length;be--;){var Fe=le[t?be:++P];if(a(z[Fe],Fe,z)===!1)break}return i}}function bd(t,i,a){var h=i&w,P=$i(t);function z(){var le=this&&this!==Zt&&this instanceof z?P:t;return le.apply(h?a:this,arguments)}return z}function fl(t){return function(i){i=Dt(i);var a=hi(i)?xn(i):s,h=a?a[0]:i.charAt(0),P=a?Jn(a,1).join(""):i.slice(1);return h[t]()+P}}function vi(t){return function(i){return or(hc(uc(i).replace(lu,"")),t,"")}}function $i(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=_i(t.prototype),h=t.apply(a,i);return jt(h)?h:a}}function vd(t,i,a){var h=$i(t);function P(){for(var z=arguments.length,le=$e(z),be=z,Fe=yi(P);be--;)le[be]=arguments[be];var qe=z<3&&le[0]!==Fe&&le[z-1]!==Fe?[]:qn(le,Fe);if(z-=qe.length,z<a)return bl(t,i,Es,P.placeholder,s,le,qe,s,s,a-z);var Ke=this&&this!==Zt&&this instanceof P?h:t;return un(Ke,this,le)}return P}function pl(t){return function(i,a,h){var P=$t(i);if(!an(i)){var z=vt(a,3);i=Yt(i),a=function(be){return z(P[be],be,P)}}var le=t(i,a,h);return le>-1?P[z?i[le]:le]:s}}function gl(t){return Bn(function(i){var a=i.length,h=a,P=vn.prototype.thru;for(t&&i.reverse();h--;){var z=i[h];if(typeof z!="function")throw new bn(c);if(P&&!le&&Ts(z)=="wrapper")var le=new vn([],!0)}for(h=le?h:a;++h<a;){z=i[h];var be=Ts(z),Fe=be=="wrapper"?Ur(z):s;Fe&&jr(Fe[0])&&Fe[1]==(G|$|S|N)&&!Fe[4].length&&Fe[9]==1?le=le[Ts(Fe[0])].apply(le,Fe[3]):le=z.length==1&&jr(z)?le[be]():le.thru(z)}return function(){var qe=arguments,Ke=qe[0];if(le&&qe.length==1&&xt(Ke))return le.plant(Ke).value();for(var Je=0,ht=a?i[Je].apply(this,qe):Ke;++Je<a;)ht=i[Je].call(this,ht);return ht}})}function Es(t,i,a,h,P,z,le,be,Fe,qe){var Ke=i&G,Je=i&w,ht=i&O,_t=i&($|I),yt=i&E,Tt=ht?s:$i(t);function At(){for(var kt=arguments.length,Mt=$e(kt),pn=kt;pn--;)Mt[pn]=arguments[pn];if(_t)var rn=yi(At),gn=Fu(Mt,rn);if(h&&(Mt=cl(Mt,h,P,_t)),z&&(Mt=ul(Mt,z,le,_t)),kt-=gn,_t&&kt<qe){var Gt=qn(Mt,rn);return bl(t,i,Es,At.placeholder,a,Mt,Gt,be,Fe,qe-kt)}var Rn=Je?a:this,Wn=ht?Rn[t]:t;return kt=Mt.length,be?Mt=$d(Mt,be):yt&&kt>1&&Mt.reverse(),Ke&&Fe<kt&&(Mt.length=Fe),this&&this!==Zt&&this instanceof At&&(Wn=Tt||$i(Wn)),Wn.apply(Rn,Mt)}return At}function ml(t,i){return function(a,h){return Gh(a,t,i(h),{})}}function ws(t,i){return function(a,h){var P;if(a===s&&h===s)return i;if(a!==s&&(P=a),h!==s){if(P===s)return h;typeof a=="string"||typeof h=="string"?(a=dn(a),h=dn(h)):(a=tl(a),h=tl(h)),P=t(a,h)}return P}}function Lr(t){return Bn(function(i){return i=Vt(i,hn(vt())),Rt(function(a){var h=this;return t(i,function(P){return un(P,h,a)})})})}function xs(t,i){i=i===s?" ":dn(i);var a=i.length;if(a<2)return a?Pr(i,t):i;var h=Pr(i,hs(t/di(i)));return hi(i)?Jn(xn(h),0,t).join(""):h.slice(0,t)}function yd(t,i,a,h){var P=i&w,z=$i(t);function le(){for(var be=-1,Fe=arguments.length,qe=-1,Ke=h.length,Je=$e(Ke+Fe),ht=this&&this!==Zt&&this instanceof le?z:t;++qe<Ke;)Je[qe]=h[qe];for(;Fe--;)Je[qe++]=arguments[++be];return un(ht,P?a:this,Je)}return le}function _l(t){return function(i,a,h){return h&&typeof h!="number"&&sn(i,a,h)&&(a=h=s),i=Hn(i),a===s?(a=i,i=0):a=Hn(a),h=h===s?i<a?1:-1:Hn(h),rd(i,a,h,t)}}function Cs(t){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=En(i),a=En(a)),t(i,a)}}function bl(t,i,a,h,P,z,le,be,Fe,qe){var Ke=i&$,Je=Ke?le:s,ht=Ke?s:le,_t=Ke?z:s,yt=Ke?s:z;i|=Ke?S:C,i&=~(Ke?C:S),i&U||(i&=~(w|O));var Tt=[t,i,P,_t,Je,yt,ht,be,Fe,qe],At=a.apply(s,Tt);return jr(t)&&kl(At,Tt),At.placeholder=h,Fl(At,t,i)}function Nr(t){var i=Kt[t];return function(a,h){if(a=En(a),h=h==null?0:en(Ct(h),292),h&&Fa(a)){var P=(Dt(a)+"e").split("e"),z=i(P[0]+"e"+(+P[1]+h));return P=(Dt(z)+"e").split("e"),+(P[0]+"e"+(+P[1]-h))}return i(a)}}var Ad=gi&&1/ts(new gi([,-0]))[1]==xe?function(t){return new gi(t)}:ro;function vl(t){return function(i){var a=tn(i);return a==B?fr(i):a==ke?Bu(i):ku(i,t(i))}}function Nn(t,i,a,h,P,z,le,be){var Fe=i&O;if(!Fe&&typeof t!="function")throw new bn(c);var qe=h?h.length:0;if(qe||(i&=~(S|C),h=P=s),le=le===s?le:Xt(Ct(le),0),be=be===s?be:Ct(be),qe-=P?P.length:0,i&C){var Ke=h,Je=P;h=P=s}var ht=Fe?s:Ur(t),_t=[t,i,a,h,P,Ke,Je,z,le,be];if(ht&&Ld(_t,ht),t=_t[0],i=_t[1],a=_t[2],h=_t[3],P=_t[4],be=_t[9]=_t[9]===s?Fe?0:t.length:Xt(_t[9]-qe,0),!be&&i&($|I)&&(i&=~($|I)),!i||i==w)var yt=bd(t,i,a);else i==$||i==I?yt=vd(t,i,be):(i==S||i==(w|S))&&!P.length?yt=yd(t,i,a,h):yt=Es.apply(s,_t);var Tt=ht?Qa:kl;return Fl(Tt(yt,_t),t,i)}function yl(t,i,a,h){return t===s||Tn(t,pi[a])&&!Lt.call(h,a)?i:t}function Al(t,i,a,h,P,z){return jt(t)&&jt(i)&&(z.set(i,t),vs(t,i,s,Al,z),z.delete(i)),t}function Sd(t){return Wi(t)?s:t}function Sl(t,i,a,h,P,z){var le=a&k,be=t.length,Fe=i.length;if(be!=Fe&&!(le&&Fe>be))return!1;var qe=z.get(t),Ke=z.get(i);if(qe&&Ke)return qe==i&&Ke==t;var Je=-1,ht=!0,_t=a&M?new ni:s;for(z.set(t,i),z.set(i,t);++Je<be;){var yt=t[Je],Tt=i[Je];if(h)var At=le?h(Tt,yt,Je,i,t,z):h(yt,Tt,Je,t,i,z);if(At!==s){if(At)continue;ht=!1;break}if(_t){if(!ar(i,function(kt,Mt){if(!Ri(_t,Mt)&&(yt===kt||P(yt,kt,a,h,z)))return _t.push(Mt)})){ht=!1;break}}else if(!(yt===Tt||P(yt,Tt,a,h,z))){ht=!1;break}}return z.delete(t),z.delete(i),ht}function Ed(t,i,a,h,P,z,le){switch(a){case Qe:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case Be:return!(t.byteLength!=i.byteLength||!z(new as(t),new as(i)));case F:case j:case Z:return Tn(+t,+i);case re:return t.name==i.name&&t.message==i.message;case Ae:case ce:return t==i+"";case B:var be=fr;case ke:var Fe=h&k;if(be||(be=ts),t.size!=i.size&&!Fe)return!1;var qe=le.get(t);if(qe)return qe==i;h|=M,le.set(t,i);var Ke=Sl(be(t),be(i),h,P,z,le);return le.delete(t),Ke;case oe:if(Oi)return Oi.call(t)==Oi.call(i)}return!1}function wd(t,i,a,h,P,z){var le=a&k,be=Br(t),Fe=be.length,qe=Br(i),Ke=qe.length;if(Fe!=Ke&&!le)return!1;for(var Je=Fe;Je--;){var ht=be[Je];if(!(le?ht in i:Lt.call(i,ht)))return!1}var _t=z.get(t),yt=z.get(i);if(_t&&yt)return _t==i&&yt==t;var Tt=!0;z.set(t,i),z.set(i,t);for(var At=le;++Je<Fe;){ht=be[Je];var kt=t[ht],Mt=i[ht];if(h)var pn=le?h(Mt,kt,ht,i,t,z):h(kt,Mt,ht,t,i,z);if(!(pn===s?kt===Mt||P(kt,Mt,a,h,z):pn)){Tt=!1;break}At||(At=ht=="constructor")}if(Tt&&!At){var rn=t.constructor,gn=i.constructor;rn!=gn&&"constructor"in t&&"constructor"in i&&!(typeof rn=="function"&&rn instanceof rn&&typeof gn=="function"&&gn instanceof gn)&&(Tt=!1)}return z.delete(t),z.delete(i),Tt}function Bn(t){return qr(Rl(t,s,Nl),t+"")}function Br(t){return Wa(t,Yt,Wr)}function $r(t){return Wa(t,ln,El)}var Ur=fs?function(t){return fs.get(t)}:ro;function Ts(t){for(var i=t.name+"",a=mi[i],h=Lt.call(mi,i)?a.length:0;h--;){var P=a[h],z=P.func;if(z==null||z==t)return P.name}return i}function yi(t){var i=Lt.call(W,"placeholder")?W:t;return i.placeholder}function vt(){var t=W.iteratee||io;return t=t===io?za:t,arguments.length?t(arguments[0],arguments[1]):t}function Rs(t,i){var a=t.__data__;return Md(i)?a[typeof i=="string"?"string":"hash"]:a.map}function Hr(t){for(var i=Yt(t),a=i.length;a--;){var h=i[a],P=t[h];i[a]=[h,P,Cl(P)]}return i}function ri(t,i){var a=Du(t,i);return ja(a)?a:s}function xd(t){var i=Lt.call(t,ei),a=t[ei];try{t[ei]=s;var h=!0}catch{}var P=rs.call(t);return h&&(i?t[ei]=a:delete t[ei]),P}var Wr=gr?function(t){return t==null?[]:(t=$t(t),jn(gr(t),function(i){return Pa.call(t,i)}))}:oo,El=gr?function(t){for(var i=[];t;)zn(i,Wr(t)),t=ls(t);return i}:oo,tn=nn;(mr&&tn(new mr(new ArrayBuffer(1)))!=Qe||ki&&tn(new ki)!=B||_r&&tn(_r.resolve())!=Ee||gi&&tn(new gi)!=ke||Fi&&tn(new Fi)!=fe)&&(tn=function(t){var i=nn(t),a=i==se?t.constructor:s,h=a?oi(a):"";if(h)switch(h){case ah:return Qe;case lh:return B;case ch:return Ee;case uh:return ke;case hh:return fe}return i});function Cd(t,i,a){for(var h=-1,P=a.length;++h<P;){var z=a[h],le=z.size;switch(z.type){case"drop":t+=le;break;case"dropRight":i-=le;break;case"take":i=en(i,t+le);break;case"takeRight":t=Xt(t,i-le);break}}return{start:t,end:i}}function Td(t){var i=t.match(ue);return i?i[1].split(ve):[]}function wl(t,i,a){i=Yn(i,t);for(var h=-1,P=i.length,z=!1;++h<P;){var le=On(i[h]);if(!(z=t!=null&&a(t,le)))break;t=t[le]}return z||++h!=P?z:(P=t==null?0:t.length,!!P&&Ds(P)&&$n(le,P)&&(xt(t)||ai(t)))}function Rd(t){var i=t.length,a=new t.constructor(i);return i&&typeof t[0]=="string"&&Lt.call(t,"index")&&(a.index=t.index,a.input=t.input),a}function xl(t){return typeof t.constructor=="function"&&!Ui(t)?_i(ls(t)):{}}function Pd(t,i,a){var h=t.constructor;switch(i){case Be:return Dr(t);case F:case j:return new h(+t);case Qe:return dd(t,a);case nt:case rt:case lt:case dt:case ot:case gt:case Ie:case pe:case he:return al(t,a);case B:return new h;case Z:case ce:return new h(t);case Ae:return fd(t);case ke:return new h;case oe:return pd(t)}}function kd(t,i){var a=i.length;if(!a)return t;var h=a-1;return i[h]=(a>1?"& ":"")+i[h],i=i.join(a>2?", ":" "),t.replace(Q,`{
/* [wrapped with `+i+`] */
`)}function Fd(t){return xt(t)||ai(t)||!!(ka&&t&&t[ka])}function $n(t,i){var a=typeof t;return i=i??ie,!!i&&(a=="number"||a!="symbol"&&Et.test(t))&&t>-1&&t%1==0&&t<i}function sn(t,i,a){if(!jt(a))return!1;var h=typeof i;return(h=="number"?an(a)&&$n(i,a.length):h=="string"&&i in a)?Tn(a[i],t):!1}function Vr(t,i){if(xt(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||fn(t)?!0:ee.test(t)||!Pe.test(t)||i!=null&&t in $t(i)}function Md(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}function jr(t){var i=Ts(t),a=W[i];if(typeof a!="function"||!(i in Ft.prototype))return!1;if(t===a)return!0;var h=Ur(a);return!!h&&t===h[0]}function Od(t){return!!Ca&&Ca in t}var Id=is?Un:ao;function Ui(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||pi;return t===a}function Cl(t){return t===t&&!jt(t)}function Tl(t,i){return function(a){return a==null?!1:a[t]===i&&(i!==s||t in $t(a))}}function Dd(t){var i=Os(t,function(h){return a.size===A&&a.clear(),h}),a=i.cache;return i}function Ld(t,i){var a=t[1],h=i[1],P=a|h,z=P<(w|O|G),le=h==G&&a==$||h==G&&a==N&&t[7].length<=i[8]||h==(G|N)&&i[7].length<=i[8]&&a==$;if(!(z||le))return t;h&w&&(t[2]=i[2],P|=a&w?0:U);var be=i[3];if(be){var Fe=t[3];t[3]=Fe?cl(Fe,be,i[4]):be,t[4]=Fe?qn(t[3],d):i[4]}return be=i[5],be&&(Fe=t[5],t[5]=Fe?ul(Fe,be,i[6]):be,t[6]=Fe?qn(t[5],d):i[6]),be=i[7],be&&(t[7]=be),h&G&&(t[8]=t[8]==null?i[8]:en(t[8],i[8])),t[9]==null&&(t[9]=i[9]),t[0]=i[0],t[1]=P,t}function Nd(t){var i=[];if(t!=null)for(var a in $t(t))i.push(a);return i}function Bd(t){return rs.call(t)}function Rl(t,i,a){return i=Xt(i===s?t.length-1:i,0),function(){for(var h=arguments,P=-1,z=Xt(h.length-i,0),le=$e(z);++P<z;)le[P]=h[i+P];P=-1;for(var be=$e(i+1);++P<i;)be[P]=h[P];return be[i]=a(le),un(t,this,be)}}function Pl(t,i){return i.length<2?t:si(t,An(i,0,-1))}function $d(t,i){for(var a=t.length,h=en(i.length,a),P=on(t);h--;){var z=i[h];t[h]=$n(z,a)?P[z]:s}return t}function zr(t,i){if(!(i==="constructor"&&typeof t[i]=="function")&&i!="__proto__")return t[i]}var kl=Ml(Qa),Hi=eh||function(t,i){return Zt.setTimeout(t,i)},qr=Ml(ld);function Fl(t,i,a){var h=i+"";return qr(t,kd(h,Ud(Td(h),a)))}function Ml(t){var i=0,a=0;return function(){var h=sh(),P=de-(h-a);if(a=h,P>0){if(++i>=ae)return arguments[0]}else i=0;return t.apply(s,arguments)}}function Ps(t,i){var a=-1,h=t.length,P=h-1;for(i=i===s?h:i;++a<i;){var z=Rr(a,P),le=t[z];t[z]=t[a],t[a]=le}return t.length=i,t}var Ol=Dd(function(t){var i=[];return t.charCodeAt(0)===46&&i.push(""),t.replace(we,function(a,h,P,z){i.push(P?z.replace(et,"$1"):h||a)}),i});function On(t){if(typeof t=="string"||fn(t))return t;var i=t+"";return i=="0"&&1/t==-xe?"-0":i}function oi(t){if(t!=null){try{return ss.call(t)}catch{}try{return t+""}catch{}}return""}function Ud(t,i){return _n(g,function(a){var h="_."+a[0];i&a[1]&&!Qi(t,h)&&t.push(h)}),t.sort()}function Il(t){if(t instanceof Ft)return t.clone();var i=new vn(t.__wrapped__,t.__chain__);return i.__actions__=on(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}function Hd(t,i,a){(a?sn(t,i,a):i===s)?i=1:i=Xt(Ct(i),0);var h=t==null?0:t.length;if(!h||i<1)return[];for(var P=0,z=0,le=$e(hs(h/i));P<h;)le[z++]=An(t,P,P+=i);return le}function Wd(t){for(var i=-1,a=t==null?0:t.length,h=0,P=[];++i<a;){var z=t[i];z&&(P[h++]=z)}return P}function Vd(){var t=arguments.length;if(!t)return[];for(var i=$e(t-1),a=arguments[0],h=t;h--;)i[h-1]=arguments[h];return zn(xt(a)?on(a):[a],Qt(i,1))}var jd=Rt(function(t,i){return qt(t)?Di(t,Qt(i,1,qt,!0)):[]}),zd=Rt(function(t,i){var a=Sn(i);return qt(a)&&(a=s),qt(t)?Di(t,Qt(i,1,qt,!0),vt(a,2)):[]}),qd=Rt(function(t,i){var a=Sn(i);return qt(a)&&(a=s),qt(t)?Di(t,Qt(i,1,qt,!0),s,a):[]});function Gd(t,i,a){var h=t==null?0:t.length;return h?(i=a||i===s?1:Ct(i),An(t,i<0?0:i,h)):[]}function Kd(t,i,a){var h=t==null?0:t.length;return h?(i=a||i===s?1:Ct(i),i=h-i,An(t,0,i<0?0:i)):[]}function Xd(t,i){return t&&t.length?As(t,vt(i,3),!0,!0):[]}function Yd(t,i){return t&&t.length?As(t,vt(i,3),!0):[]}function Jd(t,i,a,h){var P=t==null?0:t.length;return P?(a&&typeof a!="number"&&sn(t,i,a)&&(a=0,h=P),Vh(t,i,a,h)):[]}function Dl(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=a==null?0:Ct(a);return P<0&&(P=Xt(h+P,0)),es(t,vt(i,3),P)}function Ll(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=h-1;return a!==s&&(P=Ct(a),P=a<0?Xt(h+P,0):en(P,h-1)),es(t,vt(i,3),P,!0)}function Nl(t){var i=t==null?0:t.length;return i?Qt(t,1):[]}function Zd(t){var i=t==null?0:t.length;return i?Qt(t,xe):[]}function Qd(t,i){var a=t==null?0:t.length;return a?(i=i===s?1:Ct(i),Qt(t,i)):[]}function ef(t){for(var i=-1,a=t==null?0:t.length,h={};++i<a;){var P=t[i];h[P[0]]=P[1]}return h}function Bl(t){return t&&t.length?t[0]:s}function tf(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=a==null?0:Ct(a);return P<0&&(P=Xt(h+P,0)),ui(t,i,P)}function nf(t){var i=t==null?0:t.length;return i?An(t,0,-1):[]}var sf=Rt(function(t){var i=Vt(t,Or);return i.length&&i[0]===t[0]?Er(i):[]}),rf=Rt(function(t){var i=Sn(t),a=Vt(t,Or);return i===Sn(a)?i=s:a.pop(),a.length&&a[0]===t[0]?Er(a,vt(i,2)):[]}),of=Rt(function(t){var i=Sn(t),a=Vt(t,Or);return i=typeof i=="function"?i:s,i&&a.pop(),a.length&&a[0]===t[0]?Er(a,s,i):[]});function af(t,i){return t==null?"":nh.call(t,i)}function Sn(t){var i=t==null?0:t.length;return i?t[i-1]:s}function lf(t,i,a){var h=t==null?0:t.length;if(!h)return-1;var P=h;return a!==s&&(P=Ct(a),P=P<0?Xt(h+P,0):en(P,h-1)),i===i?Uu(t,i,P):es(t,ba,P,!0)}function cf(t,i){return t&&t.length?Xa(t,Ct(i)):s}var uf=Rt($l);function $l(t,i){return t&&t.length&&i&&i.length?Tr(t,i):t}function hf(t,i,a){return t&&t.length&&i&&i.length?Tr(t,i,vt(a,2)):t}function df(t,i,a){return t&&t.length&&i&&i.length?Tr(t,i,s,a):t}var ff=Bn(function(t,i){var a=t==null?0:t.length,h=vr(t,i);return Za(t,Vt(i,function(P){return $n(P,a)?+P:P}).sort(ll)),h});function pf(t,i){var a=[];if(!(t&&t.length))return a;var h=-1,P=[],z=t.length;for(i=vt(i,3);++h<z;){var le=t[h];i(le,h,t)&&(a.push(le),P.push(h))}return Za(t,P),a}function Gr(t){return t==null?t:oh.call(t)}function gf(t,i,a){var h=t==null?0:t.length;return h?(a&&typeof a!="number"&&sn(t,i,a)?(i=0,a=h):(i=i==null?0:Ct(i),a=a===s?h:Ct(a)),An(t,i,a)):[]}function mf(t,i){return ys(t,i)}function _f(t,i,a){return kr(t,i,vt(a,2))}function bf(t,i){var a=t==null?0:t.length;if(a){var h=ys(t,i);if(h<a&&Tn(t[h],i))return h}return-1}function vf(t,i){return ys(t,i,!0)}function yf(t,i,a){return kr(t,i,vt(a,2),!0)}function Af(t,i){var a=t==null?0:t.length;if(a){var h=ys(t,i,!0)-1;if(Tn(t[h],i))return h}return-1}function Sf(t){return t&&t.length?el(t):[]}function Ef(t,i){return t&&t.length?el(t,vt(i,2)):[]}function wf(t){var i=t==null?0:t.length;return i?An(t,1,i):[]}function xf(t,i,a){return t&&t.length?(i=a||i===s?1:Ct(i),An(t,0,i<0?0:i)):[]}function Cf(t,i,a){var h=t==null?0:t.length;return h?(i=a||i===s?1:Ct(i),i=h-i,An(t,i<0?0:i,h)):[]}function Tf(t,i){return t&&t.length?As(t,vt(i,3),!1,!0):[]}function Rf(t,i){return t&&t.length?As(t,vt(i,3)):[]}var Pf=Rt(function(t){return Xn(Qt(t,1,qt,!0))}),kf=Rt(function(t){var i=Sn(t);return qt(i)&&(i=s),Xn(Qt(t,1,qt,!0),vt(i,2))}),Ff=Rt(function(t){var i=Sn(t);return i=typeof i=="function"?i:s,Xn(Qt(t,1,qt,!0),s,i)});function Mf(t){return t&&t.length?Xn(t):[]}function Of(t,i){return t&&t.length?Xn(t,vt(i,2)):[]}function If(t,i){return i=typeof i=="function"?i:s,t&&t.length?Xn(t,s,i):[]}function Kr(t){if(!(t&&t.length))return[];var i=0;return t=jn(t,function(a){if(qt(a))return i=Xt(a.length,i),!0}),hr(i,function(a){return Vt(t,lr(a))})}function Ul(t,i){if(!(t&&t.length))return[];var a=Kr(t);return i==null?a:Vt(a,function(h){return un(i,s,h)})}var Df=Rt(function(t,i){return qt(t)?Di(t,i):[]}),Lf=Rt(function(t){return Mr(jn(t,qt))}),Nf=Rt(function(t){var i=Sn(t);return qt(i)&&(i=s),Mr(jn(t,qt),vt(i,2))}),Bf=Rt(function(t){var i=Sn(t);return i=typeof i=="function"?i:s,Mr(jn(t,qt),s,i)}),$f=Rt(Kr);function Uf(t,i){return sl(t||[],i||[],Ii)}function Hf(t,i){return sl(t||[],i||[],Bi)}var Wf=Rt(function(t){var i=t.length,a=i>1?t[i-1]:s;return a=typeof a=="function"?(t.pop(),a):s,Ul(t,a)});function Hl(t){var i=W(t);return i.__chain__=!0,i}function Vf(t,i){return i(t),t}function ks(t,i){return i(t)}var jf=Bn(function(t){var i=t.length,a=i?t[0]:0,h=this.__wrapped__,P=function(z){return vr(z,t)};return i>1||this.__actions__.length||!(h instanceof Ft)||!$n(a)?this.thru(P):(h=h.slice(a,+a+(i?1:0)),h.__actions__.push({func:ks,args:[P],thisArg:s}),new vn(h,this.__chain__).thru(function(z){return i&&!z.length&&z.push(s),z}))});function zf(){return Hl(this)}function qf(){return new vn(this.value(),this.__chain__)}function Gf(){this.__values__===s&&(this.__values__=tc(this.value()));var t=this.__index__>=this.__values__.length,i=t?s:this.__values__[this.__index__++];return{done:t,value:i}}function Kf(){return this}function Xf(t){for(var i,a=this;a instanceof gs;){var h=Il(a);h.__index__=0,h.__values__=s,i?P.__wrapped__=h:i=h;var P=h;a=a.__wrapped__}return P.__wrapped__=t,i}function Yf(){var t=this.__wrapped__;if(t instanceof Ft){var i=t;return this.__actions__.length&&(i=new Ft(this)),i=i.reverse(),i.__actions__.push({func:ks,args:[Gr],thisArg:s}),new vn(i,this.__chain__)}return this.thru(Gr)}function Jf(){return il(this.__wrapped__,this.__actions__)}var Zf=Ss(function(t,i,a){Lt.call(t,a)?++t[a]:Ln(t,a,1)});function Qf(t,i,a){var h=xt(t)?ma:Wh;return a&&sn(t,i,a)&&(i=s),h(t,vt(i,3))}function ep(t,i){var a=xt(t)?jn:Ua;return a(t,vt(i,3))}var tp=pl(Dl),np=pl(Ll);function ip(t,i){return Qt(Fs(t,i),1)}function sp(t,i){return Qt(Fs(t,i),xe)}function rp(t,i,a){return a=a===s?1:Ct(a),Qt(Fs(t,i),a)}function Wl(t,i){var a=xt(t)?_n:Kn;return a(t,vt(i,3))}function Vl(t,i){var a=xt(t)?Eu:$a;return a(t,vt(i,3))}var op=Ss(function(t,i,a){Lt.call(t,a)?t[a].push(i):Ln(t,a,[i])});function ap(t,i,a,h){t=an(t)?t:Si(t),a=a&&!h?Ct(a):0;var P=t.length;return a<0&&(a=Xt(P+a,0)),Ls(t)?a<=P&&t.indexOf(i,a)>-1:!!P&&ui(t,i,a)>-1}var lp=Rt(function(t,i,a){var h=-1,P=typeof i=="function",z=an(t)?$e(t.length):[];return Kn(t,function(le){z[++h]=P?un(i,le,a):Li(le,i,a)}),z}),cp=Ss(function(t,i,a){Ln(t,a,i)});function Fs(t,i){var a=xt(t)?Vt:qa;return a(t,vt(i,3))}function up(t,i,a,h){return t==null?[]:(xt(i)||(i=i==null?[]:[i]),a=h?s:a,xt(a)||(a=a==null?[]:[a]),Ya(t,i,a))}var hp=Ss(function(t,i,a){t[a?0:1].push(i)},function(){return[[],[]]});function dp(t,i,a){var h=xt(t)?or:ya,P=arguments.length<3;return h(t,vt(i,4),a,P,Kn)}function fp(t,i,a){var h=xt(t)?wu:ya,P=arguments.length<3;return h(t,vt(i,4),a,P,$a)}function pp(t,i){var a=xt(t)?jn:Ua;return a(t,Is(vt(i,3)))}function gp(t){var i=xt(t)?Da:od;return i(t)}function mp(t,i,a){(a?sn(t,i,a):i===s)?i=1:i=Ct(i);var h=xt(t)?Nh:ad;return h(t,i)}function _p(t){var i=xt(t)?Bh:cd;return i(t)}function bp(t){if(t==null)return 0;if(an(t))return Ls(t)?di(t):t.length;var i=tn(t);return i==B||i==ke?t.size:xr(t).length}function vp(t,i,a){var h=xt(t)?ar:ud;return a&&sn(t,i,a)&&(i=s),h(t,vt(i,3))}var yp=Rt(function(t,i){if(t==null)return[];var a=i.length;return a>1&&sn(t,i[0],i[1])?i=[]:a>2&&sn(i[0],i[1],i[2])&&(i=[i[0]]),Ya(t,Qt(i,1),[])}),Ms=Qu||function(){return Zt.Date.now()};function Ap(t,i){if(typeof i!="function")throw new bn(c);return t=Ct(t),function(){if(--t<1)return i.apply(this,arguments)}}function jl(t,i,a){return i=a?s:i,i=t&&i==null?t.length:i,Nn(t,G,s,s,s,s,i)}function zl(t,i){var a;if(typeof i!="function")throw new bn(c);return t=Ct(t),function(){return--t>0&&(a=i.apply(this,arguments)),t<=1&&(i=s),a}}var Xr=Rt(function(t,i,a){var h=w;if(a.length){var P=qn(a,yi(Xr));h|=S}return Nn(t,h,i,a,P)}),ql=Rt(function(t,i,a){var h=w|O;if(a.length){var P=qn(a,yi(ql));h|=S}return Nn(i,h,t,a,P)});function Gl(t,i,a){i=a?s:i;var h=Nn(t,$,s,s,s,s,s,i);return h.placeholder=Gl.placeholder,h}function Kl(t,i,a){i=a?s:i;var h=Nn(t,I,s,s,s,s,s,i);return h.placeholder=Kl.placeholder,h}function Xl(t,i,a){var h,P,z,le,be,Fe,qe=0,Ke=!1,Je=!1,ht=!0;if(typeof t!="function")throw new bn(c);i=En(i)||0,jt(a)&&(Ke=!!a.leading,Je="maxWait"in a,z=Je?Xt(En(a.maxWait)||0,i):z,ht="trailing"in a?!!a.trailing:ht);function _t(Gt){var Rn=h,Wn=P;return h=P=s,qe=Gt,le=t.apply(Wn,Rn),le}function yt(Gt){return qe=Gt,be=Hi(kt,i),Ke?_t(Gt):le}function Tt(Gt){var Rn=Gt-Fe,Wn=Gt-qe,pc=i-Rn;return Je?en(pc,z-Wn):pc}function At(Gt){var Rn=Gt-Fe,Wn=Gt-qe;return Fe===s||Rn>=i||Rn<0||Je&&Wn>=z}function kt(){var Gt=Ms();if(At(Gt))return Mt(Gt);be=Hi(kt,Tt(Gt))}function Mt(Gt){return be=s,ht&&h?_t(Gt):(h=P=s,le)}function pn(){be!==s&&rl(be),qe=0,h=Fe=P=be=s}function rn(){return be===s?le:Mt(Ms())}function gn(){var Gt=Ms(),Rn=At(Gt);if(h=arguments,P=this,Fe=Gt,Rn){if(be===s)return yt(Fe);if(Je)return rl(be),be=Hi(kt,i),_t(Fe)}return be===s&&(be=Hi(kt,i)),le}return gn.cancel=pn,gn.flush=rn,gn}var Sp=Rt(function(t,i){return Ba(t,1,i)}),Ep=Rt(function(t,i,a){return Ba(t,En(i)||0,a)});function wp(t){return Nn(t,E)}function Os(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new bn(c);var a=function(){var h=arguments,P=i?i.apply(this,h):h[0],z=a.cache;if(z.has(P))return z.get(P);var le=t.apply(this,h);return a.cache=z.set(P,le)||z,le};return a.cache=new(Os.Cache||Dn),a}Os.Cache=Dn;function Is(t){if(typeof t!="function")throw new bn(c);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}function xp(t){return zl(2,t)}var Cp=hd(function(t,i){i=i.length==1&&xt(i[0])?Vt(i[0],hn(vt())):Vt(Qt(i,1),hn(vt()));var a=i.length;return Rt(function(h){for(var P=-1,z=en(h.length,a);++P<z;)h[P]=i[P].call(this,h[P]);return un(t,this,h)})}),Yr=Rt(function(t,i){var a=qn(i,yi(Yr));return Nn(t,S,s,i,a)}),Yl=Rt(function(t,i){var a=qn(i,yi(Yl));return Nn(t,C,s,i,a)}),Tp=Bn(function(t,i){return Nn(t,N,s,s,s,i)});function Rp(t,i){if(typeof t!="function")throw new bn(c);return i=i===s?i:Ct(i),Rt(t,i)}function Pp(t,i){if(typeof t!="function")throw new bn(c);return i=i==null?0:Xt(Ct(i),0),Rt(function(a){var h=a[i],P=Jn(a,0,i);return h&&zn(P,h),un(t,this,P)})}function kp(t,i,a){var h=!0,P=!0;if(typeof t!="function")throw new bn(c);return jt(a)&&(h="leading"in a?!!a.leading:h,P="trailing"in a?!!a.trailing:P),Xl(t,i,{leading:h,maxWait:i,trailing:P})}function Fp(t){return jl(t,1)}function Mp(t,i){return Yr(Ir(i),t)}function Op(){if(!arguments.length)return[];var t=arguments[0];return xt(t)?t:[t]}function Ip(t){return yn(t,D)}function Dp(t,i){return i=typeof i=="function"?i:s,yn(t,D,i)}function Lp(t){return yn(t,x|D)}function Np(t,i){return i=typeof i=="function"?i:s,yn(t,x|D,i)}function Bp(t,i){return i==null||Na(t,i,Yt(i))}function Tn(t,i){return t===i||t!==t&&i!==i}var $p=Cs(Sr),Up=Cs(function(t,i){return t>=i}),ai=Va(function(){return arguments}())?Va:function(t){return zt(t)&&Lt.call(t,"callee")&&!Pa.call(t,"callee")},xt=$e.isArray,Hp=ua?hn(ua):Kh;function an(t){return t!=null&&Ds(t.length)&&!Un(t)}function qt(t){return zt(t)&&an(t)}function Wp(t){return t===!0||t===!1||zt(t)&&nn(t)==F}var Zn=th||ao,Vp=ha?hn(ha):Xh;function jp(t){return zt(t)&&t.nodeType===1&&!Wi(t)}function zp(t){if(t==null)return!0;if(an(t)&&(xt(t)||typeof t=="string"||typeof t.splice=="function"||Zn(t)||Ai(t)||ai(t)))return!t.length;var i=tn(t);if(i==B||i==ke)return!t.size;if(Ui(t))return!xr(t).length;for(var a in t)if(Lt.call(t,a))return!1;return!0}function qp(t,i){return Ni(t,i)}function Gp(t,i,a){a=typeof a=="function"?a:s;var h=a?a(t,i):s;return h===s?Ni(t,i,s,a):!!h}function Jr(t){if(!zt(t))return!1;var i=nn(t);return i==re||i==Y||typeof t.message=="string"&&typeof t.name=="string"&&!Wi(t)}function Kp(t){return typeof t=="number"&&Fa(t)}function Un(t){if(!jt(t))return!1;var i=nn(t);return i==Se||i==R||i==T||i==Ne}function Jl(t){return typeof t=="number"&&t==Ct(t)}function Ds(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ie}function jt(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}function zt(t){return t!=null&&typeof t=="object"}var Zl=da?hn(da):Jh;function Xp(t,i){return t===i||wr(t,i,Hr(i))}function Yp(t,i,a){return a=typeof a=="function"?a:s,wr(t,i,Hr(i),a)}function Jp(t){return Ql(t)&&t!=+t}function Zp(t){if(Id(t))throw new wt(l);return ja(t)}function Qp(t){return t===null}function eg(t){return t==null}function Ql(t){return typeof t=="number"||zt(t)&&nn(t)==Z}function Wi(t){if(!zt(t)||nn(t)!=se)return!1;var i=ls(t);if(i===null)return!0;var a=Lt.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&ss.call(a)==Xu}var Zr=fa?hn(fa):Zh;function tg(t){return Jl(t)&&t>=-ie&&t<=ie}var ec=pa?hn(pa):Qh;function Ls(t){return typeof t=="string"||!xt(t)&&zt(t)&&nn(t)==ce}function fn(t){return typeof t=="symbol"||zt(t)&&nn(t)==oe}var Ai=ga?hn(ga):ed;function ng(t){return t===s}function ig(t){return zt(t)&&tn(t)==fe}function sg(t){return zt(t)&&nn(t)==Le}var rg=Cs(Cr),og=Cs(function(t,i){return t<=i});function tc(t){if(!t)return[];if(an(t))return Ls(t)?xn(t):on(t);if(Pi&&t[Pi])return Nu(t[Pi]());var i=tn(t),a=i==B?fr:i==ke?ts:Si;return a(t)}function Hn(t){if(!t)return t===0?t:0;if(t=En(t),t===xe||t===-xe){var i=t<0?-1:1;return i*Oe}return t===t?t:0}function Ct(t){var i=Hn(t),a=i%1;return i===i?a?i-a:i:0}function nc(t){return t?ii(Ct(t),0,He):0}function En(t){if(typeof t=="number")return t;if(fn(t))return Ue;if(jt(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=jt(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=Aa(t);var a=st.test(t);return a||bt.test(t)?yu(t.slice(2),a?2:8):it.test(t)?Ue:+t}function ic(t){return Mn(t,ln(t))}function ag(t){return t?ii(Ct(t),-ie,ie):t===0?t:0}function Dt(t){return t==null?"":dn(t)}var lg=bi(function(t,i){if(Ui(i)||an(i)){Mn(i,Yt(i),t);return}for(var a in i)Lt.call(i,a)&&Ii(t,a,i[a])}),sc=bi(function(t,i){Mn(i,ln(i),t)}),Ns=bi(function(t,i,a,h){Mn(i,ln(i),t,h)}),cg=bi(function(t,i,a,h){Mn(i,Yt(i),t,h)}),ug=Bn(vr);function hg(t,i){var a=_i(t);return i==null?a:La(a,i)}var dg=Rt(function(t,i){t=$t(t);var a=-1,h=i.length,P=h>2?i[2]:s;for(P&&sn(i[0],i[1],P)&&(h=1);++a<h;)for(var z=i[a],le=ln(z),be=-1,Fe=le.length;++be<Fe;){var qe=le[be],Ke=t[qe];(Ke===s||Tn(Ke,pi[qe])&&!Lt.call(t,qe))&&(t[qe]=z[qe])}return t}),fg=Rt(function(t){return t.push(s,Al),un(rc,s,t)});function pg(t,i){return _a(t,vt(i,3),Fn)}function gg(t,i){return _a(t,vt(i,3),Ar)}function mg(t,i){return t==null?t:yr(t,vt(i,3),ln)}function _g(t,i){return t==null?t:Ha(t,vt(i,3),ln)}function bg(t,i){return t&&Fn(t,vt(i,3))}function vg(t,i){return t&&Ar(t,vt(i,3))}function yg(t){return t==null?[]:bs(t,Yt(t))}function Ag(t){return t==null?[]:bs(t,ln(t))}function Qr(t,i,a){var h=t==null?s:si(t,i);return h===s?a:h}function Sg(t,i){return t!=null&&wl(t,i,jh)}function eo(t,i){return t!=null&&wl(t,i,zh)}var Eg=ml(function(t,i,a){i!=null&&typeof i.toString!="function"&&(i=rs.call(i)),t[i]=a},no(cn)),wg=ml(function(t,i,a){i!=null&&typeof i.toString!="function"&&(i=rs.call(i)),Lt.call(t,i)?t[i].push(a):t[i]=[a]},vt),xg=Rt(Li);function Yt(t){return an(t)?Ia(t):xr(t)}function ln(t){return an(t)?Ia(t,!0):td(t)}function Cg(t,i){var a={};return i=vt(i,3),Fn(t,function(h,P,z){Ln(a,i(h,P,z),h)}),a}function Tg(t,i){var a={};return i=vt(i,3),Fn(t,function(h,P,z){Ln(a,P,i(h,P,z))}),a}var Rg=bi(function(t,i,a){vs(t,i,a)}),rc=bi(function(t,i,a,h){vs(t,i,a,h)}),Pg=Bn(function(t,i){var a={};if(t==null)return a;var h=!1;i=Vt(i,function(z){return z=Yn(z,t),h||(h=z.length>1),z}),Mn(t,$r(t),a),h&&(a=yn(a,x|V|D,Sd));for(var P=i.length;P--;)Fr(a,i[P]);return a});function kg(t,i){return oc(t,Is(vt(i)))}var Fg=Bn(function(t,i){return t==null?{}:id(t,i)});function oc(t,i){if(t==null)return{};var a=Vt($r(t),function(h){return[h]});return i=vt(i),Ja(t,a,function(h,P){return i(h,P[0])})}function Mg(t,i,a){i=Yn(i,t);var h=-1,P=i.length;for(P||(P=1,t=s);++h<P;){var z=t==null?s:t[On(i[h])];z===s&&(h=P,z=a),t=Un(z)?z.call(t):z}return t}function Og(t,i,a){return t==null?t:Bi(t,i,a)}function Ig(t,i,a,h){return h=typeof h=="function"?h:s,t==null?t:Bi(t,i,a,h)}var ac=vl(Yt),lc=vl(ln);function Dg(t,i,a){var h=xt(t),P=h||Zn(t)||Ai(t);if(i=vt(i,4),a==null){var z=t&&t.constructor;P?a=h?new z:[]:jt(t)?a=Un(z)?_i(ls(t)):{}:a={}}return(P?_n:Fn)(t,function(le,be,Fe){return i(a,le,be,Fe)}),a}function Lg(t,i){return t==null?!0:Fr(t,i)}function Ng(t,i,a){return t==null?t:nl(t,i,Ir(a))}function Bg(t,i,a,h){return h=typeof h=="function"?h:s,t==null?t:nl(t,i,Ir(a),h)}function Si(t){return t==null?[]:dr(t,Yt(t))}function $g(t){return t==null?[]:dr(t,ln(t))}function Ug(t,i,a){return a===s&&(a=i,i=s),a!==s&&(a=En(a),a=a===a?a:0),i!==s&&(i=En(i),i=i===i?i:0),ii(En(t),i,a)}function Hg(t,i,a){return i=Hn(i),a===s?(a=i,i=0):a=Hn(a),t=En(t),qh(t,i,a)}function Wg(t,i,a){if(a&&typeof a!="boolean"&&sn(t,i,a)&&(i=a=s),a===s&&(typeof i=="boolean"?(a=i,i=s):typeof t=="boolean"&&(a=t,t=s)),t===s&&i===s?(t=0,i=1):(t=Hn(t),i===s?(i=t,t=0):i=Hn(i)),t>i){var h=t;t=i,i=h}if(a||t%1||i%1){var P=Ma();return en(t+P*(i-t+vu("1e-"+((P+"").length-1))),i)}return Rr(t,i)}var Vg=vi(function(t,i,a){return i=i.toLowerCase(),t+(a?cc(i):i)});function cc(t){return to(Dt(t).toLowerCase())}function uc(t){return t=Dt(t),t&&t.replace(Pt,Mu).replace(cu,"")}function jg(t,i,a){t=Dt(t),i=dn(i);var h=t.length;a=a===s?h:ii(Ct(a),0,h);var P=a;return a-=i.length,a>=0&&t.slice(a,P)==i}function zg(t){return t=Dt(t),t&&at.test(t)?t.replace(ye,Ou):t}function qg(t){return t=Dt(t),t&&J.test(t)?t.replace(De,"\\$&"):t}var Gg=vi(function(t,i,a){return t+(a?"-":"")+i.toLowerCase()}),Kg=vi(function(t,i,a){return t+(a?" ":"")+i.toLowerCase()}),Xg=fl("toLowerCase");function Yg(t,i,a){t=Dt(t),i=Ct(i);var h=i?di(t):0;if(!i||h>=i)return t;var P=(i-h)/2;return xs(ds(P),a)+t+xs(hs(P),a)}function Jg(t,i,a){t=Dt(t),i=Ct(i);var h=i?di(t):0;return i&&h<i?t+xs(i-h,a):t}function Zg(t,i,a){t=Dt(t),i=Ct(i);var h=i?di(t):0;return i&&h<i?xs(i-h,a)+t:t}function Qg(t,i,a){return a||i==null?i=0:i&&(i=+i),rh(Dt(t).replace(f,""),i||0)}function em(t,i,a){return(a?sn(t,i,a):i===s)?i=1:i=Ct(i),Pr(Dt(t),i)}function tm(){var t=arguments,i=Dt(t[0]);return t.length<3?i:i.replace(t[1],t[2])}var nm=vi(function(t,i,a){return t+(a?"_":"")+i.toLowerCase()});function im(t,i,a){return a&&typeof a!="number"&&sn(t,i,a)&&(i=a=s),a=a===s?He:a>>>0,a?(t=Dt(t),t&&(typeof i=="string"||i!=null&&!Zr(i))&&(i=dn(i),!i&&hi(t))?Jn(xn(t),0,a):t.split(i,a)):[]}var sm=vi(function(t,i,a){return t+(a?" ":"")+to(i)});function rm(t,i,a){return t=Dt(t),a=a==null?0:ii(Ct(a),0,t.length),i=dn(i),t.slice(a,a+i.length)==i}function om(t,i,a){var h=W.templateSettings;a&&sn(t,i,a)&&(i=s),t=Dt(t),i=Ns({},i,h,yl);var P=Ns({},i.imports,h.imports,yl),z=Yt(P),le=dr(P,z),be,Fe,qe=0,Ke=i.interpolate||Ht,Je="__p += '",ht=pr((i.escape||Ht).source+"|"+Ke.source+"|"+(Ke===ut?Ze:Ht).source+"|"+(i.evaluate||Ht).source+"|$","g"),_t="//# sourceURL="+(Lt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pu+"]")+`
`;t.replace(ht,function(At,kt,Mt,pn,rn,gn){return Mt||(Mt=pn),Je+=t.slice(qe,gn).replace(Bt,Iu),kt&&(be=!0,Je+=`' +
__e(`+kt+`) +
'`),rn&&(Fe=!0,Je+=`';
`+rn+`;
__p += '`),Mt&&(Je+=`' +
((__t = (`+Mt+`)) == null ? '' : __t) +
'`),qe=gn+At.length,At}),Je+=`';
`;var yt=Lt.call(i,"variable")&&i.variable;if(!yt)Je=`with (obj) {
`+Je+`
}
`;else if(Ve.test(yt))throw new wt(y);Je=(Fe?Je.replace(We,""):Je).replace(ze,"$1").replace(Ot,"$1;"),Je="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(Fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Je+`return __p
}`;var Tt=dc(function(){return It(z,_t+"return "+Je).apply(s,le)});if(Tt.source=Je,Jr(Tt))throw Tt;return Tt}function am(t){return Dt(t).toLowerCase()}function lm(t){return Dt(t).toUpperCase()}function cm(t,i,a){if(t=Dt(t),t&&(a||i===s))return Aa(t);if(!t||!(i=dn(i)))return t;var h=xn(t),P=xn(i),z=Sa(h,P),le=Ea(h,P)+1;return Jn(h,z,le).join("")}function um(t,i,a){if(t=Dt(t),t&&(a||i===s))return t.slice(0,xa(t)+1);if(!t||!(i=dn(i)))return t;var h=xn(t),P=Ea(h,xn(i))+1;return Jn(h,0,P).join("")}function hm(t,i,a){if(t=Dt(t),t&&(a||i===s))return t.replace(f,"");if(!t||!(i=dn(i)))return t;var h=xn(t),P=Sa(h,xn(i));return Jn(h,P).join("")}function dm(t,i){var a=X,h=H;if(jt(i)){var P="separator"in i?i.separator:P;a="length"in i?Ct(i.length):a,h="omission"in i?dn(i.omission):h}t=Dt(t);var z=t.length;if(hi(t)){var le=xn(t);z=le.length}if(a>=z)return t;var be=a-di(h);if(be<1)return h;var Fe=le?Jn(le,0,be).join(""):t.slice(0,be);if(P===s)return Fe+h;if(le&&(be+=Fe.length-be),Zr(P)){if(t.slice(be).search(P)){var qe,Ke=Fe;for(P.global||(P=pr(P.source,Dt(mt.exec(P))+"g")),P.lastIndex=0;qe=P.exec(Ke);)var Je=qe.index;Fe=Fe.slice(0,Je===s?be:Je)}}else if(t.indexOf(dn(P),be)!=be){var ht=Fe.lastIndexOf(P);ht>-1&&(Fe=Fe.slice(0,ht))}return Fe+h}function fm(t){return t=Dt(t),t&&Xe.test(t)?t.replace(St,Hu):t}var pm=vi(function(t,i,a){return t+(a?" ":"")+i.toUpperCase()}),to=fl("toUpperCase");function hc(t,i,a){return t=Dt(t),i=a?s:i,i===s?Lu(t)?ju(t):Tu(t):t.match(i)||[]}var dc=Rt(function(t,i){try{return un(t,s,i)}catch(a){return Jr(a)?a:new wt(a)}}),gm=Bn(function(t,i){return _n(i,function(a){a=On(a),Ln(t,a,Xr(t[a],t))}),t});function mm(t){var i=t==null?0:t.length,a=vt();return t=i?Vt(t,function(h){if(typeof h[1]!="function")throw new bn(c);return[a(h[0]),h[1]]}):[],Rt(function(h){for(var P=-1;++P<i;){var z=t[P];if(un(z[0],this,h))return un(z[1],this,h)}})}function _m(t){return Hh(yn(t,x))}function no(t){return function(){return t}}function bm(t,i){return t==null||t!==t?i:t}var vm=gl(),ym=gl(!0);function cn(t){return t}function io(t){return za(typeof t=="function"?t:yn(t,x))}function Am(t){return Ga(yn(t,x))}function Sm(t,i){return Ka(t,yn(i,x))}var Em=Rt(function(t,i){return function(a){return Li(a,t,i)}}),wm=Rt(function(t,i){return function(a){return Li(t,a,i)}});function so(t,i,a){var h=Yt(i),P=bs(i,h);a==null&&!(jt(i)&&(P.length||!h.length))&&(a=i,i=t,t=this,P=bs(i,Yt(i)));var z=!(jt(a)&&"chain"in a)||!!a.chain,le=Un(t);return _n(P,function(be){var Fe=i[be];t[be]=Fe,le&&(t.prototype[be]=function(){var qe=this.__chain__;if(z||qe){var Ke=t(this.__wrapped__),Je=Ke.__actions__=on(this.__actions__);return Je.push({func:Fe,args:arguments,thisArg:t}),Ke.__chain__=qe,Ke}return Fe.apply(t,zn([this.value()],arguments))})}),t}function xm(){return Zt._===this&&(Zt._=Yu),this}function ro(){}function Cm(t){return t=Ct(t),Rt(function(i){return Xa(i,t)})}var Tm=Lr(Vt),Rm=Lr(ma),Pm=Lr(ar);function fc(t){return Vr(t)?lr(On(t)):sd(t)}function km(t){return function(i){return t==null?s:si(t,i)}}var Fm=_l(),Mm=_l(!0);function oo(){return[]}function ao(){return!1}function Om(){return{}}function Im(){return""}function Dm(){return!0}function Lm(t,i){if(t=Ct(t),t<1||t>ie)return[];var a=He,h=en(t,He);i=vt(i),t-=He;for(var P=hr(h,i);++a<t;)i(a);return P}function Nm(t){return xt(t)?Vt(t,On):fn(t)?[t]:on(Ol(Dt(t)))}function Bm(t){var i=++Ku;return Dt(t)+i}var $m=ws(function(t,i){return t+i},0),Um=Nr("ceil"),Hm=ws(function(t,i){return t/i},1),Wm=Nr("floor");function Vm(t){return t&&t.length?_s(t,cn,Sr):s}function jm(t,i){return t&&t.length?_s(t,vt(i,2),Sr):s}function zm(t){return va(t,cn)}function qm(t,i){return va(t,vt(i,2))}function Gm(t){return t&&t.length?_s(t,cn,Cr):s}function Km(t,i){return t&&t.length?_s(t,vt(i,2),Cr):s}var Xm=ws(function(t,i){return t*i},1),Ym=Nr("round"),Jm=ws(function(t,i){return t-i},0);function Zm(t){return t&&t.length?ur(t,cn):0}function Qm(t,i){return t&&t.length?ur(t,vt(i,2)):0}return W.after=Ap,W.ary=jl,W.assign=lg,W.assignIn=sc,W.assignInWith=Ns,W.assignWith=cg,W.at=ug,W.before=zl,W.bind=Xr,W.bindAll=gm,W.bindKey=ql,W.castArray=Op,W.chain=Hl,W.chunk=Hd,W.compact=Wd,W.concat=Vd,W.cond=mm,W.conforms=_m,W.constant=no,W.countBy=Zf,W.create=hg,W.curry=Gl,W.curryRight=Kl,W.debounce=Xl,W.defaults=dg,W.defaultsDeep=fg,W.defer=Sp,W.delay=Ep,W.difference=jd,W.differenceBy=zd,W.differenceWith=qd,W.drop=Gd,W.dropRight=Kd,W.dropRightWhile=Xd,W.dropWhile=Yd,W.fill=Jd,W.filter=ep,W.flatMap=ip,W.flatMapDeep=sp,W.flatMapDepth=rp,W.flatten=Nl,W.flattenDeep=Zd,W.flattenDepth=Qd,W.flip=wp,W.flow=vm,W.flowRight=ym,W.fromPairs=ef,W.functions=yg,W.functionsIn=Ag,W.groupBy=op,W.initial=nf,W.intersection=sf,W.intersectionBy=rf,W.intersectionWith=of,W.invert=Eg,W.invertBy=wg,W.invokeMap=lp,W.iteratee=io,W.keyBy=cp,W.keys=Yt,W.keysIn=ln,W.map=Fs,W.mapKeys=Cg,W.mapValues=Tg,W.matches=Am,W.matchesProperty=Sm,W.memoize=Os,W.merge=Rg,W.mergeWith=rc,W.method=Em,W.methodOf=wm,W.mixin=so,W.negate=Is,W.nthArg=Cm,W.omit=Pg,W.omitBy=kg,W.once=xp,W.orderBy=up,W.over=Tm,W.overArgs=Cp,W.overEvery=Rm,W.overSome=Pm,W.partial=Yr,W.partialRight=Yl,W.partition=hp,W.pick=Fg,W.pickBy=oc,W.property=fc,W.propertyOf=km,W.pull=uf,W.pullAll=$l,W.pullAllBy=hf,W.pullAllWith=df,W.pullAt=ff,W.range=Fm,W.rangeRight=Mm,W.rearg=Tp,W.reject=pp,W.remove=pf,W.rest=Rp,W.reverse=Gr,W.sampleSize=mp,W.set=Og,W.setWith=Ig,W.shuffle=_p,W.slice=gf,W.sortBy=yp,W.sortedUniq=Sf,W.sortedUniqBy=Ef,W.split=im,W.spread=Pp,W.tail=wf,W.take=xf,W.takeRight=Cf,W.takeRightWhile=Tf,W.takeWhile=Rf,W.tap=Vf,W.throttle=kp,W.thru=ks,W.toArray=tc,W.toPairs=ac,W.toPairsIn=lc,W.toPath=Nm,W.toPlainObject=ic,W.transform=Dg,W.unary=Fp,W.union=Pf,W.unionBy=kf,W.unionWith=Ff,W.uniq=Mf,W.uniqBy=Of,W.uniqWith=If,W.unset=Lg,W.unzip=Kr,W.unzipWith=Ul,W.update=Ng,W.updateWith=Bg,W.values=Si,W.valuesIn=$g,W.without=Df,W.words=hc,W.wrap=Mp,W.xor=Lf,W.xorBy=Nf,W.xorWith=Bf,W.zip=$f,W.zipObject=Uf,W.zipObjectDeep=Hf,W.zipWith=Wf,W.entries=ac,W.entriesIn=lc,W.extend=sc,W.extendWith=Ns,so(W,W),W.add=$m,W.attempt=dc,W.camelCase=Vg,W.capitalize=cc,W.ceil=Um,W.clamp=Ug,W.clone=Ip,W.cloneDeep=Lp,W.cloneDeepWith=Np,W.cloneWith=Dp,W.conformsTo=Bp,W.deburr=uc,W.defaultTo=bm,W.divide=Hm,W.endsWith=jg,W.eq=Tn,W.escape=zg,W.escapeRegExp=qg,W.every=Qf,W.find=tp,W.findIndex=Dl,W.findKey=pg,W.findLast=np,W.findLastIndex=Ll,W.findLastKey=gg,W.floor=Wm,W.forEach=Wl,W.forEachRight=Vl,W.forIn=mg,W.forInRight=_g,W.forOwn=bg,W.forOwnRight=vg,W.get=Qr,W.gt=$p,W.gte=Up,W.has=Sg,W.hasIn=eo,W.head=Bl,W.identity=cn,W.includes=ap,W.indexOf=tf,W.inRange=Hg,W.invoke=xg,W.isArguments=ai,W.isArray=xt,W.isArrayBuffer=Hp,W.isArrayLike=an,W.isArrayLikeObject=qt,W.isBoolean=Wp,W.isBuffer=Zn,W.isDate=Vp,W.isElement=jp,W.isEmpty=zp,W.isEqual=qp,W.isEqualWith=Gp,W.isError=Jr,W.isFinite=Kp,W.isFunction=Un,W.isInteger=Jl,W.isLength=Ds,W.isMap=Zl,W.isMatch=Xp,W.isMatchWith=Yp,W.isNaN=Jp,W.isNative=Zp,W.isNil=eg,W.isNull=Qp,W.isNumber=Ql,W.isObject=jt,W.isObjectLike=zt,W.isPlainObject=Wi,W.isRegExp=Zr,W.isSafeInteger=tg,W.isSet=ec,W.isString=Ls,W.isSymbol=fn,W.isTypedArray=Ai,W.isUndefined=ng,W.isWeakMap=ig,W.isWeakSet=sg,W.join=af,W.kebabCase=Gg,W.last=Sn,W.lastIndexOf=lf,W.lowerCase=Kg,W.lowerFirst=Xg,W.lt=rg,W.lte=og,W.max=Vm,W.maxBy=jm,W.mean=zm,W.meanBy=qm,W.min=Gm,W.minBy=Km,W.stubArray=oo,W.stubFalse=ao,W.stubObject=Om,W.stubString=Im,W.stubTrue=Dm,W.multiply=Xm,W.nth=cf,W.noConflict=xm,W.noop=ro,W.now=Ms,W.pad=Yg,W.padEnd=Jg,W.padStart=Zg,W.parseInt=Qg,W.random=Wg,W.reduce=dp,W.reduceRight=fp,W.repeat=em,W.replace=tm,W.result=Mg,W.round=Ym,W.runInContext=Te,W.sample=gp,W.size=bp,W.snakeCase=nm,W.some=vp,W.sortedIndex=mf,W.sortedIndexBy=_f,W.sortedIndexOf=bf,W.sortedLastIndex=vf,W.sortedLastIndexBy=yf,W.sortedLastIndexOf=Af,W.startCase=sm,W.startsWith=rm,W.subtract=Jm,W.sum=Zm,W.sumBy=Qm,W.template=om,W.times=Lm,W.toFinite=Hn,W.toInteger=Ct,W.toLength=nc,W.toLower=am,W.toNumber=En,W.toSafeInteger=ag,W.toString=Dt,W.toUpper=lm,W.trim=cm,W.trimEnd=um,W.trimStart=hm,W.truncate=dm,W.unescape=fm,W.uniqueId=Bm,W.upperCase=pm,W.upperFirst=to,W.each=Wl,W.eachRight=Vl,W.first=Bl,so(W,function(){var t={};return Fn(W,function(i,a){Lt.call(W.prototype,a)||(t[a]=i)}),t}(),{chain:!1}),W.VERSION=r,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){W[t].placeholder=W}),_n(["drop","take"],function(t,i){Ft.prototype[t]=function(a){a=a===s?1:Xt(Ct(a),0);var h=this.__filtered__&&!i?new Ft(this):this.clone();return h.__filtered__?h.__takeCount__=en(a,h.__takeCount__):h.__views__.push({size:en(a,He),type:t+(h.__dir__<0?"Right":"")}),h},Ft.prototype[t+"Right"]=function(a){return this.reverse()[t](a).reverse()}}),_n(["filter","map","takeWhile"],function(t,i){var a=i+1,h=a==K||a==Ce;Ft.prototype[t]=function(P){var z=this.clone();return z.__iteratees__.push({iteratee:vt(P,3),type:a}),z.__filtered__=z.__filtered__||h,z}}),_n(["head","last"],function(t,i){var a="take"+(i?"Right":"");Ft.prototype[t]=function(){return this[a](1).value()[0]}}),_n(["initial","tail"],function(t,i){var a="drop"+(i?"":"Right");Ft.prototype[t]=function(){return this.__filtered__?new Ft(this):this[a](1)}}),Ft.prototype.compact=function(){return this.filter(cn)},Ft.prototype.find=function(t){return this.filter(t).head()},Ft.prototype.findLast=function(t){return this.reverse().find(t)},Ft.prototype.invokeMap=Rt(function(t,i){return typeof t=="function"?new Ft(this):this.map(function(a){return Li(a,t,i)})}),Ft.prototype.reject=function(t){return this.filter(Is(vt(t)))},Ft.prototype.slice=function(t,i){t=Ct(t);var a=this;return a.__filtered__&&(t>0||i<0)?new Ft(a):(t<0?a=a.takeRight(-t):t&&(a=a.drop(t)),i!==s&&(i=Ct(i),a=i<0?a.dropRight(-i):a.take(i-t)),a)},Ft.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ft.prototype.toArray=function(){return this.take(He)},Fn(Ft.prototype,function(t,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),h=/^(?:head|last)$/.test(i),P=W[h?"take"+(i=="last"?"Right":""):i],z=h||/^find/.test(i);P&&(W.prototype[i]=function(){var le=this.__wrapped__,be=h?[1]:arguments,Fe=le instanceof Ft,qe=be[0],Ke=Fe||xt(le),Je=function(kt){var Mt=P.apply(W,zn([kt],be));return h&&ht?Mt[0]:Mt};Ke&&a&&typeof qe=="function"&&qe.length!=1&&(Fe=Ke=!1);var ht=this.__chain__,_t=!!this.__actions__.length,yt=z&&!ht,Tt=Fe&&!_t;if(!z&&Ke){le=Tt?le:new Ft(this);var At=t.apply(le,be);return At.__actions__.push({func:ks,args:[Je],thisArg:s}),new vn(At,ht)}return yt&&Tt?t.apply(this,be):(At=this.thru(Je),yt?h?At.value()[0]:At.value():At)})}),_n(["pop","push","shift","sort","splice","unshift"],function(t){var i=ns[t],a=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",h=/^(?:pop|shift)$/.test(t);W.prototype[t]=function(){var P=arguments;if(h&&!this.__chain__){var z=this.value();return i.apply(xt(z)?z:[],P)}return this[a](function(le){return i.apply(xt(le)?le:[],P)})}}),Fn(Ft.prototype,function(t,i){var a=W[i];if(a){var h=a.name+"";Lt.call(mi,h)||(mi[h]=[]),mi[h].push({name:i,func:a})}}),mi[Es(s,O).name]=[{name:"wrapper",func:s}],Ft.prototype.clone=dh,Ft.prototype.reverse=fh,Ft.prototype.value=ph,W.prototype.at=jf,W.prototype.chain=zf,W.prototype.commit=qf,W.prototype.next=Gf,W.prototype.plant=Xf,W.prototype.reverse=Yf,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Jf,W.prototype.first=W.prototype.head,Pi&&(W.prototype[Pi]=Kf),W},fi=zu();Qn?((Qn.exports=fi)._=fi,ir._=fi):Zt._=fi}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _=getDefaultExportFromCjs(lodashExports);function bind(e,n){return function(){return e.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator:iterator$1,toStringTag}=Symbol,kindOf=(e=>n=>{const s=toString.call(n);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),n=>kindOf(n)===e),typeOfTest=e=>n=>typeof n===e,{isArray:isArray$2}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction$2(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&isArrayBuffer(e.buffer),n}const isString$2=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject$1=e=>{if(kindOf(e)!=="object")return!1;const n=getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(toStringTag in e)&&!(iterator$1 in e)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$2(e)&&isFunction$2(e.pipe),isFormData=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction$2(e.append)&&((n=kindOf(e))==="formdata"||n==="object"&&isFunction$2(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,n,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),isArray$2(e))for(r=0,o=e.length;r<o;r++)n.call(null,e[r],r,e);else{const l=s?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let y;for(r=0;r<c;r++)y=l[r],n.call(null,e[y],y,e)}}function findKey(e,n){n=n.toLowerCase();const s=Object.keys(e);let r=s.length,o;for(;r-- >0;)if(o=s[r],n===o.toLowerCase())return o;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},n={},s=(r,o)=>{const l=e&&findKey(n,o)||o;isPlainObject$1(n[l])&&isPlainObject$1(r)?n[l]=merge(n[l],r):isPlainObject$1(r)?n[l]=merge({},r):isArray$2(r)?n[l]=r.slice():n[l]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&forEach(arguments[r],s);return n}const extend$2=(e,n,s,{allOwnKeys:r}={})=>(forEach(n,(o,l)=>{s&&isFunction$2(o)?e[l]=bind(o,s):e[l]=o},{allOwnKeys:r}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,n,s,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject=(e,n,s,r)=>{let o,l,c;const y={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!r||r(c,e,n))&&!y[c]&&(n[c]=e[c],y[c]=!0);e=s!==!1&&getPrototypeOf(e)}while(e&&(!s||s(e,n))&&e!==Object.prototype);return n},endsWith=(e,n,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=n.length;const r=e.indexOf(n,s);return r!==-1&&r===s},toArray=e=>{if(!e)return null;if(isArray$2(e))return e;let n=e.length;if(!isNumber(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=e[n];return s},isTypedArray=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,n)=>{const r=(e&&e[iterator$1]).call(e);let o;for(;(o=r.next())&&!o.done;){const l=o.value;n.call(e,l[0],l[1])}},matchAll=(e,n)=>{let s;const r=[];for(;(s=e.exec(n))!==null;)r.push(s);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),hasOwnProperty$2=(({hasOwnProperty:e})=>(n,s)=>e.call(n,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,n)=>{const s=Object.getOwnPropertyDescriptors(e),r={};forEach(s,(o,l)=>{let c;(c=n(o,l,e))!==!1&&(r[l]=c||o)}),Object.defineProperties(e,r)},freezeMethods=e=>{reduceDescriptors(e,(n,s)=>{if(isFunction$2(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(isFunction$2(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(e,n)=>{const s={},r=o=>{o.forEach(l=>{s[l]=!0})};return isArray$2(e)?r(e):r(String(e).split(n)),s},noop=()=>{},toFiniteNumber=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function isSpecCompliantForm(e){return!!(e&&isFunction$2(e.append)&&e[toStringTag]==="FormData"&&e[iterator$1])}const toJSONObject=e=>{const n=new Array(10),s=(r,o)=>{if(isObject$2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[o]=r;const l=isArray$2(r)?[]:{};return forEach(r,(c,y)=>{const b=s(c,o+1);!isUndefined(b)&&(l[y]=b)}),n[o]=void 0,l}}return r};return s(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$2(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),_setImmediate=((e,n)=>e?setImmediate:n?((s,r)=>(_global.addEventListener("message",({source:o,data:l})=>{o===_global&&l===s&&r.length&&r.shift()()},!1),o=>{r.push(o),_global.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=e=>e!=null&&isFunction$2(e[iterator$1]),utils$1={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber,isBoolean,isObject:isObject$2,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$2,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(e,n,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,n,s,r,o,l)=>{const c=Object.create(prototype$1);return utils$1.toFlatObject(e,c,function(b){return b!==Error.prototype},y=>y!=="isAxiosError"),AxiosError.call(c,e.message,n,s,r,o),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,n,s){return e?e.concat(n).map(function(o,l){return o=removeBrackets(o),!s&&l?"["+o+"]":o}).join(s?".":""):n}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData(e,n,s){if(!utils$1.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,w){return!utils$1.isUndefined(w[M])});const r=s.metaTokens,o=s.visitor||d,l=s.dots,c=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function A(k){if(k===null)return"";if(utils$1.isDate(k))return k.toISOString();if(utils$1.isBoolean(k))return k.toString();if(!b&&utils$1.isBlob(k))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(k)||utils$1.isTypedArray(k)?b&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function d(k,M,w){let O=k;if(k&&!w&&typeof k=="object"){if(utils$1.endsWith(M,"{}"))M=r?M:M.slice(0,-2),k=JSON.stringify(k);else if(utils$1.isArray(k)&&isFlatArray(k)||(utils$1.isFileList(k)||utils$1.endsWith(M,"[]"))&&(O=utils$1.toArray(k)))return M=removeBrackets(M),O.forEach(function($,I){!(utils$1.isUndefined($)||$===null)&&n.append(c===!0?renderKey([M],I,l):c===null?M:M+"[]",A($))}),!1}return isVisitable(k)?!0:(n.append(renderKey(w,M,l),A(k)),!1)}const x=[],V=Object.assign(predicates,{defaultVisitor:d,convertValue:A,isVisitable});function D(k,M){if(!utils$1.isUndefined(k)){if(x.indexOf(k)!==-1)throw Error("Circular reference detected in "+M.join("."));x.push(k),utils$1.forEach(k,function(O,U){(!(utils$1.isUndefined(O)||O===null)&&o.call(n,O,utils$1.isString(U)?U.trim():U,M,V))===!0&&D(O,M?M.concat(U):[U])}),x.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return D(e),n}function encode$1(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams(e,n){this._pairs=[],e&&toFormData(e,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,s){this._pairs.push([n,s])};prototype.toString=function(n){const s=n?function(r){return n.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,n,s){if(!n)return e;const r=s&&s.encode||encode;utils$1.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let l;if(o?l=o(n,s):l=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,s).toString(r),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class InterceptorManager{constructor(){this.handlers=[]}use(n,s,r){return this.handlers.push({fulfilled:n,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,n){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,r,o,l){return platform.isNode&&utils$1.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(e){const n={},s=Object.keys(e);let r;const o=s.length;let l;for(r=0;r<o;r++)l=s[r],n[l]=e[l];return n}function formDataToJSON(e){function n(s,r,o,l){let c=s[l++];if(c==="__proto__")return!0;const y=Number.isFinite(+c),b=l>=s.length;return c=!c&&utils$1.isArray(o)?o.length:c,b?(utils$1.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!y):((!o[c]||!utils$1.isObject(o[c]))&&(o[c]=[]),n(s,r,o[c],l)&&utils$1.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!y)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const s={};return utils$1.forEachEntry(e,(r,o)=>{n(parsePropPath(r),o,s,0)}),s}return null}function stringifySafely(e,n,s){if(utils$1.isString(e))try{return(n||JSON.parse)(e),utils$1.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,l=utils$1.isObject(n);if(l&&utils$1.isHTMLForm(n)&&(n=new FormData(n)),utils$1.isFormData(n))return o?JSON.stringify(formDataToJSON(n)):n;if(utils$1.isArrayBuffer(n)||utils$1.isBuffer(n)||utils$1.isStream(n)||utils$1.isFile(n)||utils$1.isBlob(n)||utils$1.isReadableStream(n))return n;if(utils$1.isArrayBufferView(n))return n.buffer;if(utils$1.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let y;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((y=utils$1.isFileList(n))||r.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return toFormData(y?{"files[]":n}:n,b&&new b,this.formSerializer)}}return l||o?(s.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const s=this.transitional||defaults.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(n)||utils$1.isReadableStream(n))return n;if(n&&utils$1.isString(n)&&(r&&!this.responseType||o)){const c=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(y){if(c)throw y.name==="SyntaxError"?AxiosError.from(y,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):y}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const n={};let s,r,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),s=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!s||n[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?n[s]?n[s].push(r):n[s]=[r]:n[s]=n[s]?n[s]+", "+r:r)}),n},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)n[r[1]]=r[2];return n}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,n,s,r,o){if(utils$1.isFunction(r))return r.call(this,n,s);if(o&&(n=s),!!utils$1.isString(n)){if(utils$1.isString(r))return n.indexOf(r)!==-1;if(utils$1.isRegExp(r))return r.test(n)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,r)=>s.toUpperCase()+r)}function buildAccessors(e,n){const s=utils$1.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(o,l,c){return this[r].call(this,n,o,l,c)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,s,r){const o=this;function l(y,b,A){const d=normalizeHeader(b);if(!d)throw new Error("header name must be a non-empty string");const x=utils$1.findKey(o,d);(!x||o[x]===void 0||A===!0||A===void 0&&o[x]!==!1)&&(o[x||b]=normalizeValue(y))}const c=(y,b)=>utils$1.forEach(y,(A,d)=>l(A,d,b));if(utils$1.isPlainObject(n)||n instanceof this.constructor)c(n,s);else if(utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))c(parseHeaders(n),s);else if(utils$1.isObject(n)&&utils$1.isIterable(n)){let y={},b,A;for(const d of n){if(!utils$1.isArray(d))throw TypeError("Object iterator must return a key-value pair");y[A=d[0]]=(b=y[A])?utils$1.isArray(b)?[...b,d[1]]:[b,d[1]]:d[1]}c(y,s)}else n!=null&&l(s,n,r);return this}get(n,s){if(n=normalizeHeader(n),n){const r=utils$1.findKey(this,n);if(r){const o=this[r];if(!s)return o;if(s===!0)return parseTokens(o);if(utils$1.isFunction(s))return s.call(this,o,r);if(utils$1.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=normalizeHeader(n),n){const r=utils$1.findKey(this,n);return!!(r&&this[r]!==void 0&&(!s||matchHeaderValue(this,this[r],r,s)))}return!1}delete(n,s){const r=this;let o=!1;function l(c){if(c=normalizeHeader(c),c){const y=utils$1.findKey(r,c);y&&(!s||matchHeaderValue(r,r[y],y,s))&&(delete r[y],o=!0)}}return utils$1.isArray(n)?n.forEach(l):l(n),o}clear(n){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const l=s[r];(!n||matchHeaderValue(this,this[l],l,n,!0))&&(delete this[l],o=!0)}return o}normalize(n){const s=this,r={};return utils$1.forEach(this,(o,l)=>{const c=utils$1.findKey(r,l);if(c){s[c]=normalizeValue(o),delete s[l];return}const y=n?formatHeader(l):String(l).trim();y!==l&&delete s[l],s[y]=normalizeValue(o),r[y]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return utils$1.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=n&&utils$1.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const r=new this(n);return s.forEach(o=>r.set(o)),r}static accessor(n){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function l(c){const y=normalizeHeader(c);r[y]||(buildAccessors(o,c),r[y]=!0)}return utils$1.isArray(n)?n.forEach(l):l(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:e},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[s]=r}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,n){const s=this||defaults$1,r=n||s,o=AxiosHeaders$1.from(r.headers);let l=r.data;return utils$1.forEach(e,function(y){l=y.call(s,l,o.normalize(),n?n.status:void 0)}),o.normalize(),l}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,n,s){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,n,s),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,n,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):n(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function parseProtocol(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function speedometer(e,n){e=e||10;const s=new Array(e),r=new Array(e);let o=0,l=0,c;return n=n!==void 0?n:1e3,function(b){const A=Date.now(),d=r[l];c||(c=A),s[o]=b,r[o]=A;let x=l,V=0;for(;x!==o;)V+=s[x++],x=x%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),A-c<n)return;const D=d&&A-d;return D?Math.round(V*1e3/D):void 0}}function throttle(e,n){let s=0,r=1e3/n,o,l;const c=(A,d=Date.now())=>{s=d,o=null,l&&(clearTimeout(l),l=null),e.apply(null,A)};return[(...A)=>{const d=Date.now(),x=d-s;x>=r?c(A,d):(o=A,l||(l=setTimeout(()=>{l=null,c(o)},r-x)))},()=>o&&c(o)]}const progressEventReducer=(e,n,s=3)=>{let r=0;const o=speedometer(50,250);return throttle(l=>{const c=l.loaded,y=l.lengthComputable?l.total:void 0,b=c-r,A=o(b),d=c<=y;r=c;const x={loaded:c,total:y,progress:y?c/y:void 0,bytes:b,rate:A||void 0,estimated:A&&y&&d?(y-c)/A:void 0,event:l,lengthComputable:y!=null,[n?"download":"upload"]:!0};e(x)},s)},progressEventDecorator=(e,n)=>{const s=e!=null;return[r=>n[0]({lengthComputable:s,total:e,loaded:r}),n[1]]},asyncDecorator=e=>(...n)=>utils$1.asap(()=>e(...n)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,n)=>s=>(s=new URL(s,platform.origin),e.protocol===s.protocol&&e.host===s.host&&(n||e.port===s.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,n,s,r,o,l){const c=[e+"="+encodeURIComponent(n)];utils$1.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),utils$1.isString(r)&&c.push("path="+r),utils$1.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function buildFullPath(e,n,s){let r=!isAbsoluteURL(n);return e&&(r||s==!1)?combineURLs(e,n):n}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig(e,n){n=n||{};const s={};function r(A,d,x,V){return utils$1.isPlainObject(A)&&utils$1.isPlainObject(d)?utils$1.merge.call({caseless:V},A,d):utils$1.isPlainObject(d)?utils$1.merge({},d):utils$1.isArray(d)?d.slice():d}function o(A,d,x,V){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(A))return r(void 0,A,x,V)}else return r(A,d,x,V)}function l(A,d){if(!utils$1.isUndefined(d))return r(void 0,d)}function c(A,d){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(A))return r(void 0,A)}else return r(void 0,d)}function y(A,d,x){if(x in n)return r(A,d);if(x in e)return r(void 0,A)}const b={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:y,headers:(A,d,x)=>o(headersToObject(A),headersToObject(d),x,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,n)),function(d){const x=b[d]||o,V=x(e[d],n[d],d);utils$1.isUndefined(V)&&x!==y||(s[d]=V)}),s}const resolveConfig=e=>{const n=mergeConfig({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:y}=n;n.headers=c=AxiosHeaders$1.from(c),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&c.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let b;if(utils$1.isFormData(s)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((b=c.getContentType())!==!1){const[A,...d]=b?b.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([A||"multipart/form-data",...d].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$1.isFunction(r)&&(r=r(n)),r||r!==!1&&isURLSameOrigin(n.url))){const A=o&&l&&cookies.read(l);A&&c.set(o,A)}return n},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(s,r){const o=resolveConfig(e);let l=o.data;const c=AxiosHeaders$1.from(o.headers).normalize();let{responseType:y,onUploadProgress:b,onDownloadProgress:A}=o,d,x,V,D,k;function M(){D&&D(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function O(){if(!w)return;const $=AxiosHeaders$1.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!y||y==="text"||y==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:$,config:e,request:w};settle(function(G){s(G),M()},function(G){r(G),M()},S),w=null}"onloadend"in w?w.onloadend=O:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(O)},w.onabort=function(){w&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let I=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(I=o.timeoutErrorMessage),r(new AxiosError(I,S.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,w)),w=null},l===void 0&&c.setContentType(null),"setRequestHeader"in w&&utils$1.forEach(c.toJSON(),function(I,S){w.setRequestHeader(S,I)}),utils$1.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),y&&y!=="json"&&(w.responseType=o.responseType),A&&([V,k]=progressEventReducer(A,!0),w.addEventListener("progress",V)),b&&w.upload&&([x,D]=progressEventReducer(b),w.upload.addEventListener("progress",x),w.upload.addEventListener("loadend",D)),(o.cancelToken||o.signal)&&(d=$=>{w&&(r(!$||$.type?new CanceledError(null,e,w):$),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const U=parseProtocol(o.url);if(U&&platform.protocols.indexOf(U)===-1){r(new AxiosError("Unsupported protocol "+U+":",AxiosError.ERR_BAD_REQUEST,e));return}w.send(l||null)})},composeSignals=(e,n)=>{const{length:s}=e=e?e.filter(Boolean):[];if(n||s){let r=new AbortController,o;const l=function(A){if(!o){o=!0,y();const d=A instanceof Error?A:this.reason;r.abort(d instanceof AxiosError?d:new CanceledError(d instanceof Error?d.message:d))}};let c=n&&setTimeout(()=>{c=null,l(new AxiosError(`timeout ${n} of ms exceeded`,AxiosError.ETIMEDOUT))},n);const y=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(A=>{A.unsubscribe?A.unsubscribe(l):A.removeEventListener("abort",l)}),e=null)};e.forEach(A=>A.addEventListener("abort",l));const{signal:b}=r;return b.unsubscribe=()=>utils$1.asap(y),b}},composeSignals$1=composeSignals,streamChunk=function*(e,n){let s=e.byteLength;if(!n||s<n){yield e;return}let r=0,o;for(;r<s;)o=r+n,yield e.slice(r,o),r=o},readBytes=async function*(e,n){for await(const s of readStream(e))yield*streamChunk(s,n)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:s,value:r}=await n.read();if(s)break;yield r}}finally{await n.cancel()}},trackStream=(e,n,s,r)=>{const o=readBytes(e,n);let l=0,c,y=b=>{c||(c=!0,r&&r(b))};return new ReadableStream({async pull(b){try{const{done:A,value:d}=await o.next();if(A){y(),b.close();return}let x=d.byteLength;if(s){let V=l+=x;s(V)}b.enqueue(new Uint8Array(d))}catch(A){throw y(A),A}},cancel(b){return y(b),o.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...n)=>{try{return!!e(...n)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const n=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!resolvers[n]&&(resolvers[n]=utils$1.isFunction(e[n])?s=>s[n]():(s,r)=>{throw new AxiosError(`Response type '${n}' is not supported`,AxiosError.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,n)=>{const s=utils$1.toFiniteNumber(e.getContentLength());return s??getBodyLength(n)},fetchAdapter=isFetchSupported&&(async e=>{let{url:n,method:s,data:r,signal:o,cancelToken:l,timeout:c,onDownloadProgress:y,onUploadProgress:b,responseType:A,headers:d,withCredentials:x="same-origin",fetchOptions:V}=resolveConfig(e);A=A?(A+"").toLowerCase():"text";let D=composeSignals$1([o,l&&l.toAbortSignal()],c),k;const M=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let w;try{if(b&&supportsRequestStream&&s!=="get"&&s!=="head"&&(w=await resolveBodyLength(d,r))!==0){let S=new Request(n,{method:"POST",body:r,duplex:"half"}),C;if(utils$1.isFormData(r)&&(C=S.headers.get("content-type"))&&d.setContentType(C),S.body){const[G,N]=progressEventDecorator(w,progressEventReducer(asyncDecorator(b)));r=trackStream(S.body,DEFAULT_CHUNK_SIZE,G,N)}}utils$1.isString(x)||(x=x?"include":"omit");const O="credentials"in Request.prototype;k=new Request(n,{...V,signal:D,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:O?x:void 0});let U=await fetch(k,V);const $=supportsResponseStream&&(A==="stream"||A==="response");if(supportsResponseStream&&(y||$&&M)){const S={};["status","statusText","headers"].forEach(E=>{S[E]=U[E]});const C=utils$1.toFiniteNumber(U.headers.get("content-length")),[G,N]=y&&progressEventDecorator(C,progressEventReducer(asyncDecorator(y),!0))||[];U=new Response(trackStream(U.body,DEFAULT_CHUNK_SIZE,G,()=>{N&&N(),M&&M()}),S)}A=A||"text";let I=await resolvers[utils$1.findKey(resolvers,A)||"text"](U,e);return!$&&M&&M(),await new Promise((S,C)=>{settle(S,C,{data:I,headers:AxiosHeaders$1.from(U.headers),status:U.status,statusText:U.statusText,config:e,request:k})})}catch(O){throw M&&M(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,k),{cause:O.cause||O}):AxiosError.from(O,O&&O.code,e,k)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:n}=e;let s,r;const o={};for(let l=0;l<n;l++){s=e[l];let c;if(r=s,!isResolvedHandle(s)&&(r=knownAdapters[(c=String(s)).toLowerCase()],r===void 0))throw new AxiosError(`Unknown adapter '${c}'`);if(r)break;o[c||"#"+l]=r}if(!r){const l=Object.entries(o).map(([y,b])=>`adapter ${y} `+(b===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(renderReason).join(`
`):" "+renderReason(l[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(r){return throwIfCancellationRequested(e),r.data=transformData.call(e,e.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(e),r&&r.response&&(r.response.data=transformData.call(e,e.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const VERSION="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{validators$1[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(n,s,r){function o(l,c){return"[Axios v"+VERSION+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,y)=>{if(n===!1)throw new AxiosError(o(c," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(l,c,y):!0}};validators$1.spelling=function(n){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function assertOptions(e,n,s){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const l=r[o],c=n[l];if(c){const y=e[l],b=y===void 0||c(y,l,e);if(b!==!0)throw new AxiosError("option "+l+" must be "+b,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+l,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(n,s){try{return await this._request(n,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=mergeConfig(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:l}=s;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?s.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),validator.assertOptions(s,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=l&&utils$1.merge(l.common,l[s.method]);l&&utils$1.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),s.headers=AxiosHeaders$1.concat(c,l);const y=[];let b=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(s)===!1||(b=b&&M.synchronous,y.unshift(M.fulfilled,M.rejected))});const A=[];this.interceptors.response.forEach(function(M){A.push(M.fulfilled,M.rejected)});let d,x=0,V;if(!b){const k=[dispatchRequest.bind(this),void 0];for(k.unshift.apply(k,y),k.push.apply(k,A),V=k.length,d=Promise.resolve(s);x<V;)d=d.then(k[x++],k[x++]);return d}V=y.length;let D=s;for(x=0;x<V;){const k=y[x++],M=y[x++];try{D=k(D)}catch(w){M.call(this,w);break}}try{d=dispatchRequest.call(this,D)}catch(k){return Promise.reject(k)}for(x=0,V=A.length;x<V;)d=d.then(A[x++],A[x++]);return d}getUri(n){n=mergeConfig(this.defaults,n);const s=buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls);return buildURL(s,n.params,n.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(n){Axios.prototype[n]=function(s,r){return this.request(mergeConfig(r||{},{method:n,url:s,data:(r||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function s(r){return function(l,c,y){return this.request(mergeConfig(y||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Axios.prototype[n]=s(),Axios.prototype[n+"Form"]=s(!0)});const Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(o=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](o);r._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(y=>{r.subscribe(y),l=y}).then(o);return c.cancel=function(){r.unsubscribe(l)},c},n(function(l,c,y){r.reason||(r.reason=new CanceledError(l,c,y),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const n=new AbortController,s=r=>{n.abort(r)};return this.subscribe(s),n.signal.unsubscribe=()=>this.unsubscribe(s),n.signal}static source(){let n;return{token:new CancelToken(function(o){n=o}),cancel:n}}}const CancelToken$1=CancelToken;function spread(e){return function(s){return e.apply(null,s)}}function isAxiosError(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,n])=>{HttpStatusCode[n]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const n=new Axios$1(e),s=bind(Axios$1.prototype.request,n);return utils$1.extend(s,Axios$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(s,n,null,{allOwnKeys:!0}),s.create=function(o){return createInstance(mergeConfig(e,o))},s}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;window._=_;window.axios=axios$1;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const csrfToken=document.head.querySelector('meta[name="csrf-token"]');csrfToken?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=csrfToken.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token");const app="";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap$1(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener$1=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,n)=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,n)=>hasOwnProperty$1.call(e,n),isArray$1=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet$1=e=>toTypeString$1(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol$1=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$1(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap$1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(e=>e.replace(camelizeRE$1,(n,s)=>s?s.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(e=>e.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize$1=cacheStringFunction$1(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction$1(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,n)=>!Object.is(e,n),invokeArrayFns$1=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},def=(e,n,s,r=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:r,value:s})},looseToNumber$1=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++){const r=e[s],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const l in o)n[l]=o[l]}return n}else if(isString$1(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const n={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const r=s.split(propertyDelimiterRE);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function normalizeClass(e){let n="";if(isString$1(e))n=e;else if(isArray$1(e))for(let s=0;s<e.length;s++){const r=normalizeClass(e[s]);r&&(n+=r+" ")}else if(isObject$1(e))for(const s in e)e[s]&&(n+=s+" ");return n.trim()}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$1(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,n)=>isRef$1(n)?replacer(e,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[r,o],l)=>(s[stringifySymbol(r,l)+" =>"]=o,s),{})}:isSet$1(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>stringifySymbol(s))}:isSymbol$1(n)?stringifySymbol(n):isObject$1(n)&&!isArray$1(n)&&!isPlainObject(n)?String(n):n,stringifySymbol=(e,n="")=>{var s;return isSymbol$1(e)?`Symbol(${(s=e.description)!=null?s:n})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].pause();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].resume();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].resume()}}run(n){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const n=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=n,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)removeSub(n);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,n=!1){if(e.flags|=8,n){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let n=batchedComputed;for(batchedComputed=void 0;n;){const s=n.next;n.next=void 0,n.flags&=-9,n=s}}let e;for(;batchedSub;){let n=batchedSub;for(batchedSub=void 0;n;){const s=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(r){e||(e=r)}n=s}}if(e)throw e}function prepareDeps(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function cleanupDeps(e){let n,s=e.depsTail,r=s;for(;r;){const o=r.prevDep;r.version===-1?(r===s&&(s=o),removeSub(r),removeDep(r)):n=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=n,e.depsTail=s}function isDirty(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(refreshComputed(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const n=e.dep,s=activeSub,r=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const o=e.fn(e._value);(n.version===0||hasChanged(o,e._value))&&(e.flags|=128,e._value=o,n.version++)}catch(o){throw n.version++,o}finally{activeSub=s,shouldTrack=r,cleanupDeps(e),e.flags&=-3}}function removeSub(e,n=!1){const{dep:s,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!n&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(e){const{prevDep:n,nextDep:s}=e;n&&(n.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=n,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const s=activeSub;activeSub=void 0;try{n()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(n,s){this.sub=n,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=r)}return s}trigger(n){this.version++,globalVersion++,this.notify(n)}notify(n){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let r=n.deps;r;r=r.nextDep)addSub(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,n,s){if(shouldTrack&&activeSub){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let o=r.get(s);o||(r.set(s,o=new Dep),o.map=r,o.key=s),o.track()}}function trigger(e,n,s,r,o,l){const c=targetMap.get(e);if(!c){globalVersion++;return}const y=b=>{b&&b.trigger()};if(startBatch(),n==="clear")c.forEach(y);else{const b=isArray$1(e),A=b&&isIntegerKey(s);if(b&&s==="length"){const d=Number(r);c.forEach((x,V)=>{(V==="length"||V===ARRAY_ITERATE_KEY||!isSymbol$1(V)&&V>=d)&&y(x)})}else switch((s!==void 0||c.has(void 0))&&y(c.get(s)),A&&y(c.get(ARRAY_ITERATE_KEY)),n){case"add":b?A&&y(c.get("length")):(y(c.get(ITERATE_KEY)),isMap(e)&&y(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":b||(y(c.get(ITERATE_KEY)),isMap(e)&&y(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&y(c.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(e){const n=toRaw(e);return n===e?n:(track(n,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?n:n.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(n=>isArray$1(n)?reactiveReadArray(n):n))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,n){return apply(this,"every",e,n,void 0,arguments)},filter(e,n){return apply(this,"filter",e,n,s=>s.map(toReactive),arguments)},find(e,n){return apply(this,"find",e,n,toReactive,arguments)},findIndex(e,n){return apply(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return apply(this,"findLast",e,n,toReactive,arguments)},findLastIndex(e,n){return apply(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return apply(this,"forEach",e,n,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,n){return apply(this,"map",e,n,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...n){return reduce(this,"reduce",e,n)},reduceRight(e,...n){return reduce(this,"reduceRight",e,n)},shift(){return noTracking(this,"shift")},some(e,n){return apply(this,"some",e,n,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,n,s){const r=shallowReadArray(e),o=r[n]();return r!==e&&!isShallow(e)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=s(l.value)),l}),o}const arrayProto=Array.prototype;function apply(e,n,s,r,o,l){const c=shallowReadArray(e),y=c!==e&&!isShallow(e),b=c[n];if(b!==arrayProto[n]){const x=b.apply(e,l);return y?toReactive(x):x}let A=s;c!==e&&(y?A=function(x,V){return s.call(this,toReactive(x),V,e)}:s.length>2&&(A=function(x,V){return s.call(this,x,V,e)}));const d=b.call(c,A,r);return y&&o?o(d):d}function reduce(e,n,s,r){const o=shallowReadArray(e);let l=s;return o!==e&&(isShallow(e)?s.length>3&&(l=function(c,y,b){return s.call(this,c,y,b,e)}):l=function(c,y,b){return s.call(this,c,toReactive(y),b,e)}),o[n](l,...r)}function searchProxy(e,n,s){const r=toRaw(e);track(r,"iterate",ARRAY_ITERATE_KEY);const o=r[n](...s);return(o===-1||o===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),r[n](...s)):o}function noTracking(e,n,s=[]){pauseTracking(),startBatch();const r=toRaw(e)[n].apply(e,s);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap$1("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$1));function hasOwnProperty(e){isSymbol$1(e)||(e=String(e));const n=toRaw(this);return track(n,"has",e),n.hasOwnProperty(e)}class BaseReactiveHandler{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,r){if(s==="__v_skip")return n.__v_skip;const o=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return l;if(s==="__v_raw")return r===(o?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(r)?n:void 0;const c=isArray$1(n);if(!o){let b;if(c&&(b=arrayInstrumentations[s]))return b;if(s==="hasOwnProperty")return hasOwnProperty}const y=Reflect.get(n,s,isRef(n)?n:r);return(isSymbol$1(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(o||track(n,"get",s),l)?y:isRef(y)?c&&isIntegerKey(s)?y:y.value:isObject$1(y)?o?readonly(y):reactive(y):y}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!1,n)}set(n,s,r,o){let l=n[s];if(!this._isShallow){const b=isReadonly(l);if(!isShallow(r)&&!isReadonly(r)&&(l=toRaw(l),r=toRaw(r)),!isArray$1(n)&&isRef(l)&&!isRef(r))return b?!1:(l.value=r,!0)}const c=isArray$1(n)&&isIntegerKey(s)?Number(s)<n.length:hasOwn(n,s),y=Reflect.set(n,s,r,isRef(n)?n:o);return n===toRaw(o)&&(c?hasChanged(r,l)&&trigger(n,"set",s,r):trigger(n,"add",s,r)),y}deleteProperty(n,s){const r=hasOwn(n,s);n[s];const o=Reflect.deleteProperty(n,s);return o&&r&&trigger(n,"delete",s,void 0),o}has(n,s){const r=Reflect.has(n,s);return(!isSymbol$1(s)||!builtInSymbols.has(s))&&track(n,"has",s),r}ownKeys(n){return track(n,"iterate",isArray$1(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,n,s){return function(...r){const o=this.__v_raw,l=toRaw(o),c=isMap(l),y=e==="entries"||e===Symbol.iterator&&c,b=e==="keys"&&c,A=o[e](...r),d=s?toShallow:n?toReadonly:toReactive;return!n&&track(l,"iterate",b?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:x,done:V}=A.next();return V?{value:x,done:V}:{value:y?[d(x[0]),d(x[1])]:d(x),done:V}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,n){const s={get(o){const l=this.__v_raw,c=toRaw(l),y=toRaw(o);e||(hasChanged(o,y)&&track(c,"get",o),track(c,"get",y));const{has:b}=getProto(c),A=n?toShallow:e?toReadonly:toReactive;if(b.call(c,o))return A(l.get(o));if(b.call(c,y))return A(l.get(y));l!==c&&l.get(o)},get size(){const o=this.__v_raw;return!e&&track(toRaw(o),"iterate",ITERATE_KEY),Reflect.get(o,"size",o)},has(o){const l=this.__v_raw,c=toRaw(l),y=toRaw(o);return e||(hasChanged(o,y)&&track(c,"has",o),track(c,"has",y)),o===y?l.has(o):l.has(o)||l.has(y)},forEach(o,l){const c=this,y=c.__v_raw,b=toRaw(y),A=n?toShallow:e?toReadonly:toReactive;return!e&&track(b,"iterate",ITERATE_KEY),y.forEach((d,x)=>o.call(l,A(d),A(x),c))}};return extend$1(s,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(o){!n&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const l=toRaw(this);return getProto(l).has.call(l,o)||(l.add(o),trigger(l,"add",o,o)),this},set(o,l){!n&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const c=toRaw(this),{has:y,get:b}=getProto(c);let A=y.call(c,o);A||(o=toRaw(o),A=y.call(c,o));const d=b.call(c,o);return c.set(o,l),A?hasChanged(l,d)&&trigger(c,"set",o,l):trigger(c,"add",o,l),this},delete(o){const l=toRaw(this),{has:c,get:y}=getProto(l);let b=c.call(l,o);b||(o=toRaw(o),b=c.call(l,o)),y&&y.call(l,o);const A=l.delete(o);return b&&trigger(l,"delete",o,void 0),A},clear(){const o=toRaw(this),l=o.size!==0,c=o.clear();return l&&trigger(o,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=createIterableMethod(o,e,n)}),s}function createInstrumentationGetter(e,n){const s=createInstrumentations(e,n);return(r,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hasOwn(s,o)&&o in r?s:r,o,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,n,s,r,o){if(!isObject$1(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=getTargetType(e);if(l===0)return e;const c=o.get(e);if(c)return c;const y=new Proxy(e,l===2?r:s);return o.set(e,y),y}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const n=e&&e.__v_raw;return n?toRaw(n):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function createRef(e,n){return isRef(e)?e:new RefImpl(e,n)}class RefImpl{constructor(n,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?n:toRaw(n),this._value=s?n:toReactive(n),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(n){const s=this._rawValue,r=this.__v_isShallow||isShallow(n)||isReadonly(n);n=r?n:toRaw(n),hasChanged(n,s)&&(this._rawValue=n,this._value=r?n:toReactive(n),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,n,s)=>n==="__v_raw"?e:unref(Reflect.get(e,n,s)),set:(e,n,s,r)=>{const o=e[n];return isRef(o)&&!isRef(s)?(o.value=s,!0):Reflect.set(e,n,s,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(n,s,r){this.fn=n,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const n=this.dep.track();return refreshComputed(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function computed$1(e,n,s=!1){let r,o;return isFunction$1(e)?r=e:(r=e.get,o=e.set),new ComputedRefImpl(r,o,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,n=!1,s=activeWatcher){if(s){let r=cleanupMap.get(s);r||cleanupMap.set(s,r=[]),r.push(e)}}function watch$1(e,n,s=EMPTY_OBJ){const{immediate:r,deep:o,once:l,scheduler:c,augmentJob:y,call:b}=s,A=I=>o?I:isShallow(I)||o===!1||o===0?traverse(I,1):traverse(I);let d,x,V,D,k=!1,M=!1;if(isRef(e)?(x=()=>e.value,k=isShallow(e)):isReactive(e)?(x=()=>A(e),k=!0):isArray$1(e)?(M=!0,k=e.some(I=>isReactive(I)||isShallow(I)),x=()=>e.map(I=>{if(isRef(I))return I.value;if(isReactive(I))return A(I);if(isFunction$1(I))return b?b(I,2):I()})):isFunction$1(e)?n?x=b?()=>b(e,2):e:x=()=>{if(V){pauseTracking();try{V()}finally{resetTracking()}}const I=activeWatcher;activeWatcher=d;try{return b?b(e,3,[D]):e(D)}finally{activeWatcher=I}}:x=NOOP,n&&o){const I=x,S=o===!0?1/0:o;x=()=>traverse(I(),S)}const w=getCurrentScope(),O=()=>{d.stop(),w&&w.active&&remove(w.effects,d)};if(l&&n){const I=n;n=(...S)=>{I(...S),O()}}let U=M?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const $=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(n){const S=d.run();if(o||k||(M?S.some((C,G)=>hasChanged(C,U[G])):hasChanged(S,U))){V&&V();const C=activeWatcher;activeWatcher=d;try{const G=[S,U===INITIAL_WATCHER_VALUE?void 0:M&&U[0]===INITIAL_WATCHER_VALUE?[]:U,D];U=S,b?b(n,3,G):n(...G)}finally{activeWatcher=C}}}else d.run()};return y&&y($),d=new ReactiveEffect(x),d.scheduler=c?()=>c($,!1):$,D=I=>onWatcherCleanup(I,!1,d),V=d.onStop=()=>{const I=cleanupMap.get(d);if(I){if(b)b(I,4);else for(const S of I)S();cleanupMap.delete(d)}},n?r?$(!0):U=d.run():c?c($.bind(null,!0),!0):d.run(),O.pause=d.pause.bind(d),O.resume=d.resume.bind(d),O.stop=O,O}function traverse(e,n=1/0,s){if(n<=0||!isObject$1(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),n--,isRef(e))traverse(e.value,n,s);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],n,s);else if(isSet$1(e)||isMap(e))e.forEach(r=>{traverse(r,n,s)});else if(isPlainObject(e)){for(const r in e)traverse(e[r],n,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&traverse(e[r],n,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...n){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,r=s&&s.appContext.config.warnHandler,o=getComponentTrace();if(r)callWithErrorHandling(r,s,11,[e+n.map(l=>{var c,y;return(y=(c=l.toString)==null?void 0:c.call(l))!=null?y:JSON.stringify(l)}).join(""),s&&s.proxy,o.map(({vnode:l})=>`at <${formatComponentName(s,l.type)}>`).join(`
`),o]);else{const l=[`[Vue warn]: ${e}`,...n];o.length&&l.push(`
`,...formatTrace(o)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const n=[];for(;e;){const s=n[0];s&&s.vnode===e?s.recurseCount++:n.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return n}function formatTrace(e){const n=[];return e.forEach((s,r)=>{n.push(...r===0?[]:[`
`],...formatTraceEntry(s))}),n}function formatTraceEntry({vnode:e,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${formatComponentName(e.component,e.type,r)}`,l=">"+s;return e.props?[o,...formatProps(e.props),l]:[o+l]}function formatProps(e){const n=[],s=Object.keys(e);return s.slice(0,3).forEach(r=>{n.push(...formatProp(r,e[r]))}),s.length>3&&n.push(" ..."),n}function formatProp(e,n,s){return isString$1(n)?(n=JSON.stringify(n),s?n:[`${e}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${e}=${n}`]:isRef(n)?(n=formatProp(e,toRaw(n.value),!0),s?n:[`${e}=Ref<`,n,">"]):isFunction$1(n)?[`${e}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),s?n:[`${e}=`,n])}function callWithErrorHandling(e,n,s,r){try{return r?e(...r):e()}catch(o){handleError(o,n,s)}}function callWithAsyncErrorHandling(e,n,s,r){if(isFunction$1(e)){const o=callWithErrorHandling(e,n,s,r);return o&&isPromise(o)&&o.catch(l=>{handleError(l,n,s)}),o}if(isArray$1(e)){const o=[];for(let l=0;l<e.length;l++)o.push(callWithAsyncErrorHandling(e[l],n,s,r));return o}}function handleError(e,n,s,r=!0){const o=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||EMPTY_OBJ;if(n){let y=n.parent;const b=n.proxy,A=`https://vuejs.org/error-reference/#runtime-${s}`;for(;y;){const d=y.ec;if(d){for(let x=0;x<d.length;x++)if(d[x](e,b,A)===!1)return}y=y.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[e,b,A]),resetTracking();return}}logError(e,s,o,r,c)}function logError(e,n,s,r=!0,o=!1){if(o)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const n=currentFlushPromise||resolvedPromise;return e?n.then(this?e.bind(this):e):n}function findInsertionIndex(e){let n=flushIndex+1,s=queue.length;for(;n<s;){const r=n+s>>>1,o=queue[r],l=getId(o);l<e||l===e&&o.flags&2?n=r+1:s=r}return n}function queueJob(e){if(!(e.flags&1)){const n=getId(e),s=queue[queue.length-1];!s||!(e.flags&2)&&n>=getId(s)?queue.push(e):queue.splice(findInsertionIndex(n),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,n,s=flushIndex+1){for(;s<queue.length;s++){const r=queue[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;queue.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)].sort((s,r)=>getId(s)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),callWithErrorHandling(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&(s.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const n=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,n}function withCtx(e,n=currentRenderingInstance,s){if(!n||e._n)return e;const r=(...o)=>{r._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(n);let c;try{c=e(...o)}finally{setCurrentRenderingInstance(l),r._d&&setBlockTracking(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function withDirectives(e,n){if(currentRenderingInstance===null)return e;const s=getComponentPublicInstance(currentRenderingInstance),r=e.dirs||(e.dirs=[]);for(let o=0;o<n.length;o++){let[l,c,y,b=EMPTY_OBJ]=n[o];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),r.push({dir:l,instance:s,value:c,oldValue:void 0,arg:y,modifiers:b}))}return e}function invokeDirectiveHook(e,n,s,r){const o=e.dirs,l=n&&n.dirs;for(let c=0;c<o.length;c++){const y=o[c];l&&(y.oldValue=l[c].value);let b=y.dir[r];b&&(pauseTracking(),callWithAsyncErrorHandling(b,s,8,[e.el,y,e,n]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport;function setTransitionHooks(e,n){e.shapeFlag&6&&e.component?(e.transition=n,setTransitionHooks(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,n,s,r,o=!1){if(isArray$1(e)){e.forEach((k,M)=>setRef(k,n&&(isArray$1(n)?n[M]:n),s,r,o));return}if(isAsyncWrapper(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(e,n,s,r.component.subTree);return}const l=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,c=o?null:l,{i:y,r:b}=e,A=n&&n.r,d=y.refs===EMPTY_OBJ?y.refs={}:y.refs,x=y.setupState,V=toRaw(x),D=x===EMPTY_OBJ?()=>!1:k=>hasOwn(V,k);if(A!=null&&A!==b&&(isString$1(A)?(d[A]=null,D(A)&&(x[A]=null)):isRef(A)&&(A.value=null)),isFunction$1(b))callWithErrorHandling(b,y,12,[c,d]);else{const k=isString$1(b),M=isRef(b);if(k||M){const w=()=>{if(e.f){const O=k?D(b)?x[b]:d[b]:b.value;o?isArray$1(O)&&remove(O,l):isArray$1(O)?O.includes(l)||O.push(l):k?(d[b]=[l],D(b)&&(x[b]=d[b])):(b.value=[l],e.k&&(d[e.k]=b.value))}else k?(d[b]=c,D(b)&&(x[b]=c)):M&&(b.value=c,e.k&&(d[e.k]=c))};c?(w.id=-1,queuePostRenderEffect(w,s)):w()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,n){registerKeepAliveHook(e,"a",n)}function onDeactivated(e,n){registerKeepAliveHook(e,"da",n)}function registerKeepAliveHook(e,n,s=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(n,r,s),s){let o=s.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,n,s,o),o=o.parent}}function injectToKeepAliveRoot(e,n,s,r){const o=injectHook(n,e,r,!0);onUnmounted(()=>{remove(r[n],o)},s)}function injectHook(e,n,s=currentInstance,r=!1){if(s){const o=s[e]||(s[e]=[]),l=n.__weh||(n.__weh=(...c)=>{pauseTracking();const y=setCurrentInstance(s),b=callWithAsyncErrorHandling(n,s,e,c);return y(),resetTracking(),b});return r?o.unshift(l):o.push(l),l}}const createHook=e=>(n,s=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>n(...r),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,n=currentInstance){injectHook("ec",e,n)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,n,s,r){let o;const l=s&&s[r],c=isArray$1(e);if(c||isString$1(e)){const y=c&&isReactive(e);let b=!1,A=!1;y&&(b=!isShallow(e),A=isReadonly(e),e=shallowReadArray(e)),o=new Array(e.length);for(let d=0,x=e.length;d<x;d++)o[d]=n(b?A?toReadonly(toReactive(e[d])):toReactive(e[d]):e[d],d,void 0,l&&l[d])}else if(typeof e=="number"){o=new Array(e);for(let y=0;y<e;y++)o[y]=n(y+1,y,void 0,l&&l[y])}else if(isObject$1(e))if(e[Symbol.iterator])o=Array.from(e,(y,b)=>n(y,b,void 0,l&&l[b]));else{const y=Object.keys(e);o=new Array(y.length);for(let b=0,A=y.length;b<A;b++){const d=y[b];o[b]=n(e[d],d,b,l&&l[b])}}else o=[];return s&&(s[r]=o),o}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,n)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,n),PublicInstanceProxyHandlers={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:r,data:o,props:l,accessCache:c,type:y,appContext:b}=e;let A;if(n[0]!=="$"){const D=c[n];if(D!==void 0)switch(D){case 1:return r[n];case 2:return o[n];case 4:return s[n];case 3:return l[n]}else{if(hasSetupBinding(r,n))return c[n]=1,r[n];if(o!==EMPTY_OBJ&&hasOwn(o,n))return c[n]=2,o[n];if((A=e.propsOptions[0])&&hasOwn(A,n))return c[n]=3,l[n];if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];shouldCacheAccess&&(c[n]=0)}}const d=publicPropertiesMap[n];let x,V;if(d)return n==="$attrs"&&track(e.attrs,"get",""),d(e);if((x=y.__cssModules)&&(x=x[n]))return x;if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];if(V=b.config.globalProperties,hasOwn(V,n))return V[n]},set({_:e},n,s){const{data:r,setupState:o,ctx:l}=e;return hasSetupBinding(o,n)?(o[n]=s,!0):r!==EMPTY_OBJ&&hasOwn(r,n)?(r[n]=s,!0):hasOwn(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(l[n]=s,!0)},has({_:{data:e,setupState:n,accessCache:s,ctx:r,appContext:o,propsOptions:l}},c){let y;return!!s[c]||e!==EMPTY_OBJ&&hasOwn(e,c)||hasSetupBinding(n,c)||(y=l[0])&&hasOwn(y,c)||hasOwn(r,c)||hasOwn(publicPropertiesMap,c)||hasOwn(o.config.globalProperties,c)},defineProperty(e,n,s){return s.get!=null?e._.accessCache[n]=0:hasOwn(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((n,s)=>(n[s]=null,n),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const n=resolveMergedOptions(e),s=e.proxy,r=e.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook(n.beforeCreate,e,"bc");const{data:o,computed:l,methods:c,watch:y,provide:b,inject:A,created:d,beforeMount:x,mounted:V,beforeUpdate:D,updated:k,activated:M,deactivated:w,beforeDestroy:O,beforeUnmount:U,destroyed:$,unmounted:I,render:S,renderTracked:C,renderTriggered:G,errorCaptured:N,serverPrefetch:E,expose:X,inheritAttrs:H,components:ae,directives:de,filters:K}=n;if(A&&resolveInjections(A,r,null),c)for(const xe in c){const ie=c[xe];isFunction$1(ie)&&(r[xe]=ie.bind(s))}if(o){const xe=o.call(s,s);isObject$1(xe)&&(e.data=reactive(xe))}if(shouldCacheAccess=!0,l)for(const xe in l){const ie=l[xe],Oe=isFunction$1(ie)?ie.bind(s,s):isFunction$1(ie.get)?ie.get.bind(s,s):NOOP,Ue=!isFunction$1(ie)&&isFunction$1(ie.set)?ie.set.bind(s):NOOP,He=computed({get:Oe,set:Ue});Object.defineProperty(r,xe,{enumerable:!0,configurable:!0,get:()=>He.value,set:Ge=>He.value=Ge})}if(y)for(const xe in y)createWatcher(y[xe],r,s,xe);if(b){const xe=isFunction$1(b)?b.call(s):b;Reflect.ownKeys(xe).forEach(ie=>{provide(ie,xe[ie])})}d&&callHook(d,e,"c");function Ce(xe,ie){isArray$1(ie)?ie.forEach(Oe=>xe(Oe.bind(s))):ie&&xe(ie.bind(s))}if(Ce(onBeforeMount,x),Ce(onMounted,V),Ce(onBeforeUpdate,D),Ce(onUpdated,k),Ce(onActivated,M),Ce(onDeactivated,w),Ce(onErrorCaptured,N),Ce(onRenderTracked,C),Ce(onRenderTriggered,G),Ce(onBeforeUnmount,U),Ce(onUnmounted,I),Ce(onServerPrefetch,E),isArray$1(X))if(X.length){const xe=e.exposed||(e.exposed={});X.forEach(ie=>{Object.defineProperty(xe,ie,{get:()=>s[ie],set:Oe=>s[ie]=Oe})})}else e.exposed||(e.exposed={});S&&e.render===NOOP&&(e.render=S),H!=null&&(e.inheritAttrs=H),ae&&(e.components=ae),de&&(e.directives=de),E&&markAsyncBoundary(e)}function resolveInjections(e,n,s=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const r in e){const o=e[r];let l;isObject$1(o)?"default"in o?l=inject(o.from||r,o.default,!0):l=inject(o.from||r):l=inject(o),isRef(l)?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):n[r]=l}}function callHook(e,n,s){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,s)}function createWatcher(e,n,s,r){let o=r.includes(".")?createPathGetter(s,r):()=>s[r];if(isString$1(e)){const l=n[e];isFunction$1(l)&&watch(o,l)}else if(isFunction$1(e))watch(o,e.bind(s));else if(isObject$1(e))if(isArray$1(e))e.forEach(l=>createWatcher(l,n,s,r));else{const l=isFunction$1(e.handler)?e.handler.bind(s):n[e.handler];isFunction$1(l)&&watch(o,l,e)}}function resolveMergedOptions(e){const n=e.type,{mixins:s,extends:r}=n,{mixins:o,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,y=l.get(n);let b;return y?b=y:!o.length&&!s&&!r?b=n:(b={},o.length&&o.forEach(A=>mergeOptions(b,A,c,!0)),mergeOptions(b,n,c)),isObject$1(n)&&l.set(n,b),b}function mergeOptions(e,n,s,r=!1){const{mixins:o,extends:l}=n;l&&mergeOptions(e,l,s,!0),o&&o.forEach(c=>mergeOptions(e,c,s,!0));for(const c in n)if(!(r&&c==="expose")){const y=internalOptionMergeStrats[c]||s&&s[c];e[c]=y?y(e[c],n[c]):n[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,n){return n?e?function(){return extend$1(isFunction$1(e)?e.call(this,this):e,isFunction$1(n)?n.call(this,this):n)}:n:e}function mergeInject(e,n){return mergeObjectOptions(normalizeInject(e),normalizeInject(n))}function normalizeInject(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++)n[e[s]]=e[s];return n}return e}function mergeAsArray(e,n){return e?[...new Set([].concat(e,n))]:n}function mergeObjectOptions(e,n){return e?extend$1(Object.create(null),e,n):n}function mergeEmitsOrPropsOptions(e,n){return e?isArray$1(e)&&isArray$1(n)?[...new Set([...e,...n])]:extend$1(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(n??{})):n}function mergeWatchOptions(e,n){if(!e)return n;if(!n)return e;const s=extend$1(Object.create(null),e);for(const r in n)s[r]=mergeAsArray(e[r],n[r]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,n){return function(r,o=null){isFunction$1(r)||(r=extend$1({},r)),o!=null&&!isObject$1(o)&&(o=null);const l=createAppContext(),c=new WeakSet,y=[];let b=!1;const A=l.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(d){},use(d,...x){return c.has(d)||(d&&isFunction$1(d.install)?(c.add(d),d.install(A,...x)):isFunction$1(d)&&(c.add(d),d(A,...x))),A},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),A},component(d,x){return x?(l.components[d]=x,A):l.components[d]},directive(d,x){return x?(l.directives[d]=x,A):l.directives[d]},mount(d,x,V){if(!b){const D=A._ceVNode||createVNode(r,o);return D.appContext=l,V===!0?V="svg":V===!1&&(V=void 0),x&&n?n(D,d):e(D,d,V),b=!0,A._container=d,d.__vue_app__=A,getComponentPublicInstance(D.component)}},onUnmount(d){y.push(d)},unmount(){b&&(callWithAsyncErrorHandling(y,A._instance,16),e(null,A._container),delete A._container.__vue_app__)},provide(d,x){return l.provides[d]=x,A},runWithContext(d){const x=currentApp;currentApp=A;try{return d()}finally{currentApp=x}}};return A}}let currentApp=null;function provide(e,n){if(currentInstance){let s=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===s&&(s=currentInstance.provides=Object.create(r)),s[e]=n}}function inject(e,n,s=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){let o=currentApp?currentApp._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&isFunction$1(n)?n.call(r&&r.proxy):n}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,n,s,r=!1){const o={},l=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,n,o,l);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);s?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function updateProps(e,n,s,r){const{props:o,attrs:l,vnode:{patchFlag:c}}=e,y=toRaw(o),[b]=e.propsOptions;let A=!1;if((r||c>0)&&!(c&16)){if(c&8){const d=e.vnode.dynamicProps;for(let x=0;x<d.length;x++){let V=d[x];if(isEmitListener(e.emitsOptions,V))continue;const D=n[V];if(b)if(hasOwn(l,V))D!==l[V]&&(l[V]=D,A=!0);else{const k=camelize$1(V);o[k]=resolvePropValue(b,y,k,D,e,!1)}else D!==l[V]&&(l[V]=D,A=!0)}}}else{setFullProps(e,n,o,l)&&(A=!0);let d;for(const x in y)(!n||!hasOwn(n,x)&&((d=hyphenate$1(x))===x||!hasOwn(n,d)))&&(b?s&&(s[x]!==void 0||s[d]!==void 0)&&(o[x]=resolvePropValue(b,y,x,void 0,e,!0)):delete o[x]);if(l!==y)for(const x in l)(!n||!hasOwn(n,x))&&(delete l[x],A=!0)}A&&trigger(e.attrs,"set","")}function setFullProps(e,n,s,r){const[o,l]=e.propsOptions;let c=!1,y;if(n)for(let b in n){if(isReservedProp(b))continue;const A=n[b];let d;o&&hasOwn(o,d=camelize$1(b))?!l||!l.includes(d)?s[d]=A:(y||(y={}))[d]=A:isEmitListener(e.emitsOptions,b)||(!(b in r)||A!==r[b])&&(r[b]=A,c=!0)}if(l){const b=toRaw(s),A=y||EMPTY_OBJ;for(let d=0;d<l.length;d++){const x=l[d];s[x]=resolvePropValue(o,b,x,A[x],e,!hasOwn(A,x))}}return c}function resolvePropValue(e,n,s,r,o,l){const c=e[s];if(c!=null){const y=hasOwn(c,"default");if(y&&r===void 0){const b=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$1(b)){const{propsDefaults:A}=o;if(s in A)r=A[s];else{const d=setCurrentInstance(o);r=A[s]=b.call(null,n),d()}}else r=b;o.ce&&o.ce._setProp(s,r)}c[0]&&(l&&!y?r=!1:c[1]&&(r===""||r===hyphenate$1(s))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,n,s=!1){const r=s?mixinPropsCache:n.propsCache,o=r.get(e);if(o)return o;const l=e.props,c={},y=[];let b=!1;if(!isFunction$1(e)){const d=x=>{b=!0;const[V,D]=normalizePropsOptions(x,n,!0);extend$1(c,V),D&&y.push(...D)};!s&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!l&&!b)return isObject$1(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(l))for(let d=0;d<l.length;d++){const x=camelize$1(l[d]);validatePropName(x)&&(c[x]=EMPTY_OBJ)}else if(l)for(const d in l){const x=camelize$1(d);if(validatePropName(x)){const V=l[d],D=c[x]=isArray$1(V)||isFunction$1(V)?{type:V}:extend$1({},V),k=D.type;let M=!1,w=!0;if(isArray$1(k))for(let O=0;O<k.length;++O){const U=k[O],$=isFunction$1(U)&&U.name;if($==="Boolean"){M=!0;break}else $==="String"&&(w=!1)}else M=isFunction$1(k)&&k.name==="Boolean";D[0]=M,D[1]=w,(M||hasOwn(D,"default"))&&y.push(x)}}const A=[c,y];return isObject$1(e)&&r.set(e,A),A}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,n,s)=>{if(n._n)return n;const r=withCtx((...o)=>normalizeSlotValue(n(...o)),s);return r._c=!1,r},normalizeObjectSlots=(e,n,s)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const l=e[o];if(isFunction$1(l))n[o]=normalizeSlot(o,l,r);else if(l!=null){const c=normalizeSlotValue(l);n[o]=()=>c}}},normalizeVNodeSlots=(e,n)=>{const s=normalizeSlotValue(n);e.slots.default=()=>s},assignSlots=(e,n,s)=>{for(const r in n)(s||!isInternalKey(r))&&(e[r]=n[r])},initSlots=(e,n,s)=>{const r=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const o=n.__;o&&def(r,"__",o,!0);const l=n._;l?(assignSlots(r,n,s),s&&def(r,"_",l,!0)):normalizeObjectSlots(n,r)}else n&&normalizeVNodeSlots(e,n)},updateSlots=(e,n,s)=>{const{vnode:r,slots:o}=e;let l=!0,c=EMPTY_OBJ;if(r.shapeFlag&32){const y=n._;y?s&&y===1?l=!1:assignSlots(o,n,s):(l=!n.$stable,normalizeObjectSlots(n,o)),c=n}else n&&(normalizeVNodeSlots(e,n),c={default:1});if(l)for(const y in o)!isInternalKey(y)&&c[y]==null&&delete o[y]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,n){const s=getGlobalThis();s.__VUE__=!0;const{insert:r,remove:o,patchProp:l,createElement:c,createText:y,createComment:b,setText:A,setElementText:d,parentNode:x,nextSibling:V,setScopeId:D=NOOP,insertStaticContent:k}=e,M=(R,B,Z,_e=null,se=null,Ee=null,Ne=void 0,Ae=null,ke=!!B.dynamicChildren)=>{if(R===B)return;R&&!isSameVNodeType(R,B)&&(_e=T(R),Ge(R,se,Ee,!0),R=null),B.patchFlag===-2&&(ke=!1,B.dynamicChildren=null);const{type:ce,ref:oe,shapeFlag:te}=B;switch(ce){case Text:w(R,B,Z,_e);break;case Comment:O(R,B,Z,_e);break;case Static:R==null&&U(B,Z,_e,Ne);break;case Fragment:ae(R,B,Z,_e,se,Ee,Ne,Ae,ke);break;default:te&1?S(R,B,Z,_e,se,Ee,Ne,Ae,ke):te&6?de(R,B,Z,_e,se,Ee,Ne,Ae,ke):(te&64||te&128)&&ce.process(R,B,Z,_e,se,Ee,Ne,Ae,ke,Y)}oe!=null&&se?setRef(oe,R&&R.ref,Ee,B||R,!B):oe==null&&R&&R.ref!=null&&setRef(R.ref,null,Ee,R,!0)},w=(R,B,Z,_e)=>{if(R==null)r(B.el=y(B.children),Z,_e);else{const se=B.el=R.el;B.children!==R.children&&A(se,B.children)}},O=(R,B,Z,_e)=>{R==null?r(B.el=b(B.children||""),Z,_e):B.el=R.el},U=(R,B,Z,_e)=>{[R.el,R.anchor]=k(R.children,B,Z,_e,R.el,R.anchor)},$=({el:R,anchor:B},Z,_e)=>{let se;for(;R&&R!==B;)se=V(R),r(R,Z,_e),R=se;r(B,Z,_e)},I=({el:R,anchor:B})=>{let Z;for(;R&&R!==B;)Z=V(R),o(R),R=Z;o(B)},S=(R,B,Z,_e,se,Ee,Ne,Ae,ke)=>{B.type==="svg"?Ne="svg":B.type==="math"&&(Ne="mathml"),R==null?C(B,Z,_e,se,Ee,Ne,Ae,ke):E(R,B,se,Ee,Ne,Ae,ke)},C=(R,B,Z,_e,se,Ee,Ne,Ae)=>{let ke,ce;const{props:oe,shapeFlag:te,transition:fe,dirs:Le}=R;if(ke=R.el=c(R.type,Ee,oe&&oe.is,oe),te&8?d(ke,R.children):te&16&&N(R.children,ke,null,_e,se,resolveChildrenNamespace(R,Ee),Ne,Ae),Le&&invokeDirectiveHook(R,null,_e,"created"),G(ke,R,R.scopeId,Ne,_e),oe){for(const Qe in oe)Qe!=="value"&&!isReservedProp(Qe)&&l(ke,Qe,null,oe[Qe],Ee,_e);"value"in oe&&l(ke,"value",null,oe.value,Ee),(ce=oe.onVnodeBeforeMount)&&invokeVNodeHook(ce,_e,R)}Le&&invokeDirectiveHook(R,null,_e,"beforeMount");const Be=needTransition(se,fe);Be&&fe.beforeEnter(ke),r(ke,B,Z),((ce=oe&&oe.onVnodeMounted)||Be||Le)&&queuePostRenderEffect(()=>{ce&&invokeVNodeHook(ce,_e,R),Be&&fe.enter(ke),Le&&invokeDirectiveHook(R,null,_e,"mounted")},se)},G=(R,B,Z,_e,se)=>{if(Z&&D(R,Z),_e)for(let Ee=0;Ee<_e.length;Ee++)D(R,_e[Ee]);if(se){let Ee=se.subTree;if(B===Ee||isSuspense(Ee.type)&&(Ee.ssContent===B||Ee.ssFallback===B)){const Ne=se.vnode;G(R,Ne,Ne.scopeId,Ne.slotScopeIds,se.parent)}}},N=(R,B,Z,_e,se,Ee,Ne,Ae,ke=0)=>{for(let ce=ke;ce<R.length;ce++){const oe=R[ce]=Ae?cloneIfMounted(R[ce]):normalizeVNode(R[ce]);M(null,oe,B,Z,_e,se,Ee,Ne,Ae)}},E=(R,B,Z,_e,se,Ee,Ne)=>{const Ae=B.el=R.el;let{patchFlag:ke,dynamicChildren:ce,dirs:oe}=B;ke|=R.patchFlag&16;const te=R.props||EMPTY_OBJ,fe=B.props||EMPTY_OBJ;let Le;if(Z&&toggleRecurse(Z,!1),(Le=fe.onVnodeBeforeUpdate)&&invokeVNodeHook(Le,Z,B,R),oe&&invokeDirectiveHook(B,R,Z,"beforeUpdate"),Z&&toggleRecurse(Z,!0),(te.innerHTML&&fe.innerHTML==null||te.textContent&&fe.textContent==null)&&d(Ae,""),ce?X(R.dynamicChildren,ce,Ae,Z,_e,resolveChildrenNamespace(B,se),Ee):Ne||ie(R,B,Ae,null,Z,_e,resolveChildrenNamespace(B,se),Ee,!1),ke>0){if(ke&16)H(Ae,te,fe,Z,se);else if(ke&2&&te.class!==fe.class&&l(Ae,"class",null,fe.class,se),ke&4&&l(Ae,"style",te.style,fe.style,se),ke&8){const Be=B.dynamicProps;for(let Qe=0;Qe<Be.length;Qe++){const nt=Be[Qe],rt=te[nt],lt=fe[nt];(lt!==rt||nt==="value")&&l(Ae,nt,rt,lt,se,Z)}}ke&1&&R.children!==B.children&&d(Ae,B.children)}else!Ne&&ce==null&&H(Ae,te,fe,Z,se);((Le=fe.onVnodeUpdated)||oe)&&queuePostRenderEffect(()=>{Le&&invokeVNodeHook(Le,Z,B,R),oe&&invokeDirectiveHook(B,R,Z,"updated")},_e)},X=(R,B,Z,_e,se,Ee,Ne)=>{for(let Ae=0;Ae<B.length;Ae++){const ke=R[Ae],ce=B[Ae],oe=ke.el&&(ke.type===Fragment||!isSameVNodeType(ke,ce)||ke.shapeFlag&198)?x(ke.el):Z;M(ke,ce,oe,null,_e,se,Ee,Ne,!0)}},H=(R,B,Z,_e,se)=>{if(B!==Z){if(B!==EMPTY_OBJ)for(const Ee in B)!isReservedProp(Ee)&&!(Ee in Z)&&l(R,Ee,B[Ee],null,se,_e);for(const Ee in Z){if(isReservedProp(Ee))continue;const Ne=Z[Ee],Ae=B[Ee];Ne!==Ae&&Ee!=="value"&&l(R,Ee,Ae,Ne,se,_e)}"value"in Z&&l(R,"value",B.value,Z.value,se)}},ae=(R,B,Z,_e,se,Ee,Ne,Ae,ke)=>{const ce=B.el=R?R.el:y(""),oe=B.anchor=R?R.anchor:y("");let{patchFlag:te,dynamicChildren:fe,slotScopeIds:Le}=B;Le&&(Ae=Ae?Ae.concat(Le):Le),R==null?(r(ce,Z,_e),r(oe,Z,_e),N(B.children||[],Z,oe,se,Ee,Ne,Ae,ke)):te>0&&te&64&&fe&&R.dynamicChildren?(X(R.dynamicChildren,fe,Z,se,Ee,Ne,Ae),(B.key!=null||se&&B===se.subTree)&&traverseStaticChildren(R,B,!0)):ie(R,B,Z,oe,se,Ee,Ne,Ae,ke)},de=(R,B,Z,_e,se,Ee,Ne,Ae,ke)=>{B.slotScopeIds=Ae,R==null?B.shapeFlag&512?se.ctx.activate(B,Z,_e,Ne,ke):K(B,Z,_e,se,Ee,Ne,ke):ge(R,B,ke)},K=(R,B,Z,_e,se,Ee,Ne)=>{const Ae=R.component=createComponentInstance(R,_e,se);if(isKeepAlive(R)&&(Ae.ctx.renderer=Y),setupComponent(Ae,!1,Ne),Ae.asyncDep){if(se&&se.registerDep(Ae,Ce,Ne),!R.el){const ke=Ae.subTree=createVNode(Comment);O(null,ke,B,Z)}}else Ce(Ae,R,B,Z,se,Ee,Ne)},ge=(R,B,Z)=>{const _e=B.component=R.component;if(shouldUpdateComponent(R,B,Z))if(_e.asyncDep&&!_e.asyncResolved){xe(_e,B,Z);return}else _e.next=B,_e.update();else B.el=R.el,_e.vnode=B},Ce=(R,B,Z,_e,se,Ee,Ne)=>{const Ae=()=>{if(R.isMounted){let{next:te,bu:fe,u:Le,parent:Be,vnode:Qe}=R;{const ot=locateNonHydratedAsyncRoot(R);if(ot){te&&(te.el=Qe.el,xe(R,te,Ne)),ot.asyncDep.then(()=>{R.isUnmounted||Ae()});return}}let nt=te,rt;toggleRecurse(R,!1),te?(te.el=Qe.el,xe(R,te,Ne)):te=Qe,fe&&invokeArrayFns$1(fe),(rt=te.props&&te.props.onVnodeBeforeUpdate)&&invokeVNodeHook(rt,Be,te,Qe),toggleRecurse(R,!0);const lt=renderComponentRoot(R),dt=R.subTree;R.subTree=lt,M(dt,lt,x(dt.el),T(dt),R,se,Ee),te.el=lt.el,nt===null&&updateHOCHostEl(R,lt.el),Le&&queuePostRenderEffect(Le,se),(rt=te.props&&te.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(rt,Be,te,Qe),se)}else{let te;const{el:fe,props:Le}=B,{bm:Be,m:Qe,parent:nt,root:rt,type:lt}=R,dt=isAsyncWrapper(B);if(toggleRecurse(R,!1),Be&&invokeArrayFns$1(Be),!dt&&(te=Le&&Le.onVnodeBeforeMount)&&invokeVNodeHook(te,nt,B),toggleRecurse(R,!0),fe&&Se){const ot=()=>{R.subTree=renderComponentRoot(R),Se(fe,R.subTree,R,se,null)};dt&&lt.__asyncHydrate?lt.__asyncHydrate(fe,R,ot):ot()}else{rt.ce&&rt.ce._def.shadowRoot!==!1&&rt.ce._injectChildStyle(lt);const ot=R.subTree=renderComponentRoot(R);M(null,ot,Z,_e,R,se,Ee),B.el=ot.el}if(Qe&&queuePostRenderEffect(Qe,se),!dt&&(te=Le&&Le.onVnodeMounted)){const ot=B;queuePostRenderEffect(()=>invokeVNodeHook(te,nt,ot),se)}(B.shapeFlag&256||nt&&isAsyncWrapper(nt.vnode)&&nt.vnode.shapeFlag&256)&&R.a&&queuePostRenderEffect(R.a,se),R.isMounted=!0,B=Z=_e=null}};R.scope.on();const ke=R.effect=new ReactiveEffect(Ae);R.scope.off();const ce=R.update=ke.run.bind(ke),oe=R.job=ke.runIfDirty.bind(ke);oe.i=R,oe.id=R.uid,ke.scheduler=()=>queueJob(oe),toggleRecurse(R,!0),ce()},xe=(R,B,Z)=>{B.component=R;const _e=R.vnode.props;R.vnode=B,R.next=null,updateProps(R,B.props,_e,Z),updateSlots(R,B.children,Z),pauseTracking(),flushPreFlushCbs(R),resetTracking()},ie=(R,B,Z,_e,se,Ee,Ne,Ae,ke=!1)=>{const ce=R&&R.children,oe=R?R.shapeFlag:0,te=B.children,{patchFlag:fe,shapeFlag:Le}=B;if(fe>0){if(fe&128){Ue(ce,te,Z,_e,se,Ee,Ne,Ae,ke);return}else if(fe&256){Oe(ce,te,Z,_e,se,Ee,Ne,Ae,ke);return}}Le&8?(oe&16&&m(ce,se,Ee),te!==ce&&d(Z,te)):oe&16?Le&16?Ue(ce,te,Z,_e,se,Ee,Ne,Ae,ke):m(ce,se,Ee,!0):(oe&8&&d(Z,""),Le&16&&N(te,Z,_e,se,Ee,Ne,Ae,ke))},Oe=(R,B,Z,_e,se,Ee,Ne,Ae,ke)=>{R=R||EMPTY_ARR,B=B||EMPTY_ARR;const ce=R.length,oe=B.length,te=Math.min(ce,oe);let fe;for(fe=0;fe<te;fe++){const Le=B[fe]=ke?cloneIfMounted(B[fe]):normalizeVNode(B[fe]);M(R[fe],Le,Z,null,se,Ee,Ne,Ae,ke)}ce>oe?m(R,se,Ee,!0,!1,te):N(B,Z,_e,se,Ee,Ne,Ae,ke,te)},Ue=(R,B,Z,_e,se,Ee,Ne,Ae,ke)=>{let ce=0;const oe=B.length;let te=R.length-1,fe=oe-1;for(;ce<=te&&ce<=fe;){const Le=R[ce],Be=B[ce]=ke?cloneIfMounted(B[ce]):normalizeVNode(B[ce]);if(isSameVNodeType(Le,Be))M(Le,Be,Z,null,se,Ee,Ne,Ae,ke);else break;ce++}for(;ce<=te&&ce<=fe;){const Le=R[te],Be=B[fe]=ke?cloneIfMounted(B[fe]):normalizeVNode(B[fe]);if(isSameVNodeType(Le,Be))M(Le,Be,Z,null,se,Ee,Ne,Ae,ke);else break;te--,fe--}if(ce>te){if(ce<=fe){const Le=fe+1,Be=Le<oe?B[Le].el:_e;for(;ce<=fe;)M(null,B[ce]=ke?cloneIfMounted(B[ce]):normalizeVNode(B[ce]),Z,Be,se,Ee,Ne,Ae,ke),ce++}}else if(ce>fe)for(;ce<=te;)Ge(R[ce],se,Ee,!0),ce++;else{const Le=ce,Be=ce,Qe=new Map;for(ce=Be;ce<=fe;ce++){const pe=B[ce]=ke?cloneIfMounted(B[ce]):normalizeVNode(B[ce]);pe.key!=null&&Qe.set(pe.key,ce)}let nt,rt=0;const lt=fe-Be+1;let dt=!1,ot=0;const gt=new Array(lt);for(ce=0;ce<lt;ce++)gt[ce]=0;for(ce=Le;ce<=te;ce++){const pe=R[ce];if(rt>=lt){Ge(pe,se,Ee,!0);continue}let he;if(pe.key!=null)he=Qe.get(pe.key);else for(nt=Be;nt<=fe;nt++)if(gt[nt-Be]===0&&isSameVNodeType(pe,B[nt])){he=nt;break}he===void 0?Ge(pe,se,Ee,!0):(gt[he-Be]=ce+1,he>=ot?ot=he:dt=!0,M(pe,B[he],Z,null,se,Ee,Ne,Ae,ke),rt++)}const Ie=dt?getSequence(gt):EMPTY_ARR;for(nt=Ie.length-1,ce=lt-1;ce>=0;ce--){const pe=Be+ce,he=B[pe],We=pe+1<oe?B[pe+1].el:_e;gt[ce]===0?M(null,he,Z,We,se,Ee,Ne,Ae,ke):dt&&(nt<0||ce!==Ie[nt]?He(he,Z,We,2):nt--)}}},He=(R,B,Z,_e,se=null)=>{const{el:Ee,type:Ne,transition:Ae,children:ke,shapeFlag:ce}=R;if(ce&6){He(R.component.subTree,B,Z,_e);return}if(ce&128){R.suspense.move(B,Z,_e);return}if(ce&64){Ne.move(R,B,Z,Y);return}if(Ne===Fragment){r(Ee,B,Z);for(let te=0;te<ke.length;te++)He(ke[te],B,Z,_e);r(R.anchor,B,Z);return}if(Ne===Static){$(R,B,Z);return}if(_e!==2&&ce&1&&Ae)if(_e===0)Ae.beforeEnter(Ee),r(Ee,B,Z),queuePostRenderEffect(()=>Ae.enter(Ee),se);else{const{leave:te,delayLeave:fe,afterLeave:Le}=Ae,Be=()=>{R.ctx.isUnmounted?o(Ee):r(Ee,B,Z)},Qe=()=>{te(Ee,()=>{Be(),Le&&Le()})};fe?fe(Ee,Be,Qe):Qe()}else r(Ee,B,Z)},Ge=(R,B,Z,_e=!1,se=!1)=>{const{type:Ee,props:Ne,ref:Ae,children:ke,dynamicChildren:ce,shapeFlag:oe,patchFlag:te,dirs:fe,cacheIndex:Le}=R;if(te===-2&&(se=!1),Ae!=null&&(pauseTracking(),setRef(Ae,null,Z,R,!0),resetTracking()),Le!=null&&(B.renderCache[Le]=void 0),oe&256){B.ctx.deactivate(R);return}const Be=oe&1&&fe,Qe=!isAsyncWrapper(R);let nt;if(Qe&&(nt=Ne&&Ne.onVnodeBeforeUnmount)&&invokeVNodeHook(nt,B,R),oe&6)v(R.component,Z,_e);else{if(oe&128){R.suspense.unmount(Z,_e);return}Be&&invokeDirectiveHook(R,null,B,"beforeUnmount"),oe&64?R.type.remove(R,B,Z,Y,_e):ce&&!ce.hasOnce&&(Ee!==Fragment||te>0&&te&64)?m(ce,B,Z,!1,!0):(Ee===Fragment&&te&384||!se&&oe&16)&&m(ke,B,Z),_e&&q(R)}(Qe&&(nt=Ne&&Ne.onVnodeUnmounted)||Be)&&queuePostRenderEffect(()=>{nt&&invokeVNodeHook(nt,B,R),Be&&invokeDirectiveHook(R,null,B,"unmounted")},Z)},q=R=>{const{type:B,el:Z,anchor:_e,transition:se}=R;if(B===Fragment){g(Z,_e);return}if(B===Static){I(R);return}const Ee=()=>{o(Z),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(R.shapeFlag&1&&se&&!se.persisted){const{leave:Ne,delayLeave:Ae}=se,ke=()=>Ne(Z,Ee);Ae?Ae(R.el,Ee,ke):ke()}else Ee()},g=(R,B)=>{let Z;for(;R!==B;)Z=V(R),o(R),R=Z;o(B)},v=(R,B,Z)=>{const{bum:_e,scope:se,job:Ee,subTree:Ne,um:Ae,m:ke,a:ce,parent:oe,slots:{__:te}}=R;invalidateMount(ke),invalidateMount(ce),_e&&invokeArrayFns$1(_e),oe&&isArray$1(te)&&te.forEach(fe=>{oe.renderCache[fe]=void 0}),se.stop(),Ee&&(Ee.flags|=8,Ge(Ne,R,B,Z)),Ae&&queuePostRenderEffect(Ae,B),queuePostRenderEffect(()=>{R.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},m=(R,B,Z,_e=!1,se=!1,Ee=0)=>{for(let Ne=Ee;Ne<R.length;Ne++)Ge(R[Ne],B,Z,_e,se)},T=R=>{if(R.shapeFlag&6)return T(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const B=V(R.anchor||R.el),Z=B&&B[TeleportEndKey];return Z?V(Z):B};let F=!1;const j=(R,B,Z)=>{R==null?B._vnode&&Ge(B._vnode,null,null,!0):M(B._vnode||null,R,B,null,null,null,Z),B._vnode=R,F||(F=!0,flushPreFlushCbs(),flushPostFlushCbs(),F=!1)},Y={p:M,um:Ge,m:He,r:q,mt:K,mc:N,pc:ie,pbc:X,n:T,o:e};let re,Se;return n&&([re,Se]=n(Y)),{render:j,hydrate:re,createApp:createAppAPI(j,re)}}function resolveChildrenNamespace({type:e,props:n},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function toggleRecurse({effect:e,job:n},s){s?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function needTransition(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function traverseStaticChildren(e,n,s=!1){const r=e.children,o=n.children;if(isArray$1(r)&&isArray$1(o))for(let l=0;l<r.length;l++){const c=r[l];let y=o[l];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=o[l]=cloneIfMounted(o[l]),y.el=c.el),!s&&y.patchFlag!==-2&&traverseStaticChildren(c,y)),y.type===Text&&(y.el=c.el),y.type===Comment&&!y.el&&(y.el=c.el)}}function getSequence(e){const n=e.slice(),s=[0];let r,o,l,c,y;const b=e.length;for(r=0;r<b;r++){const A=e[r];if(A!==0){if(o=s[s.length-1],e[o]<A){n[r]=o,s.push(r);continue}for(l=0,c=s.length-1;l<c;)y=l+c>>1,e[s[y]]<A?l=y+1:c=y;A<e[s[l]]&&(l>0&&(n[r]=s[l-1]),s[l]=r)}}for(l=s.length,c=s[l-1];l-- >0;)s[l]=c,c=n[c];return s}function locateNonHydratedAsyncRoot(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:locateNonHydratedAsyncRoot(n)}function invalidateMount(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,n,s){return doWatch(e,n,s)}function doWatch(e,n,s=EMPTY_OBJ){const{immediate:r,deep:o,flush:l,once:c}=s,y=extend$1({},s),b=n&&r||!n&&l!=="post";let A;if(isInSSRComponentSetup){if(l==="sync"){const D=useSSRContext();A=D.__watcherHandles||(D.__watcherHandles=[])}else if(!b){const D=()=>{};return D.stop=NOOP,D.resume=NOOP,D.pause=NOOP,D}}const d=currentInstance;y.call=(D,k,M)=>callWithAsyncErrorHandling(D,d,k,M);let x=!1;l==="post"?y.scheduler=D=>{queuePostRenderEffect(D,d&&d.suspense)}:l!=="sync"&&(x=!0,y.scheduler=(D,k)=>{k?D():queueJob(D)}),y.augmentJob=D=>{n&&(D.flags|=4),x&&(D.flags|=2,d&&(D.id=d.uid,D.i=d))};const V=watch$1(e,n,y);return isInSSRComponentSetup&&(A?A.push(V):b&&V()),V}function instanceWatch(e,n,s){const r=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let l;isFunction$1(n)?l=n:(l=n.handler,s=n);const c=setCurrentInstance(this),y=doWatch(o,l.bind(r),s);return c(),y}function createPathGetter(e,n){const s=n.split(".");return()=>{let r=e;for(let o=0;o<s.length&&r;o++)r=r[s[o]];return r}}const getModelModifiers=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${camelize$1(n)}Modifiers`]||e[`${hyphenate$1(n)}Modifiers`];function emit(e,n,...s){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=s;const l=n.startsWith("update:"),c=l&&getModelModifiers(r,n.slice(7));c&&(c.trim&&(o=s.map(d=>isString$1(d)?d.trim():d)),c.number&&(o=s.map(looseToNumber$1)));let y,b=r[y=toHandlerKey(n)]||r[y=toHandlerKey(camelize$1(n))];!b&&l&&(b=r[y=toHandlerKey(hyphenate$1(n))]),b&&callWithAsyncErrorHandling(b,e,6,o);const A=r[y+"Once"];if(A){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,callWithAsyncErrorHandling(A,e,6,o)}}function normalizeEmitsOptions(e,n,s=!1){const r=n.emitsCache,o=r.get(e);if(o!==void 0)return o;const l=e.emits;let c={},y=!1;if(!isFunction$1(e)){const b=A=>{const d=normalizeEmitsOptions(A,n,!0);d&&(y=!0,extend$1(c,d))};!s&&n.mixins.length&&n.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!l&&!y?(isObject$1(e)&&r.set(e,null),null):(isArray$1(l)?l.forEach(b=>c[b]=null):extend$1(c,l),isObject$1(e)&&r.set(e,c),c)}function isEmitListener(e,n){return!e||!isOn$1(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(e,n[0].toLowerCase()+n.slice(1))||hasOwn(e,hyphenate$1(n))||hasOwn(e,n))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:n,vnode:s,proxy:r,withProxy:o,propsOptions:[l],slots:c,attrs:y,emit:b,render:A,renderCache:d,props:x,data:V,setupState:D,ctx:k,inheritAttrs:M}=e,w=setCurrentRenderingInstance(e);let O,U;try{if(s.shapeFlag&4){const I=o||r,S=I;O=normalizeVNode(A.call(S,I,d,x,D,V,k)),U=y}else{const I=n;O=normalizeVNode(I.length>1?I(x,{attrs:y,slots:c,emit:b}):I(x,null)),U=n.props?y:getFunctionalFallthrough(y)}}catch(I){blockStack.length=0,handleError(I,e,1),O=createVNode(Comment)}let $=O;if(U&&M!==!1){const I=Object.keys(U),{shapeFlag:S}=$;I.length&&S&7&&(l&&I.some(isModelListener$1)&&(U=filterModelListeners(U,l)),$=cloneVNode($,U,!1,!0))}return s.dirs&&($=cloneVNode($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks($,s.transition),O=$,setCurrentRenderingInstance(w),O}const getFunctionalFallthrough=e=>{let n;for(const s in e)(s==="class"||s==="style"||isOn$1(s))&&((n||(n={}))[s]=e[s]);return n},filterModelListeners=(e,n)=>{const s={};for(const r in e)(!isModelListener$1(r)||!(r.slice(9)in n))&&(s[r]=e[r]);return s};function shouldUpdateComponent(e,n,s){const{props:r,children:o,component:l}=e,{props:c,children:y,patchFlag:b}=n,A=l.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&b>=0){if(b&1024)return!0;if(b&16)return r?hasPropsChanged(r,c,A):!!c;if(b&8){const d=n.dynamicProps;for(let x=0;x<d.length;x++){const V=d[x];if(c[V]!==r[V]&&!isEmitListener(A,V))return!0}}}else return(o||y)&&(!y||!y.$stable)?!0:r===c?!1:r?c?hasPropsChanged(r,c,A):!0:!!c;return!1}function hasPropsChanged(e,n,s){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const l=r[o];if(n[l]!==e[l]&&!isEmitListener(s,l))return!0}return!1}function updateHOCHostEl({vnode:e,parent:n},s){for(;n;){const r=n.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=n.vnode).el=s,n=n.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,n){n&&n.pendingBranch?isArray$1(e)?n.effects.push(...e):n.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,n=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&n&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,n,s,r,o,l){return setupBlock(createBaseVNode(e,n,s,r,o,l,!0))}function createBlock(e,n,s,r,o){return setupBlock(createVNode(e,n,s,r,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,n){return e.type===n.type&&e.key===n.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:n,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:n,f:!!s}:e:null);function createBaseVNode(e,n=null,s=null,r=0,o=null,l=e===Fragment?0:1,c=!1,y=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return y?(normalizeChildren(b,s),l&128&&e.normalize(b)):s&&(b.shapeFlag|=isString$1(s)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(b.patchFlag>0||l&6)&&b.patchFlag!==32&&currentBlock.push(b),b}const createVNode=_createVNode;function _createVNode(e,n=null,s=null,r=0,o=null,l=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const y=cloneVNode(e,n,!0);return s&&normalizeChildren(y,s),isBlockTreeEnabled>0&&!l&&currentBlock&&(y.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=y:currentBlock.push(y)),y.patchFlag=-2,y}if(isClassComponent(e)&&(e=e.__vccOpts),n){n=guardReactiveProps(n);let{class:y,style:b}=n;y&&!isString$1(y)&&(n.class=normalizeClass(y)),isObject$1(b)&&(isProxy(b)&&!isArray$1(b)&&(b=extend$1({},b)),n.style=normalizeStyle(b))}const c=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,n,s,r,o,c,l,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$1({},e):e:null}function cloneVNode(e,n,s=!1,r=!1){const{props:o,ref:l,patchFlag:c,children:y,transition:b}=e,A=n?mergeProps(o||{},n):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:A,key:A&&normalizeKey(A),ref:n&&n.ref?s&&l?isArray$1(l)?l.concat(normalizeRef(n)):[l,normalizeRef(n)]:normalizeRef(n):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:y,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Fragment?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:b,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return b&&r&&setTransitionHooks(d,b.clone(d)),d}function createTextVNode(e=" ",n=0){return createVNode(Text,null,e,n)}function createCommentVNode(e="",n=!1){return n?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,n){let s=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(isArray$1(n))s=16;else if(typeof n=="object")if(r&65){const o=n.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=n._;!o&&!isInternalObject(n)?n._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else isFunction$1(n)?(n={default:n,_ctx:currentRenderingInstance},s=32):(n=String(n),r&64?(s=16,n=[createTextVNode(n)]):s=8);e.children=n,e.shapeFlag|=s}function mergeProps(...e){const n={};for(let s=0;s<e.length;s++){const r=e[s];for(const o in r)if(o==="class")n.class!==r.class&&(n.class=normalizeClass([n.class,r.class]));else if(o==="style")n.style=normalizeStyle([n.style,r.style]);else if(isOn$1(o)){const l=n[o],c=r[o];c&&l!==c&&!(isArray$1(l)&&l.includes(c))&&(n[o]=l?[].concat(l,c):c)}else o!==""&&(n[o]=r[o])}return n}function invokeVNodeHook(e,n,s,r=null){callWithAsyncErrorHandling(e,n,7,[s,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,n,s){const r=e.type,o=(n?n.appContext:e.appContext)||emptyAppContext,l={uid:uid++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=emit.bind(null,l),e.ce&&e.ce(l),l}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),n=(s,r)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(r),l=>{o.length>1?o.forEach(c=>c(l)):o[0](l)}};internalSetCurrentInstance=n("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=n("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=e=>{const n=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(n)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,n=!1,s=!1){n&&setInSSRSetupState(n);const{props:r,children:o}=e.vnode,l=isStatefulComponent(e);initProps(e,r,l,n),initSlots(e,o,s||n);const c=l?setupStatefulComponent(e,n):void 0;return n&&setInSSRSetupState(!1),c}function setupStatefulComponent(e,n){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:r}=s;if(r){pauseTracking();const o=e.setupContext=r.length>1?createSetupContext(e):null,l=setCurrentInstance(e),c=callWithErrorHandling(r,e,0,[e.props,o]),y=isPromise(c);if(resetTracking(),l(),(y||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),y){if(c.then(unsetCurrentInstance,unsetCurrentInstance),n)return c.then(b=>{handleSetupResult(e,b,n)}).catch(b=>{handleError(b,e,0)});e.asyncDep=c}else handleSetupResult(e,c,n)}else finishComponentSetup(e,n)}function handleSetupResult(e,n,s){isFunction$1(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:isObject$1(n)&&(e.setupState=proxyRefs(n)),finishComponentSetup(e,s)}let compile;function finishComponentSetup(e,n,s){const r=e.type;if(!e.render){if(!n&&compile&&!r.render){const o=r.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:l,compilerOptions:c}=e.appContext.config,{delimiters:y,compilerOptions:b}=r,A=extend$1(extend$1({isCustomElement:l,delimiters:y},c),b);r.render=compile(o,A)}}e.render=r.render||NOOP}{const o=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),o()}}}const attrsProxyHandlers={get(e,n){return track(e,"get",""),e[n]}};function createSetupContext(e){const n=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:n}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(n,s){if(s in n)return n[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](e)},has(n,s){return s in n||s in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,n=!0){return isFunction$1(e)?e.displayName||e.name:e.name||n&&e.__name}function formatComponentName(e,n,s=!1){let r=getComponentName(n);if(!r&&n.__file){const o=n.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=l=>{for(const c in l)if(l[c]===n)return c};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?classify(r):s?"App":"Anonymous"}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,n)=>computed$1(e,n,isInSSRComponentSetup),version="3.5.17";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,isArray=Array.isArray,isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),cacheStringFunction=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(n,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),invokeArrayFns=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},looseToNumber=e=>{const n=parseFloat(e);return isNaN(n)?e:n},specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,n){if(e.length!==n.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=looseEqual(e[r],n[r]);return s}function looseEqual(e,n){if(e===n)return!0;let s=isDate(e),r=isDate(n);if(s||r)return s&&r?e.getTime()===n.getTime():!1;if(s=isSymbol(e),r=isSymbol(n),s||r)return e===n;if(s=isArray(e),r=isArray(n),s||r)return s&&r?looseCompareArrays(e,n):!1;if(s=isObject(e),r=isObject(n),s||r){if(!s||!r)return!1;const o=Object.keys(e).length,l=Object.keys(n).length;if(o!==l)return!1;for(const c in e){const y=e.hasOwnProperty(c),b=n.hasOwnProperty(c);if(y&&!b||!y&&b||!looseEqual(e[c],n[c]))return!1}}return String(e)===String(n)}function looseIndexOf(e,n){return e.findIndex(s=>looseEqual(s,n))}/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,n,s)=>{n.insertBefore(e,s||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,s,r)=>{const o=n==="svg"?doc.createElementNS(svgNS,e):n==="mathml"?doc.createElementNS(mathmlNS,e):s?doc.createElement(e,{is:s}):doc.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,s,r,o,l){const c=s?s.previousSibling:n.lastChild;if(o&&(o===l||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const y=templateContainer.content;if(r==="svg"||r==="mathml"){const b=y.firstChild;for(;b.firstChild;)y.appendChild(b.firstChild);y.removeChild(b)}n.insertBefore(y,s)}return[c?c.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,n,s){const r=e[vtcKey];r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):s?e.setAttribute("class",n):e.className=n}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,n,s){const r=e.style,o=isString(s);let l=!1;if(s&&!o){if(n)if(isString(n))for(const c of n.split(";")){const y=c.slice(0,c.indexOf(":")).trim();s[y]==null&&setStyle(r,y,"")}else for(const c in n)s[c]==null&&setStyle(r,c,"");for(const c in s)c==="display"&&(l=!0),setStyle(r,c,s[c])}else if(o){if(n!==s){const c=r[CSS_VAR_TEXT];c&&(s+=";"+c),r.cssText=s,l=displayRE.test(s)}}else n&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=l?r.display:"",e[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,n,s){if(isArray(s))s.forEach(r=>setStyle(e,n,r));else if(s==null&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const r=autoPrefix(e,n);importantRE.test(s)?e.setProperty(hyphenate(r),s.replace(importantRE,""),"important"):e[r]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,n){const s=prefixCache[n];if(s)return s;let r=camelize$1(n);if(r!=="filter"&&r in e)return prefixCache[n]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const l=prefixes[o]+r;if(l in e)return prefixCache[n]=l}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,n,s,r,o,l=isSpecialBooleanAttr(n)){r&&n.startsWith("xlink:")?s==null?e.removeAttributeNS(xlinkNS,n.slice(6,n.length)):e.setAttributeNS(xlinkNS,n,s):s==null||l&&!includeBooleanAttr(s)?e.removeAttribute(n):e.setAttribute(n,l?"":isSymbol(s)?String(s):s)}function patchDOMProp(e,n,s,r,o){if(n==="innerHTML"||n==="textContent"){s!=null&&(e[n]=n==="innerHTML"?unsafeToTrustedHTML(s):s);return}const l=e.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const y=l==="OPTION"?e.getAttribute("value")||"":e.value,b=s==null?e.type==="checkbox"?"on":"":String(s);(y!==b||!("_value"in e))&&(e.value=b),s==null&&e.removeAttribute(n),e._value=s;return}let c=!1;if(s===""||s==null){const y=typeof e[n];y==="boolean"?s=includeBooleanAttr(s):s==null&&y==="string"?(s="",c=!0):y==="number"&&(s=0,c=!0)}try{e[n]=s}catch{}c&&e.removeAttribute(o||n)}function addEventListener(e,n,s,r){e.addEventListener(n,s,r)}function removeEventListener(e,n,s,r){e.removeEventListener(n,s,r)}const veiKey=Symbol("_vei");function patchEvent(e,n,s,r,o=null){const l=e[veiKey]||(e[veiKey]={}),c=l[n];if(r&&c)c.value=r;else{const[y,b]=parseName(n);if(r){const A=l[n]=createInvoker(r,o);addEventListener(e,y,A,b)}else c&&(removeEventListener(e,y,c,b),l[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let n;if(optionsModifierRE.test(e)){n={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),n]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,n){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,s.value),n,5,[r])};return s.value=e,s.attached=getNow(),s}function patchStopImmediatePropagation(e,n){if(isArray(n)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},n.map(r=>o=>!o._stopped&&r&&r(o))}else return n}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,n,s,r,o,l)=>{const c=o==="svg";n==="class"?patchClass(e,r,c):n==="style"?patchStyle(e,s,r):isOn(n)?isModelListener(n)||patchEvent(e,n,s,r,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(e,n,r,c))?(patchDOMProp(e,n,r),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&patchAttr(e,n,r,c,l,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!isString(r))?patchDOMProp(e,camelize(n),r,l,n):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),patchAttr(e,n,r,c))};function shouldSetAsProp(e,n,s,r){if(r)return!!(n==="innerHTML"||n==="textContent"||n in e&&isNativeOn(n)&&isFunction(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return isNativeOn(n)&&isString(s)?!1:n in e}const getModelAssigner=e=>{const n=e.props["onUpdate:modelValue"]||!1;return isArray(n)?s=>invokeArrayFns(n,s):n};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:n,trim:s,number:r}},o){e[assignKey]=getModelAssigner(o);const l=r||o.props&&o.props.type==="number";addEventListener(e,n?"change":"input",c=>{if(c.target.composing)return;let y=e.value;s&&(y=y.trim()),l&&(y=looseToNumber(y)),e[assignKey](y)}),s&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),n||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:s,modifiers:{lazy:r,trim:o,number:l}},c){if(e[assignKey]=getModelAssigner(c),e.composing)return;const y=(l||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,b=n??"";y!==b&&(document.activeElement===e&&e.type!=="range"&&(r&&n===s||o&&e.value.trim()===b)||(e.value=b))}},vModelSelect={deep:!0,created(e,{value:n,modifiers:{number:s}},r){const o=isSet(n);addEventListener(e,"change",()=>{const l=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?looseToNumber(getValue(c)):getValue(c));e[assignKey](e.multiple?o?new Set(l):l:l[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(r)},mounted(e,{value:n}){setSelected(e,n)},beforeUpdate(e,n,s){e[assignKey]=getModelAssigner(s)},updated(e,{value:n}){e._assigning||setSelected(e,n)}};function setSelected(e,n){const s=e.multiple,r=isArray(n);if(!(s&&!r&&!isSet(n))){for(let o=0,l=e.options.length;o<l;o++){const c=e.options[o],y=getValue(c);if(s)if(r){const b=typeof y;b==="string"||b==="number"?c.selected=n.some(A=>String(A)===String(y)):c.selected=looseIndexOf(n,y)>-1}else c.selected=n.has(y);else if(looseEqual(getValue(c),n)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>systemModifiers.some(s=>e[`${s}Key`]&&!n.includes(s))},withModifiers=(e,n)=>{const s=e._withMods||(e._withMods={}),r=n.join(".");return s[r]||(s[r]=(o,...l)=>{for(let c=0;c<n.length;c++){const y=modifierGuards[n[c]];if(y&&y(o,n))return}return e(o,...l)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const n=ensureRenderer().createApp(...e),{mount:s}=n;return n.mount=r=>{const o=normalizeContainer(r);if(!o)return;const l=n._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const c=s(o,!1,resolveRootNamespace(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},n};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(n,s){module.exports=n.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,n)=>{var gt;Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.RenderingIntentFlag=n.PromiseCapability=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.MAX_IMAGE_SIZE_TO_CACHE=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.BASELINE_FACTOR=n.AnnotationType=n.AnnotationReplyType=n.AnnotationPrefix=n.AnnotationMode=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.assert=Oe,n.bytesToString=re,n.createValidAbsoluteUrl=He,n.getModificationDate=Be,n.getUuid=dt,n.getVerbosityLevel=ge,n.info=Ce,n.isArrayBuffer=fe,n.isArrayEqual=Le,n.isNodeJS=void 0,n.normalizeUnicode=lt,n.objectFromMap=Z,n.objectSize=B,n.setVerbosityLevel=K,n.shadow=Ge,n.string32=R,n.stringToBytes=Se,n.stringToPDFString=ce,n.stringToUTF8String=oe,n.unreachable=ie,n.utf8StringToString=te,n.warn=xe;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=s;const r=[1,0,0,1,0,0];n.IDENTITY_MATRIX=r;const o=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=o;const l=1e7;n.MAX_IMAGE_SIZE_TO_CACHE=l;const c=1.35;n.LINE_FACTOR=c;const y=.35;n.LINE_DESCENT_FACTOR=y;const b=y/c;n.BASELINE_FACTOR=b;const A={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=A;const d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=d;const x="pdfjs_internal_editor_";n.AnnotationEditorPrefix=x;const V={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};n.AnnotationEditorType=V;const D={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};n.AnnotationEditorParamsType=D;const k={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=k;const M={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=M;const w={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=w;const O={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=O;const U={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=U;const $={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=$;const I={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=I;const S={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=S;const C={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=C;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=G;const N={O:"PageOpen",C:"PageClose"};n.PageActionEventType=N;const E={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=E;const X={NONE:0,BINARY:1};n.CMapCompressionType=X;const H={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=H;const ae={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=ae;let de=E.WARNINGS;function K(Ie){Number.isInteger(Ie)&&(de=Ie)}function ge(){return de}function Ce(Ie){de>=E.INFOS&&console.log(`Info: ${Ie}`)}function xe(Ie){de>=E.WARNINGS&&console.log(`Warning: ${Ie}`)}function ie(Ie){throw new Error(Ie)}function Oe(Ie,pe){Ie||ie(pe)}function Ue(Ie){switch(Ie==null?void 0:Ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function He(Ie,pe=null,he=null){if(!Ie)return null;try{if(he&&typeof Ie=="string"){if(he.addDefaultProtocol&&Ie.startsWith("www.")){const ze=Ie.match(/\./g);(ze==null?void 0:ze.length)>=2&&(Ie=`http://${Ie}`)}if(he.tryConvertEncoding)try{Ie=oe(Ie)}catch{}}const We=pe?new URL(Ie,pe):new URL(Ie);if(Ue(We))return We}catch{}return null}function Ge(Ie,pe,he,We=!1){return Object.defineProperty(Ie,pe,{value:he,enumerable:!We,configurable:!0,writable:!1}),he}const q=function(){function pe(he,We){this.constructor===pe&&ie("Cannot initialize BaseException."),this.message=he,this.name=We}return pe.prototype=new Error,pe.constructor=pe,pe}();n.BaseException=q;class g extends q{constructor(pe,he){super(pe,"PasswordException"),this.code=he}}n.PasswordException=g;class v extends q{constructor(pe,he){super(pe,"UnknownErrorException"),this.details=he}}n.UnknownErrorException=v;class m extends q{constructor(pe){super(pe,"InvalidPDFException")}}n.InvalidPDFException=m;class T extends q{constructor(pe){super(pe,"MissingPDFException")}}n.MissingPDFException=T;class F extends q{constructor(pe,he){super(pe,"UnexpectedResponseException"),this.status=he}}n.UnexpectedResponseException=F;class j extends q{constructor(pe){super(pe,"FormatError")}}n.FormatError=j;class Y extends q{constructor(pe){super(pe,"AbortException")}}n.AbortException=Y;function re(Ie){(typeof Ie!="object"||(Ie==null?void 0:Ie.length)===void 0)&&ie("Invalid argument for bytesToString");const pe=Ie.length,he=8192;if(pe<he)return String.fromCharCode.apply(null,Ie);const We=[];for(let ze=0;ze<pe;ze+=he){const Ot=Math.min(ze+he,pe),St=Ie.subarray(ze,Ot);We.push(String.fromCharCode.apply(null,St))}return We.join("")}function Se(Ie){typeof Ie!="string"&&ie("Invalid argument for stringToBytes");const pe=Ie.length,he=new Uint8Array(pe);for(let We=0;We<pe;++We)he[We]=Ie.charCodeAt(We)&255;return he}function R(Ie){return String.fromCharCode(Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255)}function B(Ie){return Object.keys(Ie).length}function Z(Ie){const pe=Object.create(null);for(const[he,We]of Ie)pe[he]=We;return pe}function _e(){const Ie=new Uint8Array(4);return Ie[0]=1,new Uint32Array(Ie.buffer,0,1)[0]===1}function se(){try{return new Function(""),!0}catch{return!1}}class Ee{static get isLittleEndian(){return Ge(this,"isLittleEndian",_e())}static get isEvalSupported(){return Ge(this,"isEvalSupported",se())}static get isOffscreenCanvasSupported(){return Ge(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ge(this,"platform",{isWin:!1,isMac:!1}):Ge(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var pe,he;return Ge(this,"isCSSRoundSupported",(he=(pe=globalThis.CSS)==null?void 0:pe.supports)==null?void 0:he.call(pe,"width: round(1.5px, 1px)"))}}n.FeatureTest=Ee;const Ne=[...Array(256).keys()].map(Ie=>Ie.toString(16).padStart(2,"0"));class Ae{static makeHexColor(pe,he,We){return`#${Ne[pe]}${Ne[he]}${Ne[We]}`}static scaleMinMax(pe,he){let We;pe[0]?(pe[0]<0&&(We=he[0],he[0]=he[1],he[1]=We),he[0]*=pe[0],he[1]*=pe[0],pe[3]<0&&(We=he[2],he[2]=he[3],he[3]=We),he[2]*=pe[3],he[3]*=pe[3]):(We=he[0],he[0]=he[2],he[2]=We,We=he[1],he[1]=he[3],he[3]=We,pe[1]<0&&(We=he[2],he[2]=he[3],he[3]=We),he[2]*=pe[1],he[3]*=pe[1],pe[2]<0&&(We=he[0],he[0]=he[1],he[1]=We),he[0]*=pe[2],he[1]*=pe[2]),he[0]+=pe[4],he[1]+=pe[4],he[2]+=pe[5],he[3]+=pe[5]}static transform(pe,he){return[pe[0]*he[0]+pe[2]*he[1],pe[1]*he[0]+pe[3]*he[1],pe[0]*he[2]+pe[2]*he[3],pe[1]*he[2]+pe[3]*he[3],pe[0]*he[4]+pe[2]*he[5]+pe[4],pe[1]*he[4]+pe[3]*he[5]+pe[5]]}static applyTransform(pe,he){const We=pe[0]*he[0]+pe[1]*he[2]+he[4],ze=pe[0]*he[1]+pe[1]*he[3]+he[5];return[We,ze]}static applyInverseTransform(pe,he){const We=he[0]*he[3]-he[1]*he[2],ze=(pe[0]*he[3]-pe[1]*he[2]+he[2]*he[5]-he[4]*he[3])/We,Ot=(-pe[0]*he[1]+pe[1]*he[0]+he[4]*he[1]-he[5]*he[0])/We;return[ze,Ot]}static getAxialAlignedBoundingBox(pe,he){const We=this.applyTransform(pe,he),ze=this.applyTransform(pe.slice(2,4),he),Ot=this.applyTransform([pe[0],pe[3]],he),St=this.applyTransform([pe[2],pe[1]],he);return[Math.min(We[0],ze[0],Ot[0],St[0]),Math.min(We[1],ze[1],Ot[1],St[1]),Math.max(We[0],ze[0],Ot[0],St[0]),Math.max(We[1],ze[1],Ot[1],St[1])]}static inverseTransform(pe){const he=pe[0]*pe[3]-pe[1]*pe[2];return[pe[3]/he,-pe[1]/he,-pe[2]/he,pe[0]/he,(pe[2]*pe[5]-pe[4]*pe[3])/he,(pe[4]*pe[1]-pe[5]*pe[0])/he]}static singularValueDecompose2dScale(pe){const he=[pe[0],pe[2],pe[1],pe[3]],We=pe[0]*he[0]+pe[1]*he[2],ze=pe[0]*he[1]+pe[1]*he[3],Ot=pe[2]*he[0]+pe[3]*he[2],St=pe[2]*he[1]+pe[3]*he[3],ye=(We+St)/2,Xe=Math.sqrt((We+St)**2-4*(We*St-Ot*ze))/2,at=ye+Xe||1,Ye=ye-Xe||1;return[Math.sqrt(at),Math.sqrt(Ye)]}static normalizeRect(pe){const he=pe.slice(0);return pe[0]>pe[2]&&(he[0]=pe[2],he[2]=pe[0]),pe[1]>pe[3]&&(he[1]=pe[3],he[3]=pe[1]),he}static intersect(pe,he){const We=Math.max(Math.min(pe[0],pe[2]),Math.min(he[0],he[2])),ze=Math.min(Math.max(pe[0],pe[2]),Math.max(he[0],he[2]));if(We>ze)return null;const Ot=Math.max(Math.min(pe[1],pe[3]),Math.min(he[1],he[3])),St=Math.min(Math.max(pe[1],pe[3]),Math.max(he[1],he[3]));return Ot>St?null:[We,Ot,ze,St]}static bezierBoundingBox(pe,he,We,ze,Ot,St,ye,Xe){const at=[],Ye=[[],[]];let ct,ut,Pe,ee,we,De,J,f;for(let ve=0;ve<2;++ve){if(ve===0?(ut=6*pe-12*We+6*Ot,ct=-3*pe+9*We-9*Ot+3*ye,Pe=3*We-3*pe):(ut=6*he-12*ze+6*St,ct=-3*he+9*ze-9*St+3*Xe,Pe=3*ze-3*he),Math.abs(ct)<1e-12){if(Math.abs(ut)<1e-12)continue;ee=-Pe/ut,0<ee&&ee<1&&at.push(ee);continue}J=ut*ut-4*Pe*ct,f=Math.sqrt(J),!(J<0)&&(we=(-ut+f)/(2*ct),0<we&&we<1&&at.push(we),De=(-ut-f)/(2*ct),0<De&&De<1&&at.push(De))}let L=at.length,Q;const ue=L;for(;L--;)ee=at[L],Q=1-ee,Ye[0][L]=Q*Q*Q*pe+3*Q*Q*ee*We+3*Q*ee*ee*Ot+ee*ee*ee*ye,Ye[1][L]=Q*Q*Q*he+3*Q*Q*ee*ze+3*Q*ee*ee*St+ee*ee*ee*Xe;return Ye[0][ue]=pe,Ye[1][ue]=he,Ye[0][ue+1]=ye,Ye[1][ue+1]=Xe,Ye[0].length=Ye[1].length=ue+2,[Math.min(...Ye[0]),Math.min(...Ye[1]),Math.max(...Ye[0]),Math.max(...Ye[1])]}}n.Util=Ae;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ce(Ie){if(Ie[0]>="ï"){let he;if(Ie[0]==="þ"&&Ie[1]==="ÿ"?he="utf-16be":Ie[0]==="ÿ"&&Ie[1]==="þ"?he="utf-16le":Ie[0]==="ï"&&Ie[1]==="»"&&Ie[2]==="¿"&&(he="utf-8"),he)try{const We=new TextDecoder(he,{fatal:!0}),ze=Se(Ie);return We.decode(ze)}catch(We){xe(`stringToPDFString: "${We}".`)}}const pe=[];for(let he=0,We=Ie.length;he<We;he++){const ze=ke[Ie.charCodeAt(he)];pe.push(ze?String.fromCharCode(ze):Ie.charAt(he))}return pe.join("")}function oe(Ie){return decodeURIComponent(escape(Ie))}function te(Ie){return unescape(encodeURIComponent(Ie))}function fe(Ie){return typeof Ie=="object"&&(Ie==null?void 0:Ie.byteLength)!==void 0}function Le(Ie,pe){if(Ie.length!==pe.length)return!1;for(let he=0,We=Ie.length;he<We;he++)if(Ie[he]!==pe[he])return!1;return!0}function Be(Ie=new Date){return[Ie.getUTCFullYear().toString(),(Ie.getUTCMonth()+1).toString().padStart(2,"0"),Ie.getUTCDate().toString().padStart(2,"0"),Ie.getUTCHours().toString().padStart(2,"0"),Ie.getUTCMinutes().toString().padStart(2,"0"),Ie.getUTCSeconds().toString().padStart(2,"0")].join("")}class Qe{constructor(){ne(this,gt,!1);this.promise=new Promise((pe,he)=>{this.resolve=We=>{Re(this,gt,!0),pe(We)},this.reject=We=>{Re(this,gt,!0),he(We)}})}get settled(){return u(this,gt)}}gt=new WeakMap,n.PromiseCapability=Qe;let nt=null,rt=null;function lt(Ie){return nt||(nt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rt=new Map([["ﬅ","ſt"]])),Ie.replaceAll(nt,(pe,he,We)=>he?he.normalize("NFKC"):rt.get(We))}function dt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ie=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ie);else for(let pe=0;pe<32;pe++)Ie[pe]=Math.floor(Math.random()*255);return re(Ie)}const ot="pdfjs_internal_id_";n.AnnotationPrefix=ot},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,r,o,Ei,c,Bs,b,A,d,x,V,D,k,M,w,$s,U,$,co,S,C;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(N){if(typeof N=="string"||N instanceof URL?N={url:N}:(0,_util.isArrayBuffer)(N)&&(N={data:N}),typeof N!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!N.url&&!N.data&&!N.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const E=new PDFDocumentLoadingTask,{docId:X}=E,H=N.url?getUrlProp(N.url):null,ae=N.data?getDataProp(N.data):null,de=N.httpHeaders||null,K=N.withCredentials===!0,ge=N.password??null,Ce=N.range instanceof PDFDataRangeTransport?N.range:null,xe=Number.isInteger(N.rangeChunkSize)&&N.rangeChunkSize>0?N.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ie=N.worker instanceof PDFWorker?N.worker:null;const Oe=N.verbosity,Ue=typeof N.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(N.docBaseUrl)?N.docBaseUrl:null,He=typeof N.cMapUrl=="string"?N.cMapUrl:null,Ge=N.cMapPacked!==!1,q=N.CMapReaderFactory||DefaultCMapReaderFactory,g=typeof N.standardFontDataUrl=="string"?N.standardFontDataUrl:null,v=N.StandardFontDataFactory||DefaultStandardFontDataFactory,m=N.stopAtErrors!==!0,T=Number.isInteger(N.maxImageSize)&&N.maxImageSize>-1?N.maxImageSize:-1,F=N.isEvalSupported!==!1,j=typeof N.isOffscreenCanvasSupported=="boolean"?N.isOffscreenCanvasSupported:!_util.isNodeJS,Y=Number.isInteger(N.canvasMaxAreaInBytes)?N.canvasMaxAreaInBytes:-1,re=typeof N.disableFontFace=="boolean"?N.disableFontFace:_util.isNodeJS,Se=N.fontExtraProperties===!0,R=N.enableXfa===!0,B=N.ownerDocument||globalThis.document,Z=N.disableRange===!0,_e=N.disableStream===!0,se=N.disableAutoFetch===!0,Ee=N.pdfBug===!0,Ne=Ce?Ce.length:N.length??NaN,Ae=typeof N.useSystemFonts=="boolean"?N.useSystemFonts:!_util.isNodeJS&&!re,ke=typeof N.useWorkerFetch=="boolean"?N.useWorkerFetch:q===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&He&&g&&(0,_display_utils.isValidFetchUrl)(He,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI),ce=N.canvasFactory||new DefaultCanvasFactory({ownerDocument:B}),oe=N.filterFactory||new DefaultFilterFactory({docId:X,ownerDocument:B}),te=null;(0,_util.setVerbosityLevel)(Oe);const fe={canvasFactory:ce,filterFactory:oe};if(ke||(fe.cMapReaderFactory=new q({baseUrl:He,isCompressed:Ge}),fe.standardFontDataFactory=new v({baseUrl:g})),!ie){const Qe={verbosity:Oe,port:_worker_options.GlobalWorkerOptions.workerPort};ie=Qe.port?PDFWorker.fromPort(Qe):new PDFWorker(Qe),E._worker=ie}const Le={docId:X,apiVersion:"3.11.174",data:ae,password:ge,disableAutoFetch:se,rangeChunkSize:xe,length:Ne,docBaseUrl:Ue,enableXfa:R,evaluatorOptions:{maxImageSize:T,disableFontFace:re,ignoreErrors:m,isEvalSupported:F,isOffscreenCanvasSupported:j,canvasMaxAreaInBytes:Y,fontExtraProperties:Se,useSystemFonts:Ae,cMapUrl:ke?He:null,standardFontDataUrl:ke?g:null}},Be={ignoreErrors:m,isEvalSupported:F,disableFontFace:re,fontExtraProperties:Se,enableXfa:R,ownerDocument:B,disableAutoFetch:se,pdfBug:Ee,styleElement:te};return ie.promise.then(function(){if(E.destroyed)throw new Error("Loading aborted");const Qe=_fetchDocument(ie,Le),nt=new Promise(function(rt){let lt;Ce?lt=new _transport_stream.PDFDataTransportStream({length:Ne,initialData:Ce.initialData,progressiveDone:Ce.progressiveDone,contentDispositionFilename:Ce.contentDispositionFilename,disableRange:Z,disableStream:_e},Ce):ae||(lt=(ot=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ot):(0,_display_utils.isValidFetchUrl)(ot.url)?new _displayFetch_stream.PDFFetchStream(ot):new _displayNetwork.PDFNetworkStream(ot))({url:H,length:Ne,httpHeaders:de,withCredentials:K,rangeChunkSize:xe,disableRange:Z,disableStream:_e})),rt(lt)});return Promise.all([Qe,nt]).then(function([rt,lt]){if(E.destroyed)throw new Error("Loading aborted");const dt=new _message_handler.MessageHandler(X,rt,ie.port),ot=new WorkerTransport(dt,E,lt,Be,fe);E._transport=ot,dt.send("Ready",null)})}).catch(E._capability.reject),E}async function _fetchDocument(N,E){if(N.destroyed)throw new Error("Worker was destroyed");const X=await N.messageHandler.sendWithPromise("GetDocRequest",E,E.data?[E.data.buffer]:null);if(N.destroyed)throw new Error("Worker was destroyed");return X}function getUrlProp(N){if(N instanceof URL)return N.href;try{return new URL(N,window.location).href}catch{if(_util.isNodeJS&&typeof N=="string")return N}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(N){if(_util.isNodeJS&&typeof Buffer<"u"&&N instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(N instanceof Uint8Array&&N.byteLength===N.buffer.byteLength)return N;if(typeof N=="string")return(0,_util.stringToBytes)(N);if(typeof N=="object"&&!isNaN(N==null?void 0:N.length)||(0,_util.isArrayBuffer)(N))return new Uint8Array(N);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const n=class n{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Vi(n,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var E,X,H;this.destroyed=!0;try{(E=this._worker)!=null&&E.port&&(this._worker._pendingDestroy=!0),await((X=this._transport)==null?void 0:X.destroy())}catch(ae){throw(H=this._worker)!=null&&H.port&&delete this._worker._pendingDestroy,ae}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,ne(n,e,0);let PDFDocumentLoadingTask=n;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(E,X,H=!1,ae=null){this.length=E,this.initialData=X,this.progressiveDone=H,this.contentDispositionFilename=ae,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(E){this._rangeListeners.push(E)}addProgressListener(E){this._progressListeners.push(E)}addProgressiveReadListener(E){this._progressiveReadListeners.push(E)}addProgressiveDoneListener(E){this._progressiveDoneListeners.push(E)}onDataRange(E,X){for(const H of this._rangeListeners)H(E,X)}onDataProgress(E,X){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(E,X)})}onDataProgressiveRead(E){this._readyCapability.promise.then(()=>{for(const X of this._progressiveReadListeners)X(E)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const E of this._progressiveDoneListeners)E()})}transportReady(){this._readyCapability.resolve()}requestDataRange(E,X){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(E,X){this._pdfInfo=E,this._transport=X,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(H=>{if(!H)return H;const ae=[];for(const de in H)ae.push(...H[de]);return ae}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(E){return this._transport.getPage(E)}getPageIndex(E){return this._transport.getPageIndex(E)}getDestinations(){return this._transport.getDestinations()}getDestination(E){return this._transport.getDestination(E)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(E=!1){return this._transport.startCleanup(E||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(E,X,H,ae=!1){ne(this,o);ne(this,c);ne(this,s,null);ne(this,r,!1);this._pageIndex=E,this._pageInfo=X,this._transport=H,this._stats=ae?new _display_utils.StatTimer:null,this._pdfBug=ae,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:E,rotation:X=this.rotate,offsetX:H=0,offsetY:ae=0,dontFlip:de=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:E,rotation:X,offsetX:H,offsetY:ae,dontFlip:de})}getAnnotations({intent:E="display"}={}){const X=this._transport.getRenderingIntent(E);return this._transport.getAnnotations(this._pageIndex,X.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var E;return((E=this._transport._htmlForXfa)==null?void 0:E.children[this._pageIndex])||null}render({canvasContext:E,viewport:X,intent:H="display",annotationMode:ae=_util.AnnotationMode.ENABLE,transform:de=null,background:K=null,optionalContentConfigPromise:ge=null,annotationCanvasMap:Ce=null,pageColors:xe=null,printAnnotationStorage:ie=null}){var v,m;(v=this._stats)==null||v.time("Overall");const Oe=this._transport.getRenderingIntent(H,ae,ie);Re(this,r,!1),me(this,c,Bs).call(this),ge||(ge=this._transport.getOptionalContentConfig());let Ue=this._intentStates.get(Oe.cacheKey);Ue||(Ue=Object.create(null),this._intentStates.set(Oe.cacheKey,Ue)),Ue.streamReaderCancelTimeout&&(clearTimeout(Ue.streamReaderCancelTimeout),Ue.streamReaderCancelTimeout=null);const He=!!(Oe.renderingIntent&_util.RenderingIntentFlag.PRINT);Ue.displayReadyCapability||(Ue.displayReadyCapability=new _util.PromiseCapability,Ue.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(Oe));const Ge=T=>{var F,j;Ue.renderTasks.delete(q),(this._maybeCleanupAfterRender||He)&&Re(this,r,!0),me(this,o,Ei).call(this,!He),T?(q.capability.reject(T),this._abortOperatorList({intentState:Ue,reason:T instanceof Error?T:new Error(T)})):q.capability.resolve(),(F=this._stats)==null||F.timeEnd("Rendering"),(j=this._stats)==null||j.timeEnd("Overall")},q=new InternalRenderTask({callback:Ge,params:{canvasContext:E,viewport:X,transform:de,background:K},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ce,operatorList:Ue.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!He,pdfBug:this._pdfBug,pageColors:xe});(Ue.renderTasks||(Ue.renderTasks=new Set)).add(q);const g=q.task;return Promise.all([Ue.displayReadyCapability.promise,ge]).then(([T,F])=>{var j;if(this.destroyed){Ge();return}(j=this._stats)==null||j.time("Rendering"),q.initializeGraphics({transparency:T,optionalContentConfig:F}),q.operatorListChanged()}).catch(Ge),g}getOperatorList({intent:E="display",annotationMode:X=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var Ce;function ae(){K.operatorList.lastChunk&&(K.opListReadCapability.resolve(K.operatorList),K.renderTasks.delete(ge))}const de=this._transport.getRenderingIntent(E,X,H,!0);let K=this._intentStates.get(de.cacheKey);K||(K=Object.create(null),this._intentStates.set(de.cacheKey,K));let ge;return K.opListReadCapability||(ge=Object.create(null),ge.operatorListChanged=ae,K.opListReadCapability=new _util.PromiseCapability,(K.renderTasks||(K.renderTasks=new Set)).add(ge),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ce=this._stats)==null||Ce.time("Page Request"),this._pumpOperatorList(de)),K.opListReadCapability.promise}streamTextContent({includeMarkedContent:E=!1,disableNormalization:X=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:E===!0,disableNormalization:X===!0},{highWaterMark:100,size(ae){return ae.items.length}})}getTextContent(E={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const X=this.streamTextContent(E);return new Promise(function(H,ae){function de(){K.read().then(function({value:Ce,done:xe}){if(xe){H(ge);return}Object.assign(ge.styles,Ce.styles),ge.items.push(...Ce.items),de()},ae)}const K=X.getReader(),ge={items:[],styles:Object.create(null)};de()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const E=[];for(const X of this._intentStates.values())if(this._abortOperatorList({intentState:X,reason:new Error("Page was destroyed."),force:!0}),!X.opListReadCapability)for(const H of X.renderTasks)E.push(H.completed),H.cancel();return this.objs.clear(),Re(this,r,!1),me(this,c,Bs).call(this),Promise.all(E)}cleanup(E=!1){Re(this,r,!0);const X=me(this,o,Ei).call(this,!1);return E&&X&&this._stats&&(this._stats=new _display_utils.StatTimer),X}_startRenderPage(E,X){var ae,de;const H=this._intentStates.get(X);H&&((ae=this._stats)==null||ae.timeEnd("Page Request"),(de=H.displayReadyCapability)==null||de.resolve(E))}_renderPageChunk(E,X){for(let H=0,ae=E.length;H<ae;H++)X.operatorList.fnArray.push(E.fnArray[H]),X.operatorList.argsArray.push(E.argsArray[H]);X.operatorList.lastChunk=E.lastChunk,X.operatorList.separateAnnots=E.separateAnnots;for(const H of X.renderTasks)H.operatorListChanged();E.lastChunk&&me(this,o,Ei).call(this,!0)}_pumpOperatorList({renderingIntent:E,cacheKey:X,annotationStorageSerializable:H}){const{map:ae,transfers:de}=H,ge=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:E,cacheKey:X,annotationStorage:ae},de).getReader(),Ce=this._intentStates.get(X);Ce.streamReader=ge;const xe=()=>{ge.read().then(({value:ie,done:Oe})=>{if(Oe){Ce.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ie,Ce),xe())},ie=>{if(Ce.streamReader=null,!this._transport.destroyed){if(Ce.operatorList){Ce.operatorList.lastChunk=!0;for(const Oe of Ce.renderTasks)Oe.operatorListChanged();me(this,o,Ei).call(this,!0)}if(Ce.displayReadyCapability)Ce.displayReadyCapability.reject(ie);else if(Ce.opListReadCapability)Ce.opListReadCapability.reject(ie);else throw ie}})};xe()}_abortOperatorList({intentState:E,reason:X,force:H=!1}){if(E.streamReader){if(E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null),!H){if(E.renderTasks.size>0)return;if(X instanceof _display_utils.RenderingCancelledException){let ae=RENDERING_CANCELLED_TIMEOUT;X.extraDelay>0&&X.extraDelay<1e3&&(ae+=X.extraDelay),E.streamReaderCancelTimeout=setTimeout(()=>{E.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:E,reason:X,force:!0})},ae);return}}if(E.streamReader.cancel(new _util.AbortException(X.message)).catch(()=>{}),E.streamReader=null,!this._transport.destroyed){for(const[ae,de]of this._intentStates)if(de===E){this._intentStates.delete(ae);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,r=new WeakMap,o=new WeakSet,Ei=function(E=!1){if(me(this,c,Bs).call(this),!u(this,r)||this.destroyed)return!1;if(E)return Re(this,s,setTimeout(()=>{Re(this,s,null),me(this,o,Ei).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:X,operatorList:H}of this._intentStates.values())if(X.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Re(this,r,!1),!0},c=new WeakSet,Bs=function(){u(this,s)&&(clearTimeout(u(this,s)),Re(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ne(this,b,new Set);ne(this,A,Promise.resolve())}postMessage(E,X){const H={data:structuredClone(E,X?{transfer:X}:null)};u(this,A).then(()=>{for(const ae of u(this,b))ae.call(this,H)})}addEventListener(E,X){u(this,b).add(X)}removeEventListener(E,X){u(this,b).delete(X)}terminate(){u(this,b).clear()}}b=new WeakMap,A=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const N=(d=document==null?void 0:document.currentScript)==null?void 0:d.src;N&&(PDFWorkerUtil.fallbackWorkerSrc=N.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(N,E){let X;try{if(X=new URL(N),!X.origin||X.origin==="null")return!1}catch{return!1}const H=new URL(E,X);return X.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(N){const E=`importScripts("${N}");`;return URL.createObjectURL(new Blob([E]))}}const _PDFWorker=class _PDFWorker{constructor({name:N=null,port:E=null,verbosity:X=(0,_util.getVerbosityLevel)()}={}){var H;if(this.name=N,this.destroyed=!1,this.verbosity=X,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,E){if((H=u(_PDFWorker,x))!=null&&H.has(E))throw new Error("Cannot use more than one PDFWorker per port.");(u(_PDFWorker,x)||Re(_PDFWorker,x,new WeakMap)).set(E,this),this._initializeFromPort(E);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(N){this._port=N,this._messageHandler=new _message_handler.MessageHandler("main","worker",N),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:N}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,N)||(N=PDFWorkerUtil.createCDNWrapper(new URL(N,window.location).href));const E=new Worker(N),X=new _message_handler.MessageHandler("main","worker",E),H=()=>{E.removeEventListener("error",ae),X.destroy(),E.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ae=()=>{this._webWorker||H()};E.addEventListener("error",ae),X.on("test",K=>{if(E.removeEventListener("error",ae),this.destroyed){H();return}K?(this._messageHandler=X,this._port=E,this._webWorker=E,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),X.destroy(),E.terminate())}),X.on("ready",K=>{if(E.removeEventListener("error",ae),this.destroyed){H();return}try{de()}catch{this._setupFakeWorker()}});const de=()=>{const K=new Uint8Array;X.send("test",K,[K.buffer])};de();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(N=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const E=new LoopbackPort;this._port=E;const X=`fake${PDFWorkerUtil.fakeWorkerId++}`,H=new _message_handler.MessageHandler(X+"_worker",X,E);N.setup(H,E);const ae=new _message_handler.MessageHandler(X,X+"_worker",E);this._messageHandler=ae,this._readyCapability.resolve(),ae.send("configure",{verbosity:this.verbosity})}).catch(N=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${N.message}".`))})}destroy(){var N;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(N=u(_PDFWorker,x))==null||N.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(N){var X;if(!(N!=null&&N.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const E=(X=u(this,x))==null?void 0:X.get(N.port);if(E){if(E._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return E}return new _PDFWorker(N)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var N;try{return((N=globalThis.pdfjsWorker)==null?void 0:N.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};x=new WeakMap,ne(_PDFWorker,x,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(E,X,H,ae,de){ne(this,w);ne(this,V,new Map);ne(this,D,new Map);ne(this,k,new Map);ne(this,M,null);this.messageHandler=E,this.loadingTask=X,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ae.ownerDocument,styleElement:ae.styleElement}),this._params=ae,this.canvasFactory=de.canvasFactory,this.filterFactory=de.filterFactory,this.cMapReaderFactory=de.cMapReaderFactory,this.standardFontDataFactory=de.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(E,X=_util.AnnotationMode.ENABLE,H=null,ae=!1){let de=_util.RenderingIntentFlag.DISPLAY,K=_annotation_storage.SerializableEmpty;switch(E){case"any":de=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":de=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${E}`)}switch(X){case _util.AnnotationMode.DISABLE:de+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:de+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:de+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,K=(de&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${X}`)}return ae&&(de+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:de,cacheKey:`${de}_${K.hash}`,annotationStorageSerializable:K}}destroy(){var H;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(H=u(this,M))==null||H.reject(new Error("Worker was destroyed during onPassword callback"));const E=[];for(const ae of u(this,D).values())E.push(ae._destroy());u(this,D).clear(),u(this,k).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const X=this.messageHandler.sendWithPromise("Terminate",null);return E.push(X),Promise.all(E).then(()=>{var ae;this.commonObjs.clear(),this.fontLoader.clear(),u(this,V).clear(),this.filterFactory.destroy(),(ae=this._networkStream)==null||ae.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:E,loadingTask:X}=this;E.on("GetReader",(H,ae)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=de=>{this._lastProgress={loaded:de.loaded,total:de.total}},ae.onPull=()=>{this._fullReader.read().then(function({value:de,done:K}){if(K){ae.close();return}(0,_util.assert)(de instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ae.enqueue(new Uint8Array(de),1,[de])}).catch(de=>{ae.error(de)})},ae.onCancel=de=>{this._fullReader.cancel(de),ae.ready.catch(K=>{if(!this.destroyed)throw K})}}),E.on("ReaderHeadersReady",H=>{const ae=new _util.PromiseCapability,de=this._fullReader;return de.headersReady.then(()=>{var K;(!de.isStreamingSupported||!de.isRangeSupported)&&(this._lastProgress&&((K=X.onProgress)==null||K.call(X,this._lastProgress)),de.onProgress=ge=>{var Ce;(Ce=X.onProgress)==null||Ce.call(X,{loaded:ge.loaded,total:ge.total})}),ae.resolve({isStreamingSupported:de.isStreamingSupported,isRangeSupported:de.isRangeSupported,contentLength:de.contentLength})},ae.reject),ae.promise}),E.on("GetRangeReader",(H,ae)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const de=this._networkStream.getRangeReader(H.begin,H.end);if(!de){ae.close();return}ae.onPull=()=>{de.read().then(function({value:K,done:ge}){if(ge){ae.close();return}(0,_util.assert)(K instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ae.enqueue(new Uint8Array(K),1,[K])}).catch(K=>{ae.error(K)})},ae.onCancel=K=>{de.cancel(K),ae.ready.catch(ge=>{if(!this.destroyed)throw ge})}}),E.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,X._capability.resolve(new PDFDocumentProxy(H,this))}),E.on("DocException",function(H){let ae;switch(H.name){case"PasswordException":ae=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":ae=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":ae=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":ae=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":ae=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}X._capability.reject(ae)}),E.on("PasswordRequest",H=>{if(Re(this,M,new _util.PromiseCapability),X.onPassword){const ae=de=>{de instanceof Error?u(this,M).reject(de):u(this,M).resolve({password:de})};try{X.onPassword(ae,H.code)}catch(de){u(this,M).reject(de)}}else u(this,M).reject(new _util.PasswordException(H.message,H.code));return u(this,M).promise}),E.on("DataLoaded",H=>{var ae;(ae=X.onProgress)==null||ae.call(X,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),E.on("StartRenderPage",H=>{if(this.destroyed)return;u(this,D).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),E.on("commonobj",([H,ae,de])=>{var K;if(!this.destroyed&&!this.commonObjs.has(H))switch(ae){case"Font":const ge=this._params;if("error"in de){const ie=de.error;(0,_util.warn)(`Error during font loading: ${ie}`),this.commonObjs.resolve(H,ie);break}const Ce=ge.pdfBug&&((K=globalThis.FontInspector)!=null&&K.enabled)?(ie,Oe)=>globalThis.FontInspector.fontAdded(ie,Oe):null,xe=new _font_loader.FontFaceObject(de,{isEvalSupported:ge.isEvalSupported,disableFontFace:ge.disableFontFace,ignoreErrors:ge.ignoreErrors,inspectFont:Ce});this.fontLoader.bind(xe).catch(ie=>E.sendWithPromise("FontFallback",{id:H})).finally(()=>{!ge.fontExtraProperties&&xe.data&&(xe.data=null),this.commonObjs.resolve(H,xe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(H,de);break;default:throw new Error(`Got unknown common object type ${ae}`)}}),E.on("obj",([H,ae,de,K])=>{var Ce;if(this.destroyed)return;const ge=u(this,D).get(ae);if(!ge.objs.has(H))switch(de){case"Image":if(ge.objs.resolve(H,K),K){let xe;if(K.bitmap){const{width:ie,height:Oe}=K;xe=ie*Oe*4}else xe=((Ce=K.data)==null?void 0:Ce.length)||0;xe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(ge._maybeCleanupAfterRender=!0)}break;case"Pattern":ge.objs.resolve(H,K);break;default:throw new Error(`Got unknown object type ${de}`)}}),E.on("DocProgress",H=>{var ae;this.destroyed||(ae=X.onProgress)==null||ae.call(X,{loaded:H.loaded,total:H.total})}),E.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),E.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var H;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:E,transfers:X}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:E,filename:((H=this._fullReader)==null?void 0:H.filename)??null},X).finally(()=>{this.annotationStorage.resetModified()})}getPage(E){if(!Number.isInteger(E)||E<=0||E>this._numPages)return Promise.reject(new Error("Invalid page request."));const X=E-1,H=u(this,k).get(X);if(H)return H;const ae=this.messageHandler.sendWithPromise("GetPage",{pageIndex:X}).then(de=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(X,de,this,this._params.pdfBug);return u(this,D).set(X,K),K});return u(this,k).set(X,ae),ae}getPageIndex(E){return typeof E!="object"||E===null||!Number.isInteger(E.num)||E.num<0||!Number.isInteger(E.gen)||E.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:E.num,gen:E.gen})}getAnnotations(E,X){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:E,intent:X})}getFieldObjects(){return me(this,w,$s).call(this,"GetFieldObjects")}hasJSActions(){return me(this,w,$s).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(E){return typeof E!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:E})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return me(this,w,$s).call(this,"GetDocJSActions")}getPageJSActions(E){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:E})}getStructTree(E){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:E})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(E=>new _optional_content_config.OptionalContentConfig(E))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const E="GetMetadata",X=u(this,V).get(E);if(X)return X;const H=this.messageHandler.sendWithPromise(E,null).then(ae=>{var de,K;return{info:ae[0],metadata:ae[1]?new _metadata.Metadata(ae[1]):null,contentDispositionFilename:((de=this._fullReader)==null?void 0:de.filename)??null,contentLength:((K=this._fullReader)==null?void 0:K.contentLength)??null}});return u(this,V).set(E,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(E=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const X of u(this,D).values())if(!X.cleanup())throw new Error(`startCleanup: Page ${X.pageNumber} is currently rendering.`);this.commonObjs.clear(),E||this.fontLoader.clear(),u(this,V).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:E,enableXfa:X}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:E,enableXfa:X})}}V=new WeakMap,D=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakSet,$s=function(E,X=null){const H=u(this,V).get(E);if(H)return H;const ae=this.messageHandler.sendWithPromise(E,X);return u(this,V).set(E,ae),ae};class PDFObjects{constructor(){ne(this,$);ne(this,U,Object.create(null))}get(E,X=null){if(X){const ae=me(this,$,co).call(this,E);return ae.capability.promise.then(()=>X(ae.data)),null}const H=u(this,U)[E];if(!(H!=null&&H.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${E}.`);return H.data}has(E){const X=u(this,U)[E];return(X==null?void 0:X.capability.settled)||!1}resolve(E,X=null){const H=me(this,$,co).call(this,E);H.data=X,H.capability.resolve()}clear(){var E;for(const X in u(this,U)){const{data:H}=u(this,U)[X];(E=H==null?void 0:H.bitmap)==null||E.close()}Re(this,U,Object.create(null))}}U=new WeakMap,$=new WeakSet,co=function(E){var X;return(X=u(this,U))[E]||(X[E]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(E){ne(this,S,null);Re(this,S,E),this.onContinue=null}get promise(){return u(this,S).capability.promise}cancel(E=0){u(this,S).cancel(null,E)}get separateAnnots(){const{separateAnnots:E}=u(this,S).operatorList;if(!E)return!1;const{annotationCanvasMap:X}=u(this,S);return E.form||E.canvas&&(X==null?void 0:X.size)>0}}S=new WeakMap,exports.RenderTask=RenderTask;const G=class G{constructor({callback:E,params:X,objs:H,commonObjs:ae,annotationCanvasMap:de,operatorList:K,pageIndex:ge,canvasFactory:Ce,filterFactory:xe,useRequestAnimationFrame:ie=!1,pdfBug:Oe=!1,pageColors:Ue=null}){this.callback=E,this.params=X,this.objs=H,this.commonObjs=ae,this.annotationCanvasMap=de,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=ge,this.canvasFactory=Ce,this.filterFactory=xe,this._pdfBug=Oe,this.pageColors=Ue,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ie===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=X.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:E=!1,optionalContentConfig:X}){var ge,Ce;if(this.cancelled)return;if(this._canvas){if(u(G,C).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(G,C).add(this._canvas)}this._pdfBug&&((ge=globalThis.StepperManager)!=null&&ge.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:ae,transform:de,background:K}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:X},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:de,viewport:ae,transparency:E,background:K}),this.operatorListIdx=0,this.graphicsReady=!0,(Ce=this.graphicsReadyCallback)==null||Ce.call(this)}cancel(E=null,X=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),u(G,C).delete(this._canvas),this.callback(E||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,X))}operatorListChanged(){var E;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(E=this.stepper)==null||E.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(G,C).delete(this._canvas),this.callback())))}};C=new WeakMap,ne(G,C,new WeakSet);let InternalRenderTask=G;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,n,s)=>{var A,d,x,gc,D;Object.defineProperty(n,"__esModule",{value:!0}),n.SerializableEmpty=n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var r=s(1),o=s(4),l=s(8);const c=Object.freeze({map:null,hash:"",transfers:void 0});n.SerializableEmpty=c;class y{constructor(){ne(this,x);ne(this,A,!1);ne(this,d,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(M,w){const O=u(this,d).get(M);return O===void 0?w:Object.assign(w,O)}getRawValue(M){return u(this,d).get(M)}remove(M){if(u(this,d).delete(M),u(this,d).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const w of u(this,d).values())if(w instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(M,w){const O=u(this,d).get(M);let U=!1;if(O!==void 0)for(const[$,I]of Object.entries(w))O[$]!==I&&(U=!0,O[$]=I);else U=!0,u(this,d).set(M,w);U&&me(this,x,gc).call(this),w instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(w.constructor._type)}has(M){return u(this,d).has(M)}getAll(){return u(this,d).size>0?(0,r.objectFromMap)(u(this,d)):null}setAll(M){for(const[w,O]of Object.entries(M))this.setValue(w,O)}get size(){return u(this,d).size}resetModified(){u(this,A)&&(Re(this,A,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(u(this,d).size===0)return c;const M=new Map,w=new l.MurmurHash3_64,O=[],U=Object.create(null);let $=!1;for(const[I,S]of u(this,d)){const C=S instanceof o.AnnotationEditor?S.serialize(!1,U):S;C&&(M.set(I,C),w.update(`${I}:${JSON.stringify(C)}`),$||($=!!C.bitmap))}if($)for(const I of M.values())I.bitmap&&O.push(I.bitmap);return M.size>0?{map:M,hash:w.hexdigest(),transfers:O}:c}}A=new WeakMap,d=new WeakMap,x=new WeakSet,gc=function(){u(this,A)||(Re(this,A,!0),typeof this.onSetModified=="function"&&this.onSetModified())},n.AnnotationStorage=y;class b extends y{constructor(w){super();ne(this,D,void 0);const{map:O,hash:U,transfers:$}=w.serializable,I=structuredClone(O,$?{transfer:$}:null);Re(this,D,{map:I,hash:U,transfers:$})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,D)}}D=new WeakMap,n.PrintAnnotationStorage=b},(e,n,s)=>{var b,A,d,x,V,D,k,M,w,O,U,$,I,S,C,uo,N,ho,X,fo,ae,po,K,mc,Ce,_c,ie,bc,Ue,go,Ge,vc;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var r=s(5),o=s(1),l=s(6);const g=class g{constructor(m){ne(this,C);ne(this,N);ne(this,ae);ne(this,K);ne(this,Ce);ne(this,ie);ne(this,Ue);ne(this,Ge);ne(this,b,"");ne(this,A,!1);ne(this,d,null);ne(this,x,null);ne(this,V,null);ne(this,D,!1);ne(this,k,null);ne(this,M,this.focusin.bind(this));ne(this,w,this.focusout.bind(this));ne(this,O,!1);ne(this,U,!1);ne(this,$,!1);Nt(this,"_initialOptions",Object.create(null));Nt(this,"_uiManager",null);Nt(this,"_focusEventsAllowed",!0);Nt(this,"_l10nPromise",null);ne(this,I,!1);ne(this,S,g._zIndex++);this.constructor===g&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=m.parent,this.id=m.id,this.width=this.height=null,this.pageIndex=m.parent.pageIndex,this.name=m.name,this.div=null,this._uiManager=m.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=m.isCentered,this._structTreeParentId=null;const{rotation:T,rawDims:{pageWidth:F,pageHeight:j,pageX:Y,pageY:re}}=this.parent.viewport;this.rotation=T,this.pageRotation=(360+T-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[F,j],this.pageTranslation=[Y,re];const[Se,R]=this.parentDimensions;this.x=m.x/Se,this.y=m.y/R,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(m){const T=new y({id:m.parent.getNextId(),parent:m.parent,uiManager:m._uiManager});T.annotationElementId=m.annotationElementId,T.deleted=!0,T._uiManager.addToAnnotationStorage(T)}static initialize(m,T=null){if(g._l10nPromise||(g._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(j=>[j,m.get(j)]))),T!=null&&T.strings)for(const j of T.strings)g._l10nPromise.set(j,m.get(j));if(g._borderLineWidth!==-1)return;const F=getComputedStyle(document.documentElement);g._borderLineWidth=parseFloat(F.getPropertyValue("--outline-width"))||0}static updateDefaultParams(m,T){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(m){return!1}static paste(m,T){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,I)}set _isDraggable(m){var T;Re(this,I,m),(T=this.div)==null||T.classList.toggle("draggable",m)}center(){const[m,T]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*T/(m*2),this.y+=this.width*m/(T*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*T/(m*2),this.y-=this.width*m/(T*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(m){this._uiManager.addCommands(m)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,S)}setParent(m){m!==null&&(this.pageIndex=m.pageIndex,this.pageDimensions=m.pageDimensions),this.parent=m}focusin(m){this._focusEventsAllowed&&(u(this,O)?Re(this,O,!1):this.parent.setSelected(this))}focusout(m){var F;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const T=m.relatedTarget;T!=null&&T.closest(`#${this.id}`)||(m.preventDefault(),(F=this.parent)!=null&&F.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(m,T,F,j){const[Y,re]=this.parentDimensions;[F,j]=this.screenToPageTranslation(F,j),this.x=(m+F)/Y,this.y=(T+j)/re,this.fixAndSetPosition()}translate(m,T){me(this,C,uo).call(this,this.parentDimensions,m,T)}translateInPage(m,T){me(this,C,uo).call(this,this.pageDimensions,m,T),this.div.scrollIntoView({block:"nearest"})}drag(m,T){const[F,j]=this.parentDimensions;if(this.x+=m/F,this.y+=T/j,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:B,y:Z}=this.div.getBoundingClientRect();this.parent.findNewParent(this,B,Z)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Y,y:re}=this;const[Se,R]=me(this,N,ho).call(this);Y+=Se,re+=R,this.div.style.left=`${(100*Y).toFixed(2)}%`,this.div.style.top=`${(100*re).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[m,T]=this.pageDimensions;let{x:F,y:j,width:Y,height:re}=this;switch(Y*=m,re*=T,F*=m,j*=T,this.rotation){case 0:F=Math.max(0,Math.min(m-Y,F)),j=Math.max(0,Math.min(T-re,j));break;case 90:F=Math.max(0,Math.min(m-re,F)),j=Math.min(T,Math.max(Y,j));break;case 180:F=Math.min(m,Math.max(Y,F)),j=Math.min(T,Math.max(re,j));break;case 270:F=Math.min(m,Math.max(re,F)),j=Math.max(0,Math.min(T-Y,j));break}this.x=F/=m,this.y=j/=T;const[Se,R]=me(this,N,ho).call(this);F+=Se,j+=R;const{style:B}=this.div;B.left=`${(100*F).toFixed(2)}%`,B.top=`${(100*j).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(m,T){var F;return me(F=g,X,fo).call(F,m,T,this.parentRotation)}pageTranslationToScreen(m,T){var F;return me(F=g,X,fo).call(F,m,T,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:m,pageDimensions:[T,F]}=this,j=T*m,Y=F*m;return o.FeatureTest.isCSSRoundSupported?[Math.round(j),Math.round(Y)]:[j,Y]}setDims(m,T){var Y;const[F,j]=this.parentDimensions;this.div.style.width=`${(100*m/F).toFixed(2)}%`,u(this,D)||(this.div.style.height=`${(100*T/j).toFixed(2)}%`),(Y=u(this,d))==null||Y.classList.toggle("small",m<g.SMALL_EDITOR_SIZE||T<g.SMALL_EDITOR_SIZE)}fixDims(){const{style:m}=this.div,{height:T,width:F}=m,j=F.endsWith("%"),Y=!u(this,D)&&T.endsWith("%");if(j&&Y)return;const[re,Se]=this.parentDimensions;j||(m.width=`${(100*parseFloat(F)/re).toFixed(2)}%`),!u(this,D)&&!Y&&(m.height=`${(100*parseFloat(T)/Se).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(u(this,d))return;const m=Re(this,d,document.createElement("button"));m.className="altText";const T=await g._l10nPromise.get("editor_alt_text_button_label");m.textContent=T,m.setAttribute("aria-label",T),m.tabIndex="0",m.addEventListener("contextmenu",l.noContextMenu),m.addEventListener("pointerdown",F=>F.stopPropagation()),m.addEventListener("click",F=>{F.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),m.addEventListener("keydown",F=>{F.target===m&&F.key==="Enter"&&(F.preventDefault(),this._uiManager.editAltText(this))}),me(this,Ue,go).call(this),this.div.append(m),g.SMALL_EDITOR_SIZE||(g.SMALL_EDITOR_SIZE=Math.min(128,Math.round(m.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:u(this,b),decorative:u(this,A)}}set altTextData({altText:m,decorative:T}){u(this,b)===m&&u(this,A)===T||(Re(this,b,m),Re(this,A,T),me(this,Ue,go).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",u(this,M)),this.div.addEventListener("focusout",u(this,w));const[m,T]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*T/m).toFixed(2)}%`,this.div.style.maxHeight=`${(100*m/T).toFixed(2)}%`);const[F,j]=this.getInitialTranslation();return this.translate(F,j),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(m){const{isMac:T}=o.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&T){m.preventDefault();return}Re(this,O,!0),me(this,Ge,vc).call(this,m)}moveInDOM(){var m;(m=this.parent)==null||m.moveEditorInDOM(this)}_setParentAndPosition(m,T,F){m.changeParent(this),this.x=T,this.y=F,this.fixAndSetPosition()}getRect(m,T){const F=this.parentScale,[j,Y]=this.pageDimensions,[re,Se]=this.pageTranslation,R=m/F,B=T/F,Z=this.x*j,_e=this.y*Y,se=this.width*j,Ee=this.height*Y;switch(this.rotation){case 0:return[Z+R+re,Y-_e-B-Ee+Se,Z+R+se+re,Y-_e-B+Se];case 90:return[Z+B+re,Y-_e+R+Se,Z+B+Ee+re,Y-_e+R+se+Se];case 180:return[Z-R-se+re,Y-_e+B+Se,Z-R+re,Y-_e+B+Ee+Se];case 270:return[Z-B-Ee+re,Y-_e-R-se+Se,Z-B+re,Y-_e-R+Se];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(m,T){const[F,j,Y,re]=m,Se=Y-F,R=re-j;switch(this.rotation){case 0:return[F,T-re,Se,R];case 90:return[F,T-j,R,Se];case 180:return[Y,T-j,Se,R];case 270:return[Y,T-re,R,Se];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Re(this,$,!0)}disableEditMode(){Re(this,$,!1)}isInEditMode(){return u(this,$)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var m,T;(m=this.div)==null||m.addEventListener("focusin",u(this,M)),(T=this.div)==null||T.addEventListener("focusout",u(this,w))}serialize(m=!1,T=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(m,T,F){const j=new this.prototype.constructor({parent:T,id:T.getNextId(),uiManager:F});j.rotation=m.rotation;const[Y,re]=j.pageDimensions,[Se,R,B,Z]=j.getRectInCurrentCoords(m.rect,re);return j.x=Se/Y,j.y=R/re,j.width=B/Y,j.height=Z/re,j}remove(){var m;this.div.removeEventListener("focusin",u(this,M)),this.div.removeEventListener("focusout",u(this,w)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(m=u(this,d))==null||m.remove(),Re(this,d,null),Re(this,x,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(me(this,K,mc).call(this),u(this,k).classList.remove("hidden"))}select(){var m;this.makeResizable(),(m=this.div)==null||m.classList.add("selectedEditor")}unselect(){var m,T,F;(m=u(this,k))==null||m.classList.add("hidden"),(T=this.div)==null||T.classList.remove("selectedEditor"),(F=this.div)!=null&&F.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(m,T){}disableEditing(){u(this,d)&&(u(this,d).hidden=!0)}enableEditing(){u(this,d)&&(u(this,d).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return u(this,U)}set isEditing(m){Re(this,U,m),this.parent&&(m?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(m,T){Re(this,D,!0);const F=m/T,{style:j}=this.div;j.aspectRatio=F,j.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,A=new WeakMap,d=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,U=new WeakMap,$=new WeakMap,I=new WeakMap,S=new WeakMap,C=new WeakSet,uo=function([m,T],F,j){[F,j]=this.screenToPageTranslation(F,j),this.x+=F/m,this.y+=j/T,this.fixAndSetPosition()},N=new WeakSet,ho=function(){const[m,T]=this.parentDimensions,{_borderLineWidth:F}=g,j=F/m,Y=F/T;switch(this.rotation){case 90:return[-j,Y];case 180:return[j,Y];case 270:return[j,-Y];default:return[-j,-Y]}},X=new WeakSet,fo=function(m,T,F){switch(F){case 90:return[T,-m];case 180:return[-m,-T];case 270:return[-T,m];default:return[m,T]}},ae=new WeakSet,po=function(m){switch(m){case 90:{const[T,F]=this.pageDimensions;return[0,-T/F,F/T,0]}case 180:return[-1,0,0,-1];case 270:{const[T,F]=this.pageDimensions;return[0,T/F,-F/T,0]}default:return[1,0,0,1]}},K=new WeakSet,mc=function(){if(u(this,k))return;Re(this,k,document.createElement("div")),u(this,k).classList.add("resizers");const m=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||m.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const T of m){const F=document.createElement("div");u(this,k).append(F),F.classList.add("resizer",T),F.addEventListener("pointerdown",me(this,Ce,_c).bind(this,T)),F.addEventListener("contextmenu",l.noContextMenu)}this.div.prepend(u(this,k))},Ce=new WeakSet,_c=function(m,T){T.preventDefault();const{isMac:F}=o.FeatureTest.platform;if(T.button!==0||T.ctrlKey&&F)return;const j=me(this,ie,bc).bind(this,m),Y=this._isDraggable;this._isDraggable=!1;const re={passive:!0,capture:!0};window.addEventListener("pointermove",j,re);const Se=this.x,R=this.y,B=this.width,Z=this.height,_e=this.parent.div.style.cursor,se=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(T.target).cursor;const Ee=()=>{this._isDraggable=Y,window.removeEventListener("pointerup",Ee),window.removeEventListener("blur",Ee),window.removeEventListener("pointermove",j,re),this.parent.div.style.cursor=_e,this.div.style.cursor=se;const Ne=this.x,Ae=this.y,ke=this.width,ce=this.height;Ne===Se&&Ae===R&&ke===B&&ce===Z||this.addCommands({cmd:()=>{this.width=ke,this.height=ce,this.x=Ne,this.y=Ae;const[oe,te]=this.parentDimensions;this.setDims(oe*ke,te*ce),this.fixAndSetPosition()},undo:()=>{this.width=B,this.height=Z,this.x=Se,this.y=R;const[oe,te]=this.parentDimensions;this.setDims(oe*B,te*Z),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ee),window.addEventListener("blur",Ee)},ie=new WeakSet,bc=function(m,T){const[F,j]=this.parentDimensions,Y=this.x,re=this.y,Se=this.width,R=this.height,B=g.MIN_SIZE/F,Z=g.MIN_SIZE/j,_e=We=>Math.round(We*1e4)/1e4,se=me(this,ae,po).call(this,this.rotation),Ee=(We,ze)=>[se[0]*We+se[2]*ze,se[1]*We+se[3]*ze],Ne=me(this,ae,po).call(this,360-this.rotation),Ae=(We,ze)=>[Ne[0]*We+Ne[2]*ze,Ne[1]*We+Ne[3]*ze];let ke,ce,oe=!1,te=!1;switch(m){case"topLeft":oe=!0,ke=(We,ze)=>[0,0],ce=(We,ze)=>[We,ze];break;case"topMiddle":ke=(We,ze)=>[We/2,0],ce=(We,ze)=>[We/2,ze];break;case"topRight":oe=!0,ke=(We,ze)=>[We,0],ce=(We,ze)=>[0,ze];break;case"middleRight":te=!0,ke=(We,ze)=>[We,ze/2],ce=(We,ze)=>[0,ze/2];break;case"bottomRight":oe=!0,ke=(We,ze)=>[We,ze],ce=(We,ze)=>[0,0];break;case"bottomMiddle":ke=(We,ze)=>[We/2,ze],ce=(We,ze)=>[We/2,0];break;case"bottomLeft":oe=!0,ke=(We,ze)=>[0,ze],ce=(We,ze)=>[We,0];break;case"middleLeft":te=!0,ke=(We,ze)=>[0,ze/2],ce=(We,ze)=>[We,ze/2];break}const fe=ke(Se,R),Le=ce(Se,R);let Be=Ee(...Le);const Qe=_e(Y+Be[0]),nt=_e(re+Be[1]);let rt=1,lt=1,[dt,ot]=this.screenToPageTranslation(T.movementX,T.movementY);if([dt,ot]=Ae(dt/F,ot/j),oe){const We=Math.hypot(Se,R);rt=lt=Math.max(Math.min(Math.hypot(Le[0]-fe[0]-dt,Le[1]-fe[1]-ot)/We,1/Se,1/R),B/Se,Z/R)}else te?rt=Math.max(B,Math.min(1,Math.abs(Le[0]-fe[0]-dt)))/Se:lt=Math.max(Z,Math.min(1,Math.abs(Le[1]-fe[1]-ot)))/R;const gt=_e(Se*rt),Ie=_e(R*lt);Be=Ee(...ce(gt,Ie));const pe=Qe-Be[0],he=nt-Be[1];this.width=gt,this.height=Ie,this.x=pe,this.y=he,this.setDims(F*gt,j*Ie),this.fixAndSetPosition()},Ue=new WeakSet,go=async function(){var F;const m=u(this,d);if(!m)return;if(!u(this,b)&&!u(this,A)){m.classList.remove("done"),(F=u(this,x))==null||F.remove();return}g._l10nPromise.get("editor_alt_text_edit_button_label").then(j=>{m.setAttribute("aria-label",j)});let T=u(this,x);if(!T){Re(this,x,T=document.createElement("span")),T.className="tooltip",T.setAttribute("role","tooltip");const j=T.id=`alt-text-tooltip-${this.id}`;m.setAttribute("aria-describedby",j);const Y=100;m.addEventListener("mouseenter",()=>{Re(this,V,setTimeout(()=>{Re(this,V,null),u(this,x).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Y))}),m.addEventListener("mouseleave",()=>{var re;clearTimeout(u(this,V)),Re(this,V,null),(re=u(this,x))==null||re.classList.remove("show")})}m.classList.add("done"),T.innerText=u(this,A)?await g._l10nPromise.get("editor_alt_text_decorative_tooltip"):u(this,b),T.parentNode||m.append(T)},Ge=new WeakSet,vc=function(m){if(!this._isDraggable)return;const T=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let F,j;T&&(F={passive:!0,capture:!0},j=re=>{const[Se,R]=this.screenToPageTranslation(re.movementX,re.movementY);this._uiManager.dragSelectedEditors(Se,R)},window.addEventListener("pointermove",j,F));const Y=()=>{if(window.removeEventListener("pointerup",Y),window.removeEventListener("blur",Y),T&&window.removeEventListener("pointermove",j,F),Re(this,O,!1),!this._uiManager.endDragSession()){const{isMac:re}=o.FeatureTest.platform;m.ctrlKey&&!re||m.shiftKey||m.metaKey&&re?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Y),window.addEventListener("blur",Y)},ne(g,X),Nt(g,"_borderLineWidth",-1),Nt(g,"_colorManager",new r.ColorManager),Nt(g,"_zIndex",1),Nt(g,"SMALL_EDITOR_SIZE",0);let c=g;n.AnnotationEditor=c;class y extends c{constructor(m){super(m),this.annotationElementId=m.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,n,s)=>{var D,k,M,w,O,mo,I,S,C,G,N,yc,H,ae,de,K,ge,Ce,xe,ie,Oe,Ue,He,Ge,q,g,v,m,T,F,j,Y,re,Se,R,B,Z,_e,se,Ee,Ne,Ae,ke,ce,oe,te,fe,Ac,Be,_o,nt,bo,lt,Us,ot,vo,Ie,yo,he,wn,ze,ji,St,Sc,Xe,Ec,Ye,Ao,ut,zi,ee,So;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=l,n.opacityToHex=c;var r=s(1),o=s(6);function l(J,f,L){for(const Q of L)f.addEventListener(Q,J[Q].bind(J))}function c(J){return Math.round(Math.min(255,Math.max(1,255*J))).toString(16).padStart(2,"0")}class y{constructor(){ne(this,D,0)}getId(){return`${r.AnnotationEditorPrefix}${Vi(this,D)._++}`}}D=new WeakMap;const $=class ${constructor(){ne(this,O);ne(this,k,(0,r.getUuid)());ne(this,M,0);ne(this,w,null)}static get _isSVGFittingCanvas(){const f='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Q=new OffscreenCanvas(1,3).getContext("2d"),ue=new Image;ue.src=f;const ve=ue.decode().then(()=>(Q.drawImage(ue,0,0,1,1,0,0,1,3),new Uint32Array(Q.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",ve)}async getFromFile(f){const{lastModified:L,name:Q,size:ue,type:ve}=f;return me(this,O,mo).call(this,`${L}_${Q}_${ue}_${ve}`,f)}async getFromUrl(f){return me(this,O,mo).call(this,f,f)}async getFromId(f){u(this,w)||Re(this,w,new Map);const L=u(this,w).get(f);return L?L.bitmap?(L.refCounter+=1,L):L.file?this.getFromFile(L.file):this.getFromUrl(L.url):null}getSvgUrl(f){const L=u(this,w).get(f);return L!=null&&L.isSvg?L.svgUrl:null}deleteId(f){u(this,w)||Re(this,w,new Map);const L=u(this,w).get(f);L&&(L.refCounter-=1,L.refCounter===0&&(L.bitmap=null))}isValidId(f){return f.startsWith(`image_${u(this,k)}_`)}};k=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakSet,mo=async function(f,L){u(this,w)||Re(this,w,new Map);let Q=u(this,w).get(f);if(Q===null)return null;if(Q!=null&&Q.bitmap)return Q.refCounter+=1,Q;try{Q||(Q={bitmap:null,id:`image_${u(this,k)}_${Vi(this,M)._++}`,refCounter:0,isSvg:!1});let ue;if(typeof L=="string"){Q.url=L;const ve=await fetch(L);if(!ve.ok)throw new Error(ve.statusText);ue=await ve.blob()}else ue=Q.file=L;if(ue.type==="image/svg+xml"){const ve=$._isSVGFittingCanvas,Me=new FileReader,Ve=new Image,et=new Promise((Ze,mt)=>{Ve.onload=()=>{Q.bitmap=Ve,Q.isSvg=!0,Ze()},Me.onload=async()=>{const it=Q.svgUrl=Me.result;Ve.src=await ve?`${it}#svgView(preserveAspectRatio(none))`:it},Ve.onerror=Me.onerror=mt});Me.readAsDataURL(ue),await et}else Q.bitmap=await createImageBitmap(ue);Q.refCounter=1}catch(ue){console.error(ue),Q=null}return u(this,w).set(f,Q),Q&&u(this,w).set(Q.id,Q),Q};let b=$;class A{constructor(f=128){ne(this,I,[]);ne(this,S,!1);ne(this,C,void 0);ne(this,G,-1);Re(this,C,f)}add({cmd:f,undo:L,mustExec:Q,type:ue=NaN,overwriteIfSameType:ve=!1,keepUndo:Me=!1}){if(Q&&f(),u(this,S))return;const Ve={cmd:f,undo:L,type:ue};if(u(this,G)===-1){u(this,I).length>0&&(u(this,I).length=0),Re(this,G,0),u(this,I).push(Ve);return}if(ve&&u(this,I)[u(this,G)].type===ue){Me&&(Ve.undo=u(this,I)[u(this,G)].undo),u(this,I)[u(this,G)]=Ve;return}const et=u(this,G)+1;et===u(this,C)?u(this,I).splice(0,1):(Re(this,G,et),et<u(this,I).length&&u(this,I).splice(et)),u(this,I).push(Ve)}undo(){u(this,G)!==-1&&(Re(this,S,!0),u(this,I)[u(this,G)].undo(),Re(this,S,!1),Re(this,G,u(this,G)-1))}redo(){u(this,G)<u(this,I).length-1&&(Re(this,G,u(this,G)+1),Re(this,S,!0),u(this,I)[u(this,G)].cmd(),Re(this,S,!1))}hasSomethingToUndo(){return u(this,G)!==-1}hasSomethingToRedo(){return u(this,G)<u(this,I).length-1}destroy(){Re(this,I,null)}}I=new WeakMap,S=new WeakMap,C=new WeakMap,G=new WeakMap,n.CommandManager=A;class d{constructor(f){ne(this,N);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:L}=r.FeatureTest.platform;for(const[Q,ue,ve={}]of f)for(const Me of Q){const Ve=Me.startsWith("mac+");L&&Ve?(this.callbacks.set(Me.slice(4),{callback:ue,options:ve}),this.allKeys.add(Me.split("+").at(-1))):!L&&!Ve&&(this.callbacks.set(Me,{callback:ue,options:ve}),this.allKeys.add(Me.split("+").at(-1)))}}exec(f,L){if(!this.allKeys.has(L.key))return;const Q=this.callbacks.get(me(this,N,yc).call(this,L));if(!Q)return;const{callback:ue,options:{bubbles:ve=!1,args:Me=[],checker:Ve=null}}=Q;Ve&&!Ve(f,L)||(ue.bind(f,...Me)(),ve||(L.stopPropagation(),L.preventDefault()))}}N=new WeakSet,yc=function(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);const L=this.buffer.join("+");return this.buffer.length=0,L},n.KeyboardManager=d;const X=class X{get _colors(){const f=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(f),(0,r.shadow)(this,"_colors",f)}convert(f){const L=(0,o.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return L;for(const[Q,ue]of this._colors)if(ue.every((ve,Me)=>ve===L[Me]))return X._colorsMapping.get(Q);return L}getHexCode(f){const L=this._colors.get(f);return L?r.Util.makeHexColor(...L):f}};Nt(X,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let x=X;n.ColorManager=x;const De=class De{constructor(f,L,Q,ue,ve,Me){ne(this,fe);ne(this,Be);ne(this,nt);ne(this,lt);ne(this,ot);ne(this,Ie);ne(this,he);ne(this,ze);ne(this,St);ne(this,Xe);ne(this,Ye);ne(this,ut);ne(this,ee);ne(this,H,null);ne(this,ae,new Map);ne(this,de,new Map);ne(this,K,null);ne(this,ge,null);ne(this,Ce,new A);ne(this,xe,0);ne(this,ie,new Set);ne(this,Oe,null);ne(this,Ue,null);ne(this,He,new Set);ne(this,Ge,null);ne(this,q,new y);ne(this,g,!1);ne(this,v,!1);ne(this,m,null);ne(this,T,r.AnnotationEditorType.NONE);ne(this,F,new Set);ne(this,j,null);ne(this,Y,this.blur.bind(this));ne(this,re,this.focus.bind(this));ne(this,Se,this.copy.bind(this));ne(this,R,this.cut.bind(this));ne(this,B,this.paste.bind(this));ne(this,Z,this.keydown.bind(this));ne(this,_e,this.onEditingAction.bind(this));ne(this,se,this.onPageChanging.bind(this));ne(this,Ee,this.onScaleChanging.bind(this));ne(this,Ne,this.onRotationChanging.bind(this));ne(this,Ae,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ne(this,ke,[0,0]);ne(this,ce,null);ne(this,oe,null);ne(this,te,null);Re(this,oe,f),Re(this,te,L),Re(this,K,Q),this._eventBus=ue,this._eventBus._on("editingaction",u(this,_e)),this._eventBus._on("pagechanging",u(this,se)),this._eventBus._on("scalechanging",u(this,Ee)),this._eventBus._on("rotationchanging",u(this,Ne)),Re(this,ge,ve.annotationStorage),Re(this,Ge,ve.filterFactory),Re(this,j,Me),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const f=De.prototype,L=ve=>{const{activeElement:Me}=document;return Me&&u(ve,oe).contains(Me)&&ve.hasSomethingToControl()},Q=this.TRANSLATE_SMALL,ue=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new d([[["ctrl+a","mac+meta+a"],f.selectAll],[["ctrl+z","mac+meta+z"],f.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],f.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],f.delete],[["Escape","mac+Escape"],f.unselectAll],[["ArrowLeft","mac+ArrowLeft"],f.translateSelectedEditors,{args:[-Q,0],checker:L}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f.translateSelectedEditors,{args:[-ue,0],checker:L}],[["ArrowRight","mac+ArrowRight"],f.translateSelectedEditors,{args:[Q,0],checker:L}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f.translateSelectedEditors,{args:[ue,0],checker:L}],[["ArrowUp","mac+ArrowUp"],f.translateSelectedEditors,{args:[0,-Q],checker:L}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f.translateSelectedEditors,{args:[0,-ue],checker:L}],[["ArrowDown","mac+ArrowDown"],f.translateSelectedEditors,{args:[0,Q],checker:L}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f.translateSelectedEditors,{args:[0,ue],checker:L}]]))}destroy(){me(this,lt,Us).call(this),me(this,Be,_o).call(this),this._eventBus._off("editingaction",u(this,_e)),this._eventBus._off("pagechanging",u(this,se)),this._eventBus._off("scalechanging",u(this,Ee)),this._eventBus._off("rotationchanging",u(this,Ne));for(const f of u(this,de).values())f.destroy();u(this,de).clear(),u(this,ae).clear(),u(this,He).clear(),Re(this,H,null),u(this,F).clear(),u(this,Ce).destroy(),u(this,K).destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",u(this,j)?u(this,Ge).addHCMFilter(u(this,j).foreground,u(this,j).background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(u(this,oe)).direction)}editAltText(f){var L;(L=u(this,K))==null||L.editAltText(this,f)}onPageChanging({pageNumber:f}){Re(this,xe,f-1)}focusMainContainer(){u(this,oe).focus()}findParent(f,L){for(const Q of u(this,de).values()){const{x:ue,y:ve,width:Me,height:Ve}=Q.div.getBoundingClientRect();if(f>=ue&&f<=ue+Me&&L>=ve&&L<=ve+Ve)return Q}return null}disableUserSelect(f=!1){u(this,te).classList.toggle("noUserSelect",f)}addShouldRescale(f){u(this,He).add(f)}removeShouldRescale(f){u(this,He).delete(f)}onScaleChanging({scale:f}){this.commitOrRemove(),this.viewParameters.realScale=f*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const L of u(this,He))L.onScaleChanging()}onRotationChanging({pagesRotation:f}){this.commitOrRemove(),this.viewParameters.rotation=f}addToAnnotationStorage(f){!f.isEmpty()&&u(this,ge)&&!u(this,ge).has(f.id)&&u(this,ge).setValue(f.id,f)}blur(){if(!this.hasSelection)return;const{activeElement:f}=document;for(const L of u(this,F))if(L.div.contains(f)){Re(this,m,[L,f]),L._focusEventsAllowed=!1;break}}focus(){if(!u(this,m))return;const[f,L]=u(this,m);Re(this,m,null),L.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),L.focus()}addEditListeners(){me(this,nt,bo).call(this),me(this,ot,vo).call(this)}removeEditListeners(){me(this,lt,Us).call(this),me(this,Ie,yo).call(this)}copy(f){var Q;if(f.preventDefault(),(Q=u(this,H))==null||Q.commitOrRemove(),!this.hasSelection)return;const L=[];for(const ue of u(this,F)){const ve=ue.serialize(!0);ve&&L.push(ve)}L.length!==0&&f.clipboardData.setData("application/pdfjs",JSON.stringify(L))}cut(f){this.copy(f),this.delete()}paste(f){f.preventDefault();const{clipboardData:L}=f;for(const ve of L.items)for(const Me of u(this,Ue))if(Me.isHandlingMimeForPasting(ve.type)){Me.paste(ve,this.currentLayer);return}let Q=L.getData("application/pdfjs");if(!Q)return;try{Q=JSON.parse(Q)}catch(ve){(0,r.warn)(`paste: "${ve.message}".`);return}if(!Array.isArray(Q))return;this.unselectAll();const ue=this.currentLayer;try{const ve=[];for(const et of Q){const Ze=ue.deserialize(et);if(!Ze)return;ve.push(Ze)}const Me=()=>{for(const et of ve)me(this,Ye,Ao).call(this,et);me(this,ee,So).call(this,ve)},Ve=()=>{for(const et of ve)et.remove()};this.addCommands({cmd:Me,undo:Ve,mustExec:!0})}catch(ve){(0,r.warn)(`paste: "${ve.message}".`)}}keydown(f){var L;(L=this.getActive())!=null&&L.shouldGetKeyboardEvents()||De._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","delete","selectAll"].includes(f.name)&&this[f.name]()}setEditingState(f){f?(me(this,fe,Ac).call(this),me(this,nt,bo).call(this),me(this,ot,vo).call(this),me(this,he,wn).call(this,{isEditing:u(this,T)!==r.AnnotationEditorType.NONE,isEmpty:me(this,ut,zi).call(this),hasSomethingToUndo:u(this,Ce).hasSomethingToUndo(),hasSomethingToRedo:u(this,Ce).hasSomethingToRedo(),hasSelectedEditor:!1})):(me(this,Be,_o).call(this),me(this,lt,Us).call(this),me(this,Ie,yo).call(this),me(this,he,wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(f){if(!u(this,Ue)){Re(this,Ue,f);for(const L of u(this,Ue))me(this,ze,ji).call(this,L.defaultPropertiesToUpdate)}}getId(){return u(this,q).getId()}get currentLayer(){return u(this,de).get(u(this,xe))}getLayer(f){return u(this,de).get(f)}get currentPageIndex(){return u(this,xe)}addLayer(f){u(this,de).set(f.pageIndex,f),u(this,g)?f.enable():f.disable()}removeLayer(f){u(this,de).delete(f.pageIndex)}updateMode(f,L=null){if(u(this,T)!==f){if(Re(this,T,f),f===r.AnnotationEditorType.NONE){this.setEditingState(!1),me(this,Xe,Ec).call(this);return}this.setEditingState(!0),me(this,St,Sc).call(this),this.unselectAll();for(const Q of u(this,de).values())Q.updateMode(f);if(L){for(const Q of u(this,ae).values())if(Q.annotationElementId===L){this.setSelected(Q),Q.enterInEditMode();break}}}}updateToolbar(f){f!==u(this,T)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,L){if(u(this,Ue)){if(f===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(f);return}for(const Q of u(this,F))Q.updateParams(f,L);for(const Q of u(this,Ue))Q.updateDefaultParams(f,L)}}enableWaiting(f=!1){if(u(this,v)!==f){Re(this,v,f);for(const L of u(this,de).values())f?L.disableClick():L.enableClick(),L.div.classList.toggle("waiting",f)}}getEditors(f){const L=[];for(const Q of u(this,ae).values())Q.pageIndex===f&&L.push(Q);return L}getEditor(f){return u(this,ae).get(f)}addEditor(f){u(this,ae).set(f.id,f)}removeEditor(f){var L;u(this,ae).delete(f.id),this.unselect(f),(!f.annotationElementId||!u(this,ie).has(f.annotationElementId))&&((L=u(this,ge))==null||L.remove(f.id))}addDeletedAnnotationElement(f){u(this,ie).add(f.annotationElementId),f.deleted=!0}isDeletedAnnotationElement(f){return u(this,ie).has(f)}removeDeletedAnnotationElement(f){u(this,ie).delete(f.annotationElementId),f.deleted=!1}setActiveEditor(f){u(this,H)!==f&&(Re(this,H,f),f&&me(this,ze,ji).call(this,f.propertiesToUpdate))}toggleSelected(f){if(u(this,F).has(f)){u(this,F).delete(f),f.unselect(),me(this,he,wn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,F).add(f),f.select(),me(this,ze,ji).call(this,f.propertiesToUpdate),me(this,he,wn).call(this,{hasSelectedEditor:!0})}setSelected(f){for(const L of u(this,F))L!==f&&L.unselect();u(this,F).clear(),u(this,F).add(f),f.select(),me(this,ze,ji).call(this,f.propertiesToUpdate),me(this,he,wn).call(this,{hasSelectedEditor:!0})}isSelected(f){return u(this,F).has(f)}unselect(f){f.unselect(),u(this,F).delete(f),me(this,he,wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,F).size!==0}undo(){u(this,Ce).undo(),me(this,he,wn).call(this,{hasSomethingToUndo:u(this,Ce).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:me(this,ut,zi).call(this)})}redo(){u(this,Ce).redo(),me(this,he,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Ce).hasSomethingToRedo(),isEmpty:me(this,ut,zi).call(this)})}addCommands(f){u(this,Ce).add(f),me(this,he,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:me(this,ut,zi).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const f=[...u(this,F)],L=()=>{for(const ue of f)ue.remove()},Q=()=>{for(const ue of f)me(this,Ye,Ao).call(this,ue)};this.addCommands({cmd:L,undo:Q,mustExec:!0})}commitOrRemove(){var f;(f=u(this,H))==null||f.commitOrRemove()}hasSomethingToControl(){return u(this,H)||this.hasSelection}selectAll(){for(const f of u(this,F))f.commit();me(this,ee,So).call(this,u(this,ae).values())}unselectAll(){if(u(this,H)){u(this,H).commitOrRemove();return}if(this.hasSelection){for(const f of u(this,F))f.unselect();u(this,F).clear(),me(this,he,wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(f,L,Q=!1){if(Q||this.commitOrRemove(),!this.hasSelection)return;u(this,ke)[0]+=f,u(this,ke)[1]+=L;const[ue,ve]=u(this,ke),Me=[...u(this,F)],Ve=1e3;u(this,ce)&&clearTimeout(u(this,ce)),Re(this,ce,setTimeout(()=>{Re(this,ce,null),u(this,ke)[0]=u(this,ke)[1]=0,this.addCommands({cmd:()=>{for(const et of Me)u(this,ae).has(et.id)&&et.translateInPage(ue,ve)},undo:()=>{for(const et of Me)u(this,ae).has(et.id)&&et.translateInPage(-ue,-ve)},mustExec:!1})},Ve));for(const et of Me)et.translateInPage(f,L)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Re(this,Oe,new Map);for(const f of u(this,F))u(this,Oe).set(f,{savedX:f.x,savedY:f.y,savedPageIndex:f.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Oe))return!1;this.disableUserSelect(!1);const f=u(this,Oe);Re(this,Oe,null);let L=!1;for(const[{x:ue,y:ve,pageIndex:Me},Ve]of f)Ve.newX=ue,Ve.newY=ve,Ve.newPageIndex=Me,L||(L=ue!==Ve.savedX||ve!==Ve.savedY||Me!==Ve.savedPageIndex);if(!L)return!1;const Q=(ue,ve,Me,Ve)=>{if(u(this,ae).has(ue.id)){const et=u(this,de).get(Ve);et?ue._setParentAndPosition(et,ve,Me):(ue.pageIndex=Ve,ue.x=ve,ue.y=Me)}};return this.addCommands({cmd:()=>{for(const[ue,{newX:ve,newY:Me,newPageIndex:Ve}]of f)Q(ue,ve,Me,Ve)},undo:()=>{for(const[ue,{savedX:ve,savedY:Me,savedPageIndex:Ve}]of f)Q(ue,ve,Me,Ve)},mustExec:!0}),!0}dragSelectedEditors(f,L){if(u(this,Oe))for(const Q of u(this,Oe).keys())Q.drag(f,L)}rebuild(f){if(f.parent===null){const L=this.getLayer(f.pageIndex);L?(L.changeParent(f),L.addOrRebuild(f)):(this.addEditor(f),this.addToAnnotationStorage(f),f.rebuild())}else f.parent.addOrRebuild(f)}isActive(f){return u(this,H)===f}getActive(){return u(this,H)}getMode(){return u(this,T)}get imageManager(){return(0,r.shadow)(this,"imageManager",new b)}};H=new WeakMap,ae=new WeakMap,de=new WeakMap,K=new WeakMap,ge=new WeakMap,Ce=new WeakMap,xe=new WeakMap,ie=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,He=new WeakMap,Ge=new WeakMap,q=new WeakMap,g=new WeakMap,v=new WeakMap,m=new WeakMap,T=new WeakMap,F=new WeakMap,j=new WeakMap,Y=new WeakMap,re=new WeakMap,Se=new WeakMap,R=new WeakMap,B=new WeakMap,Z=new WeakMap,_e=new WeakMap,se=new WeakMap,Ee=new WeakMap,Ne=new WeakMap,Ae=new WeakMap,ke=new WeakMap,ce=new WeakMap,oe=new WeakMap,te=new WeakMap,fe=new WeakSet,Ac=function(){window.addEventListener("focus",u(this,re)),window.addEventListener("blur",u(this,Y))},Be=new WeakSet,_o=function(){window.removeEventListener("focus",u(this,re)),window.removeEventListener("blur",u(this,Y))},nt=new WeakSet,bo=function(){window.addEventListener("keydown",u(this,Z),{capture:!0})},lt=new WeakSet,Us=function(){window.removeEventListener("keydown",u(this,Z),{capture:!0})},ot=new WeakSet,vo=function(){document.addEventListener("copy",u(this,Se)),document.addEventListener("cut",u(this,R)),document.addEventListener("paste",u(this,B))},Ie=new WeakSet,yo=function(){document.removeEventListener("copy",u(this,Se)),document.removeEventListener("cut",u(this,R)),document.removeEventListener("paste",u(this,B))},he=new WeakSet,wn=function(f){Object.entries(f).some(([Q,ue])=>u(this,Ae)[Q]!==ue)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Ae),f)})},ze=new WeakSet,ji=function(f){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:f})},St=new WeakSet,Sc=function(){if(!u(this,g)){Re(this,g,!0);for(const f of u(this,de).values())f.enable()}},Xe=new WeakSet,Ec=function(){if(this.unselectAll(),u(this,g)){Re(this,g,!1);for(const f of u(this,de).values())f.disable()}},Ye=new WeakSet,Ao=function(f){const L=u(this,de).get(f.pageIndex);L?L.addOrRebuild(f):this.addEditor(f)},ut=new WeakSet,zi=function(){if(u(this,ae).size===0)return!0;if(u(this,ae).size===1)for(const f of u(this,ae).values())return f.isEmpty();return!1},ee=new WeakSet,So=function(f){u(this,F).clear();for(const L of f)L.isEmpty()||(u(this,F).add(L),L.select());me(this,he,wn).call(this,{hasSelectedEditor:!0})},Nt(De,"TRANSLATE_SMALL",1),Nt(De,"TRANSLATE_BIG",10);let V=De;n.AnnotationEditorUIManager=V},(e,n,s)=>{var xe,ie,Oe,Ue,He,Ge,q,g,v,m,T,F,wi,Y,xi,Se,Eo,B,Hs,_e,Ws,Ee,qi,Ae,Gi;Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMFilterFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.deprecated=G,n.getColorValues=ae,n.getCurrentTransform=de,n.getCurrentTransformInverse=K,n.getFilenameFromUrl=O,n.getPdfFilenameFromUrl=U,n.getRGB=H,n.getXfaPageViewport=X,n.isDataScheme=M,n.isPdfFile=w,n.isValidFetchUrl=I,n.loadScript=C,n.noContextMenu=S,n.setLayerDimensions=ge;var r=s(7),o=s(1);const l="http://www.w3.org/2000/svg",Ce=class Ce{};Nt(Ce,"CSS",96),Nt(Ce,"PDF",72),Nt(Ce,"PDF_TO_CSS_UNITS",Ce.CSS/Ce.PDF);let c=Ce;n.PixelsPerInch=c;class y extends r.BaseFilterFactory{constructor({docId:te,ownerDocument:fe=globalThis.document}={}){super();ne(this,F);ne(this,Y);ne(this,Se);ne(this,B);ne(this,_e);ne(this,Ee);ne(this,Ae);ne(this,xe,void 0);ne(this,ie,void 0);ne(this,Oe,void 0);ne(this,Ue,void 0);ne(this,He,void 0);ne(this,Ge,void 0);ne(this,q,void 0);ne(this,g,void 0);ne(this,v,void 0);ne(this,m,void 0);ne(this,T,0);Re(this,Oe,te),Re(this,Ue,fe)}addFilter(te){if(!te)return"none";let fe=u(this,F,wi).get(te);if(fe)return fe;let Le,Be,Qe,nt;if(te.length===1){const ot=te[0],gt=new Array(256);for(let Ie=0;Ie<256;Ie++)gt[Ie]=ot[Ie]/255;nt=Le=Be=Qe=gt.join(",")}else{const[ot,gt,Ie]=te,pe=new Array(256),he=new Array(256),We=new Array(256);for(let ze=0;ze<256;ze++)pe[ze]=ot[ze]/255,he[ze]=gt[ze]/255,We[ze]=Ie[ze]/255;Le=pe.join(","),Be=he.join(","),Qe=We.join(","),nt=`${Le}${Be}${Qe}`}if(fe=u(this,F,wi).get(nt),fe)return u(this,F,wi).set(te,fe),fe;const rt=`g_${u(this,Oe)}_transfer_map_${Vi(this,T)._++}`,lt=`url(#${rt})`;u(this,F,wi).set(te,lt),u(this,F,wi).set(nt,lt);const dt=me(this,B,Hs).call(this,rt);return me(this,Ee,qi).call(this,Le,Be,Qe,dt),lt}addHCMFilter(te,fe){var gt;const Le=`${te}-${fe}`;if(u(this,Ge)===Le)return u(this,q);if(Re(this,Ge,Le),Re(this,q,"none"),(gt=u(this,He))==null||gt.remove(),!te||!fe)return u(this,q);const Be=me(this,Ae,Gi).call(this,te);te=o.Util.makeHexColor(...Be);const Qe=me(this,Ae,Gi).call(this,fe);if(fe=o.Util.makeHexColor(...Qe),u(this,Y,xi).style.color="",te==="#000000"&&fe==="#ffffff"||te===fe)return u(this,q);const nt=new Array(256);for(let Ie=0;Ie<=255;Ie++){const pe=Ie/255;nt[Ie]=pe<=.03928?pe/12.92:((pe+.055)/1.055)**2.4}const rt=nt.join(","),lt=`g_${u(this,Oe)}_hcm_filter`,dt=Re(this,g,me(this,B,Hs).call(this,lt));me(this,Ee,qi).call(this,rt,rt,rt,dt),me(this,Se,Eo).call(this,dt);const ot=(Ie,pe)=>{const he=Be[Ie]/255,We=Qe[Ie]/255,ze=new Array(pe+1);for(let Ot=0;Ot<=pe;Ot++)ze[Ot]=he+Ot/pe*(We-he);return ze.join(",")};return me(this,Ee,qi).call(this,ot(0,5),ot(1,5),ot(2,5),dt),Re(this,q,`url(#${lt})`),u(this,q)}addHighlightHCMFilter(te,fe,Le,Be){var We;const Qe=`${te}-${fe}-${Le}-${Be}`;if(u(this,v)===Qe)return u(this,m);if(Re(this,v,Qe),Re(this,m,"none"),(We=u(this,g))==null||We.remove(),!te||!fe)return u(this,m);const[nt,rt]=[te,fe].map(me(this,Ae,Gi).bind(this));let lt=Math.round(.2126*nt[0]+.7152*nt[1]+.0722*nt[2]),dt=Math.round(.2126*rt[0]+.7152*rt[1]+.0722*rt[2]),[ot,gt]=[Le,Be].map(me(this,Ae,Gi).bind(this));dt<lt&&([lt,dt,ot,gt]=[dt,lt,gt,ot]),u(this,Y,xi).style.color="";const Ie=(ze,Ot,St)=>{const ye=new Array(256),Xe=(dt-lt)/St,at=ze/255,Ye=(Ot-ze)/(255*St);let ct=0;for(let ut=0;ut<=St;ut++){const Pe=Math.round(lt+ut*Xe),ee=at+ut*Ye;for(let we=ct;we<=Pe;we++)ye[we]=ee;ct=Pe+1}for(let ut=ct;ut<256;ut++)ye[ut]=ye[ct-1];return ye.join(",")},pe=`g_${u(this,Oe)}_hcm_highlight_filter`,he=Re(this,g,me(this,B,Hs).call(this,pe));return me(this,Se,Eo).call(this,he),me(this,Ee,qi).call(this,Ie(ot[0],gt[0],5),Ie(ot[1],gt[1],5),Ie(ot[2],gt[2],5),he),Re(this,m,`url(#${pe})`),u(this,m)}destroy(te=!1){te&&(u(this,q)||u(this,m))||(u(this,ie)&&(u(this,ie).parentNode.parentNode.remove(),Re(this,ie,null)),u(this,xe)&&(u(this,xe).clear(),Re(this,xe,null)),Re(this,T,0))}}xe=new WeakMap,ie=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,He=new WeakMap,Ge=new WeakMap,q=new WeakMap,g=new WeakMap,v=new WeakMap,m=new WeakMap,T=new WeakMap,F=new WeakSet,wi=function(){return u(this,xe)||Re(this,xe,new Map)},Y=new WeakSet,xi=function(){if(!u(this,ie)){const te=u(this,Ue).createElement("div"),{style:fe}=te;fe.visibility="hidden",fe.contain="strict",fe.width=fe.height=0,fe.position="absolute",fe.top=fe.left=0,fe.zIndex=-1;const Le=u(this,Ue).createElementNS(l,"svg");Le.setAttribute("width",0),Le.setAttribute("height",0),Re(this,ie,u(this,Ue).createElementNS(l,"defs")),te.append(Le),Le.append(u(this,ie)),u(this,Ue).body.append(te)}return u(this,ie)},Se=new WeakSet,Eo=function(te){const fe=u(this,Ue).createElementNS(l,"feColorMatrix");fe.setAttribute("type","matrix"),fe.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),te.append(fe)},B=new WeakSet,Hs=function(te){const fe=u(this,Ue).createElementNS(l,"filter");return fe.setAttribute("color-interpolation-filters","sRGB"),fe.setAttribute("id",te),u(this,Y,xi).append(fe),fe},_e=new WeakSet,Ws=function(te,fe,Le){const Be=u(this,Ue).createElementNS(l,fe);Be.setAttribute("type","discrete"),Be.setAttribute("tableValues",Le),te.append(Be)},Ee=new WeakSet,qi=function(te,fe,Le,Be){const Qe=u(this,Ue).createElementNS(l,"feComponentTransfer");Be.append(Qe),me(this,_e,Ws).call(this,Qe,"feFuncR",te),me(this,_e,Ws).call(this,Qe,"feFuncG",fe),me(this,_e,Ws).call(this,Qe,"feFuncB",Le)},Ae=new WeakSet,Gi=function(te){return u(this,Y,xi).style.color=te,H(getComputedStyle(u(this,Y,xi)).getPropertyValue("color"))},n.DOMFilterFactory=y;class b extends r.BaseCanvasFactory{constructor({ownerDocument:oe=globalThis.document}={}){super(),this._document=oe}_createCanvas(oe,te){const fe=this._document.createElement("canvas");return fe.width=oe,fe.height=te,fe}}n.DOMCanvasFactory=b;async function A(ce,oe=!1){if(I(ce,document.baseURI)){const te=await fetch(ce);if(!te.ok)throw new Error(te.statusText);return oe?new Uint8Array(await te.arrayBuffer()):(0,o.stringToBytes)(await te.text())}return new Promise((te,fe)=>{const Le=new XMLHttpRequest;Le.open("GET",ce,!0),oe&&(Le.responseType="arraybuffer"),Le.onreadystatechange=()=>{if(Le.readyState===XMLHttpRequest.DONE){if(Le.status===200||Le.status===0){let Be;if(oe&&Le.response?Be=new Uint8Array(Le.response):!oe&&Le.responseText&&(Be=(0,o.stringToBytes)(Le.responseText)),Be){te(Be);return}}fe(new Error(Le.statusText))}},Le.send(null)})}class d extends r.BaseCMapReaderFactory{_fetchData(oe,te){return A(oe,this.isCompressed).then(fe=>({cMapData:fe,compressionType:te}))}}n.DOMCMapReaderFactory=d;class x extends r.BaseStandardFontDataFactory{_fetchData(oe){return A(oe,!0)}}n.DOMStandardFontDataFactory=x;class V extends r.BaseSVGFactory{_createSVG(oe){return document.createElementNS(l,oe)}}n.DOMSVGFactory=V;class D{constructor({viewBox:oe,scale:te,rotation:fe,offsetX:Le=0,offsetY:Be=0,dontFlip:Qe=!1}){this.viewBox=oe,this.scale=te,this.rotation=fe,this.offsetX=Le,this.offsetY=Be;const nt=(oe[2]+oe[0])/2,rt=(oe[3]+oe[1])/2;let lt,dt,ot,gt;switch(fe%=360,fe<0&&(fe+=360),fe){case 180:lt=-1,dt=0,ot=0,gt=1;break;case 90:lt=0,dt=1,ot=1,gt=0;break;case 270:lt=0,dt=-1,ot=-1,gt=0;break;case 0:lt=1,dt=0,ot=0,gt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Qe&&(ot=-ot,gt=-gt);let Ie,pe,he,We;lt===0?(Ie=Math.abs(rt-oe[1])*te+Le,pe=Math.abs(nt-oe[0])*te+Be,he=(oe[3]-oe[1])*te,We=(oe[2]-oe[0])*te):(Ie=Math.abs(nt-oe[0])*te+Le,pe=Math.abs(rt-oe[1])*te+Be,he=(oe[2]-oe[0])*te,We=(oe[3]-oe[1])*te),this.transform=[lt*te,dt*te,ot*te,gt*te,Ie-lt*te*nt-ot*te*rt,pe-dt*te*nt-gt*te*rt],this.width=he,this.height=We}get rawDims(){const{viewBox:oe}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:oe[2]-oe[0],pageHeight:oe[3]-oe[1],pageX:oe[0],pageY:oe[1]})}clone({scale:oe=this.scale,rotation:te=this.rotation,offsetX:fe=this.offsetX,offsetY:Le=this.offsetY,dontFlip:Be=!1}={}){return new D({viewBox:this.viewBox.slice(),scale:oe,rotation:te,offsetX:fe,offsetY:Le,dontFlip:Be})}convertToViewportPoint(oe,te){return o.Util.applyTransform([oe,te],this.transform)}convertToViewportRectangle(oe){const te=o.Util.applyTransform([oe[0],oe[1]],this.transform),fe=o.Util.applyTransform([oe[2],oe[3]],this.transform);return[te[0],te[1],fe[0],fe[1]]}convertToPdfPoint(oe,te){return o.Util.applyInverseTransform([oe,te],this.transform)}}n.PageViewport=D;class k extends o.BaseException{constructor(oe,te=0){super(oe,"RenderingCancelledException"),this.extraDelay=te}}n.RenderingCancelledException=k;function M(ce){const oe=ce.length;let te=0;for(;te<oe&&ce[te].trim()==="";)te++;return ce.substring(te,te+5).toLowerCase()==="data:"}function w(ce){return typeof ce=="string"&&/\.pdf$/i.test(ce)}function O(ce,oe=!1){return oe||([ce]=ce.split(/[#?]/,1)),ce.substring(ce.lastIndexOf("/")+1)}function U(ce,oe="document.pdf"){if(typeof ce!="string")return oe;if(M(ce))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),oe;const te=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,fe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Le=te.exec(ce);let Be=fe.exec(Le[1])||fe.exec(Le[2])||fe.exec(Le[3]);if(Be&&(Be=Be[0],Be.includes("%")))try{Be=fe.exec(decodeURIComponent(Be))[0]}catch{}return Be||oe}class ${constructor(){Nt(this,"started",Object.create(null));Nt(this,"times",[])}time(oe){oe in this.started&&(0,o.warn)(`Timer is already running for ${oe}`),this.started[oe]=Date.now()}timeEnd(oe){oe in this.started||(0,o.warn)(`Timer has not been started for ${oe}`),this.times.push({name:oe,start:this.started[oe],end:Date.now()}),delete this.started[oe]}toString(){const oe=[];let te=0;for(const{name:fe}of this.times)te=Math.max(fe.length,te);for(const{name:fe,start:Le,end:Be}of this.times)oe.push(`${fe.padEnd(te)} ${Be-Le}ms
`);return oe.join("")}}n.StatTimer=$;function I(ce,oe){try{const{protocol:te}=oe?new URL(ce,oe):new URL(ce);return te==="http:"||te==="https:"}catch{return!1}}function S(ce){ce.preventDefault()}function C(ce,oe=!1){return new Promise((te,fe)=>{const Le=document.createElement("script");Le.src=ce,Le.onload=function(Be){oe&&Le.remove(),te(Be)},Le.onerror=function(){fe(new Error(`Cannot load script at: ${Le.src}`))},(document.head||document.documentElement).append(Le)})}function G(ce){console.log("Deprecated API usage: "+ce)}let N;class E{static toDateObject(oe){if(!oe||typeof oe!="string")return null;N||(N=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const te=N.exec(oe);if(!te)return null;const fe=parseInt(te[1],10);let Le=parseInt(te[2],10);Le=Le>=1&&Le<=12?Le-1:0;let Be=parseInt(te[3],10);Be=Be>=1&&Be<=31?Be:1;let Qe=parseInt(te[4],10);Qe=Qe>=0&&Qe<=23?Qe:0;let nt=parseInt(te[5],10);nt=nt>=0&&nt<=59?nt:0;let rt=parseInt(te[6],10);rt=rt>=0&&rt<=59?rt:0;const lt=te[7]||"Z";let dt=parseInt(te[8],10);dt=dt>=0&&dt<=23?dt:0;let ot=parseInt(te[9],10)||0;return ot=ot>=0&&ot<=59?ot:0,lt==="-"?(Qe+=dt,nt+=ot):lt==="+"&&(Qe-=dt,nt-=ot),new Date(Date.UTC(fe,Le,Be,Qe,nt,rt))}}n.PDFDateString=E;function X(ce,{scale:oe=1,rotation:te=0}){const{width:fe,height:Le}=ce.attributes.style,Be=[0,0,parseInt(fe),parseInt(Le)];return new D({viewBox:Be,scale:oe,rotation:te})}function H(ce){if(ce.startsWith("#")){const oe=parseInt(ce.slice(1),16);return[(oe&16711680)>>16,(oe&65280)>>8,oe&255]}return ce.startsWith("rgb(")?ce.slice(4,-1).split(",").map(oe=>parseInt(oe)):ce.startsWith("rgba(")?ce.slice(5,-1).split(",").map(oe=>parseInt(oe)).slice(0,3):((0,o.warn)(`Not a valid color format: "${ce}"`),[0,0,0])}function ae(ce){const oe=document.createElement("span");oe.style.visibility="hidden",document.body.append(oe);for(const te of ce.keys()){oe.style.color=te;const fe=window.getComputedStyle(oe).color;ce.set(te,H(fe))}oe.remove()}function de(ce){const{a:oe,b:te,c:fe,d:Le,e:Be,f:Qe}=ce.getTransform();return[oe,te,fe,Le,Be,Qe]}function K(ce){const{a:oe,b:te,c:fe,d:Le,e:Be,f:Qe}=ce.getTransform().invertSelf();return[oe,te,fe,Le,Be,Qe]}function ge(ce,oe,te=!1,fe=!0){if(oe instanceof D){const{pageWidth:Le,pageHeight:Be}=oe.rawDims,{style:Qe}=ce,nt=o.FeatureTest.isCSSRoundSupported,rt=`var(--scale-factor) * ${Le}px`,lt=`var(--scale-factor) * ${Be}px`,dt=nt?`round(${rt}, 1px)`:`calc(${rt})`,ot=nt?`round(${lt}, 1px)`:`calc(${lt})`;!te||oe.rotation%180===0?(Qe.width=dt,Qe.height=ot):(Qe.width=ot,Qe.height=dt)}fe&&ce.setAttribute("data-main-rotation",oe.rotation)}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseFilterFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var r=s(1);class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(d){return"none"}addHCMFilter(d,x){return"none"}addHighlightHCMFilter(d,x,V,D){return"none"}destroy(d=!1){}}n.BaseFilterFactory=o;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,x){if(d<=0||x<=0)throw new Error("Invalid canvas size");const V=this._createCanvas(d,x);return{canvas:V,context:V.getContext("2d")}}reset(d,x,V){if(!d.canvas)throw new Error("Canvas is not specified");if(x<=0||V<=0)throw new Error("Invalid canvas size");d.canvas.width=x,d.canvas.height=V}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,x){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=l;class c{constructor({baseUrl:d=null,isCompressed:x=!0}){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=x}async fetch({name:d}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const x=this.baseUrl+d+(this.isCompressed?".bcmap":""),V=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(x,V).catch(D=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})}_fetchData(d,x){(0,r.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=c;class y{constructor({baseUrl:d=null}){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}async fetch({filename:d}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${d}`;return this._fetchData(x).catch(V=>{throw new Error(`Unable to load font data at: ${x}`)})}_fetchData(d){(0,r.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=y;class b{constructor(){this.constructor===b&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,x,V=!1){if(d<=0||x<=0)throw new Error("Invalid SVG dimensions");const D=this._createSVG("svg:svg");return D.setAttribute("version","1.1"),V||(D.setAttribute("width",`${d}px`),D.setAttribute("height",`${x}px`)),D.setAttribute("preserveAspectRatio","none"),D.setAttribute("viewBox",`0 0 ${d} ${x}`),D}createElement(d){if(typeof d!="string")throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,r.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=b},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var r=s(1);const o=3285377520,l=4294901760,c=65535;class y{constructor(A){this.h1=A?A&4294967295:o,this.h2=A?A&4294967295:o}update(A){let d,x;if(typeof A=="string"){d=new Uint8Array(A.length*2),x=0;for(let G=0,N=A.length;G<N;G++){const E=A.charCodeAt(G);E<=255?d[x++]=E:(d[x++]=E>>>8,d[x++]=E&255)}}else if((0,r.isArrayBuffer)(A))d=A.slice(),x=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const V=x>>2,D=x-V*4,k=new Uint32Array(d.buffer,0,V);let M=0,w=0,O=this.h1,U=this.h2;const $=3432918353,I=461845907,S=$&c,C=I&c;for(let G=0;G<V;G++)G&1?(M=k[G],M=M*$&l|M*S&c,M=M<<15|M>>>17,M=M*I&l|M*C&c,O^=M,O=O<<13|O>>>19,O=O*5+3864292196):(w=k[G],w=w*$&l|w*S&c,w=w<<15|w>>>17,w=w*I&l|w*C&c,U^=w,U=U<<13|U>>>19,U=U*5+3864292196);switch(M=0,D){case 3:M^=d[V*4+2]<<16;case 2:M^=d[V*4+1]<<8;case 1:M^=d[V*4],M=M*$&l|M*S&c,M=M<<15|M>>>17,M=M*I&l|M*C&c,V&1?O^=M:U^=M}this.h1=O,this.h2=U}hexdigest(){let A=this.h1,d=this.h2;return A^=d>>>1,A=A*3981806797&l|A*36045&c,d=d*4283543511&l|((d<<16|A>>>16)*2950163797&l)>>>16,A^=d>>>1,A=A*444984403&l|A*60499&c,d=d*3301882366&l|((d<<16|A>>>16)*3120437893&l)>>>16,A^=d>>>1,(A>>>0).toString(16).padStart(8,"0")+(d>>>0).toString(16).padStart(8,"0")}}n.MurmurHash3_64=y},(e,n,s)=>{var c;Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var r=s(1);class o{constructor({ownerDocument:b=globalThis.document,styleElement:A=null}){ne(this,c,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const A=this.styleElement.sheet;A.insertRule(b,A.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),u(this,c).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||u(this,c).has(b.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:A,src:d,style:x}=b,V=new FontFace(A,d,x);this.addNativeFontFace(V);try{await V.load(),u(this,c).add(A)}catch{(0,r.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(V)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=b.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(x){throw(0,r.warn)(`Failed to load font '${d.family}': '${x}'.`),b.disableFontFace=!0,x}}return}const A=b.createFontFaceRule();if(A){if(this.insertRule(A),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const x=this._queueLoadingCallback(d);this._prepareFontLoadEvent(b,x)})}}get isFontLoadingAPISupported(){var A;const b=!!((A=this._document)!=null&&A.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function A(){for((0,r.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;d.length>0&&d[0].done;){const V=d.shift();setTimeout(V.callback,0)}}const{loadingRequests:d}=this,x={done:!1,complete:A,callback:b};return d.push(x),x}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,A){function d(H,ae){return H.charCodeAt(ae)<<24|H.charCodeAt(ae+1)<<16|H.charCodeAt(ae+2)<<8|H.charCodeAt(ae+3)&255}function x(H,ae,de,K){const ge=H.substring(0,ae),Ce=H.substring(ae+de);return ge+K+Ce}let V,D;const k=this._document.createElement("canvas");k.width=1,k.height=1;const M=k.getContext("2d");let w=0;function O(H,ae){if(++w>30){(0,r.warn)("Load test font never loaded."),ae();return}if(M.font="30px "+H,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0){ae();return}setTimeout(O.bind(null,H,ae))}const U=`lt${Date.now()}${this.loadTestFontId++}`;let $=this._loadTestFont;$=x($,976,U.length,U);const S=16,C=1482184792;let G=d($,S);for(V=0,D=U.length-3;V<D;V+=4)G=G-C+d(U,V)|0;V<U.length&&(G=G-C+d(U+"XXX",V)|0),$=x($,S,4,(0,r.string32)(G));const N=`url(data:font/opentype;base64,${btoa($)});`,E=`@font-face {font-family:"${U}";src:${N}}`;this.insertRule(E);const X=this._document.createElement("div");X.style.visibility="hidden",X.style.width=X.style.height="10px",X.style.position="absolute",X.style.top=X.style.left="0px";for(const H of[b.loadedName,U]){const ae=this._document.createElement("span");ae.textContent="Hi",ae.style.fontFamily=H,X.append(ae)}this._document.body.append(X),O(U,()=>{X.remove(),A.complete()})}}c=new WeakMap,n.FontLoader=o;class l{constructor(b,{isEvalSupported:A=!0,disableFontFace:d=!1,ignoreErrors:x=!1,inspectFont:V=null}){this.compiledGlyphs=Object.create(null);for(const D in b)this[D]=b[D];this.isEvalSupported=A!==!1,this.disableFontFace=d===!0,this.ignoreErrors=x===!0,this._inspectFont=V}createNativeFontFace(){var A;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return(A=this._inspectFont)==null||A.call(this,this),b}createFontFaceRule(){var x;if(!this.data||this.disableFontFace)return null;const b=(0,r.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(b)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${A}}`;else{let V=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(V+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${V}src:${A}}`}return(x=this._inspectFont)==null||x.call(this,this,A),d}getPathGenerator(b,A){if(this.compiledGlyphs[A]!==void 0)return this.compiledGlyphs[A];let d;try{d=b.get(this.loadedName+"_path_"+A)}catch(x){if(!this.ignoreErrors)throw x;return(0,r.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[A]=function(V,D){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const x=[];for(const V of d){const D=V.args!==void 0?V.args.join(","):"";x.push("c.",V.cmd,"(",D,`);
`)}return this.compiledGlyphs[A]=new Function("c","size",x.join(""))}return this.compiledGlyphs[A]=function(x,V){for(const D of d)D.cmd==="scale"&&(D.args=[V,-V]),x[D.cmd].apply(x,D.args)}}}n.FontFaceObject=l},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeFilterFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var r=s(7);s(1);const o=function(A){return new Promise((d,x)=>{require$$5.readFile(A,(D,k)=>{if(D||!k){x(new Error(D));return}d(new Uint8Array(k))})})};class l extends r.BaseFilterFactory{}n.NodeFilterFactory=l;class c extends r.BaseCanvasFactory{_createCanvas(d,x){return require$$5.createCanvas(d,x)}}n.NodeCanvasFactory=c;class y extends r.BaseCMapReaderFactory{_fetchData(d,x){return o(d).then(V=>({cMapData:V,compressionType:x}))}}n.NodeCMapReaderFactory=y;class b extends r.BaseStandardFontDataFactory{_fetchData(d){return o(d)}}n.NodeStandardFontDataFactory=b},(e,n,s)=>{var ie,wo,Ue,xo;Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var r=s(1),o=s(6),l=s(12),c=s(13);const y=16,b=100,A=4096,d=15,x=10,V=1e3,D=16;function k(q,g){if(q._removeMirroring)throw new Error("Context is already forwarding operations.");q.__originalSave=q.save,q.__originalRestore=q.restore,q.__originalRotate=q.rotate,q.__originalScale=q.scale,q.__originalTranslate=q.translate,q.__originalTransform=q.transform,q.__originalSetTransform=q.setTransform,q.__originalResetTransform=q.resetTransform,q.__originalClip=q.clip,q.__originalMoveTo=q.moveTo,q.__originalLineTo=q.lineTo,q.__originalBezierCurveTo=q.bezierCurveTo,q.__originalRect=q.rect,q.__originalClosePath=q.closePath,q.__originalBeginPath=q.beginPath,q._removeMirroring=()=>{q.save=q.__originalSave,q.restore=q.__originalRestore,q.rotate=q.__originalRotate,q.scale=q.__originalScale,q.translate=q.__originalTranslate,q.transform=q.__originalTransform,q.setTransform=q.__originalSetTransform,q.resetTransform=q.__originalResetTransform,q.clip=q.__originalClip,q.moveTo=q.__originalMoveTo,q.lineTo=q.__originalLineTo,q.bezierCurveTo=q.__originalBezierCurveTo,q.rect=q.__originalRect,q.closePath=q.__originalClosePath,q.beginPath=q.__originalBeginPath,delete q._removeMirroring},q.save=function(){g.save(),this.__originalSave()},q.restore=function(){g.restore(),this.__originalRestore()},q.translate=function(m,T){g.translate(m,T),this.__originalTranslate(m,T)},q.scale=function(m,T){g.scale(m,T),this.__originalScale(m,T)},q.transform=function(m,T,F,j,Y,re){g.transform(m,T,F,j,Y,re),this.__originalTransform(m,T,F,j,Y,re)},q.setTransform=function(m,T,F,j,Y,re){g.setTransform(m,T,F,j,Y,re),this.__originalSetTransform(m,T,F,j,Y,re)},q.resetTransform=function(){g.resetTransform(),this.__originalResetTransform()},q.rotate=function(m){g.rotate(m),this.__originalRotate(m)},q.clip=function(m){g.clip(m),this.__originalClip(m)},q.moveTo=function(v,m){g.moveTo(v,m),this.__originalMoveTo(v,m)},q.lineTo=function(v,m){g.lineTo(v,m),this.__originalLineTo(v,m)},q.bezierCurveTo=function(v,m,T,F,j,Y){g.bezierCurveTo(v,m,T,F,j,Y),this.__originalBezierCurveTo(v,m,T,F,j,Y)},q.rect=function(v,m,T,F){g.rect(v,m,T,F),this.__originalRect(v,m,T,F)},q.closePath=function(){g.closePath(),this.__originalClosePath()},q.beginPath=function(){g.beginPath(),this.__originalBeginPath()}}class M{constructor(g){this.canvasFactory=g,this.cache=Object.create(null)}getCanvas(g,v,m){let T;return this.cache[g]!==void 0?(T=this.cache[g],this.canvasFactory.reset(T,v,m)):(T=this.canvasFactory.create(v,m),this.cache[g]=T),T}delete(g){delete this.cache[g]}clear(){for(const g in this.cache){const v=this.cache[g];this.canvasFactory.destroy(v),delete this.cache[g]}}}function w(q,g,v,m,T,F,j,Y,re,Se){const[R,B,Z,_e,se,Ee]=(0,o.getCurrentTransform)(q);if(B===0&&Z===0){const ke=j*R+se,ce=Math.round(ke),oe=Y*_e+Ee,te=Math.round(oe),fe=(j+re)*R+se,Le=Math.abs(Math.round(fe)-ce)||1,Be=(Y+Se)*_e+Ee,Qe=Math.abs(Math.round(Be)-te)||1;return q.setTransform(Math.sign(R),0,0,Math.sign(_e),ce,te),q.drawImage(g,v,m,T,F,0,0,Le,Qe),q.setTransform(R,B,Z,_e,se,Ee),[Le,Qe]}if(R===0&&_e===0){const ke=Y*Z+se,ce=Math.round(ke),oe=j*B+Ee,te=Math.round(oe),fe=(Y+Se)*Z+se,Le=Math.abs(Math.round(fe)-ce)||1,Be=(j+re)*B+Ee,Qe=Math.abs(Math.round(Be)-te)||1;return q.setTransform(0,Math.sign(B),Math.sign(Z),0,ce,te),q.drawImage(g,v,m,T,F,0,0,Qe,Le),q.setTransform(R,B,Z,_e,se,Ee),[Qe,Le]}q.drawImage(g,v,m,T,F,j,Y,re,Se);const Ne=Math.hypot(R,B),Ae=Math.hypot(Z,_e);return[Ne*re,Ae*Se]}function O(q){const{width:g,height:v}=q;if(g>V||v>V)return null;const m=1e3,T=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),F=g+1;let j=new Uint8Array(F*(v+1)),Y,re,Se;const R=g+7&-8;let B=new Uint8Array(R*v),Z=0;for(const Ae of q.data){let ke=128;for(;ke>0;)B[Z++]=Ae&ke?0:255,ke>>=1}let _e=0;for(Z=0,B[Z]!==0&&(j[0]=1,++_e),re=1;re<g;re++)B[Z]!==B[Z+1]&&(j[re]=B[Z]?2:1,++_e),Z++;for(B[Z]!==0&&(j[re]=2,++_e),Y=1;Y<v;Y++){Z=Y*R,Se=Y*F,B[Z-R]!==B[Z]&&(j[Se]=B[Z]?1:8,++_e);let Ae=(B[Z]?4:0)+(B[Z-R]?8:0);for(re=1;re<g;re++)Ae=(Ae>>2)+(B[Z+1]?4:0)+(B[Z-R+1]?8:0),T[Ae]&&(j[Se+re]=T[Ae],++_e),Z++;if(B[Z-R]!==B[Z]&&(j[Se+re]=B[Z]?2:4,++_e),_e>m)return null}for(Z=R*(v-1),Se=Y*F,B[Z]!==0&&(j[Se]=8,++_e),re=1;re<g;re++)B[Z]!==B[Z+1]&&(j[Se+re]=B[Z]?4:8,++_e),Z++;if(B[Z]!==0&&(j[Se+re]=4,++_e),_e>m)return null;const se=new Int32Array([0,F,-1,0,-F,0,0,0,1]),Ee=new Path2D;for(Y=0;_e&&Y<=v;Y++){let Ae=Y*F;const ke=Ae+g;for(;Ae<ke&&!j[Ae];)Ae++;if(Ae===ke)continue;Ee.moveTo(Ae%F,Y);const ce=Ae;let oe=j[Ae];do{const te=se[oe];do Ae+=te;while(!j[Ae]);const fe=j[Ae];fe!==5&&fe!==10?(oe=fe,j[Ae]=0):(oe=fe&51*oe>>4,j[Ae]&=oe>>2|oe<<2),Ee.lineTo(Ae%F,Ae/F|0),j[Ae]||--_e}while(ce!==Ae);--Y}return B=null,j=null,function(Ae){Ae.save(),Ae.scale(1/g,-1/v),Ae.translate(0,-v),Ae.fill(Ee),Ae.beginPath(),Ae.restore()}}class U{constructor(g,v){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,g,v])}clone(){const g=Object.create(this);return g.clipBox=this.clipBox.slice(),g}setCurrentPoint(g,v){this.x=g,this.y=v}updatePathMinMax(g,v,m){[v,m]=r.Util.applyTransform([v,m],g),this.minX=Math.min(this.minX,v),this.minY=Math.min(this.minY,m),this.maxX=Math.max(this.maxX,v),this.maxY=Math.max(this.maxY,m)}updateRectMinMax(g,v){const m=r.Util.applyTransform(v,g),T=r.Util.applyTransform(v.slice(2),g);this.minX=Math.min(this.minX,m[0],T[0]),this.minY=Math.min(this.minY,m[1],T[1]),this.maxX=Math.max(this.maxX,m[0],T[0]),this.maxY=Math.max(this.maxY,m[1],T[1])}updateScalingPathMinMax(g,v){r.Util.scaleMinMax(g,v),this.minX=Math.min(this.minX,v[0]),this.maxX=Math.max(this.maxX,v[1]),this.minY=Math.min(this.minY,v[2]),this.maxY=Math.max(this.maxY,v[3])}updateCurvePathMinMax(g,v,m,T,F,j,Y,re,Se,R){const B=r.Util.bezierBoundingBox(v,m,T,F,j,Y,re,Se);if(R){R[0]=Math.min(R[0],B[0],B[2]),R[1]=Math.max(R[1],B[0],B[2]),R[2]=Math.min(R[2],B[1],B[3]),R[3]=Math.max(R[3],B[1],B[3]);return}this.updateRectMinMax(g,B)}getPathBoundingBox(g=l.PathType.FILL,v=null){const m=[this.minX,this.minY,this.maxX,this.maxY];if(g===l.PathType.STROKE){v||(0,r.unreachable)("Stroke bounding box must include transform.");const T=r.Util.singularValueDecompose2dScale(v),F=T[0]*this.lineWidth/2,j=T[1]*this.lineWidth/2;m[0]-=F,m[1]-=j,m[2]+=F,m[3]+=j}return m}updateClipFromPath(){const g=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(g||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(g){this.clipBox=g,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(g=l.PathType.FILL,v=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(g,v))}}function $(q,g){if(typeof ImageData<"u"&&g instanceof ImageData){q.putImageData(g,0,0);return}const v=g.height,m=g.width,T=v%D,F=(v-T)/D,j=T===0?F:F+1,Y=q.createImageData(m,D);let re=0,Se;const R=g.data,B=Y.data;let Z,_e,se,Ee;if(g.kind===r.ImageKind.GRAYSCALE_1BPP){const Ne=R.byteLength,Ae=new Uint32Array(B.buffer,0,B.byteLength>>2),ke=Ae.length,ce=m+7>>3,oe=4294967295,te=r.FeatureTest.isLittleEndian?4278190080:255;for(Z=0;Z<j;Z++){for(se=Z<F?D:T,Se=0,_e=0;_e<se;_e++){const fe=Ne-re;let Le=0;const Be=fe>ce?m:fe*8-7,Qe=Be&-8;let nt=0,rt=0;for(;Le<Qe;Le+=8)rt=R[re++],Ae[Se++]=rt&128?oe:te,Ae[Se++]=rt&64?oe:te,Ae[Se++]=rt&32?oe:te,Ae[Se++]=rt&16?oe:te,Ae[Se++]=rt&8?oe:te,Ae[Se++]=rt&4?oe:te,Ae[Se++]=rt&2?oe:te,Ae[Se++]=rt&1?oe:te;for(;Le<Be;Le++)nt===0&&(rt=R[re++],nt=128),Ae[Se++]=rt&nt?oe:te,nt>>=1}for(;Se<ke;)Ae[Se++]=0;q.putImageData(Y,0,Z*D)}}else if(g.kind===r.ImageKind.RGBA_32BPP){for(_e=0,Ee=m*D*4,Z=0;Z<F;Z++)B.set(R.subarray(re,re+Ee)),re+=Ee,q.putImageData(Y,0,_e),_e+=D;Z<j&&(Ee=m*T*4,B.set(R.subarray(re,re+Ee)),q.putImageData(Y,0,_e))}else if(g.kind===r.ImageKind.RGB_24BPP)for(se=D,Ee=m*se,Z=0;Z<j;Z++){for(Z>=F&&(se=T,Ee=m*se),Se=0,_e=Ee;_e--;)B[Se++]=R[re++],B[Se++]=R[re++],B[Se++]=R[re++],B[Se++]=255;q.putImageData(Y,0,Z*D)}else throw new Error(`bad image kind: ${g.kind}`)}function I(q,g){if(g.bitmap){q.drawImage(g.bitmap,0,0);return}const v=g.height,m=g.width,T=v%D,F=(v-T)/D,j=T===0?F:F+1,Y=q.createImageData(m,D);let re=0;const Se=g.data,R=Y.data;for(let B=0;B<j;B++){const Z=B<F?D:T;({srcPos:re}=(0,c.convertBlackAndWhiteToRGBA)({src:Se,srcPos:re,dest:R,width:m,height:Z,nonBlackColor:0})),q.putImageData(Y,0,B*D)}}function S(q,g){const v=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const m of v)q[m]!==void 0&&(g[m]=q[m]);q.setLineDash!==void 0&&(g.setLineDash(q.getLineDash()),g.lineDashOffset=q.lineDashOffset)}function C(q){if(q.strokeStyle=q.fillStyle="#000000",q.fillRule="nonzero",q.globalAlpha=1,q.lineWidth=1,q.lineCap="butt",q.lineJoin="miter",q.miterLimit=10,q.globalCompositeOperation="source-over",q.font="10px sans-serif",q.setLineDash!==void 0&&(q.setLineDash([]),q.lineDashOffset=0),!r.isNodeJS){const{filter:g}=q;g!=="none"&&g!==""&&(q.filter="none")}}function G(q,g,v,m){const T=q.length;for(let F=3;F<T;F+=4){const j=q[F];if(j===0)q[F-3]=g,q[F-2]=v,q[F-1]=m;else if(j<255){const Y=255-j;q[F-3]=q[F-3]*j+g*Y>>8,q[F-2]=q[F-2]*j+v*Y>>8,q[F-1]=q[F-1]*j+m*Y>>8}}}function N(q,g,v){const m=q.length,T=1/255;for(let F=3;F<m;F+=4){const j=v?v[q[F]]:q[F];g[F]=g[F]*j*T|0}}function E(q,g,v){const m=q.length;for(let T=3;T<m;T+=4){const F=q[T-3]*77+q[T-2]*152+q[T-1]*28;g[T]=v?g[T]*v[F>>8]>>8:g[T]*F>>16}}function X(q,g,v,m,T,F,j,Y,re,Se,R){const B=!!F,Z=B?F[0]:0,_e=B?F[1]:0,se=B?F[2]:0,Ee=T==="Luminosity"?E:N,Ae=Math.min(m,Math.ceil(1048576/v));for(let ke=0;ke<m;ke+=Ae){const ce=Math.min(Ae,m-ke),oe=q.getImageData(Y-Se,ke+(re-R),v,ce),te=g.getImageData(Y,ke+re,v,ce);B&&G(oe.data,Z,_e,se),Ee(oe.data,te.data,j),g.putImageData(te,Y,ke+re)}}function H(q,g,v,m){const T=m[0],F=m[1],j=m[2]-T,Y=m[3]-F;j===0||Y===0||(X(g.context,v,j,Y,g.subtype,g.backdrop,g.transferMap,T,F,g.offsetX,g.offsetY),q.save(),q.globalAlpha=1,q.globalCompositeOperation="source-over",q.setTransform(1,0,0,1,0,0),q.drawImage(v.canvas,0,0),q.restore())}function ae(q,g){const v=r.Util.singularValueDecompose2dScale(q);v[0]=Math.fround(v[0]),v[1]=Math.fround(v[1]);const m=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return g!==void 0?g:v[0]<=m||v[1]<=m}const de=["butt","round","square"],K=["miter","round","bevel"],ge={},Ce={},Ge=class Ge{constructor(g,v,m,T,F,{optionalContentConfig:j,markedContentStack:Y=null},re,Se){ne(this,ie);ne(this,Ue);this.ctx=g,this.current=new U(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=v,this.objs=m,this.canvasFactory=T,this.filterFactory=F,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Y||[],this.optionalContentConfig=j,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Se,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(g,v=null){return typeof g=="string"?g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g):v}beginDrawing({transform:g,viewport:v,transparency:m=!1,background:T=null}){const F=this.ctx.canvas.width,j=this.ctx.canvas.height,Y=this.ctx.fillStyle;if(this.ctx.fillStyle=T||"#ffffff",this.ctx.fillRect(0,0,F,j),this.ctx.fillStyle=Y,m){const re=this.cachedCanvases.getCanvas("transparent",F,j);this.compositeCtx=this.ctx,this.transparentCanvas=re.canvas,this.ctx=re.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx),g&&(this.ctx.transform(...g),this.outputScaleX=g[0],this.outputScaleY=g[0]),this.ctx.transform(...v.transform),this.viewportScale=v.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(g,v,m,T){const F=g.argsArray,j=g.fnArray;let Y=v||0;const re=F.length;if(re===Y)return Y;const Se=re-Y>x&&typeof m=="function",R=Se?Date.now()+d:0;let B=0;const Z=this.commonObjs,_e=this.objs;let se;for(;;){if(T!==void 0&&Y===T.nextBreakPoint)return T.breakIt(Y,m),Y;if(se=j[Y],se!==r.OPS.dependency)this[se].apply(this,F[Y]);else for(const Ee of F[Y]){const Ne=Ee.startsWith("g_")?Z:_e;if(!Ne.has(Ee))return Ne.get(Ee,m),Y}if(Y++,Y===re)return Y;if(Se&&++B>x){if(Date.now()>R)return m(),Y;B=0}}}endDrawing(){me(this,ie,wo).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const g of this._cachedBitmapsMap.values()){for(const v of g.values())typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement&&(v.width=v.height=0);g.clear()}this._cachedBitmapsMap.clear(),me(this,Ue,xo).call(this)}_scaleImage(g,v){const m=g.width,T=g.height;let F=Math.max(Math.hypot(v[0],v[1]),1),j=Math.max(Math.hypot(v[2],v[3]),1),Y=m,re=T,Se="prescale1",R,B;for(;F>2&&Y>1||j>2&&re>1;){let Z=Y,_e=re;F>2&&Y>1&&(Z=Y>=16384?Math.floor(Y/2)-1||1:Math.ceil(Y/2),F/=Y/Z),j>2&&re>1&&(_e=re>=16384?Math.floor(re/2)-1||1:Math.ceil(re)/2,j/=re/_e),R=this.cachedCanvases.getCanvas(Se,Z,_e),B=R.context,B.clearRect(0,0,Z,_e),B.drawImage(g,0,0,Y,re,0,0,Z,_e),g=R.canvas,Y=Z,re=_e,Se=Se==="prescale1"?"prescale2":"prescale1"}return{img:g,paintWidth:Y,paintHeight:re}}_createMaskCanvas(g){const v=this.ctx,{width:m,height:T}=g,F=this.current.fillColor,j=this.current.patternFill,Y=(0,o.getCurrentTransform)(v);let re,Se,R,B;if((g.bitmap||g.data)&&g.count>1){const Le=g.bitmap||g.data.buffer;Se=JSON.stringify(j?Y:[Y.slice(0,4),F]),re=this._cachedBitmapsMap.get(Le),re||(re=new Map,this._cachedBitmapsMap.set(Le,re));const Be=re.get(Se);if(Be&&!j){const Qe=Math.round(Math.min(Y[0],Y[2])+Y[4]),nt=Math.round(Math.min(Y[1],Y[3])+Y[5]);return{canvas:Be,offsetX:Qe,offsetY:nt}}R=Be}R||(B=this.cachedCanvases.getCanvas("maskCanvas",m,T),I(B.context,g));let Z=r.Util.transform(Y,[1/m,0,0,-1/T,0,0]);Z=r.Util.transform(Z,[1,0,0,1,0,-T]);const _e=r.Util.applyTransform([0,0],Z),se=r.Util.applyTransform([m,T],Z),Ee=r.Util.normalizeRect([_e[0],_e[1],se[0],se[1]]),Ne=Math.round(Ee[2]-Ee[0])||1,Ae=Math.round(Ee[3]-Ee[1])||1,ke=this.cachedCanvases.getCanvas("fillCanvas",Ne,Ae),ce=ke.context,oe=Math.min(_e[0],se[0]),te=Math.min(_e[1],se[1]);ce.translate(-oe,-te),ce.transform(...Z),R||(R=this._scaleImage(B.canvas,(0,o.getCurrentTransformInverse)(ce)),R=R.img,re&&j&&re.set(Se,R)),ce.imageSmoothingEnabled=ae((0,o.getCurrentTransform)(ce),g.interpolate),w(ce,R,0,0,R.width,R.height,0,0,m,T),ce.globalCompositeOperation="source-in";const fe=r.Util.transform((0,o.getCurrentTransformInverse)(ce),[1,0,0,1,-oe,-te]);return ce.fillStyle=j?F.getPattern(v,this,fe,l.PathType.FILL):F,ce.fillRect(0,0,m,T),re&&!j&&(this.cachedCanvases.delete("fillCanvas"),re.set(Se,ke.canvas)),{canvas:ke.canvas,offsetX:Math.round(oe),offsetY:Math.round(te)}}setLineWidth(g){g!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=g,this.ctx.lineWidth=g}setLineCap(g){this.ctx.lineCap=de[g]}setLineJoin(g){this.ctx.lineJoin=K[g]}setMiterLimit(g){this.ctx.miterLimit=g}setDash(g,v){const m=this.ctx;m.setLineDash!==void 0&&(m.setLineDash(g),m.lineDashOffset=v)}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[v,m]of g)switch(v){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m[0],m[1]);break;case"CA":this.current.strokeAlpha=m;break;case"ca":this.current.fillAlpha=m,this.ctx.globalAlpha=m;break;case"BM":this.ctx.globalCompositeOperation=m;break;case"SMask":this.current.activeSMask=m?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(m);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const g=this.inSMaskMode;this.current.activeSMask&&!g?this.beginSMaskMode():!this.current.activeSMask&&g&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const g=this.ctx.canvas.width,v=this.ctx.canvas.height,m="smaskGroupAt"+this.groupLevel,T=this.cachedCanvases.getCanvas(m,g,v);this.suspendedCtx=this.ctx,this.ctx=T.context;const F=this.ctx;F.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),S(this.suspendedCtx,F),k(F,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),S(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(g){if(!this.current.activeSMask)return;g?(g[0]=Math.floor(g[0]),g[1]=Math.floor(g[1]),g[2]=Math.ceil(g[2]),g[3]=Math.ceil(g[3])):g=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const v=this.current.activeSMask,m=this.suspendedCtx;H(m,v,this.ctx,g),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(S(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const g=this.current;this.stateStack.push(g),this.current=g.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),S(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(g,v,m,T,F,j){this.ctx.transform(g,v,m,T,F,j),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(g,v,m){const T=this.ctx,F=this.current;let j=F.x,Y=F.y,re,Se;const R=(0,o.getCurrentTransform)(T),B=R[0]===0&&R[3]===0||R[1]===0&&R[2]===0,Z=B?m.slice(0):null;for(let _e=0,se=0,Ee=g.length;_e<Ee;_e++)switch(g[_e]|0){case r.OPS.rectangle:j=v[se++],Y=v[se++];const Ne=v[se++],Ae=v[se++],ke=j+Ne,ce=Y+Ae;T.moveTo(j,Y),Ne===0||Ae===0?T.lineTo(ke,ce):(T.lineTo(ke,Y),T.lineTo(ke,ce),T.lineTo(j,ce)),B||F.updateRectMinMax(R,[j,Y,ke,ce]),T.closePath();break;case r.OPS.moveTo:j=v[se++],Y=v[se++],T.moveTo(j,Y),B||F.updatePathMinMax(R,j,Y);break;case r.OPS.lineTo:j=v[se++],Y=v[se++],T.lineTo(j,Y),B||F.updatePathMinMax(R,j,Y);break;case r.OPS.curveTo:re=j,Se=Y,j=v[se+4],Y=v[se+5],T.bezierCurveTo(v[se],v[se+1],v[se+2],v[se+3],j,Y),F.updateCurvePathMinMax(R,re,Se,v[se],v[se+1],v[se+2],v[se+3],j,Y,Z),se+=6;break;case r.OPS.curveTo2:re=j,Se=Y,T.bezierCurveTo(j,Y,v[se],v[se+1],v[se+2],v[se+3]),F.updateCurvePathMinMax(R,re,Se,j,Y,v[se],v[se+1],v[se+2],v[se+3],Z),j=v[se+2],Y=v[se+3],se+=4;break;case r.OPS.curveTo3:re=j,Se=Y,j=v[se+2],Y=v[se+3],T.bezierCurveTo(v[se],v[se+1],j,Y,j,Y),F.updateCurvePathMinMax(R,re,Se,v[se],v[se+1],j,Y,j,Y,Z),se+=4;break;case r.OPS.closePath:T.closePath();break}B&&F.updateScalingPathMinMax(R,Z),F.setCurrentPoint(j,Y)}closePath(){this.ctx.closePath()}stroke(g=!0){const v=this.ctx,m=this.current.strokeColor;v.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof m=="object"&&(m!=null&&m.getPattern)?(v.save(),v.strokeStyle=m.getPattern(v,this,(0,o.getCurrentTransformInverse)(v),l.PathType.STROKE),this.rescaleAndStroke(!1),v.restore()):this.rescaleAndStroke(!0)),g&&this.consumePath(this.current.getClippedPathBoundingBox()),v.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(g=!0){const v=this.ctx,m=this.current.fillColor,T=this.current.patternFill;let F=!1;T&&(v.save(),v.fillStyle=m.getPattern(v,this,(0,o.getCurrentTransformInverse)(v),l.PathType.FILL),F=!0);const j=this.current.getClippedPathBoundingBox();this.contentVisible&&j!==null&&(this.pendingEOFill?(v.fill("evenodd"),this.pendingEOFill=!1):v.fill()),F&&v.restore(),g&&this.consumePath(j)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ge}eoClip(){this.pendingClip=Ce}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const g=this.pendingTextPaths,v=this.ctx;if(g===void 0){v.beginPath();return}v.save(),v.beginPath();for(const m of g)v.setTransform(...m.transform),v.translate(m.x,m.y),m.addToPath(v,m.fontSize);v.restore(),v.clip(),v.beginPath(),delete this.pendingTextPaths}setCharSpacing(g){this.current.charSpacing=g}setWordSpacing(g){this.current.wordSpacing=g}setHScale(g){this.current.textHScale=g/100}setLeading(g){this.current.leading=-g}setFont(g,v){var R;const m=this.commonObjs.get(g),T=this.current;if(!m)throw new Error(`Can't find font for ${g}`);if(T.fontMatrix=m.fontMatrix||r.FONT_IDENTITY_MATRIX,(T.fontMatrix[0]===0||T.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+g),v<0?(v=-v,T.fontDirection=-1):T.fontDirection=1,this.current.font=m,this.current.fontSize=v,m.isType3Font)return;const F=m.loadedName||"sans-serif",j=((R=m.systemFontInfo)==null?void 0:R.css)||`"${F}", ${m.fallbackName}`;let Y="normal";m.black?Y="900":m.bold&&(Y="bold");const re=m.italic?"italic":"normal";let Se=v;v<y?Se=y:v>b&&(Se=b),this.current.fontSizeScale=v/Se,this.ctx.font=`${re} ${Y} ${Se}px ${j}`}setTextRenderingMode(g){this.current.textRenderingMode=g}setTextRise(g){this.current.textRise=g}moveText(g,v){this.current.x=this.current.lineX+=g,this.current.y=this.current.lineY+=v}setLeadingMoveText(g,v){this.setLeading(-v),this.moveText(g,v)}setTextMatrix(g,v,m,T,F,j){this.current.textMatrix=[g,v,m,T,F,j],this.current.textMatrixScale=Math.hypot(g,v),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(g,v,m,T){const F=this.ctx,j=this.current,Y=j.font,re=j.textRenderingMode,Se=j.fontSize/j.fontSizeScale,R=re&r.TextRenderingMode.FILL_STROKE_MASK,B=!!(re&r.TextRenderingMode.ADD_TO_PATH_FLAG),Z=j.patternFill&&!Y.missingFile;let _e;(Y.disableFontFace||B||Z)&&(_e=Y.getPathGenerator(this.commonObjs,g)),Y.disableFontFace||Z?(F.save(),F.translate(v,m),F.beginPath(),_e(F,Se),T&&F.setTransform(...T),(R===r.TextRenderingMode.FILL||R===r.TextRenderingMode.FILL_STROKE)&&F.fill(),(R===r.TextRenderingMode.STROKE||R===r.TextRenderingMode.FILL_STROKE)&&F.stroke(),F.restore()):((R===r.TextRenderingMode.FILL||R===r.TextRenderingMode.FILL_STROKE)&&F.fillText(g,v,m),(R===r.TextRenderingMode.STROKE||R===r.TextRenderingMode.FILL_STROKE)&&F.strokeText(g,v,m)),B&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(F),x:v,y:m,fontSize:Se,addToPath:_e})}get isFontSubpixelAAEnabled(){const{context:g}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);g.scale(1.5,1),g.fillText("I",0,10);const v=g.getImageData(0,0,10,10).data;let m=!1;for(let T=3;T<v.length;T+=4)if(v[T]>0&&v[T]<255){m=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",m)}showText(g){const v=this.current,m=v.font;if(m.isType3Font)return this.showType3Text(g);const T=v.fontSize;if(T===0)return;const F=this.ctx,j=v.fontSizeScale,Y=v.charSpacing,re=v.wordSpacing,Se=v.fontDirection,R=v.textHScale*Se,B=g.length,Z=m.vertical,_e=Z?1:-1,se=m.defaultVMetrics,Ee=T*v.fontMatrix[0],Ne=v.textRenderingMode===r.TextRenderingMode.FILL&&!m.disableFontFace&&!v.patternFill;F.save(),F.transform(...v.textMatrix),F.translate(v.x,v.y+v.textRise),Se>0?F.scale(R,-1):F.scale(R,1);let Ae;if(v.patternFill){F.save();const fe=v.fillColor.getPattern(F,this,(0,o.getCurrentTransformInverse)(F),l.PathType.FILL);Ae=(0,o.getCurrentTransform)(F),F.restore(),F.fillStyle=fe}let ke=v.lineWidth;const ce=v.textMatrixScale;if(ce===0||ke===0){const fe=v.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(fe===r.TextRenderingMode.STROKE||fe===r.TextRenderingMode.FILL_STROKE)&&(ke=this.getSinglePixelWidth())}else ke/=ce;if(j!==1&&(F.scale(j,j),ke/=j),F.lineWidth=ke,m.isInvalidPDFjsFont){const fe=[];let Le=0;for(const Be of g)fe.push(Be.unicode),Le+=Be.width;F.fillText(fe.join(""),0,0),v.x+=Le*Ee*R,F.restore(),this.compose();return}let oe=0,te;for(te=0;te<B;++te){const fe=g[te];if(typeof fe=="number"){oe+=_e*fe*T/1e3;continue}let Le=!1;const Be=(fe.isSpace?re:0)+Y,Qe=fe.fontChar,nt=fe.accent;let rt,lt,dt=fe.width;if(Z){const gt=fe.vmetric||se,Ie=-(fe.vmetric?gt[1]:dt*.5)*Ee,pe=gt[2]*Ee;dt=gt?-gt[0]:dt,rt=Ie/j,lt=(oe+pe)/j}else rt=oe/j,lt=0;if(m.remeasure&&dt>0){const gt=F.measureText(Qe).width*1e3/T*j;if(dt<gt&&this.isFontSubpixelAAEnabled){const Ie=dt/gt;Le=!0,F.save(),F.scale(Ie,1),rt/=Ie}else dt!==gt&&(rt+=(dt-gt)/2e3*T/j)}if(this.contentVisible&&(fe.isInFont||m.missingFile)){if(Ne&&!nt)F.fillText(Qe,rt,lt);else if(this.paintChar(Qe,rt,lt,Ae),nt){const gt=rt+T*nt.offset.x/j,Ie=lt-T*nt.offset.y/j;this.paintChar(nt.fontChar,gt,Ie,Ae)}}const ot=Z?dt*Ee-Be*Se:dt*Ee+Be*Se;oe+=ot,Le&&F.restore()}Z?v.y-=oe:v.x+=oe*R,F.restore(),this.compose()}showType3Text(g){const v=this.ctx,m=this.current,T=m.font,F=m.fontSize,j=m.fontDirection,Y=T.vertical?1:-1,re=m.charSpacing,Se=m.wordSpacing,R=m.textHScale*j,B=m.fontMatrix||r.FONT_IDENTITY_MATRIX,Z=g.length,_e=m.textRenderingMode===r.TextRenderingMode.INVISIBLE;let se,Ee,Ne,Ae;if(!(_e||F===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,v.save(),v.transform(...m.textMatrix),v.translate(m.x,m.y),v.scale(R,j),se=0;se<Z;++se){if(Ee=g[se],typeof Ee=="number"){Ae=Y*Ee*F/1e3,this.ctx.translate(Ae,0),m.x+=Ae*R;continue}const ke=(Ee.isSpace?Se:0)+re,ce=T.charProcOperatorList[Ee.operatorListId];if(!ce){(0,r.warn)(`Type3 character "${Ee.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ee,this.save(),v.scale(F,F),v.transform(...B),this.executeOperatorList(ce),this.restore()),Ne=r.Util.applyTransform([Ee.width,0],B)[0]*F+ke,v.translate(Ne,0),m.x+=Ne*R}v.restore(),this.processingType3=null}}setCharWidth(g,v){}setCharWidthAndBounds(g,v,m,T,F,j){this.ctx.rect(m,T,F-m,j-T),this.ctx.clip(),this.endPath()}getColorN_Pattern(g){let v;if(g[0]==="TilingPattern"){const m=g[1],T=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),F={createCanvasGraphics:j=>new Ge(j,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};v=new l.TilingPattern(g,m,this.ctx,F,T)}else v=this._getPattern(g[1],g[2]);return v}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(g,v,m){const T=r.Util.makeHexColor(g,v,m);this.ctx.strokeStyle=T,this.current.strokeColor=T}setFillRGBColor(g,v,m){const T=r.Util.makeHexColor(g,v,m);this.ctx.fillStyle=T,this.current.fillColor=T,this.current.patternFill=!1}_getPattern(g,v=null){let m;return this.cachedPatterns.has(g)?m=this.cachedPatterns.get(g):(m=(0,l.getShadingPattern)(this.getObject(g)),this.cachedPatterns.set(g,m)),v&&(m.matrix=v),m}shadingFill(g){if(!this.contentVisible)return;const v=this.ctx;this.save();const m=this._getPattern(g);v.fillStyle=m.getPattern(v,this,(0,o.getCurrentTransformInverse)(v),l.PathType.SHADING);const T=(0,o.getCurrentTransformInverse)(v);if(T){const{width:F,height:j}=v.canvas,[Y,re,Se,R]=r.Util.getAxialAlignedBoundingBox([0,0,F,j],T);this.ctx.fillRect(Y,re,Se-Y,R-re)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(g,v){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(g)&&g.length===6&&this.transform(...g),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),v)){const m=v[2]-v[0],T=v[3]-v[1];this.ctx.rect(v[0],v[1],m,T),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),v),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(g){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const v=this.ctx;g.isolated||(0,r.info)("TODO: Support non-isolated groups."),g.knockout&&(0,r.warn)("Knockout groups not supported.");const m=(0,o.getCurrentTransform)(v);if(g.matrix&&v.transform(...g.matrix),!g.bbox)throw new Error("Bounding box is required.");let T=r.Util.getAxialAlignedBoundingBox(g.bbox,(0,o.getCurrentTransform)(v));const F=[0,0,v.canvas.width,v.canvas.height];T=r.Util.intersect(T,F)||[0,0,0,0];const j=Math.floor(T[0]),Y=Math.floor(T[1]);let re=Math.max(Math.ceil(T[2])-j,1),Se=Math.max(Math.ceil(T[3])-Y,1),R=1,B=1;re>A&&(R=re/A,re=A),Se>A&&(B=Se/A,Se=A),this.current.startNewPathAndClipBox([0,0,re,Se]);let Z="groupAt"+this.groupLevel;g.smask&&(Z+="_smask_"+this.smaskCounter++%2);const _e=this.cachedCanvases.getCanvas(Z,re,Se),se=_e.context;se.scale(1/R,1/B),se.translate(-j,-Y),se.transform(...m),g.smask?this.smaskStack.push({canvas:_e.canvas,context:se,offsetX:j,offsetY:Y,scaleX:R,scaleY:B,subtype:g.smask.subtype,backdrop:g.smask.backdrop,transferMap:g.smask.transferMap||null,startTransformInverse:null}):(v.setTransform(1,0,0,1,0,0),v.translate(j,Y),v.scale(R,B),v.save()),S(v,se),this.ctx=se,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(v),this.groupLevel++}endGroup(g){if(!this.contentVisible)return;this.groupLevel--;const v=this.ctx,m=this.groupStack.pop();if(this.ctx=m,this.ctx.imageSmoothingEnabled=!1,g.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const T=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...T);const F=r.Util.getAxialAlignedBoundingBox([0,0,v.canvas.width,v.canvas.height],T);this.ctx.drawImage(v.canvas,0,0),this.ctx.restore(),this.compose(F)}}beginAnnotation(g,v,m,T,F){if(me(this,ie,wo).call(this),C(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(v)&&v.length===4){const j=v[2]-v[0],Y=v[3]-v[1];if(F&&this.annotationCanvasMap){m=m.slice(),m[4]-=v[0],m[5]-=v[1],v=v.slice(),v[0]=v[1]=0,v[2]=j,v[3]=Y;const[re,Se]=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:R}=this,B=Math.ceil(j*this.outputScaleX*R),Z=Math.ceil(Y*this.outputScaleY*R);this.annotationCanvas=this.canvasFactory.create(B,Z);const{canvas:_e,context:se}=this.annotationCanvas;this.annotationCanvasMap.set(g,_e),this.annotationCanvas.savedCtx=this.ctx,this.ctx=se,this.ctx.save(),this.ctx.setTransform(re,0,0,-Se,0,Y*Se),C(this.ctx)}else C(this.ctx),this.ctx.rect(v[0],v[1],j,Y),this.ctx.clip(),this.endPath()}this.current=new U(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...m),this.transform(...T)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),me(this,Ue,xo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(g){if(!this.contentVisible)return;const v=g.count;g=this.getObject(g.data,g),g.count=v;const m=this.ctx,T=this.processingType3;if(T&&(T.compiled===void 0&&(T.compiled=O(g)),T.compiled)){T.compiled(m);return}const F=this._createMaskCanvas(g),j=F.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(j,F.offsetX,F.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(g,v,m=0,T=0,F,j){if(!this.contentVisible)return;g=this.getObject(g.data,g);const Y=this.ctx;Y.save();const re=(0,o.getCurrentTransform)(Y);Y.transform(v,m,T,F,0,0);const Se=this._createMaskCanvas(g);Y.setTransform(1,0,0,1,Se.offsetX-re[4],Se.offsetY-re[5]);for(let R=0,B=j.length;R<B;R+=2){const Z=r.Util.transform(re,[v,m,T,F,j[R],j[R+1]]),[_e,se]=r.Util.applyTransform([0,0],Z);Y.drawImage(Se.canvas,_e,se)}Y.restore(),this.compose()}paintImageMaskXObjectGroup(g){if(!this.contentVisible)return;const v=this.ctx,m=this.current.fillColor,T=this.current.patternFill;for(const F of g){const{data:j,width:Y,height:re,transform:Se}=F,R=this.cachedCanvases.getCanvas("maskCanvas",Y,re),B=R.context;B.save();const Z=this.getObject(j,F);I(B,Z),B.globalCompositeOperation="source-in",B.fillStyle=T?m.getPattern(B,this,(0,o.getCurrentTransformInverse)(v),l.PathType.FILL):m,B.fillRect(0,0,Y,re),B.restore(),v.save(),v.transform(...Se),v.scale(1,-1),w(v,R.canvas,0,0,Y,re,0,-1,1,1),v.restore()}this.compose()}paintImageXObject(g){if(!this.contentVisible)return;const v=this.getObject(g);if(!v){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(v)}paintImageXObjectRepeat(g,v,m,T){if(!this.contentVisible)return;const F=this.getObject(g);if(!F){(0,r.warn)("Dependent image isn't ready yet");return}const j=F.width,Y=F.height,re=[];for(let Se=0,R=T.length;Se<R;Se+=2)re.push({transform:[v,0,0,m,T[Se],T[Se+1]],x:0,y:0,w:j,h:Y});this.paintInlineImageXObjectGroup(F,re)}applyTransferMapsToCanvas(g){return this.current.transferMaps!=="none"&&(g.filter=this.current.transferMaps,g.drawImage(g.canvas,0,0),g.filter="none"),g.canvas}applyTransferMapsToBitmap(g){if(this.current.transferMaps==="none")return g.bitmap;const{bitmap:v,width:m,height:T}=g,F=this.cachedCanvases.getCanvas("inlineImage",m,T),j=F.context;return j.filter=this.current.transferMaps,j.drawImage(v,0,0),j.filter="none",F.canvas}paintInlineImageXObject(g){if(!this.contentVisible)return;const v=g.width,m=g.height,T=this.ctx;if(this.save(),!r.isNodeJS){const{filter:Y}=T;Y!=="none"&&Y!==""&&(T.filter="none")}T.scale(1/v,-1/m);let F;if(g.bitmap)F=this.applyTransferMapsToBitmap(g);else if(typeof HTMLElement=="function"&&g instanceof HTMLElement||!g.data)F=g;else{const re=this.cachedCanvases.getCanvas("inlineImage",v,m).context;$(re,g),F=this.applyTransferMapsToCanvas(re)}const j=this._scaleImage(F,(0,o.getCurrentTransformInverse)(T));T.imageSmoothingEnabled=ae((0,o.getCurrentTransform)(T),g.interpolate),w(T,j.img,0,0,j.paintWidth,j.paintHeight,0,-m,v,m),this.compose(),this.restore()}paintInlineImageXObjectGroup(g,v){if(!this.contentVisible)return;const m=this.ctx;let T;if(g.bitmap)T=g.bitmap;else{const F=g.width,j=g.height,re=this.cachedCanvases.getCanvas("inlineImage",F,j).context;$(re,g),T=this.applyTransferMapsToCanvas(re)}for(const F of v)m.save(),m.transform(...F.transform),m.scale(1,-1),w(m,T,F.x,F.y,F.w,F.h,0,-1,1,1),m.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(g){}markPointProps(g,v){}beginMarkedContent(g){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(g,v){g==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(v)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(g){const v=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(g);const m=this.ctx;this.pendingClip&&(v||(this.pendingClip===Ce?m.clip("evenodd"):m.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const g=(0,o.getCurrentTransform)(this.ctx);if(g[1]===0&&g[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(g[0]),Math.abs(g[3]));else{const v=Math.abs(g[0]*g[3]-g[2]*g[1]),m=Math.hypot(g[0],g[2]),T=Math.hypot(g[1],g[3]);this._cachedGetSinglePixelWidth=Math.max(m,T)/v}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:g}=this.current,{a:v,b:m,c:T,d:F}=this.ctx.getTransform();let j,Y;if(m===0&&T===0){const re=Math.abs(v),Se=Math.abs(F);if(re===Se)if(g===0)j=Y=1/re;else{const R=re*g;j=Y=R<1?1/R:1}else if(g===0)j=1/re,Y=1/Se;else{const R=re*g,B=Se*g;j=R<1?1/R:1,Y=B<1?1/B:1}}else{const re=Math.abs(v*F-m*T),Se=Math.hypot(v,m),R=Math.hypot(T,F);if(g===0)j=R/re,Y=Se/re;else{const B=g*re;j=R>B?R/B:1,Y=Se>B?Se/B:1}}this._cachedScaleForStroking[0]=j,this._cachedScaleForStroking[1]=Y}return this._cachedScaleForStroking}rescaleAndStroke(g){const{ctx:v}=this,{lineWidth:m}=this.current,[T,F]=this.getScaleForStroking();if(v.lineWidth=m||1,T===1&&F===1){v.stroke();return}const j=v.getLineDash();if(g&&v.save(),v.scale(T,F),j.length>0){const Y=Math.max(T,F);v.setLineDash(j.map(re=>re/Y)),v.lineDashOffset/=Y}v.stroke(),g&&v.restore()}isContentVisible(){for(let g=this.markedContentStack.length-1;g>=0;g--)if(!this.markedContentStack[g].visible)return!1;return!0}};ie=new WeakSet,wo=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ue=new WeakSet,xo=function(){if(this.pageColors){const g=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(g!=="none"){const v=this.ctx.filter;this.ctx.filter=g,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}};let xe=Ge;n.CanvasGraphics=xe;for(const q in r.OPS)xe.prototype[q]!==void 0&&(xe.prototype[r.OPS[q]]=xe.prototype[q])},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=D;var r=s(1),o=s(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=l;function c(O,U){if(!U)return;const $=U[2]-U[0],I=U[3]-U[1],S=new Path2D;S.rect(U[0],U[1],$,I),O.clip(S)}class y{constructor(){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class b extends y{constructor(U){super(),this._type=U[1],this._bbox=U[2],this._colorStops=U[3],this._p0=U[4],this._p1=U[5],this._r0=U[6],this._r1=U[7],this.matrix=null}_createGradient(U){let $;this._type==="axial"?$=U.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&($=U.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const I of this._colorStops)$.addColorStop(I[0],I[1]);return $}getPattern(U,$,I,S){let C;if(S===l.STROKE||S===l.FILL){const G=$.current.getClippedPathBoundingBox(S,(0,o.getCurrentTransform)(U))||[0,0,0,0],N=Math.ceil(G[2]-G[0])||1,E=Math.ceil(G[3]-G[1])||1,X=$.cachedCanvases.getCanvas("pattern",N,E,!0),H=X.context;H.clearRect(0,0,H.canvas.width,H.canvas.height),H.beginPath(),H.rect(0,0,H.canvas.width,H.canvas.height),H.translate(-G[0],-G[1]),I=r.Util.transform(I,[1,0,0,1,G[0],G[1]]),H.transform(...$.baseTransform),this.matrix&&H.transform(...this.matrix),c(H,this._bbox),H.fillStyle=this._createGradient(H),H.fill(),C=U.createPattern(X.canvas,"no-repeat");const ae=new DOMMatrix(I);C.setTransform(ae)}else c(U,this._bbox),C=this._createGradient(U);return C}}function A(O,U,$,I,S,C,G,N){const E=U.coords,X=U.colors,H=O.data,ae=O.width*4;let de;E[$+1]>E[I+1]&&(de=$,$=I,I=de,de=C,C=G,G=de),E[I+1]>E[S+1]&&(de=I,I=S,S=de,de=G,G=N,N=de),E[$+1]>E[I+1]&&(de=$,$=I,I=de,de=C,C=G,G=de);const K=(E[$]+U.offsetX)*U.scaleX,ge=(E[$+1]+U.offsetY)*U.scaleY,Ce=(E[I]+U.offsetX)*U.scaleX,xe=(E[I+1]+U.offsetY)*U.scaleY,ie=(E[S]+U.offsetX)*U.scaleX,Oe=(E[S+1]+U.offsetY)*U.scaleY;if(ge>=Oe)return;const Ue=X[C],He=X[C+1],Ge=X[C+2],q=X[G],g=X[G+1],v=X[G+2],m=X[N],T=X[N+1],F=X[N+2],j=Math.round(ge),Y=Math.round(Oe);let re,Se,R,B,Z,_e,se,Ee;for(let Ne=j;Ne<=Y;Ne++){if(Ne<xe){const te=Ne<ge?0:(ge-Ne)/(ge-xe);re=K-(K-Ce)*te,Se=Ue-(Ue-q)*te,R=He-(He-g)*te,B=Ge-(Ge-v)*te}else{let te;Ne>Oe?te=1:xe===Oe?te=0:te=(xe-Ne)/(xe-Oe),re=Ce-(Ce-ie)*te,Se=q-(q-m)*te,R=g-(g-T)*te,B=v-(v-F)*te}let Ae;Ne<ge?Ae=0:Ne>Oe?Ae=1:Ae=(ge-Ne)/(ge-Oe),Z=K-(K-ie)*Ae,_e=Ue-(Ue-m)*Ae,se=He-(He-T)*Ae,Ee=Ge-(Ge-F)*Ae;const ke=Math.round(Math.min(re,Z)),ce=Math.round(Math.max(re,Z));let oe=ae*Ne+ke*4;for(let te=ke;te<=ce;te++)Ae=(re-te)/(re-Z),Ae<0?Ae=0:Ae>1&&(Ae=1),H[oe++]=Se-(Se-_e)*Ae|0,H[oe++]=R-(R-se)*Ae|0,H[oe++]=B-(B-Ee)*Ae|0,H[oe++]=255}}function d(O,U,$){const I=U.coords,S=U.colors;let C,G;switch(U.type){case"lattice":const N=U.verticesPerRow,E=Math.floor(I.length/N)-1,X=N-1;for(C=0;C<E;C++){let H=C*N;for(let ae=0;ae<X;ae++,H++)A(O,$,I[H],I[H+1],I[H+N],S[H],S[H+1],S[H+N]),A(O,$,I[H+N+1],I[H+1],I[H+N],S[H+N+1],S[H+1],S[H+N])}break;case"triangles":for(C=0,G=I.length;C<G;C+=3)A(O,$,I[C],I[C+1],I[C+2],S[C],S[C+1],S[C+2]);break;default:throw new Error("illegal figure")}}class x extends y{constructor(U){super(),this._coords=U[2],this._colors=U[3],this._figures=U[4],this._bounds=U[5],this._bbox=U[7],this._background=U[8],this.matrix=null}_createMeshCanvas(U,$,I){const N=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),X=Math.ceil(this._bounds[2])-N,H=Math.ceil(this._bounds[3])-E,ae=Math.min(Math.ceil(Math.abs(X*U[0]*1.1)),3e3),de=Math.min(Math.ceil(Math.abs(H*U[1]*1.1)),3e3),K=X/ae,ge=H/de,Ce={coords:this._coords,colors:this._colors,offsetX:-N,offsetY:-E,scaleX:1/K,scaleY:1/ge},xe=ae+2*2,ie=de+2*2,Oe=I.getCanvas("mesh",xe,ie,!1),Ue=Oe.context,He=Ue.createImageData(ae,de);if($){const q=He.data;for(let g=0,v=q.length;g<v;g+=4)q[g]=$[0],q[g+1]=$[1],q[g+2]=$[2],q[g+3]=255}for(const q of this._figures)d(He,q,Ce);return Ue.putImageData(He,2,2),{canvas:Oe.canvas,offsetX:N-2*K,offsetY:E-2*ge,scaleX:K,scaleY:ge}}getPattern(U,$,I,S){c(U,this._bbox);let C;if(S===l.SHADING)C=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(U));else if(C=r.Util.singularValueDecompose2dScale($.baseTransform),this.matrix){const N=r.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*N[0],C[1]*N[1]]}const G=this._createMeshCanvas(C,S===l.SHADING?null:this._background,$.cachedCanvases);return S!==l.SHADING&&(U.setTransform(...$.baseTransform),this.matrix&&U.transform(...this.matrix)),U.translate(G.offsetX,G.offsetY),U.scale(G.scaleX,G.scaleY),U.createPattern(G.canvas,"no-repeat")}}class V extends y{getPattern(){return"hotpink"}}function D(O){switch(O[0]){case"RadialAxial":return new b(O);case"Mesh":return new x(O);case"Dummy":return new V}throw new Error(`Unknown IR type: ${O[0]}`)}const k={COLORED:1,UNCOLORED:2},w=class w{constructor(U,$,I,S,C){this.operatorList=U[2],this.matrix=U[3]||[1,0,0,1,0,0],this.bbox=U[4],this.xstep=U[5],this.ystep=U[6],this.paintType=U[7],this.tilingType=U[8],this.color=$,this.ctx=I,this.canvasGraphicsFactory=S,this.baseTransform=C}createPatternCanvas(U){const $=this.operatorList,I=this.bbox,S=this.xstep,C=this.ystep,G=this.paintType,N=this.tilingType,E=this.color,X=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+N);const H=I[0],ae=I[1],de=I[2],K=I[3],ge=r.Util.singularValueDecompose2dScale(this.matrix),Ce=r.Util.singularValueDecompose2dScale(this.baseTransform),xe=[ge[0]*Ce[0],ge[1]*Ce[1]],ie=this.getSizeAndScale(S,this.ctx.canvas.width,xe[0]),Oe=this.getSizeAndScale(C,this.ctx.canvas.height,xe[1]),Ue=U.cachedCanvases.getCanvas("pattern",ie.size,Oe.size,!0),He=Ue.context,Ge=X.createCanvasGraphics(He);Ge.groupLevel=U.groupLevel,this.setFillAndStrokeStyleToContext(Ge,G,E);let q=H,g=ae,v=de,m=K;return H<0&&(q=0,v+=Math.abs(H)),ae<0&&(g=0,m+=Math.abs(ae)),He.translate(-(ie.scale*q),-(Oe.scale*g)),Ge.transform(ie.scale,0,0,Oe.scale,0,0),He.save(),this.clipBbox(Ge,q,g,v,m),Ge.baseTransform=(0,o.getCurrentTransform)(Ge.ctx),Ge.executeOperatorList($),Ge.endDrawing(),{canvas:Ue.canvas,scaleX:ie.scale,scaleY:Oe.scale,offsetX:q,offsetY:g}}getSizeAndScale(U,$,I){U=Math.abs(U);const S=Math.max(w.MAX_PATTERN_SIZE,$);let C=Math.ceil(U*I);return C>=S?C=S:I=C/U,{scale:I,size:C}}clipBbox(U,$,I,S,C){const G=S-$,N=C-I;U.ctx.rect($,I,G,N),U.current.updateRectMinMax((0,o.getCurrentTransform)(U.ctx),[$,I,S,C]),U.clip(),U.endPath()}setFillAndStrokeStyleToContext(U,$,I){const S=U.ctx,C=U.current;switch($){case k.COLORED:const G=this.ctx;S.fillStyle=G.fillStyle,S.strokeStyle=G.strokeStyle,C.fillColor=G.fillStyle,C.strokeColor=G.strokeStyle;break;case k.UNCOLORED:const N=r.Util.makeHexColor(I[0],I[1],I[2]);S.fillStyle=N,S.strokeStyle=N,C.fillColor=N,C.strokeColor=N;break;default:throw new r.FormatError(`Unsupported paint type: ${$}`)}}getPattern(U,$,I,S){let C=I;S!==l.SHADING&&(C=r.Util.transform(C,$.baseTransform),this.matrix&&(C=r.Util.transform(C,this.matrix)));const G=this.createPatternCanvas($);let N=new DOMMatrix(C);N=N.translate(G.offsetX,G.offsetY),N=N.scale(1/G.scaleX,1/G.scaleY);const E=U.createPattern(G.canvas,"repeat");return E.setTransform(N),E}};Nt(w,"MAX_PATTERN_SIZE",3e3);let M=w;n.TilingPattern=M},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.convertBlackAndWhiteToRGBA=l,n.convertToRGBA=o,n.grayToRGBA=y;var r=s(1);function o(b){switch(b.kind){case r.ImageKind.GRAYSCALE_1BPP:return l(b);case r.ImageKind.RGB_24BPP:return c(b)}return null}function l({src:b,srcPos:A=0,dest:d,width:x,height:V,nonBlackColor:D=4294967295,inverseDecode:k=!1}){const M=r.FeatureTest.isLittleEndian?4278190080:255,[w,O]=k?[D,M]:[M,D],U=x>>3,$=x&7,I=b.length;d=new Uint32Array(d.buffer);let S=0;for(let C=0;C<V;C++){for(const N=A+U;A<N;A++){const E=A<I?b[A]:255;d[S++]=E&128?O:w,d[S++]=E&64?O:w,d[S++]=E&32?O:w,d[S++]=E&16?O:w,d[S++]=E&8?O:w,d[S++]=E&4?O:w,d[S++]=E&2?O:w,d[S++]=E&1?O:w}if($===0)continue;const G=A<I?b[A++]:255;for(let N=0;N<$;N++)d[S++]=G&1<<7-N?O:w}return{srcPos:A,destPos:S}}function c({src:b,srcPos:A=0,dest:d,destPos:x=0,width:V,height:D}){let k=0;const M=b.length>>2,w=new Uint32Array(b.buffer,A,M);if(r.FeatureTest.isLittleEndian){for(;k<M-2;k+=3,x+=4){const O=w[k],U=w[k+1],$=w[k+2];d[x]=O|4278190080,d[x+1]=O>>>24|U<<8|4278190080,d[x+2]=U>>>16|$<<16|4278190080,d[x+3]=$>>>8|4278190080}for(let O=k*4,U=b.length;O<U;O+=3)d[x++]=b[O]|b[O+1]<<8|b[O+2]<<16|4278190080}else{for(;k<M-2;k+=3,x+=4){const O=w[k],U=w[k+1],$=w[k+2];d[x]=O|255,d[x+1]=O<<24|U>>>8|255,d[x+2]=U<<16|$>>>16|255,d[x+3]=$<<8|255}for(let O=k*4,U=b.length;O<U;O+=3)d[x++]=b[O]<<24|b[O+1]<<16|b[O+2]<<8|255}return{srcPos:A,destPos:x}}function y(b,A){if(r.FeatureTest.isLittleEndian)for(let d=0,x=b.length;d<x;d++)A[d]=b[d]*65793|4278190080;else for(let d=0,x=b.length;d<x;d++)A[d]=b[d]*16843008|255}},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const s=Object.create(null);n.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,n,s)=>{var b,wc,d,xc,V,Vs;Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var r=s(1);const o={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c(k){switch(k instanceof Error||typeof k=="object"&&k!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),k.name){case"AbortException":return new r.AbortException(k.message);case"MissingPDFException":return new r.MissingPDFException(k.message);case"PasswordException":return new r.PasswordException(k.message,k.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(k.message,k.status);case"UnknownErrorException":return new r.UnknownErrorException(k.message,k.details);default:return new r.UnknownErrorException(k.message,k.toString())}}class y{constructor(M,w,O){ne(this,b);ne(this,d);ne(this,V);this.sourceName=M,this.targetName=w,this.comObj=O,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=U=>{const $=U.data;if($.targetName!==this.sourceName)return;if($.stream){me(this,d,xc).call(this,$);return}if($.callback){const S=$.callbackId,C=this.callbackCapabilities[S];if(!C)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],$.callback===o.DATA)C.resolve($.data);else if($.callback===o.ERROR)C.reject(c($.reason));else throw new Error("Unexpected callback case");return}const I=this.actionHandler[$.action];if(!I)throw new Error(`Unknown action from worker: ${$.action}`);if($.callbackId){const S=this.sourceName,C=$.sourceName;new Promise(function(G){G(I($.data))}).then(function(G){O.postMessage({sourceName:S,targetName:C,callback:o.DATA,callbackId:$.callbackId,data:G})},function(G){O.postMessage({sourceName:S,targetName:C,callback:o.ERROR,callbackId:$.callbackId,reason:c(G)})});return}if($.streamId){me(this,b,wc).call(this,$);return}I($.data)},O.addEventListener("message",this._onComObjOnMessage)}on(M,w){const O=this.actionHandler;if(O[M])throw new Error(`There is already an actionName called "${M}"`);O[M]=w}send(M,w,O){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:w},O)}sendWithPromise(M,w,O){const U=this.callbackId++,$=new r.PromiseCapability;this.callbackCapabilities[U]=$;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:U,data:w},O)}catch(I){$.reject(I)}return $.promise}sendWithStream(M,w,O,U){const $=this.streamId++,I=this.sourceName,S=this.targetName,C=this.comObj;return new ReadableStream({start:G=>{const N=new r.PromiseCapability;return this.streamControllers[$]={controller:G,startCall:N,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:I,targetName:S,action:M,streamId:$,data:w,desiredSize:G.desiredSize},U),N.promise},pull:G=>{const N=new r.PromiseCapability;return this.streamControllers[$].pullCall=N,C.postMessage({sourceName:I,targetName:S,stream:l.PULL,streamId:$,desiredSize:G.desiredSize}),N.promise},cancel:G=>{(0,r.assert)(G instanceof Error,"cancel must have a valid reason");const N=new r.PromiseCapability;return this.streamControllers[$].cancelCall=N,this.streamControllers[$].isClosed=!0,C.postMessage({sourceName:I,targetName:S,stream:l.CANCEL,streamId:$,reason:c(G)}),N.promise}},O)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,wc=function(M){const w=M.streamId,O=this.sourceName,U=M.sourceName,$=this.comObj,I=this,S=this.actionHandler[M.action],C={enqueue(G,N=1,E){if(this.isCancelled)return;const X=this.desiredSize;this.desiredSize-=N,X>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),$.postMessage({sourceName:O,targetName:U,stream:l.ENQUEUE,streamId:w,chunk:G},E)},close(){this.isCancelled||(this.isCancelled=!0,$.postMessage({sourceName:O,targetName:U,stream:l.CLOSE,streamId:w}),delete I.streamSinks[w])},error(G){(0,r.assert)(G instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,$.postMessage({sourceName:O,targetName:U,stream:l.ERROR,streamId:w,reason:c(G)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[w]=C,new Promise(function(G){G(S(M.data,C))}).then(function(){$.postMessage({sourceName:O,targetName:U,stream:l.START_COMPLETE,streamId:w,success:!0})},function(G){$.postMessage({sourceName:O,targetName:U,stream:l.START_COMPLETE,streamId:w,reason:c(G)})})},d=new WeakSet,xc=function(M){const w=M.streamId,O=this.sourceName,U=M.sourceName,$=this.comObj,I=this.streamControllers[w],S=this.streamSinks[w];switch(M.stream){case l.START_COMPLETE:M.success?I.startCall.resolve():I.startCall.reject(c(M.reason));break;case l.PULL_COMPLETE:M.success?I.pullCall.resolve():I.pullCall.reject(c(M.reason));break;case l.PULL:if(!S){$.postMessage({sourceName:O,targetName:U,stream:l.PULL_COMPLETE,streamId:w,success:!0});break}S.desiredSize<=0&&M.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=M.desiredSize,new Promise(function(C){var G;C((G=S.onPull)==null?void 0:G.call(S))}).then(function(){$.postMessage({sourceName:O,targetName:U,stream:l.PULL_COMPLETE,streamId:w,success:!0})},function(C){$.postMessage({sourceName:O,targetName:U,stream:l.PULL_COMPLETE,streamId:w,reason:c(C)})});break;case l.ENQUEUE:if((0,r.assert)(I,"enqueue should have stream controller"),I.isClosed)break;I.controller.enqueue(M.chunk);break;case l.CLOSE:if((0,r.assert)(I,"close should have stream controller"),I.isClosed)break;I.isClosed=!0,I.controller.close(),me(this,V,Vs).call(this,I,w);break;case l.ERROR:(0,r.assert)(I,"error should have stream controller"),I.controller.error(c(M.reason)),me(this,V,Vs).call(this,I,w);break;case l.CANCEL_COMPLETE:M.success?I.cancelCall.resolve():I.cancelCall.reject(c(M.reason)),me(this,V,Vs).call(this,I,w);break;case l.CANCEL:if(!S)break;new Promise(function(C){var G;C((G=S.onCancel)==null?void 0:G.call(S,c(M.reason)))}).then(function(){$.postMessage({sourceName:O,targetName:U,stream:l.CANCEL_COMPLETE,streamId:w,success:!0})},function(C){$.postMessage({sourceName:O,targetName:U,stream:l.CANCEL_COMPLETE,streamId:w,reason:c(C)})}),S.sinkCapability.reject(c(M.reason)),S.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}},V=new WeakSet,Vs=async function(M,w){var O,U,$;await Promise.allSettled([(O=M.startCall)==null?void 0:O.promise,(U=M.pullCall)==null?void 0:U.promise,($=M.cancelCall)==null?void 0:$.promise]),delete this.streamControllers[w]},n.MessageHandler=y},(e,n,s)=>{var l,c;Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var r=s(1);class o{constructor({parsedData:b,rawData:A}){ne(this,l,void 0);ne(this,c,void 0);Re(this,l,b),Re(this,c,A)}getRaw(){return u(this,c)}get(b){return u(this,l).get(b)??null}getAll(){return(0,r.objectFromMap)(u(this,l))}has(b){return u(this,l).has(b)}}l=new WeakMap,c=new WeakMap,n.Metadata=o},(e,n,s)=>{var b,A,d,x,V,D,Co;Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var r=s(1),o=s(8);const l=Symbol("INTERNAL");class c{constructor(w,O){ne(this,b,!0);this.name=w,this.intent=O}get visible(){return u(this,b)}_setVisible(w,O){w!==l&&(0,r.unreachable)("Internal method `_setVisible` called."),Re(this,b,O)}}b=new WeakMap;class y{constructor(w){ne(this,D);ne(this,A,null);ne(this,d,new Map);ne(this,x,null);ne(this,V,null);if(this.name=null,this.creator=null,w!==null){this.name=w.name,this.creator=w.creator,Re(this,V,w.order);for(const O of w.groups)u(this,d).set(O.id,new c(O.name,O.intent));if(w.baseState==="OFF")for(const O of u(this,d).values())O._setVisible(l,!1);for(const O of w.on)u(this,d).get(O)._setVisible(l,!0);for(const O of w.off)u(this,d).get(O)._setVisible(l,!1);Re(this,x,this.getHash())}}isVisible(w){if(u(this,d).size===0)return!0;if(!w)return(0,r.warn)("Optional content group not defined."),!0;if(w.type==="OCG")return u(this,d).has(w.id)?u(this,d).get(w.id).visible:((0,r.warn)(`Optional content group not found: ${w.id}`),!0);if(w.type==="OCMD"){if(w.expression)return me(this,D,Co).call(this,w.expression);if(!w.policy||w.policy==="AnyOn"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(u(this,d).get(O).visible)return!0}return!1}else if(w.policy==="AllOn"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(!u(this,d).get(O).visible)return!1}return!0}else if(w.policy==="AnyOff"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(!u(this,d).get(O).visible)return!0}return!1}else if(w.policy==="AllOff"){for(const O of w.ids){if(!u(this,d).has(O))return(0,r.warn)(`Optional content group not found: ${O}`),!0;if(u(this,d).get(O).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${w.policy}.`),!0}return(0,r.warn)(`Unknown group type ${w.type}.`),!0}setVisibility(w,O=!0){if(!u(this,d).has(w)){(0,r.warn)(`Optional content group not found: ${w}`);return}u(this,d).get(w)._setVisible(l,!!O),Re(this,A,null)}get hasInitialVisibility(){return u(this,x)===null||this.getHash()===u(this,x)}getOrder(){return u(this,d).size?u(this,V)?u(this,V).slice():[...u(this,d).keys()]:null}getGroups(){return u(this,d).size>0?(0,r.objectFromMap)(u(this,d)):null}getGroup(w){return u(this,d).get(w)||null}getHash(){if(u(this,A)!==null)return u(this,A);const w=new o.MurmurHash3_64;for(const[O,U]of u(this,d))w.update(`${O}:${U.visible}`);return Re(this,A,w.hexdigest())}}A=new WeakMap,d=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakSet,Co=function(w){const O=w.length;if(O<2)return!0;const U=w[0];for(let $=1;$<O;$++){const I=w[$];let S;if(Array.isArray(I))S=me(this,D,Co).call(this,I);else if(u(this,d).has(I))S=u(this,d).get(I).visible;else return(0,r.warn)(`Optional content group not found: ${I}`),!0;switch(U){case"And":if(!S)return!1;break;case"Or":if(S)return!0;break;case"Not":return!S;default:return!0}}return U==="And"},n.OptionalContentConfig=y},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var r=s(1),o=s(6);class l{constructor({length:A,initialData:d,progressiveDone:x=!1,contentDispositionFilename:V=null,disableRange:D=!1,disableStream:k=!1},M){if((0,r.assert)(M,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=x,this._contentDispositionFilename=V,(d==null?void 0:d.length)>0){const w=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=M,this._isStreamingSupported=!k,this._isRangeSupported=!D,this._contentLength=A,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,O)=>{this._onReceiveData({begin:w,chunk:O})}),this._pdfDataRangeTransport.addProgressListener((w,O)=>{this._onProgress({loaded:w,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:A,chunk:d}){const x=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;if(A===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const V=this._rangeReaders.some(function(D){return D._begin!==A?!1:(D._enqueue(x),!0)});(0,r.assert)(V,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var A;return((A=this._fullRequestReader)==null?void 0:A._loaded)??0}_onProgress(A){var d,x,V,D;A.total===void 0?(x=(d=this._rangeReaders[0])==null?void 0:d.onProgress)==null||x.call(d,{loaded:A.loaded}):(D=(V=this._fullRequestReader)==null?void 0:V.onProgress)==null||D.call(V,{loaded:A.loaded,total:A.total})}_onProgressiveDone(){var A;(A=this._fullRequestReader)==null||A.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const d=this._rangeReaders.indexOf(A);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new c(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,d){if(d<=this._progressiveDataLength)return null;const x=new y(this,A,d);return this._pdfDataRangeTransport.requestDataRange(A,d),this._rangeReaders.push(x),x}cancelAllRequests(A){var d;(d=this._fullRequestReader)==null||d.cancel(A);for(const x of this._rangeReaders.slice(0))x.cancel(A);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=l;class c{constructor(A,d,x=!1,V=null){this._stream=A,this._done=x||!1,this._filename=(0,o.isPdfFile)(V)?V:null,this._queuedChunks=d||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=new r.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class y{constructor(A,d,x){this._stream=A,this._begin=d,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(this._requests.length===0)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const A=new r.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var r=s(1),o=s(20);function l(x,V,D){return{method:"GET",headers:x,signal:D.signal,mode:"cors",credentials:V?"include":"same-origin",redirect:"follow"}}function c(x){const V=new Headers;for(const D in x){const k=x[D];k!==void 0&&V.append(D,k)}return V}function y(x){return x instanceof Uint8Array?x.buffer:x instanceof ArrayBuffer?x:((0,r.warn)(`getArrayBuffer - unexpected data format: ${x}`),new Uint8Array(x).buffer)}class b{constructor(V){this.source=V,this.isHttp=/^https?:/i.test(V.url),this.httpHeaders=this.isHttp&&V.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var V;return((V=this._fullRequestReader)==null?void 0:V._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A(this),this._fullRequestReader}getRangeReader(V,D){if(D<=this._progressiveDataLength)return null;const k=new d(this,V,D);return this._rangeRequestReaders.push(k),k}cancelAllRequests(V){var D;(D=this._fullRequestReader)==null||D.cancel(V);for(const k of this._rangeRequestReaders.slice(0))k.cancel(V)}}n.PDFFetchStream=b;class A{constructor(V){this._stream=V,this._reader=null,this._loaded=0,this._filename=null;const D=V.source;this._withCredentials=D.withCredentials||!1,this._contentLength=D.length,this._headersCapability=new r.PromiseCapability,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._headers=c(this._stream.httpHeaders);const k=D.url;fetch(k,l(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,o.validateResponseStatus)(M.status))throw(0,o.createResponseStatusError)(M.status,k);this._reader=M.body.getReader(),this._headersCapability.resolve();const w=$=>M.headers.get($),{allowRangeRequests:O,suggestedLength:U}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=O,this._contentLength=U||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var k;await this._headersCapability.promise;const{value:V,done:D}=await this._reader.read();return D?{value:V,done:D}:(this._loaded+=V.byteLength,(k=this.onProgress)==null||k.call(this,{loaded:this._loaded,total:this._contentLength}),{value:y(V),done:!1})}cancel(V){var D;(D=this._reader)==null||D.cancel(V),this._abortController.abort()}}class d{constructor(V,D,k){this._stream=V,this._reader=null,this._loaded=0;const M=V.source;this._withCredentials=M.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!M.disableStream,this._abortController=new AbortController,this._headers=c(this._stream.httpHeaders),this._headers.append("Range",`bytes=${D}-${k-1}`);const w=M.url;fetch(w,l(this._headers,this._withCredentials,this._abortController)).then(O=>{if(!(0,o.validateResponseStatus)(O.status))throw(0,o.createResponseStatusError)(O.status,w);this._readCapability.resolve(),this._reader=O.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var k;await this._readCapability.promise;const{value:V,done:D}=await this._reader.read();return D?{value:V,done:D}:(this._loaded+=V.byteLength,(k=this.onProgress)==null||k.call(this,{loaded:this._loaded}),{value:y(V),done:!1})}cancel(V){var D;(D=this._reader)==null||D.cancel(V),this._abortController.abort()}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=b,n.extractFilenameFromHeader=y,n.validateRangeRequestCapabilities=c,n.validateResponseStatus=A;var r=s(1),o=s(21),l=s(6);function c({getResponseHeader:d,isHttp:x,rangeChunkSize:V,disableRange:D}){const k={allowRangeRequests:!1,suggestedLength:void 0},M=parseInt(d("Content-Length"),10);return!Number.isInteger(M)||(k.suggestedLength=M,M<=2*V)||D||!x||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(k.allowRangeRequests=!0),k}function y(d){const x=d("Content-Disposition");if(x){let V=(0,o.getFilenameFromContentDispositionHeader)(x);if(V.includes("%"))try{V=decodeURIComponent(V)}catch{}if((0,l.isPdfFile)(V))return V}return null}function b(d,x){return d===404||d===0&&x.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+x+'".'):new r.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${x}".`,d)}function A(d){return d===200||d===206}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=o;var r=s(1);function o(l){let c=!0,y=b("filename\\*","i").exec(l);if(y){y=y[1];let M=V(y);return M=unescape(M),M=D(M),M=k(M),d(M)}if(y=x(l),y){const M=k(y);return d(M)}if(y=b("filename","i").exec(l),y){y=y[1];let M=V(y);return M=k(M),d(M)}function b(M,w){return new RegExp("(?:^|;)\\s*"+M+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function A(M,w){if(M){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const O=new TextDecoder(M,{fatal:!0}),U=(0,r.stringToBytes)(w);w=O.decode(U),c=!1}catch{}}return w}function d(M){return c&&/[\x80-\xff]/.test(M)&&(M=A("utf-8",M),c&&(M=A("iso-8859-1",M))),M}function x(M){const w=[];let O;const U=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(O=U.exec(M))!==null;){let[,I,S,C]=O;if(I=parseInt(I,10),I in w){if(I===0)break;continue}w[I]=[S,C]}const $=[];for(let I=0;I<w.length&&I in w;++I){let[S,C]=w[I];C=V(C),S&&(C=unescape(C),I===0&&(C=D(C))),$.push(C)}return $.join("")}function V(M){if(M.startsWith('"')){const w=M.slice(1).split('\\"');for(let O=0;O<w.length;++O){const U=w[O].indexOf('"');U!==-1&&(w[O]=w[O].slice(0,U),w.length=O+1),w[O]=w[O].replaceAll(/\\(.)/g,"$1")}M=w.join('"')}return M}function D(M){const w=M.indexOf("'");if(w===-1)return M;const O=M.slice(0,w),$=M.slice(w+1).replace(/^[^']*'/,"");return A(O,$)}function k(M){return!M.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(M)?M:M.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,O,U,$){if(U==="q"||U==="Q")return $=$.replaceAll("_"," "),$=$.replaceAll(/=([0-9a-fA-F]{2})/g,function(I,S){return String.fromCharCode(parseInt(S,16))}),A(O,$);try{$=atob($)}catch{}return A(O,$)})}return""}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var r=s(1),o=s(20);const l=200,c=206;function y(V){const D=V.response;return typeof D!="string"?D:(0,r.stringToBytes)(D).buffer}class b{constructor(D,k={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&k.httpHeaders||Object.create(null),this.withCredentials=k.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,k,M){const w={begin:D,end:k};for(const O in M)w[O]=M[O];return this.request(w)}requestFull(D){return this.request(D)}request(D){const k=new XMLHttpRequest,M=this.currXhrId++,w=this.pendingRequests[M]={xhr:k};k.open("GET",this.url),k.withCredentials=this.withCredentials;for(const O in this.httpHeaders){const U=this.httpHeaders[O];U!==void 0&&k.setRequestHeader(O,U)}return this.isHttp&&"begin"in D&&"end"in D?(k.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),w.expectedStatus=c):w.expectedStatus=l,k.responseType="arraybuffer",D.onError&&(k.onerror=function(O){D.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,M),k.onprogress=this.onProgress.bind(this,M),w.onHeadersReceived=D.onHeadersReceived,w.onDone=D.onDone,w.onError=D.onError,w.onProgress=D.onProgress,k.send(null),M}onProgress(D,k){var w;const M=this.pendingRequests[D];M&&((w=M.onProgress)==null||w.call(M,k))}onStateChange(D,k){var I,S,C;const M=this.pendingRequests[D];if(!M)return;const w=M.xhr;if(w.readyState>=2&&M.onHeadersReceived&&(M.onHeadersReceived(),delete M.onHeadersReceived),w.readyState!==4||!(D in this.pendingRequests))return;if(delete this.pendingRequests[D],w.status===0&&this.isHttp){(I=M.onError)==null||I.call(M,w.status);return}const O=w.status||l;if(!(O===l&&M.expectedStatus===c)&&O!==M.expectedStatus){(S=M.onError)==null||S.call(M,w.status);return}const $=y(w);if(O===c){const G=w.getResponseHeader("Content-Range"),N=/bytes (\d+)-(\d+)\/(\d+)/.exec(G);M.onDone({begin:parseInt(N[1],10),chunk:$})}else $?M.onDone({begin:0,chunk:$}):(C=M.onError)==null||C.call(M,w.status)}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const k=this.pendingRequests[D].xhr;delete this.pendingRequests[D],k.abort()}}class A{constructor(D){this._source=D,this._manager=new b(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const k=this._rangeRequestReaders.indexOf(D);k>=0&&this._rangeRequestReaders.splice(k,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(D,k){const M=new x(this._manager,D,k);return M.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(M),M}cancelAllRequests(D){var k;(k=this._fullRequestReader)==null||k.cancel(D);for(const M of this._rangeRequestReaders.slice(0))M.cancel(D)}}n.PDFNetworkStream=A;class d{constructor(D,k){this._manager=D;const M={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._fullRequestId=D.requestFull(M),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=k.disableRange||!1,this._contentLength=k.length,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,k=this._manager.getRequestXhr(D),M=U=>k.getResponseHeader(U),{allowRangeRequests:w,suggestedLength:O}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=O||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(M),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,o.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){var k;(k=this.onProgress)==null||k.call(this,{loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const D=new r.PromiseCapability;return this._requests.push(D),D.promise}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(D,k,M){this._manager=D;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(k,M,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var D;(D=this.onClosed)==null||D.call(this,this)}_onDone(D){const k=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunk=k,this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,o.createResponseStatusError)(D,this._url);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){var k;this.isStreamingSupported||(k=this.onProgress)==null||k.call(this,{loaded:D.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const k=this._queuedChunk;return this._queuedChunk=null,{value:k,done:!1}}if(this._done)return{value:void 0,done:!0};const D=new r.PromiseCapability;return this._requests.push(D),D.promise}cancel(D){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var r=s(1),o=s(20);const l=/^file:\/\/\/[a-zA-Z]:\//;function c(M){const w=require$$5,O=w.parse(M);return O.protocol==="file:"||O.host?O:/^[a-z]:[/\\]/i.test(M)?w.parse(`file:///${M}`):(O.host||(O.protocol="file:"),O)}class y{constructor(w){this.source=w,this.url=c(w.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w;return((w=this._fullRequestReader)==null?void 0:w._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new D(this):new x(this),this._fullRequestReader}getRangeReader(w,O){if(O<=this._progressiveDataLength)return null;const U=this.isFsUrl?new k(this,w,O):new V(this,w,O);return this._rangeRequestReaders.push(U),U}cancelAllRequests(w){var O;(O=this._fullRequestReader)==null||O.cancel(w);for(const U of this._rangeRequestReaders.slice(0))U.cancel(w)}}n.PDFNodeStream=y;class b{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const O=w.source;this._contentLength=O.length,this._loaded=0,this._filename=null,this._disableRange=O.disableRange||!1,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!O.disableStream,this._isRangeSupported=!O.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var U;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=w.length,(U=this.onProgress)==null||U.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",O=>{this._error(O)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const O=w.source;this._isStreamingSupported=!O.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var U;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=w.length,(U=this.onProgress)==null||U.call(this,{loaded:this._loaded}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",O=>{this._error(O)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(M,w){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:w}}class x extends b{constructor(w){super(w);const O=U=>{if(U.statusCode===404){const C=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(U);const $=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:I,suggestedLength:S}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=S||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)($)};if(this._request=null,this._url.protocol==="http:"){const U=require$$5;this._request=U.request(d(this._url,w.httpHeaders),O)}else{const U=require$$5;this._request=U.request(d(this._url,w.httpHeaders),O)}this._request.on("error",U=>{this._storedError=U,this._headersCapability.reject(U)}),this._request.end()}}class V extends A{constructor(w,O,U){super(w),this._httpHeaders={};for(const I in w.httpHeaders){const S=w.httpHeaders[I];S!==void 0&&(this._httpHeaders[I]=S)}this._httpHeaders.Range=`bytes=${O}-${U-1}`;const $=I=>{if(I.statusCode===404){const S=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S;return}this._setReadableStream(I)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(d(this._url,this._httpHeaders),$)}else{const I=require$$5;this._request=I.request(d(this._url,this._httpHeaders),$)}this._request.on("error",I=>{this._storedError=I}),this._request.end()}}class D extends b{constructor(w){super(w);let O=decodeURIComponent(this._url.path);l.test(this._url.href)&&(O=O.replace(/^\//,""));const U=require$$5;U.lstat(O,($,I)=>{if($){$.code==="ENOENT"&&($=new r.MissingPDFException(`Missing PDF "${O}".`)),this._storedError=$,this._headersCapability.reject($);return}this._contentLength=I.size,this._setReadableStream(U.createReadStream(O)),this._headersCapability.resolve()})}}class k extends A{constructor(w,O,U){super(w);let $=decodeURIComponent(this._url.path);l.test(this._url.href)&&($=$.replace(/^\//,""));const I=require$$5;this._setReadableStream(I.createReadStream($,{start:O,end:U-1}))}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var r=s(6),o=s(1);const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",b=["butt","round","square"],A=["miter","round","bevel"],d=function(I,S="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([I],{type:S}));const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let N=`data:${S};base64,`;for(let E=0,X=I.length;E<X;E+=3){const H=I[E]&255,ae=I[E+1]&255,de=I[E+2]&255,K=H>>2,ge=(H&3)<<4|ae>>4,Ce=E+1<X?(ae&15)<<2|de>>6:64,xe=E+2<X?de&63:64;N+=G[K]+G[ge]+G[Ce]+G[xe]}return N},x=function(){const I=new Uint8Array([137,80,78,71,13,10,26,10]),S=12,C=new Int32Array(256);for(let de=0;de<256;de++){let K=de;for(let ge=0;ge<8;ge++)K=K&1?3988292384^K>>1&2147483647:K>>1&2147483647;C[de]=K}function G(de,K,ge){let Ce=-1;for(let xe=K;xe<ge;xe++){const ie=(Ce^de[xe])&255,Oe=C[ie];Ce=Ce>>>8^Oe}return Ce^-1}function N(de,K,ge,Ce){let xe=Ce;const ie=K.length;ge[xe]=ie>>24&255,ge[xe+1]=ie>>16&255,ge[xe+2]=ie>>8&255,ge[xe+3]=ie&255,xe+=4,ge[xe]=de.charCodeAt(0)&255,ge[xe+1]=de.charCodeAt(1)&255,ge[xe+2]=de.charCodeAt(2)&255,ge[xe+3]=de.charCodeAt(3)&255,xe+=4,ge.set(K,xe),xe+=K.length;const Oe=G(ge,Ce+4,xe);ge[xe]=Oe>>24&255,ge[xe+1]=Oe>>16&255,ge[xe+2]=Oe>>8&255,ge[xe+3]=Oe&255}function E(de,K,ge){let Ce=1,xe=0;for(let ie=K;ie<ge;++ie)Ce=(Ce+(de[ie]&255))%65521,xe=(xe+Ce)%65521;return xe<<16|Ce}function X(de){if(!o.isNodeJS)return H(de);try{const K=parseInt(process.versions.node)>=8?de:Buffer.from(de),ge=require$$5.deflateSync(K,{level:9});return ge instanceof Uint8Array?ge:new Uint8Array(ge)}catch(K){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+K)}return H(de)}function H(de){let K=de.length;const ge=65535,Ce=Math.ceil(K/ge),xe=new Uint8Array(2+K+Ce*5+4);let ie=0;xe[ie++]=120,xe[ie++]=156;let Oe=0;for(;K>ge;)xe[ie++]=0,xe[ie++]=255,xe[ie++]=255,xe[ie++]=0,xe[ie++]=0,xe.set(de.subarray(Oe,Oe+ge),ie),ie+=ge,Oe+=ge,K-=ge;xe[ie++]=1,xe[ie++]=K&255,xe[ie++]=K>>8&255,xe[ie++]=~K&65535&255,xe[ie++]=(~K&65535)>>8&255,xe.set(de.subarray(Oe),ie),ie+=de.length-Oe;const Ue=E(de,0,de.length);return xe[ie++]=Ue>>24&255,xe[ie++]=Ue>>16&255,xe[ie++]=Ue>>8&255,xe[ie++]=Ue&255,xe}function ae(de,K,ge,Ce){const xe=de.width,ie=de.height;let Oe,Ue,He;const Ge=de.data;switch(K){case o.ImageKind.GRAYSCALE_1BPP:Ue=0,Oe=1,He=xe+7>>3;break;case o.ImageKind.RGB_24BPP:Ue=2,Oe=8,He=xe*3;break;case o.ImageKind.RGBA_32BPP:Ue=6,Oe=8,He=xe*4;break;default:throw new Error("invalid format")}const q=new Uint8Array((1+He)*ie);let g=0,v=0;for(let re=0;re<ie;++re)q[g++]=0,q.set(Ge.subarray(v,v+He),g),v+=He,g+=He;if(K===o.ImageKind.GRAYSCALE_1BPP&&Ce){g=0;for(let re=0;re<ie;re++){g++;for(let Se=0;Se<He;Se++)q[g++]^=255}}const m=new Uint8Array([xe>>24&255,xe>>16&255,xe>>8&255,xe&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255,Oe,Ue,0,0,0]),T=X(q),F=I.length+S*3+m.length+T.length,j=new Uint8Array(F);let Y=0;return j.set(I,Y),Y+=I.length,N("IHDR",m,j,Y),Y+=S+m.length,N("IDATA",T,j,Y),Y+=S+T.length,N("IEND",new Uint8Array(0),j,Y),d(j,"image/png",ge)}return function(K,ge,Ce){const xe=K.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:K.kind;return ae(K,xe,ge,Ce)}}();class V{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(S,C){this.x=S,this.y=C}}function D(I){let S=[];const C=[];for(const G of I){if(G.fn==="save"){S.push({fnId:92,fn:"group",items:[]}),C.push(S),S=S.at(-1).items;continue}G.fn==="restore"?S=C.pop():S.push(G)}return S}function k(I){if(Number.isInteger(I))return I.toString();const S=I.toFixed(10);let C=S.length-1;if(S[C]!=="0")return S;do C--;while(S[C]==="0");return S.substring(0,S[C]==="."?C:C+1)}function M(I){if(I[4]===0&&I[5]===0){if(I[1]===0&&I[2]===0)return I[0]===1&&I[3]===1?"":`scale(${k(I[0])} ${k(I[3])})`;if(I[0]===I[3]&&I[1]===-I[2]){const S=Math.acos(I[0])*180/Math.PI;return`rotate(${k(S)})`}}else if(I[0]===1&&I[1]===0&&I[2]===0&&I[3]===1)return`translate(${k(I[4])} ${k(I[5])})`;return`matrix(${k(I[0])} ${k(I[1])} ${k(I[2])} ${k(I[3])} ${k(I[4])} ${k(I[5])})`}let w=0,O=0,U=0;class ${constructor(S,C,G=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new V,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=S,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!G,this._operatorIdMapping=[];for(const N in o.OPS)this._operatorIdMapping[o.OPS[N]]=N}getObject(S,C=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):C}save(){this.transformStack.push(this.transformMatrix);const S=this.current;this.extraStack.push(S),this.current=S.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(S){this.save(),this.executeOpTree(S),this.restore()}loadDependencies(S){const C=S.fnArray,G=S.argsArray;for(let N=0,E=C.length;N<E;N++)if(C[N]===o.OPS.dependency)for(const X of G[N]){const H=X.startsWith("g_")?this.commonObjs:this.objs,ae=new Promise(de=>{H.get(X,de)});this.current.dependencies.push(ae)}return Promise.all(this.current.dependencies)}transform(S,C,G,N,E,X){const H=[S,C,G,N,E,X];this.transformMatrix=o.Util.transform(this.transformMatrix,H),this.tgrp=null}getSVG(S,C){this.viewport=C;const G=this._initialize(C);return this.loadDependencies(S).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(S)),G))}convertOpList(S){const C=this._operatorIdMapping,G=S.argsArray,N=S.fnArray,E=[];for(let X=0,H=N.length;X<H;X++){const ae=N[X];E.push({fnId:ae,fn:C[ae],args:G[X]})}return D(E)}executeOpTree(S){for(const C of S){const G=C.fn,N=C.fnId,E=C.args;switch(N|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(E);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(E[0],E[1]);break;case o.OPS.setFont:this.setFont(E);break;case o.OPS.showText:this.showText(E[0]);break;case o.OPS.showSpacedText:this.showText(E[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(E[0],E[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(E[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(E[0]);break;case o.OPS.setHScale:this.setHScale(E[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(E[0],E[1],E[2],E[3],E[4],E[5]);break;case o.OPS.setTextRise:this.setTextRise(E[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(E[0]);break;case o.OPS.setLineWidth:this.setLineWidth(E[0]);break;case o.OPS.setLineJoin:this.setLineJoin(E[0]);break;case o.OPS.setLineCap:this.setLineCap(E[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(E[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(E[0],E[1],E[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(E[0],E[1],E[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(E);break;case o.OPS.setFillColorN:this.setFillColorN(E);break;case o.OPS.shadingFill:this.shadingFill(E[0]);break;case o.OPS.setDash:this.setDash(E[0],E[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(E[0]);break;case o.OPS.setFlatness:this.setFlatness(E[0]);break;case o.OPS.setGState:this.setGState(E[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(E[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(E[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(E[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(E[0],E[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(E[0],E[1],E[2],E[3],E[4],E[5]);break;case o.OPS.constructPath:this.constructPath(E[0],E[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,o.warn)(`Unimplemented operator ${G}`);break}}}setWordSpacing(S){this.current.wordSpacing=S}setCharSpacing(S){this.current.charSpacing=S}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(S,C,G,N,E,X){const H=this.current;H.textMatrix=H.lineMatrix=[S,C,G,N,E,X],H.textMatrixScale=Math.hypot(S,C),H.x=H.lineX=0,H.y=H.lineY=0,H.xcoords=[],H.ycoords=[],H.tspan=this.svgFactory.createElement("svg:tspan"),H.tspan.setAttributeNS(null,"font-family",H.fontFamily),H.tspan.setAttributeNS(null,"font-size",`${k(H.fontSize)}px`),H.tspan.setAttributeNS(null,"y",k(-H.y)),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtElement.append(H.tspan)}beginText(){const S=this.current;S.x=S.lineX=0,S.y=S.lineY=0,S.textMatrix=o.IDENTITY_MATRIX,S.lineMatrix=o.IDENTITY_MATRIX,S.textMatrixScale=1,S.tspan=this.svgFactory.createElement("svg:tspan"),S.txtElement=this.svgFactory.createElement("svg:text"),S.txtgrp=this.svgFactory.createElement("svg:g"),S.xcoords=[],S.ycoords=[]}moveText(S,C){const G=this.current;G.x=G.lineX+=S,G.y=G.lineY+=C,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${k(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",k(-G.y))}showText(S){const C=this.current,G=C.font,N=C.fontSize;if(N===0)return;const E=C.fontSizeScale,X=C.charSpacing,H=C.wordSpacing,ae=C.fontDirection,de=C.textHScale*ae,K=G.vertical,ge=K?1:-1,Ce=G.defaultVMetrics,xe=N*C.fontMatrix[0];let ie=0;for(const He of S){if(He===null){ie+=ae*H;continue}else if(typeof He=="number"){ie+=ge*He*N/1e3;continue}const Ge=(He.isSpace?H:0)+X,q=He.fontChar;let g,v,m=He.width;if(K){let F;const j=He.vmetric||Ce;F=He.vmetric?j[1]:m*.5,F=-F*xe;const Y=j[2]*xe;m=j?-j[0]:m,g=F/E,v=(ie+Y)/E}else g=ie/E,v=0;(He.isInFont||G.missingFile)&&(C.xcoords.push(C.x+g),K&&C.ycoords.push(-C.y+v),C.tspan.textContent+=q);const T=K?m*xe-Ge*ae:m*xe+Ge*ae;ie+=T}C.tspan.setAttributeNS(null,"x",C.xcoords.map(k).join(" ")),K?C.tspan.setAttributeNS(null,"y",C.ycoords.map(k).join(" ")):C.tspan.setAttributeNS(null,"y",k(-C.y)),K?C.y-=ie:C.x+=ie*de,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${k(C.fontSize)}px`),C.fontStyle!==l.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==l.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);const Oe=C.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(Oe===o.TextRenderingMode.FILL||Oe===o.TextRenderingMode.FILL_STROKE?(C.fillColor!==l.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),Oe===o.TextRenderingMode.STROKE||Oe===o.TextRenderingMode.FILL_STROKE){const He=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,He)}let Ue=C.textMatrix;C.textRise!==0&&(Ue=Ue.slice(),Ue[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${M(Ue)} scale(${k(de)}, -1)`),C.txtElement.setAttributeNS(c,"xml:space","preserve"),C.txtElement.append(C.tspan),C.txtgrp.append(C.txtElement),this._ensureTransformGroup().append(C.txtElement)}setLeadingMoveText(S,C){this.setLeading(-C),this.moveText(S,C)}addFontStyle(S){if(!S.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const C=d(S.data,S.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${S.loadedName}"; src: url(${C}); }
`}setFont(S){const C=this.current,G=this.commonObjs.get(S[0]);let N=S[1];C.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),C.fontMatrix=G.fontMatrix||o.FONT_IDENTITY_MATRIX;let E="normal";G.black?E="900":G.bold&&(E="bold");const X=G.italic?"italic":"normal";N<0?(N=-N,C.fontDirection=-1):C.fontDirection=1,C.fontSize=N,C.fontFamily=G.loadedName,C.fontWeight=E,C.fontStyle=X,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",k(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;const S=this.current;S.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=S.txtElement)!=null&&C.hasChildNodes())&&(S.element=S.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(S){S>0&&(this.current.lineWidth=S)}setLineCap(S){this.current.lineCap=b[S]}setLineJoin(S){this.current.lineJoin=A[S]}setMiterLimit(S){this.current.miterLimit=S}setStrokeAlpha(S){this.current.strokeAlpha=S}setStrokeRGBColor(S,C,G){this.current.strokeColor=o.Util.makeHexColor(S,C,G)}setFillAlpha(S){this.current.fillAlpha=S}setFillRGBColor(S,C,G){this.current.fillColor=o.Util.makeHexColor(S,C,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(S){this.current.strokeColor=this._makeColorN_Pattern(S)}setFillColorN(S){this.current.fillColor=this._makeColorN_Pattern(S)}shadingFill(S){const{width:C,height:G}=this.viewport,N=o.Util.inverseTransform(this.transformMatrix),[E,X,H,ae]=o.Util.getAxialAlignedBoundingBox([0,0,C,G],N),de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x",E),de.setAttributeNS(null,"y",X),de.setAttributeNS(null,"width",H-E),de.setAttributeNS(null,"height",ae-X),de.setAttributeNS(null,"fill",this._makeShadingPattern(S)),this.current.fillAlpha<1&&de.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(de)}_makeColorN_Pattern(S){return S[0]==="TilingPattern"?this._makeTilingPattern(S):this._makeShadingPattern(S)}_makeTilingPattern(S){const C=S[1],G=S[2],N=S[3]||o.IDENTITY_MATRIX,[E,X,H,ae]=S[4],de=S[5],K=S[6],ge=S[7],Ce=`shading${U++}`,[xe,ie,Oe,Ue]=o.Util.normalizeRect([...o.Util.applyTransform([E,X],N),...o.Util.applyTransform([H,ae],N)]),[He,Ge]=o.Util.singularValueDecompose2dScale(N),q=de*He,g=K*Ge,v=this.svgFactory.createElement("svg:pattern");v.setAttributeNS(null,"id",Ce),v.setAttributeNS(null,"patternUnits","userSpaceOnUse"),v.setAttributeNS(null,"width",q),v.setAttributeNS(null,"height",g),v.setAttributeNS(null,"x",`${xe}`),v.setAttributeNS(null,"y",`${ie}`);const m=this.svg,T=this.transformMatrix,F=this.current.fillColor,j=this.current.strokeColor,Y=this.svgFactory.create(Oe-xe,Ue-ie);if(this.svg=Y,this.transformMatrix=N,ge===2){const re=o.Util.makeHexColor(...C);this.current.fillColor=re,this.current.strokeColor=re}return this.executeOpTree(this.convertOpList(G)),this.svg=m,this.transformMatrix=T,this.current.fillColor=F,this.current.strokeColor=j,v.append(Y.childNodes[0]),this.defs.append(v),`url(#${Ce})`}_makeShadingPattern(S){switch(typeof S=="string"&&(S=this.objs.get(S)),S[0]){case"RadialAxial":const C=`shading${U++}`,G=S[3];let N;switch(S[1]){case"axial":const E=S[4],X=S[5];N=this.svgFactory.createElement("svg:linearGradient"),N.setAttributeNS(null,"id",C),N.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),N.setAttributeNS(null,"x1",E[0]),N.setAttributeNS(null,"y1",E[1]),N.setAttributeNS(null,"x2",X[0]),N.setAttributeNS(null,"y2",X[1]);break;case"radial":const H=S[4],ae=S[5],de=S[6],K=S[7];N=this.svgFactory.createElement("svg:radialGradient"),N.setAttributeNS(null,"id",C),N.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),N.setAttributeNS(null,"cx",ae[0]),N.setAttributeNS(null,"cy",ae[1]),N.setAttributeNS(null,"r",K),N.setAttributeNS(null,"fx",H[0]),N.setAttributeNS(null,"fy",H[1]),N.setAttributeNS(null,"fr",de);break;default:throw new Error(`Unknown RadialAxial type: ${S[1]}`)}for(const E of G){const X=this.svgFactory.createElement("svg:stop");X.setAttributeNS(null,"offset",E[0]),X.setAttributeNS(null,"stop-color",E[1]),N.append(X)}return this.defs.append(N),`url(#${C})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${S[0]}`)}}setDash(S,C){this.current.dashArray=S,this.current.dashPhase=C}constructPath(S,C){const G=this.current;let N=G.x,E=G.y,X=[],H=0;for(const ae of S)switch(ae|0){case o.OPS.rectangle:N=C[H++],E=C[H++];const de=C[H++],K=C[H++],ge=N+de,Ce=E+K;X.push("M",k(N),k(E),"L",k(ge),k(E),"L",k(ge),k(Ce),"L",k(N),k(Ce),"Z");break;case o.OPS.moveTo:N=C[H++],E=C[H++],X.push("M",k(N),k(E));break;case o.OPS.lineTo:N=C[H++],E=C[H++],X.push("L",k(N),k(E));break;case o.OPS.curveTo:N=C[H+4],E=C[H+5],X.push("C",k(C[H]),k(C[H+1]),k(C[H+2]),k(C[H+3]),k(N),k(E)),H+=6;break;case o.OPS.curveTo2:X.push("C",k(N),k(E),k(C[H]),k(C[H+1]),k(C[H+2]),k(C[H+3])),N=C[H+2],E=C[H+3],H+=4;break;case o.OPS.curveTo3:N=C[H+2],E=C[H+3],X.push("C",k(C[H]),k(C[H+1]),k(N),k(E),k(N),k(E)),H+=4;break;case o.OPS.closePath:X.push("Z");break}X=X.join(" "),G.path&&S.length>0&&S[0]!==o.OPS.rectangle&&S[0]!==o.OPS.moveTo?X=G.path.getAttributeNS(null,"d")+X:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(G.path)),G.path.setAttributeNS(null,"d",X),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint(N,E)}endPath(){const S=this.current;if(S.path=null,!this.pendingClip)return;if(!S.element){this.pendingClip=null;return}const C=`clippath${w++}`,G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",C),G.setAttributeNS(null,"transform",M(this.transformMatrix));const N=S.element.cloneNode(!0);if(this.pendingClip==="evenodd"?N.setAttributeNS(null,"clip-rule","evenodd"):N.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,G.append(N),this.defs.append(G),S.activeClipUrl){S.clipGroup=null;for(const E of this.extraStack)E.clipGroup=null;G.setAttributeNS(null,"clip-path",S.activeClipUrl)}S.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(S){this.pendingClip=S}closePath(){const S=this.current;if(S.path){const C=`${S.path.getAttributeNS(null,"d")}Z`;S.path.setAttributeNS(null,"d",C)}}setLeading(S){this.current.leading=-S}setTextRise(S){this.current.textRise=S}setTextRenderingMode(S){this.current.textRenderingMode=S}setHScale(S){this.current.textHScale=S/100}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[C,G]of S)switch(C){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G);break;case"CA":this.setStrokeAlpha(G);break;case"ca":this.setFillAlpha(G);break;default:(0,o.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){const S=this.current;S.element&&(S.element.setAttributeNS(null,"fill",S.fillColor),S.element.setAttributeNS(null,"fill-opacity",S.fillAlpha),this.endPath())}stroke(){const S=this.current;S.element&&(this._setStrokeAttributes(S.element),S.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(S,C=1){const G=this.current;let N=G.dashArray;C!==1&&N.length>0&&(N=N.map(function(E){return C*E})),S.setAttributeNS(null,"stroke",G.strokeColor),S.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),S.setAttributeNS(null,"stroke-miterlimit",k(G.miterLimit)),S.setAttributeNS(null,"stroke-linecap",G.lineCap),S.setAttributeNS(null,"stroke-linejoin",G.lineJoin),S.setAttributeNS(null,"stroke-width",k(C*G.lineWidth)+"px"),S.setAttributeNS(null,"stroke-dasharray",N.map(k).join(" ")),S.setAttributeNS(null,"stroke-dashoffset",k(C*G.dashPhase)+"px")}eoFill(){var S;(S=this.current.element)==null||S.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var S;(S=this.current.element)==null||S.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width","1px"),S.setAttributeNS(null,"height","1px"),S.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(S)}paintImageXObject(S){const C=this.getObject(S);if(!C){(0,o.warn)(`Dependent image with object ID ${S} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(S,C){const G=S.width,N=S.height,E=x(S,this.forceDataSchema,!!C),X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y","0"),X.setAttributeNS(null,"width",k(G)),X.setAttributeNS(null,"height",k(N)),this.current.element=X,this.clip("nonzero");const H=this.svgFactory.createElement("svg:image");H.setAttributeNS(y,"xlink:href",E),H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y",k(-N)),H.setAttributeNS(null,"width",k(G)+"px"),H.setAttributeNS(null,"height",k(N)+"px"),H.setAttributeNS(null,"transform",`scale(${k(1/G)} ${k(-1/N)})`),C?C.append(H):this._ensureTransformGroup().append(H)}paintImageMaskXObject(S){const C=this.getObject(S.data,S);if(C.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const G=this.current,N=C.width,E=C.height,X=G.fillColor;G.maskId=`mask${O++}`;const H=this.svgFactory.createElement("svg:mask");H.setAttributeNS(null,"id",G.maskId);const ae=this.svgFactory.createElement("svg:rect");ae.setAttributeNS(null,"x","0"),ae.setAttributeNS(null,"y","0"),ae.setAttributeNS(null,"width",k(N)),ae.setAttributeNS(null,"height",k(E)),ae.setAttributeNS(null,"fill",X),ae.setAttributeNS(null,"mask",`url(#${G.maskId})`),this.defs.append(H),this._ensureTransformGroup().append(ae),this.paintInlineImageXObject(C,H)}paintFormXObjectBegin(S,C){if(Array.isArray(S)&&S.length===6&&this.transform(S[0],S[1],S[2],S[3],S[4],S[5]),C){const G=C[2]-C[0],N=C[3]-C[1],E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",C[0]),E.setAttributeNS(null,"y",C[1]),E.setAttributeNS(null,"width",k(G)),E.setAttributeNS(null,"height",k(N)),this.current.element=E,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(S){const C=this.svgFactory.create(S.width,S.height),G=this.svgFactory.createElement("svg:defs");C.append(G),this.defs=G;const N=this.svgFactory.createElement("svg:g");return N.setAttributeNS(null,"transform",M(S.transform)),C.append(N),this.svg=N,C}_ensureClipGroup(){if(!this.current.clipGroup){const S=this.svgFactory.createElement("svg:g");S.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(S),this.current.clipGroup=S}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}n.SVGGraphics=$},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class s{static textContent(o){const l=[],c={items:l,styles:Object.create(null)};function y(b){var x;if(!b)return;let A=null;const d=b.name;if(d==="#text")A=b.value;else if(s.shouldBuildText(d))(x=b==null?void 0:b.attributes)!=null&&x.textContent?A=b.attributes.textContent:b.value&&(A=b.value);else return;if(A!==null&&l.push({str:A}),!!b.children)for(const V of b.children)y(V)}return y(o),c}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}n.XfaText=s},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=M,n.updateTextLayer=w;var r=s(1),o=s(6);const l=1e5,c=30,y=.8,b=new Map;function A(O,U){let $;if(U&&r.FeatureTest.isOffscreenCanvasSupported)$=new OffscreenCanvas(O,O).getContext("2d",{alpha:!1});else{const I=document.createElement("canvas");I.width=I.height=O,$=I.getContext("2d",{alpha:!1})}return $}function d(O,U){const $=b.get(O);if($)return $;const I=A(c,U);I.font=`${c}px ${O}`;const S=I.measureText("");let C=S.fontBoundingBoxAscent,G=Math.abs(S.fontBoundingBoxDescent);if(C){const E=C/(C+G);return b.set(O,E),I.canvas.width=I.canvas.height=0,E}I.strokeStyle="red",I.clearRect(0,0,c,c),I.strokeText("g",0,0);let N=I.getImageData(0,0,c,c).data;G=0;for(let E=N.length-1-3;E>=0;E-=4)if(N[E]>0){G=Math.ceil(E/4/c);break}I.clearRect(0,0,c,c),I.strokeText("A",0,c),N=I.getImageData(0,0,c,c).data,C=0;for(let E=0,X=N.length;E<X;E+=4)if(N[E]>0){C=c-Math.floor(E/4/c);break}if(I.canvas.width=I.canvas.height=0,C){const E=C/(C+G);return b.set(O,E),E}return b.set(O,y),y}function x(O,U,$){const I=document.createElement("span"),S={angle:0,canvasWidth:0,hasText:U.str!=="",hasEOL:U.hasEOL,fontSize:0};O._textDivs.push(I);const C=r.Util.transform(O._transform,U.transform);let G=Math.atan2(C[1],C[0]);const N=$[U.fontName];N.vertical&&(G+=Math.PI/2);const E=Math.hypot(C[2],C[3]),X=E*d(N.fontFamily,O._isOffscreenCanvasSupported);let H,ae;G===0?(H=C[4],ae=C[5]-X):(H=C[4]+X*Math.sin(G),ae=C[5]-X*Math.cos(G));const de="calc(var(--scale-factor)*",K=I.style;O._container===O._rootContainer?(K.left=`${(100*H/O._pageWidth).toFixed(2)}%`,K.top=`${(100*ae/O._pageHeight).toFixed(2)}%`):(K.left=`${de}${H.toFixed(2)}px)`,K.top=`${de}${ae.toFixed(2)}px)`),K.fontSize=`${de}${E.toFixed(2)}px)`,K.fontFamily=N.fontFamily,S.fontSize=E,I.setAttribute("role","presentation"),I.textContent=U.str,I.dir=U.dir,O._fontInspectorEnabled&&(I.dataset.fontName=U.fontName),G!==0&&(S.angle=G*(180/Math.PI));let ge=!1;if(U.str.length>1)ge=!0;else if(U.str!==" "&&U.transform[0]!==U.transform[3]){const Ce=Math.abs(U.transform[0]),xe=Math.abs(U.transform[3]);Ce!==xe&&Math.max(Ce,xe)/Math.min(Ce,xe)>1.5&&(ge=!0)}ge&&(S.canvasWidth=N.vertical?U.height:U.width),O._textDivProperties.set(I,S),O._isReadableStream&&O._layoutText(I)}function V(O){const{div:U,scale:$,properties:I,ctx:S,prevFontSize:C,prevFontFamily:G}=O,{style:N}=U;let E="";if(I.canvasWidth!==0&&I.hasText){const{fontFamily:X}=N,{canvasWidth:H,fontSize:ae}=I;(C!==ae||G!==X)&&(S.font=`${ae*$}px ${X}`,O.prevFontSize=ae,O.prevFontFamily=X);const{width:de}=S.measureText(U.textContent);de>0&&(E=`scaleX(${H*$/de})`)}I.angle!==0&&(E=`rotate(${I.angle}deg) ${E}`),E.length>0&&(N.transform=E)}function D(O){if(O._canceled)return;const U=O._textDivs,$=O._capability;if(U.length>l){$.resolve();return}if(!O._isReadableStream)for(const S of U)O._layoutText(S);$.resolve()}class k{constructor({textContentSource:U,container:$,viewport:I,textDivs:S,textDivProperties:C,textContentItemsStr:G,isOffscreenCanvasSupported:N}){var de;this._textContentSource=U,this._isReadableStream=U instanceof ReadableStream,this._container=this._rootContainer=$,this._textDivs=S||[],this._textContentItemsStr=G||[],this._isOffscreenCanvasSupported=N,this._fontInspectorEnabled=!!((de=globalThis.FontInspector)!=null&&de.enabled),this._reader=null,this._textDivProperties=C||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:A(0,N)};const{pageWidth:E,pageHeight:X,pageX:H,pageY:ae}=I.rawDims;this._transform=[1,0,0,-1,-H,ae+X],this._pageWidth=E,this._pageHeight=X,(0,o.setLayerDimensions)($,I),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(U,$){for(const I of U){if(I.str===void 0){if(I.type==="beginMarkedContentProps"||I.type==="beginMarkedContent"){const S=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),I.id!==null&&this._container.setAttribute("id",`${I.id}`),S.append(this._container)}else I.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(I.str),x(this,I,$)}}_layoutText(U){const $=this._layoutTextParams.properties=this._textDivProperties.get(U);if(this._layoutTextParams.div=U,V(this._layoutTextParams),$.hasText&&this._container.append(U),$.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(){const U=new r.PromiseCapability;let $=Object.create(null);if(this._isReadableStream){const I=()=>{this._reader.read().then(({value:S,done:C})=>{if(C){U.resolve();return}Object.assign($,S.styles),this._processItems(S.items,$),I()},U.reject)};this._reader=this._textContentSource.getReader(),I()}else if(this._textContentSource){const{items:I,styles:S}=this._textContentSource;this._processItems(I,S),U.resolve()}else throw new Error('No "textContentSource" parameter specified.');U.promise.then(()=>{$=null,D(this)},this._capability.reject)}}n.TextLayerRenderTask=k;function M(O){!O.textContentSource&&(O.textContent||O.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),O.textContentSource=O.textContent||O.textContentStream);const{container:U,viewport:$}=O,I=getComputedStyle(U),S=I.getPropertyValue("visibility"),C=parseFloat(I.getPropertyValue("--scale-factor"));S==="visible"&&(!C||Math.abs(C-$.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const G=new k(O);return G._render(),G}function w({container:O,viewport:U,textDivs:$,textDivProperties:I,isOffscreenCanvasSupported:S,mustRotate:C=!0,mustRescale:G=!0}){if(C&&(0,o.setLayerDimensions)(O,{rotation:U.rotation}),G){const N=A(0,S),X={prevFontSize:null,prevFontFamily:null,div:null,scale:U.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:N};for(const H of $)X.properties=I.get(H),X.div=H,V(X)}}},(e,n,s)=>{var d,x,V,D,k,M,w,O,U,$,I,To,C,js,N,Ro,X,Po;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var r=s(1),o=s(4),l=s(28),c=s(33),y=s(6),b=s(34);const ae=class ae{constructor({uiManager:K,pageIndex:ge,div:Ce,accessibilityManager:xe,annotationLayer:ie,viewport:Oe,l10n:Ue}){ne(this,I);ne(this,C);ne(this,N);ne(this,X);ne(this,d,void 0);ne(this,x,!1);ne(this,V,null);ne(this,D,this.pointerup.bind(this));ne(this,k,this.pointerdown.bind(this));ne(this,M,new Map);ne(this,w,!1);ne(this,O,!1);ne(this,U,!1);ne(this,$,void 0);const He=[l.FreeTextEditor,c.InkEditor,b.StampEditor];if(!ae._initialized){ae._initialized=!0;for(const Ge of He)Ge.initialize(Ue)}K.registerEditorTypes(He),Re(this,$,K),this.pageIndex=ge,this.div=Ce,Re(this,d,xe),Re(this,V,ie),this.viewport=Oe,u(this,$).addLayer(this)}get isEmpty(){return u(this,M).size===0}updateToolbar(K){u(this,$).updateToolbar(K)}updateMode(K=u(this,$).getMode()){me(this,X,Po).call(this),K===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),K!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",K===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",K===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",K===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(K){if(!K&&u(this,$).getMode()!==r.AnnotationEditorType.INK)return;if(!K){for(const Ce of u(this,M).values())if(Ce.isEmpty()){Ce.setInBackground();return}}me(this,C,js).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(K){u(this,$).setEditingState(K)}addCommands(K){u(this,$).addCommands(K)}enable(){this.div.style.pointerEvents="auto";const K=new Set;for(const Ce of u(this,M).values())Ce.enableEditing(),Ce.annotationElementId&&K.add(Ce.annotationElementId);if(!u(this,V))return;const ge=u(this,V).getEditableAnnotations();for(const Ce of ge){if(Ce.hide(),u(this,$).isDeletedAnnotationElement(Ce.data.id)||K.has(Ce.data.id))continue;const xe=this.deserialize(Ce);xe&&(this.addOrRebuild(xe),xe.enableEditing())}}disable(){var ge;Re(this,U,!0),this.div.style.pointerEvents="none";const K=new Set;for(const Ce of u(this,M).values()){if(Ce.disableEditing(),!Ce.annotationElementId||Ce.serialize()!==null){K.add(Ce.annotationElementId);continue}(ge=this.getEditableAnnotation(Ce.annotationElementId))==null||ge.show(),Ce.remove()}if(u(this,V)){const Ce=u(this,V).getEditableAnnotations();for(const xe of Ce){const{id:ie}=xe.data;K.has(ie)||u(this,$).isDeletedAnnotationElement(ie)||xe.show()}}me(this,X,Po).call(this),this.isEmpty&&(this.div.hidden=!0),Re(this,U,!1)}getEditableAnnotation(K){var ge;return((ge=u(this,V))==null?void 0:ge.getEditableAnnotation(K))||null}setActiveEditor(K){u(this,$).getActive()!==K&&u(this,$).setActiveEditor(K)}enableClick(){this.div.addEventListener("pointerdown",u(this,k)),this.div.addEventListener("pointerup",u(this,D))}disableClick(){this.div.removeEventListener("pointerdown",u(this,k)),this.div.removeEventListener("pointerup",u(this,D))}attach(K){u(this,M).set(K.id,K);const{annotationElementId:ge}=K;ge&&u(this,$).isDeletedAnnotationElement(ge)&&u(this,$).removeDeletedAnnotationElement(K)}detach(K){var ge;u(this,M).delete(K.id),(ge=u(this,d))==null||ge.removePointerInTextLayer(K.contentDiv),!u(this,U)&&K.annotationElementId&&u(this,$).addDeletedAnnotationElement(K)}remove(K){this.detach(K),u(this,$).removeEditor(K),K.div.contains(document.activeElement)&&setTimeout(()=>{u(this,$).focusMainContainer()},0),K.div.remove(),K.isAttachedToDOM=!1,u(this,O)||this.addInkEditorIfNeeded(!1)}changeParent(K){var ge;K.parent!==this&&(K.annotationElementId&&(u(this,$).addDeletedAnnotationElement(K.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(K),K.annotationElementId=null),this.attach(K),(ge=K.parent)==null||ge.detach(K),K.setParent(this),K.div&&K.isAttachedToDOM&&(K.div.remove(),this.div.append(K.div)))}add(K){if(this.changeParent(K),u(this,$).addEditor(K),this.attach(K),!K.isAttachedToDOM){const ge=K.render();this.div.append(ge),K.isAttachedToDOM=!0}K.fixAndSetPosition(),K.onceAdded(),u(this,$).addToAnnotationStorage(K)}moveEditorInDOM(K){var Ce;if(!K.isAttachedToDOM)return;const{activeElement:ge}=document;K.div.contains(ge)&&(K._focusEventsAllowed=!1,setTimeout(()=>{K.div.contains(document.activeElement)?K._focusEventsAllowed=!0:(K.div.addEventListener("focusin",()=>{K._focusEventsAllowed=!0},{once:!0}),ge.focus())},0)),K._structTreeParentId=(Ce=u(this,d))==null?void 0:Ce.moveElementInDOM(this.div,K.div,K.contentDiv,!0)}addOrRebuild(K){K.needsToBeRebuilt()?K.rebuild():this.add(K)}addUndoableEditor(K){const ge=()=>K._uiManager.rebuild(K),Ce=()=>{K.remove()};this.addCommands({cmd:ge,undo:Ce,mustExec:!1})}getNextId(){return u(this,$).getId()}pasteEditor(K,ge){u(this,$).updateToolbar(K),u(this,$).updateMode(K);const{offsetX:Ce,offsetY:xe}=me(this,N,Ro).call(this),ie=this.getNextId(),Oe=me(this,I,To).call(this,{parent:this,id:ie,x:Ce,y:xe,uiManager:u(this,$),isCentered:!0,...ge});Oe&&this.add(Oe)}deserialize(K){switch(K.annotationType??K.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(K,this,u(this,$));case r.AnnotationEditorType.INK:return c.InkEditor.deserialize(K,this,u(this,$));case r.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(K,this,u(this,$))}return null}addNewEditor(){me(this,C,js).call(this,me(this,N,Ro).call(this),!0)}setSelected(K){u(this,$).setSelected(K)}toggleSelected(K){u(this,$).toggleSelected(K)}isSelected(K){return u(this,$).isSelected(K)}unselect(K){u(this,$).unselect(K)}pointerup(K){const{isMac:ge}=r.FeatureTest.platform;if(!(K.button!==0||K.ctrlKey&&ge)&&K.target===this.div&&u(this,w)){if(Re(this,w,!1),!u(this,x)){Re(this,x,!0);return}if(u(this,$).getMode()===r.AnnotationEditorType.STAMP){u(this,$).unselectAll();return}me(this,C,js).call(this,K,!1)}}pointerdown(K){if(u(this,w)){Re(this,w,!1);return}const{isMac:ge}=r.FeatureTest.platform;if(K.button!==0||K.ctrlKey&&ge||K.target!==this.div)return;Re(this,w,!0);const Ce=u(this,$).getActive();Re(this,x,!Ce||Ce.isEmpty())}findNewParent(K,ge,Ce){const xe=u(this,$).findParent(ge,Ce);return xe===null||xe===this?!1:(xe.changeParent(K),!0)}destroy(){var K,ge;((K=u(this,$).getActive())==null?void 0:K.parent)===this&&(u(this,$).commitOrRemove(),u(this,$).setActiveEditor(null));for(const Ce of u(this,M).values())(ge=u(this,d))==null||ge.removePointerInTextLayer(Ce.contentDiv),Ce.setParent(null),Ce.isAttachedToDOM=!1,Ce.div.remove();this.div=null,u(this,M).clear(),u(this,$).removeLayer(this)}render({viewport:K}){this.viewport=K,(0,y.setLayerDimensions)(this.div,K);for(const ge of u(this,$).getEditors(this.pageIndex))this.add(ge);this.updateMode()}update({viewport:K}){u(this,$).commitOrRemove(),this.viewport=K,(0,y.setLayerDimensions)(this.div,{rotation:K.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:K,pageHeight:ge}=this.viewport.rawDims;return[K,ge]}};d=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,U=new WeakMap,$=new WeakMap,I=new WeakSet,To=function(K){switch(u(this,$).getMode()){case r.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(K);case r.AnnotationEditorType.INK:return new c.InkEditor(K);case r.AnnotationEditorType.STAMP:return new b.StampEditor(K)}return null},C=new WeakSet,js=function(K,ge){const Ce=this.getNextId(),xe=me(this,I,To).call(this,{parent:this,id:Ce,x:K.offsetX,y:K.offsetY,uiManager:u(this,$),isCentered:ge});return xe&&this.add(xe),xe},N=new WeakSet,Ro=function(){const{x:K,y:ge,width:Ce,height:xe}=this.div.getBoundingClientRect(),ie=Math.max(0,K),Oe=Math.max(0,ge),Ue=Math.min(window.innerWidth,K+Ce),He=Math.min(window.innerHeight,ge+xe),Ge=(ie+Ue)/2-K,q=(Oe+He)/2-ge,[g,v]=this.viewport.rotation%180===0?[Ge,q]:[q,Ge];return{offsetX:g,offsetY:v}},X=new WeakSet,Po=function(){Re(this,O,!0);for(const K of u(this,M).values())K.isEmpty()&&K.remove();Re(this,O,!1)},Nt(ae,"_initialized",!1);let A=ae;n.AnnotationEditorLayer=A},(e,n,s)=>{var b,A,d,x,V,D,k,M,w,O,Cc,$,Tc,S,Rc,G,Ki,E,ko,H,Pc,de,Fo;Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var r=s(1),o=s(5),l=s(4),c=s(29);const ge=class ge extends l.AnnotationEditor{constructor(ie){super({...ie,name:"freeTextEditor"});ne(this,O);ne(this,$);ne(this,S);ne(this,G);ne(this,E);ne(this,H);ne(this,de);ne(this,b,this.editorDivBlur.bind(this));ne(this,A,this.editorDivFocus.bind(this));ne(this,d,this.editorDivInput.bind(this));ne(this,x,this.editorDivKeydown.bind(this));ne(this,V,void 0);ne(this,D,"");ne(this,k,`${this.id}-editor`);ne(this,M,void 0);ne(this,w,null);Re(this,V,ie.color||ge._defaultColor||l.AnnotationEditor._defaultLineColor),Re(this,M,ie.fontSize||ge._defaultFontSize)}static get _keyboardManager(){const ie=ge.prototype,Oe=Ge=>Ge.isEmpty(),Ue=o.AnnotationEditorUIManager.TRANSLATE_SMALL,He=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ie.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ie.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ie._translateEmpty,{args:[-Ue,0],checker:Oe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ie._translateEmpty,{args:[-He,0],checker:Oe}],[["ArrowRight","mac+ArrowRight"],ie._translateEmpty,{args:[Ue,0],checker:Oe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ie._translateEmpty,{args:[He,0],checker:Oe}],[["ArrowUp","mac+ArrowUp"],ie._translateEmpty,{args:[0,-Ue],checker:Oe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ie._translateEmpty,{args:[0,-He],checker:Oe}],[["ArrowDown","mac+ArrowDown"],ie._translateEmpty,{args:[0,Ue],checker:Oe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ie._translateEmpty,{args:[0,He],checker:Oe}]]))}static initialize(ie){l.AnnotationEditor.initialize(ie,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Oe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Oe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ie,Oe){switch(ie){case r.AnnotationEditorParamsType.FREETEXT_SIZE:ge._defaultFontSize=Oe;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:ge._defaultColor=Oe;break}}updateParams(ie,Oe){switch(ie){case r.AnnotationEditorParamsType.FREETEXT_SIZE:me(this,O,Cc).call(this,Oe);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:me(this,$,Tc).call(this,Oe);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,ge._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,ge._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,u(this,M)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,u(this,V)]]}_translateEmpty(ie,Oe){this._uiManager.translateSelectedEditors(ie,Oe,!0)}getInitialTranslation(){const ie=this.parentScale;return[-ge._internalPadding*ie,-(ge._internalPadding+u(this,M))*ie]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",u(this,x)),this.editorDiv.addEventListener("focus",u(this,A)),this.editorDiv.addEventListener("blur",u(this,b)),this.editorDiv.addEventListener("input",u(this,d)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,k)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",u(this,x)),this.editorDiv.removeEventListener("focus",u(this,A)),this.editorDiv.removeEventListener("blur",u(this,b)),this.editorDiv.removeEventListener("input",u(this,d)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ie){this._focusEventsAllowed&&(super.focusin(ie),ie.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ie;if(this.width){me(this,de,Fo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ie=this._initialOptions)!=null&&ie.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ie=u(this,D),Oe=Re(this,D,me(this,S,Rc).call(this).trimEnd());if(ie===Oe)return;const Ue=He=>{if(Re(this,D,He),!He){this.remove();return}me(this,E,ko).call(this),this._uiManager.rebuild(this),me(this,G,Ki).call(this)};this.addCommands({cmd:()=>{Ue(Oe)},undo:()=>{Ue(ie)},mustExec:!1}),me(this,G,Ki).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ie){this.enterInEditMode()}keydown(ie){ie.target===this.div&&ie.key==="Enter"&&(this.enterInEditMode(),ie.preventDefault())}editorDivKeydown(ie){ge._keyboardManager.exec(this,ie)}editorDivFocus(ie){this.isEditing=!0}editorDivBlur(ie){this.isEditing=!1}editorDivInput(ie){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ie,Oe;this.width&&(ie=this.x,Oe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,k)),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(He=>{var Ge;return(Ge=this.editorDiv)==null?void 0:Ge.setAttribute("aria-label",He)}),l.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(He=>{var Ge;return(Ge=this.editorDiv)==null?void 0:Ge.setAttribute("default-content",He)}),this.editorDiv.contentEditable=!0;const{style:Ue}=this.editorDiv;if(Ue.fontSize=`calc(${u(this,M)}px * var(--scale-factor))`,Ue.color=u(this,V),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[He,Ge]=this.parentDimensions;if(this.annotationElementId){const{position:q}=u(this,w);let[g,v]=this.getInitialTranslation();[g,v]=this.pageTranslationToScreen(g,v);const[m,T]=this.pageDimensions,[F,j]=this.pageTranslation;let Y,re;switch(this.rotation){case 0:Y=ie+(q[0]-F)/m,re=Oe+this.height-(q[1]-j)/T;break;case 90:Y=ie+(q[0]-F)/m,re=Oe-(q[1]-j)/T,[g,v]=[v,-g];break;case 180:Y=ie-this.width+(q[0]-F)/m,re=Oe-(q[1]-j)/T,[g,v]=[-g,-v];break;case 270:Y=ie+(q[0]-F-this.height*T)/m,re=Oe+(q[1]-j-this.width*m)/T,[g,v]=[-v,g];break}this.setAt(Y*He,re*Ge,g,v)}else this.setAt(ie*He,Oe*Ge,this.width*He,this.height*Ge);me(this,E,ko).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ie,Oe,Ue){let He=null;if(ie instanceof c.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:q,fontColor:g},rect:v,rotation:m,id:T},textContent:F,textPosition:j,parent:{page:{pageNumber:Y}}}=ie;if(!F||F.length===0)return null;He=ie={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(g),fontSize:q,value:F.join(`
`),position:j,pageIndex:Y-1,rect:v,rotation:m,id:T,deleted:!1}}const Ge=super.deserialize(ie,Oe,Ue);return Re(Ge,M,ie.fontSize),Re(Ge,V,r.Util.makeHexColor(...ie.color)),Re(Ge,D,ie.value),Ge.annotationElementId=ie.id||null,Re(Ge,w,He),Ge}serialize(ie=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Oe=ge._internalPadding*this.parentScale,Ue=this.getRect(Oe,Oe),He=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,V)),Ge={annotationType:r.AnnotationEditorType.FREETEXT,color:He,fontSize:u(this,M),value:u(this,D),pageIndex:this.pageIndex,rect:Ue,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ie?Ge:this.annotationElementId&&!me(this,H,Pc).call(this,Ge)?null:(Ge.id=this.annotationElementId,Ge)}};b=new WeakMap,A=new WeakMap,d=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakSet,Cc=function(ie){const Oe=He=>{this.editorDiv.style.fontSize=`calc(${He}px * var(--scale-factor))`,this.translate(0,-(He-u(this,M))*this.parentScale),Re(this,M,He),me(this,G,Ki).call(this)},Ue=u(this,M);this.addCommands({cmd:()=>{Oe(ie)},undo:()=>{Oe(Ue)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},$=new WeakSet,Tc=function(ie){const Oe=u(this,V);this.addCommands({cmd:()=>{Re(this,V,this.editorDiv.style.color=ie)},undo:()=>{Re(this,V,this.editorDiv.style.color=Oe)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},S=new WeakSet,Rc=function(){const ie=this.editorDiv.getElementsByTagName("div");if(ie.length===0)return this.editorDiv.innerText;const Oe=[];for(const Ue of ie)Oe.push(Ue.innerText.replace(/\r\n?|\n/,""));return Oe.join(`
`)},G=new WeakSet,Ki=function(){const[ie,Oe]=this.parentDimensions;let Ue;if(this.isAttachedToDOM)Ue=this.div.getBoundingClientRect();else{const{currentLayer:He,div:Ge}=this,q=Ge.style.display;Ge.style.display="hidden",He.div.append(this.div),Ue=Ge.getBoundingClientRect(),Ge.remove(),Ge.style.display=q}this.rotation%180===this.parentRotation%180?(this.width=Ue.width/ie,this.height=Ue.height/Oe):(this.width=Ue.height/ie,this.height=Ue.width/Oe),this.fixAndSetPosition()},E=new WeakSet,ko=function(){if(this.editorDiv.replaceChildren(),!!u(this,D))for(const ie of u(this,D).split(`
`)){const Oe=document.createElement("div");Oe.append(ie?document.createTextNode(ie):document.createElement("br")),this.editorDiv.append(Oe)}},H=new WeakSet,Pc=function(ie){const{value:Oe,fontSize:Ue,color:He,rect:Ge,pageIndex:q}=u(this,w);return ie.value!==Oe||ie.fontSize!==Ue||ie.rect.some((g,v)=>Math.abs(g-Ge[v])>=1)||ie.color.some((g,v)=>g!==He[v])||ie.pageIndex!==q},de=new WeakSet,Fo=function(ie=!1){if(!this.annotationElementId)return;if(me(this,G,Ki).call(this),!ie&&(this.width===0||this.height===0)){setTimeout(()=>me(this,de,Fo).call(this,!0),0);return}const Oe=ge._internalPadding*this.parentScale;u(this,w).rect=this.getRect(Oe,Oe)},Nt(ge,"_freeTextDefaultContent",""),Nt(ge,"_internalPadding",0),Nt(ge,"_defaultColor",null),Nt(ge,"_defaultFontSize",10),Nt(ge,"_type","freetext");let y=ge;n.FreeTextEditor=y},(e,n,s)=>{var v,T,li,j,kc,re,Se,R,B,Z,_e,se,Ee,Ne,Ae,ke,ce,oe,te,fe,Le,Be,Qe,Fc,rt,zs,dt,Mo,gt,Oo,pe,he,We,ze,Ot,St,ye,Io,at,Ye,ct,ut,Mc,ee,Do;Object.defineProperty(n,"__esModule",{value:!0}),n.StampAnnotationElement=n.InkAnnotationElement=n.FreeTextAnnotationElement=n.AnnotationLayer=void 0;var r=s(1),o=s(6),l=s(3),c=s(30),y=s(31),b=s(32);const A=1e3,d=9,x=new WeakSet;function V(De){return{width:De[2]-De[0],height:De[3]-De[1]}}class D{static create(J){switch(J.data.annotationType){case r.AnnotationType.LINK:return new M(J);case r.AnnotationType.TEXT:return new w(J);case r.AnnotationType.WIDGET:switch(J.data.fieldType){case"Tx":return new U(J);case"Btn":return J.data.radioButton?new S(J):J.data.checkBox?new I(J):new C(J);case"Ch":return new G(J);case"Sig":return new $(J)}return new O(J);case r.AnnotationType.POPUP:return new N(J);case r.AnnotationType.FREETEXT:return new X(J);case r.AnnotationType.LINE:return new H(J);case r.AnnotationType.SQUARE:return new ae(J);case r.AnnotationType.CIRCLE:return new de(J);case r.AnnotationType.POLYLINE:return new K(J);case r.AnnotationType.CARET:return new Ce(J);case r.AnnotationType.INK:return new xe(J);case r.AnnotationType.POLYGON:return new ge(J);case r.AnnotationType.HIGHLIGHT:return new ie(J);case r.AnnotationType.UNDERLINE:return new Oe(J);case r.AnnotationType.SQUIGGLY:return new Ue(J);case r.AnnotationType.STRIKEOUT:return new He(J);case r.AnnotationType.STAMP:return new Ge(J);case r.AnnotationType.FILEATTACHMENT:return new q(J);default:return new k(J)}}}const m=class m{constructor(J,{isRenderable:f=!1,ignoreBorder:L=!1,createQuadrilaterals:Q=!1}={}){ne(this,v,!1);this.isRenderable=f,this.data=J.data,this.layer=J.layer,this.linkService=J.linkService,this.downloadManager=J.downloadManager,this.imageResourcesPath=J.imageResourcesPath,this.renderForms=J.renderForms,this.svgFactory=J.svgFactory,this.annotationStorage=J.annotationStorage,this.enableScripting=J.enableScripting,this.hasJSActions=J.hasJSActions,this._fieldObjects=J.fieldObjects,this.parent=J.parent,f&&(this.container=this._createContainer(L)),Q&&this._createQuadrilaterals()}static _hasPopupData({titleObj:J,contentsObj:f,richText:L}){return!!(J!=null&&J.str||f!=null&&f.str||L!=null&&L.str)}get hasPopupData(){return m._hasPopupData(this.data)}_createContainer(J){const{data:f,parent:{page:L,viewport:Q}}=this,ue=document.createElement("section");ue.setAttribute("data-annotation-id",f.id),this instanceof O||(ue.tabIndex=A),ue.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ue.setAttribute("aria-haspopup","dialog"),f.noRotate&&ue.classList.add("norotate");const{pageWidth:ve,pageHeight:Me,pageX:Ve,pageY:et}=Q.rawDims;if(!f.rect||this instanceof N){const{rotation:pt}=f;return!f.hasOwnCanvas&&pt!==0&&this.setRotation(pt,ue),ue}const{width:Ze,height:mt}=V(f.rect),it=r.Util.normalizeRect([f.rect[0],L.view[3]-f.rect[1]+L.view[1],f.rect[2],L.view[3]-f.rect[3]+L.view[1]]);if(!J&&f.borderStyle.width>0){ue.style.borderWidth=`${f.borderStyle.width}px`;const pt=f.borderStyle.horizontalCornerRadius,bt=f.borderStyle.verticalCornerRadius;if(pt>0||bt>0){const Pt=`calc(${pt}px * var(--scale-factor)) / calc(${bt}px * var(--scale-factor))`;ue.style.borderRadius=Pt}else if(this instanceof S){const Pt=`calc(${Ze}px * var(--scale-factor)) / calc(${mt}px * var(--scale-factor))`;ue.style.borderRadius=Pt}switch(f.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:ue.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:ue.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:ue.style.borderBottomStyle="solid";break}const Et=f.borderColor||null;Et?(Re(this,v,!0),ue.style.borderColor=r.Util.makeHexColor(Et[0]|0,Et[1]|0,Et[2]|0)):ue.style.borderWidth=0}ue.style.left=`${100*(it[0]-Ve)/ve}%`,ue.style.top=`${100*(it[1]-et)/Me}%`;const{rotation:st}=f;return f.hasOwnCanvas||st===0?(ue.style.width=`${100*Ze/ve}%`,ue.style.height=`${100*mt/Me}%`):this.setRotation(st,ue),ue}setRotation(J,f=this.container){if(!this.data.rect)return;const{pageWidth:L,pageHeight:Q}=this.parent.viewport.rawDims,{width:ue,height:ve}=V(this.data.rect);let Me,Ve;J%180===0?(Me=100*ue/L,Ve=100*ve/Q):(Me=100*ve/L,Ve=100*ue/Q),f.style.width=`${Me}%`,f.style.height=`${Ve}%`,f.setAttribute("data-main-rotation",(360-J)%360)}get _commonActions(){const J=(f,L,Q)=>{const ue=Q.detail[f],ve=ue[0],Me=ue.slice(1);Q.target.style[L]=c.ColorConverters[`${ve}_HTML`](Me),this.annotationStorage.setValue(this.data.id,{[L]:c.ColorConverters[`${ve}_rgb`](Me)})};return(0,r.shadow)(this,"_commonActions",{display:f=>{const{display:L}=f.detail,Q=L%2===1;this.container.style.visibility=Q?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Q,noPrint:L===1||L===2})},print:f=>{this.annotationStorage.setValue(this.data.id,{noPrint:!f.detail.print})},hidden:f=>{const{hidden:L}=f.detail;this.container.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:L,noView:L})},focus:f=>{setTimeout(()=>f.target.focus({preventScroll:!1}),0)},userName:f=>{f.target.title=f.detail.userName},readonly:f=>{f.target.disabled=f.detail.readonly},required:f=>{this._setRequired(f.target,f.detail.required)},bgColor:f=>{J("bgColor","backgroundColor",f)},fillColor:f=>{J("fillColor","backgroundColor",f)},fgColor:f=>{J("fgColor","color",f)},textColor:f=>{J("textColor","color",f)},borderColor:f=>{J("borderColor","borderColor",f)},strokeColor:f=>{J("strokeColor","borderColor",f)},rotation:f=>{const L=f.detail.rotation;this.setRotation(L),this.annotationStorage.setValue(this.data.id,{rotation:L})}})}_dispatchEventFromSandbox(J,f){const L=this._commonActions;for(const Q of Object.keys(f.detail)){const ue=J[Q]||L[Q];ue==null||ue(f)}}_setDefaultPropertiesFromJS(J){if(!this.enableScripting)return;const f=this.annotationStorage.getRawValue(this.data.id);if(!f)return;const L=this._commonActions;for(const[Q,ue]of Object.entries(f)){const ve=L[Q];if(ve){const Me={detail:{[Q]:ue},target:J};ve(Me),delete f[Q]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:J}=this.data;if(!J)return;const[f,L,Q,ue]=this.data.rect;if(J.length===1){const[,{x:bt,y:Et},{x:Pt,y:Ht}]=J[0];if(Q===bt&&ue===Et&&f===Pt&&L===Ht)return}const{style:ve}=this.container;let Me;if(u(this,v)){const{borderColor:bt,borderWidth:Et}=ve;ve.borderWidth=0,Me=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${bt}" stroke-width="${Et}">`],this.container.classList.add("hasBorder")}const Ve=Q-f,et=ue-L,{svgFactory:Ze}=this,mt=Ze.createElement("svg");mt.classList.add("quadrilateralsContainer"),mt.setAttribute("width",0),mt.setAttribute("height",0);const it=Ze.createElement("defs");mt.append(it);const st=Ze.createElement("clipPath"),pt=`clippath_${this.data.id}`;st.setAttribute("id",pt),st.setAttribute("clipPathUnits","objectBoundingBox"),it.append(st);for(const[,{x:bt,y:Et},{x:Pt,y:Ht}]of J){const Bt=Ze.createElement("rect"),Jt=(Pt-f)/Ve,Pn=(ue-Et)/et,kn=(bt-Pt)/Ve,Ji=(Et-Ht)/et;Bt.setAttribute("x",Jt),Bt.setAttribute("y",Pn),Bt.setAttribute("width",kn),Bt.setAttribute("height",Ji),st.append(Bt),Me==null||Me.push(`<rect vector-effect="non-scaling-stroke" x="${Jt}" y="${Pn}" width="${kn}" height="${Ji}"/>`)}u(this,v)&&(Me.push("</g></svg>')"),ve.backgroundImage=Me.join("")),this.container.append(mt),this.container.style.clipPath=`url(#${pt})`}_createPopup(){const{container:J,data:f}=this;J.setAttribute("aria-haspopup","dialog");const L=new N({data:{color:f.color,titleObj:f.titleObj,modificationDate:f.modificationDate,contentsObj:f.contentsObj,richText:f.richText,parentRect:f.rect,borderStyle:0,id:`popup_${f.id}`,rotation:f.rotation},parent:this.parent,elements:[this]});this.parent.div.append(L.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(J,f=null){const L=[];if(this._fieldObjects){const Q=this._fieldObjects[J];if(Q)for(const{page:ue,id:ve,exportValues:Me}of Q){if(ue===-1||ve===f)continue;const Ve=typeof Me=="string"?Me:null,et=document.querySelector(`[data-element-id="${ve}"]`);if(et&&!x.has(et)){(0,r.warn)(`_getElementsByName - element not allowed: ${ve}`);continue}L.push({id:ve,exportValue:Ve,domElement:et})}return L}for(const Q of document.getElementsByName(J)){const{exportValue:ue}=Q,ve=Q.getAttribute("data-element-id");ve!==f&&x.has(Q)&&L.push({id:ve,exportValue:ue,domElement:Q})}return L}show(){var J;this.container&&(this.container.hidden=!1),(J=this.popup)==null||J.maybeShow()}hide(){var J;this.container&&(this.container.hidden=!0),(J=this.popup)==null||J.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const J=this.getElementsToTriggerPopup();if(Array.isArray(J))for(const f of J)f.classList.add("highlightArea");else J.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:J,data:{id:f}}=this;this.container.addEventListener("dblclick",()=>{var L;(L=this.linkService.eventBus)==null||L.dispatch("switchannotationeditormode",{source:this,mode:J,editId:f})})}};v=new WeakMap;let k=m;class M extends k{constructor(f,L=null){super(f,{isRenderable:!0,ignoreBorder:!!(L!=null&&L.ignoreBorder),createQuadrilaterals:!0});ne(this,T);ne(this,j);this.isTooltipOnly=f.data.isTooltipOnly}render(){const{data:f,linkService:L}=this,Q=document.createElement("a");Q.setAttribute("data-element-id",f.id);let ue=!1;return f.url?(L.addLinkAttributes(Q,f.url,f.newWindow),ue=!0):f.action?(this._bindNamedAction(Q,f.action),ue=!0):f.attachment?(this._bindAttachment(Q,f.attachment),ue=!0):f.setOCGState?(me(this,j,kc).call(this,Q,f.setOCGState),ue=!0):f.dest?(this._bindLink(Q,f.dest),ue=!0):(f.actions&&(f.actions.Action||f.actions["Mouse Up"]||f.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Q,f),ue=!0),f.resetForm?(this._bindResetFormAction(Q,f.resetForm),ue=!0):this.isTooltipOnly&&!ue&&(this._bindLink(Q,""),ue=!0)),this.container.classList.add("linkAnnotation"),ue&&this.container.append(Q),this.container}_bindLink(f,L){f.href=this.linkService.getDestinationHash(L),f.onclick=()=>(L&&this.linkService.goToDestination(L),!1),(L||L==="")&&me(this,T,li).call(this)}_bindNamedAction(f,L){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>(this.linkService.executeNamedAction(L),!1),me(this,T,li).call(this)}_bindAttachment(f,L){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>{var Q;return(Q=this.downloadManager)==null||Q.openOrDownloadData(this.container,L.content,L.filename),!1},me(this,T,li).call(this)}_bindJSAction(f,L){f.href=this.linkService.getAnchorUrl("");const Q=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ue of Object.keys(L.actions)){const ve=Q.get(ue);ve&&(f[ve]=()=>{var Me;return(Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L.id,name:ue}}),!1})}f.onclick||(f.onclick=()=>!1),me(this,T,li).call(this)}_bindResetFormAction(f,L){const Q=f.onclick;if(Q||(f.href=this.linkService.getAnchorUrl("")),me(this,T,li).call(this),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Q||(f.onclick=()=>!1);return}f.onclick=()=>{var mt;Q==null||Q();const{fields:ue,refs:ve,include:Me}=L,Ve=[];if(ue.length!==0||ve.length!==0){const it=new Set(ve);for(const st of ue){const pt=this._fieldObjects[st]||[];for(const{id:bt}of pt)it.add(bt)}for(const st of Object.values(this._fieldObjects))for(const pt of st)it.has(pt.id)===Me&&Ve.push(pt)}else for(const it of Object.values(this._fieldObjects))Ve.push(...it);const et=this.annotationStorage,Ze=[];for(const it of Ve){const{id:st}=it;switch(Ze.push(st),it.type){case"text":{const bt=it.defaultValue||"";et.setValue(st,{value:bt});break}case"checkbox":case"radiobutton":{const bt=it.defaultValue===it.exportValues;et.setValue(st,{value:bt});break}case"combobox":case"listbox":{const bt=it.defaultValue||"";et.setValue(st,{value:bt});break}default:continue}const pt=document.querySelector(`[data-element-id="${st}"]`);if(pt){if(!x.has(pt)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${st}`);continue}}else continue;pt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((mt=this.linkService.eventBus)==null||mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ze,name:"ResetForm"}})),!1}}}T=new WeakSet,li=function(){this.container.setAttribute("data-internal-link","")},j=new WeakSet,kc=function(f,L){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>(this.linkService.executeSetOCGState(L),!1),me(this,T,li).call(this)};class w extends k{constructor(J){super(J,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const J=document.createElement("img");return J.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",J.alt="[{{type}} Annotation]",J.dataset.l10nId="text_annotation_type",J.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(J),this.container}}class O extends k{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(J){var f;this.data.hasOwnCanvas&&(((f=J.previousSibling)==null?void 0:f.nodeName)==="CANVAS"&&(J.previousSibling.hidden=!0),J.hidden=!1)}_getKeyModifier(J){const{isWin:f,isMac:L}=r.FeatureTest.platform;return f&&J.ctrlKey||L&&J.metaKey}_setEventListener(J,f,L,Q,ue){L.includes("mouse")?J.addEventListener(L,ve=>{var Me;(Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Q,value:ue(ve),shift:ve.shiftKey,modifier:this._getKeyModifier(ve)}})}):J.addEventListener(L,ve=>{var Me;if(L==="blur"){if(!f.focused||!ve.relatedTarget)return;f.focused=!1}else if(L==="focus"){if(f.focused)return;f.focused=!0}ue&&((Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Q,value:ue(ve)}}))})}_setEventListeners(J,f,L,Q){var ue,ve,Me;for(const[Ve,et]of L)(et==="Action"||(ue=this.data.actions)!=null&&ue[et])&&((et==="Focus"||et==="Blur")&&(f||(f={focused:!1})),this._setEventListener(J,f,Ve,et,Q),et==="Focus"&&!((ve=this.data.actions)!=null&&ve.Blur)?this._setEventListener(J,f,"blur","Blur",null):et==="Blur"&&!((Me=this.data.actions)!=null&&Me.Focus)&&this._setEventListener(J,f,"focus","Focus",null))}_setBackgroundColor(J){const f=this.data.backgroundColor||null;J.style.backgroundColor=f===null?"transparent":r.Util.makeHexColor(f[0],f[1],f[2])}_setTextStyle(J){const f=["left","center","right"],{fontColor:L}=this.data.defaultAppearanceData,Q=this.data.defaultAppearanceData.fontSize||d,ue=J.style;let ve;const Me=2,Ve=et=>Math.round(10*et)/10;if(this.data.multiLine){const et=Math.abs(this.data.rect[3]-this.data.rect[1]-Me),Ze=Math.round(et/(r.LINE_FACTOR*Q))||1,mt=et/Ze;ve=Math.min(Q,Ve(mt/r.LINE_FACTOR))}else{const et=Math.abs(this.data.rect[3]-this.data.rect[1]-Me);ve=Math.min(Q,Ve(et/r.LINE_FACTOR))}ue.fontSize=`calc(${ve}px * var(--scale-factor))`,ue.color=r.Util.makeHexColor(L[0],L[1],L[2]),this.data.textAlignment!==null&&(ue.textAlign=f[this.data.textAlignment])}_setRequired(J,f){f?J.setAttribute("required",!0):J.removeAttribute("required"),J.setAttribute("aria-required",f)}}class U extends O{constructor(J){const f=J.renderForms||!J.data.hasAppearance&&!!J.data.fieldValue;super(J,{isRenderable:f})}setPropertyOnSiblings(J,f,L,Q){const ue=this.annotationStorage;for(const ve of this._getElementsByName(J.name,J.id))ve.domElement&&(ve.domElement[f]=L),ue.setValue(ve.id,{[Q]:L})}render(){var Q,ue;const J=this.annotationStorage,f=this.data.id;this.container.classList.add("textWidgetAnnotation");let L=null;if(this.renderForms){const ve=J.getValue(f,{value:this.data.fieldValue});let Me=ve.value||"";const Ve=J.getValue(f,{charLimit:this.data.maxLen}).charLimit;Ve&&Me.length>Ve&&(Me=Me.slice(0,Ve));let et=ve.formattedValue||((Q=this.data.textContent)==null?void 0:Q.join(`
`))||null;et&&this.data.comb&&(et=et.replaceAll(/\s+/g,""));const Ze={userValue:Me,formattedValue:et,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=et??Me,this.data.doNotScroll&&(L.style.overflowY="hidden")):(L=document.createElement("input"),L.type="text",L.setAttribute("value",et??Me),this.data.doNotScroll&&(L.style.overflowX="hidden")),this.data.hasOwnCanvas&&(L.hidden=!0),x.add(L),L.setAttribute("data-element-id",f),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=A,this._setRequired(L,this.data.required),Ve&&(L.maxLength=Ve),L.addEventListener("input",it=>{J.setValue(f,{value:it.target.value}),this.setPropertyOnSiblings(L,"value",it.target.value,"value"),Ze.formattedValue=null}),L.addEventListener("resetform",it=>{const st=this.data.defaultFieldValue??"";L.value=Ze.userValue=st,Ze.formattedValue=null});let mt=it=>{const{formattedValue:st}=Ze;st!=null&&(it.target.value=st),it.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",st=>{if(Ze.focused)return;const{target:pt}=st;Ze.userValue&&(pt.value=Ze.userValue),Ze.lastCommittedValue=pt.value,Ze.commitKey=1,Ze.focused=!0}),L.addEventListener("updatefromsandbox",st=>{this.showElementAndHideCanvas(st.target);const pt={value(bt){Ze.userValue=bt.detail.value??"",J.setValue(f,{value:Ze.userValue.toString()}),bt.target.value=Ze.userValue},formattedValue(bt){const{formattedValue:Et}=bt.detail;Ze.formattedValue=Et,Et!=null&&bt.target!==document.activeElement&&(bt.target.value=Et),J.setValue(f,{formattedValue:Et})},selRange(bt){bt.target.setSelectionRange(...bt.detail.selRange)},charLimit:bt=>{var Bt;const{charLimit:Et}=bt.detail,{target:Pt}=bt;if(Et===0){Pt.removeAttribute("maxLength");return}Pt.setAttribute("maxLength",Et);let Ht=Ze.userValue;!Ht||Ht.length<=Et||(Ht=Ht.slice(0,Et),Pt.value=Ze.userValue=Ht,J.setValue(f,{value:Ht}),(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Ht,willCommit:!0,commitKey:1,selStart:Pt.selectionStart,selEnd:Pt.selectionEnd}}))}};this._dispatchEventFromSandbox(pt,st)}),L.addEventListener("keydown",st=>{var Et;Ze.commitKey=1;let pt=-1;if(st.key==="Escape"?pt=0:st.key==="Enter"&&!this.data.multiLine?pt=2:st.key==="Tab"&&(Ze.commitKey=3),pt===-1)return;const{value:bt}=st.target;Ze.lastCommittedValue!==bt&&(Ze.lastCommittedValue=bt,Ze.userValue=bt,(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:bt,willCommit:!0,commitKey:pt,selStart:st.target.selectionStart,selEnd:st.target.selectionEnd}}))});const it=mt;mt=null,L.addEventListener("blur",st=>{var bt;if(!Ze.focused||!st.relatedTarget)return;Ze.focused=!1;const{value:pt}=st.target;Ze.userValue=pt,Ze.lastCommittedValue!==pt&&((bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:pt,willCommit:!0,commitKey:Ze.commitKey,selStart:st.target.selectionStart,selEnd:st.target.selectionEnd}})),it(st)}),(ue=this.data.actions)!=null&&ue.Keystroke&&L.addEventListener("beforeinput",st=>{var Pn;Ze.lastCommittedValue=null;const{data:pt,target:bt}=st,{value:Et,selectionStart:Pt,selectionEnd:Ht}=bt;let Bt=Pt,Jt=Ht;switch(st.inputType){case"deleteWordBackward":{const kn=Et.substring(0,Pt).match(/\w*[^\w]*$/);kn&&(Bt-=kn[0].length);break}case"deleteWordForward":{const kn=Et.substring(Pt).match(/^[^\w]*\w*/);kn&&(Jt+=kn[0].length);break}case"deleteContentBackward":Pt===Ht&&(Bt-=1);break;case"deleteContentForward":Pt===Ht&&(Jt+=1);break}st.preventDefault(),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Et,change:pt||"",willCommit:!1,selStart:Bt,selEnd:Jt}})}),this._setEventListeners(L,Ze,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],st=>st.target.value)}if(mt&&L.addEventListener("blur",mt),this.data.comb){const st=(this.data.rect[2]-this.data.rect[0])/Ve;L.classList.add("comb"),L.style.letterSpacing=`calc(${st}px * var(--scale-factor) - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class $ extends O{constructor(J){super(J,{isRenderable:!!J.data.hasOwnCanvas})}}class I extends O{constructor(J){super(J,{isRenderable:J.renderForms})}render(){const J=this.annotationStorage,f=this.data,L=f.id;let Q=J.getValue(L,{value:f.exportValue===f.fieldValue}).value;typeof Q=="string"&&(Q=Q!=="Off",J.setValue(L,{value:Q})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ue=document.createElement("input");return x.add(ue),ue.setAttribute("data-element-id",L),ue.disabled=f.readOnly,this._setRequired(ue,this.data.required),ue.type="checkbox",ue.name=f.fieldName,Q&&ue.setAttribute("checked",!0),ue.setAttribute("exportValue",f.exportValue),ue.tabIndex=A,ue.addEventListener("change",ve=>{const{name:Me,checked:Ve}=ve.target;for(const et of this._getElementsByName(Me,L)){const Ze=Ve&&et.exportValue===f.exportValue;et.domElement&&(et.domElement.checked=Ze),J.setValue(et.id,{value:Ze})}J.setValue(L,{value:Ve})}),ue.addEventListener("resetform",ve=>{const Me=f.defaultFieldValue||"Off";ve.target.checked=Me===f.exportValue}),this.enableScripting&&this.hasJSActions&&(ue.addEventListener("updatefromsandbox",ve=>{const Me={value(Ve){Ve.target.checked=Ve.detail.value!=="Off",J.setValue(L,{value:Ve.target.checked})}};this._dispatchEventFromSandbox(Me,ve)}),this._setEventListeners(ue,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ve=>ve.target.checked)),this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}class S extends O{constructor(J){super(J,{isRenderable:J.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const J=this.annotationStorage,f=this.data,L=f.id;let Q=J.getValue(L,{value:f.fieldValue===f.buttonValue}).value;typeof Q=="string"&&(Q=Q!==f.buttonValue,J.setValue(L,{value:Q}));const ue=document.createElement("input");if(x.add(ue),ue.setAttribute("data-element-id",L),ue.disabled=f.readOnly,this._setRequired(ue,this.data.required),ue.type="radio",ue.name=f.fieldName,Q&&ue.setAttribute("checked",!0),ue.tabIndex=A,ue.addEventListener("change",ve=>{const{name:Me,checked:Ve}=ve.target;for(const et of this._getElementsByName(Me,L))J.setValue(et.id,{value:!1});J.setValue(L,{value:Ve})}),ue.addEventListener("resetform",ve=>{const Me=f.defaultFieldValue;ve.target.checked=Me!=null&&Me===f.buttonValue}),this.enableScripting&&this.hasJSActions){const ve=f.buttonValue;ue.addEventListener("updatefromsandbox",Me=>{const Ve={value:et=>{const Ze=ve===et.detail.value;for(const mt of this._getElementsByName(et.target.name)){const it=Ze&&mt.id===L;mt.domElement&&(mt.domElement.checked=it),J.setValue(mt.id,{value:it})}}};this._dispatchEventFromSandbox(Ve,Me)}),this._setEventListeners(ue,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Me=>Me.target.checked)}return this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}class C extends M{constructor(J){super(J,{ignoreBorder:J.data.hasAppearance})}render(){const J=super.render();J.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(J.title=this.data.alternativeText);const f=J.lastChild;return this.enableScripting&&this.hasJSActions&&f&&(this._setDefaultPropertiesFromJS(f),f.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({},L)})),J}}class G extends O{constructor(J){super(J,{isRenderable:J.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const J=this.annotationStorage,f=this.data.id,L=J.getValue(f,{value:this.data.fieldValue}),Q=document.createElement("select");x.add(Q),Q.setAttribute("data-element-id",f),Q.disabled=this.data.readOnly,this._setRequired(Q,this.data.required),Q.name=this.data.fieldName,Q.tabIndex=A;let ue=this.data.combo&&this.data.options.length>0;this.data.combo||(Q.size=this.data.options.length,this.data.multiSelect&&(Q.multiple=!0)),Q.addEventListener("resetform",Ze=>{const mt=this.data.defaultFieldValue;for(const it of Q.options)it.selected=it.value===mt});for(const Ze of this.data.options){const mt=document.createElement("option");mt.textContent=Ze.displayValue,mt.value=Ze.exportValue,L.value.includes(Ze.exportValue)&&(mt.setAttribute("selected",!0),ue=!1),Q.append(mt)}let ve=null;if(ue){const Ze=document.createElement("option");Ze.value=" ",Ze.setAttribute("hidden",!0),Ze.setAttribute("selected",!0),Q.prepend(Ze),ve=()=>{Ze.remove(),Q.removeEventListener("input",ve),ve=null},Q.addEventListener("input",ve)}const Me=Ze=>{const mt=Ze?"value":"textContent",{options:it,multiple:st}=Q;return st?Array.prototype.filter.call(it,pt=>pt.selected).map(pt=>pt[mt]):it.selectedIndex===-1?null:it[it.selectedIndex][mt]};let Ve=Me(!1);const et=Ze=>{const mt=Ze.target.options;return Array.prototype.map.call(mt,it=>({displayValue:it.textContent,exportValue:it.value}))};return this.enableScripting&&this.hasJSActions?(Q.addEventListener("updatefromsandbox",Ze=>{const mt={value(it){ve==null||ve();const st=it.detail.value,pt=new Set(Array.isArray(st)?st:[st]);for(const bt of Q.options)bt.selected=pt.has(bt.value);J.setValue(f,{value:Me(!0)}),Ve=Me(!1)},multipleSelection(it){Q.multiple=!0},remove(it){const st=Q.options,pt=it.detail.remove;st[pt].selected=!1,Q.remove(pt),st.length>0&&Array.prototype.findIndex.call(st,Et=>Et.selected)===-1&&(st[0].selected=!0),J.setValue(f,{value:Me(!0),items:et(it)}),Ve=Me(!1)},clear(it){for(;Q.length!==0;)Q.remove(0);J.setValue(f,{value:null,items:[]}),Ve=Me(!1)},insert(it){const{index:st,displayValue:pt,exportValue:bt}=it.detail.insert,Et=Q.children[st],Pt=document.createElement("option");Pt.textContent=pt,Pt.value=bt,Et?Et.before(Pt):Q.append(Pt),J.setValue(f,{value:Me(!0),items:et(it)}),Ve=Me(!1)},items(it){const{items:st}=it.detail;for(;Q.length!==0;)Q.remove(0);for(const pt of st){const{displayValue:bt,exportValue:Et}=pt,Pt=document.createElement("option");Pt.textContent=bt,Pt.value=Et,Q.append(Pt)}Q.options.length>0&&(Q.options[0].selected=!0),J.setValue(f,{value:Me(!0),items:et(it)}),Ve=Me(!1)},indices(it){const st=new Set(it.detail.indices);for(const pt of it.target.options)pt.selected=st.has(pt.index);J.setValue(f,{value:Me(!0)}),Ve=Me(!1)},editable(it){it.target.disabled=!it.detail.editable}};this._dispatchEventFromSandbox(mt,Ze)}),Q.addEventListener("input",Ze=>{var it;const mt=Me(!0);J.setValue(f,{value:mt}),Ze.preventDefault(),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Ve,changeEx:mt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Q,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ze=>Ze.target.value)):Q.addEventListener("input",function(Ze){J.setValue(f,{value:Me(!0)})}),this.data.combo&&this._setTextStyle(Q),this._setBackgroundColor(Q),this._setDefaultPropertiesFromJS(Q),this.container.append(Q),this.container}}class N extends k{constructor(J){const{data:f,elements:L}=J;super(J,{isRenderable:k._hasPopupData(f)}),this.elements=L}render(){this.container.classList.add("popupAnnotation");const J=new E({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),f=[];for(const L of this.elements)L.popup=J,f.push(L.data.id),L.addHighlightArea();return this.container.setAttribute("aria-controls",f.map(L=>`${r.AnnotationPrefix}${L}`).join(",")),this.container}}class E{constructor({container:J,color:f,elements:L,titleObj:Q,modificationDate:ue,contentsObj:ve,richText:Me,parent:Ve,rect:et,parentRect:Ze,open:mt}){ne(this,Qe);ne(this,rt);ne(this,dt);ne(this,gt);ne(this,re,null);ne(this,Se,me(this,Qe,Fc).bind(this));ne(this,R,me(this,gt,Oo).bind(this));ne(this,B,me(this,dt,Mo).bind(this));ne(this,Z,me(this,rt,zs).bind(this));ne(this,_e,null);ne(this,se,null);ne(this,Ee,null);ne(this,Ne,null);ne(this,Ae,null);ne(this,ke,null);ne(this,ce,!1);ne(this,oe,null);ne(this,te,null);ne(this,fe,null);ne(this,Le,null);ne(this,Be,!1);var st;Re(this,se,J),Re(this,Le,Q),Re(this,Ee,ve),Re(this,fe,Me),Re(this,Ae,Ve),Re(this,_e,f),Re(this,te,et),Re(this,ke,Ze),Re(this,Ne,L);const it=o.PDFDateString.toDateObject(ue);it&&Re(this,re,Ve.l10n.get("annotation_date_string",{date:it.toLocaleDateString(),time:it.toLocaleTimeString()})),this.trigger=L.flatMap(pt=>pt.getElementsToTriggerPopup());for(const pt of this.trigger)pt.addEventListener("click",u(this,Z)),pt.addEventListener("mouseenter",u(this,B)),pt.addEventListener("mouseleave",u(this,R)),pt.classList.add("popupTriggerArea");for(const pt of L)(st=pt.container)==null||st.addEventListener("keydown",u(this,Se));u(this,se).hidden=!0,mt&&me(this,rt,zs).call(this)}render(){if(u(this,oe))return;const{page:{view:J},viewport:{rawDims:{pageWidth:f,pageHeight:L,pageX:Q,pageY:ue}}}=u(this,Ae),ve=Re(this,oe,document.createElement("div"));if(ve.className="popup",u(this,_e)){const Bt=ve.style.outlineColor=r.Util.makeHexColor(...u(this,_e));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ve.style.backgroundColor=`color-mix(in srgb, ${Bt} 30%, white)`:ve.style.backgroundColor=r.Util.makeHexColor(...u(this,_e).map(Pn=>Math.floor(.7*(255-Pn)+Pn)))}const Me=document.createElement("span");Me.className="header";const Ve=document.createElement("h1");if(Me.append(Ve),{dir:Ve.dir,str:Ve.textContent}=u(this,Le),ve.append(Me),u(this,re)){const Bt=document.createElement("span");Bt.classList.add("popupDate"),u(this,re).then(Jt=>{Bt.textContent=Jt}),Me.append(Bt)}const et=u(this,Ee),Ze=u(this,fe);if(Ze!=null&&Ze.str&&(!(et!=null&&et.str)||et.str===Ze.str))b.XfaLayer.render({xfaHtml:Ze.html,intent:"richText",div:ve}),ve.lastChild.classList.add("richText","popupContent");else{const Bt=this._formatContents(et);ve.append(Bt)}let mt=!!u(this,ke),it=mt?u(this,ke):u(this,te);for(const Bt of u(this,Ne))if(!it||r.Util.intersect(Bt.data.rect,it)!==null){it=Bt.data.rect,mt=!0;break}const st=r.Util.normalizeRect([it[0],J[3]-it[1]+J[1],it[2],J[3]-it[3]+J[1]]),pt=5,bt=mt?it[2]-it[0]+pt:0,Et=st[0]+bt,Pt=st[1],{style:Ht}=u(this,se);Ht.left=`${100*(Et-Q)/f}%`,Ht.top=`${100*(Pt-ue)/L}%`,u(this,se).append(ve)}_formatContents({str:J,dir:f}){const L=document.createElement("p");L.classList.add("popupContent"),L.dir=f;const Q=J.split(/(?:\r\n?|\n)/);for(let ue=0,ve=Q.length;ue<ve;++ue){const Me=Q[ue];L.append(document.createTextNode(Me)),ue<ve-1&&L.append(document.createElement("br"))}return L}forceHide(){Re(this,Be,this.isVisible),u(this,Be)&&(u(this,se).hidden=!0)}maybeShow(){u(this,Be)&&(Re(this,Be,!1),u(this,se).hidden=!1)}get isVisible(){return u(this,se).hidden===!1}}re=new WeakMap,Se=new WeakMap,R=new WeakMap,B=new WeakMap,Z=new WeakMap,_e=new WeakMap,se=new WeakMap,Ee=new WeakMap,Ne=new WeakMap,Ae=new WeakMap,ke=new WeakMap,ce=new WeakMap,oe=new WeakMap,te=new WeakMap,fe=new WeakMap,Le=new WeakMap,Be=new WeakMap,Qe=new WeakSet,Fc=function(J){J.altKey||J.shiftKey||J.ctrlKey||J.metaKey||(J.key==="Enter"||J.key==="Escape"&&u(this,ce))&&me(this,rt,zs).call(this)},rt=new WeakSet,zs=function(){Re(this,ce,!u(this,ce)),u(this,ce)?(me(this,dt,Mo).call(this),u(this,se).addEventListener("click",u(this,Z)),u(this,se).addEventListener("keydown",u(this,Se))):(me(this,gt,Oo).call(this),u(this,se).removeEventListener("click",u(this,Z)),u(this,se).removeEventListener("keydown",u(this,Se)))},dt=new WeakSet,Mo=function(){u(this,oe)||this.render(),this.isVisible?u(this,ce)&&u(this,se).classList.add("focused"):(u(this,se).hidden=!1,u(this,se).style.zIndex=parseInt(u(this,se).style.zIndex)+1e3)},gt=new WeakSet,Oo=function(){u(this,se).classList.remove("focused"),!(u(this,ce)||!this.isVisible)&&(u(this,se).hidden=!0,u(this,se).style.zIndex=parseInt(u(this,se).style.zIndex)-1e3)};class X extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0}),this.textContent=J.data.textContent,this.textPosition=J.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const J=document.createElement("div");J.classList.add("annotationTextContent"),J.setAttribute("role","comment");for(const f of this.textContent){const L=document.createElement("span");L.textContent=f,J.append(L)}this.container.append(J)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}n.FreeTextAnnotationElement=X;class H extends k{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});ne(this,pe,null)}render(){this.container.classList.add("lineAnnotation");const f=this.data,{width:L,height:Q}=V(f.rect),ue=this.svgFactory.create(L,Q,!0),ve=Re(this,pe,this.svgFactory.createElement("svg:line"));return ve.setAttribute("x1",f.rect[2]-f.lineCoordinates[0]),ve.setAttribute("y1",f.rect[3]-f.lineCoordinates[1]),ve.setAttribute("x2",f.rect[2]-f.lineCoordinates[2]),ve.setAttribute("y2",f.rect[3]-f.lineCoordinates[3]),ve.setAttribute("stroke-width",f.borderStyle.width||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),ue.append(ve),this.container.append(ue),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,pe)}addHighlightArea(){this.container.classList.add("highlightArea")}}pe=new WeakMap;class ae extends k{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});ne(this,he,null)}render(){this.container.classList.add("squareAnnotation");const f=this.data,{width:L,height:Q}=V(f.rect),ue=this.svgFactory.create(L,Q,!0),ve=f.borderStyle.width,Me=Re(this,he,this.svgFactory.createElement("svg:rect"));return Me.setAttribute("x",ve/2),Me.setAttribute("y",ve/2),Me.setAttribute("width",L-ve),Me.setAttribute("height",Q-ve),Me.setAttribute("stroke-width",ve||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),ue.append(Me),this.container.append(ue),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,he)}addHighlightArea(){this.container.classList.add("highlightArea")}}he=new WeakMap;class de extends k{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});ne(this,We,null)}render(){this.container.classList.add("circleAnnotation");const f=this.data,{width:L,height:Q}=V(f.rect),ue=this.svgFactory.create(L,Q,!0),ve=f.borderStyle.width,Me=Re(this,We,this.svgFactory.createElement("svg:ellipse"));return Me.setAttribute("cx",L/2),Me.setAttribute("cy",Q/2),Me.setAttribute("rx",L/2-ve/2),Me.setAttribute("ry",Q/2-ve/2),Me.setAttribute("stroke-width",ve||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),ue.append(Me),this.container.append(ue),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,We)}addHighlightArea(){this.container.classList.add("highlightArea")}}We=new WeakMap;class K extends k{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});ne(this,ze,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const f=this.data,{width:L,height:Q}=V(f.rect),ue=this.svgFactory.create(L,Q,!0);let ve=[];for(const Ve of f.vertices){const et=Ve.x-f.rect[0],Ze=f.rect[3]-Ve.y;ve.push(et+","+Ze)}ve=ve.join(" ");const Me=Re(this,ze,this.svgFactory.createElement(this.svgElementName));return Me.setAttribute("points",ve),Me.setAttribute("stroke-width",f.borderStyle.width||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),ue.append(Me),this.container.append(ue),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ze)}addHighlightArea(){this.container.classList.add("highlightArea")}}ze=new WeakMap;class ge extends K{constructor(J){super(J),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ce extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class xe extends k{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});ne(this,Ot,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const f=this.data,{width:L,height:Q}=V(f.rect),ue=this.svgFactory.create(L,Q,!0);for(const ve of f.inkLists){let Me=[];for(const et of ve){const Ze=et.x-f.rect[0],mt=f.rect[3]-et.y;Me.push(`${Ze},${mt}`)}Me=Me.join(" ");const Ve=this.svgFactory.createElement(this.svgElementName);u(this,Ot).push(Ve),Ve.setAttribute("points",Me),Ve.setAttribute("stroke-width",f.borderStyle.width||1),Ve.setAttribute("stroke","transparent"),Ve.setAttribute("fill","transparent"),!f.popupRef&&this.hasPopupData&&this._createPopup(),ue.append(Ve)}return this.container.append(ue),this.container}getElementsToTriggerPopup(){return u(this,Ot)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ot=new WeakMap,n.InkAnnotationElement=xe;class ie extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Oe extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ue extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class He extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ge extends k{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}n.StampAnnotationElement=Ge;class q extends k{constructor(f){var ue;super(f,{isRenderable:!0});ne(this,ye);ne(this,St,null);const{filename:L,content:Q}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(L,!0),this.content=Q,(ue=this.linkService.eventBus)==null||ue.dispatch("fileattachmentannotation",{source:this,filename:L,content:Q})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:f,data:L}=this;let Q;L.hasAppearance||L.fillAlpha===0?Q=document.createElement("div"):(Q=document.createElement("img"),Q.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(L.name)?"paperclip":"pushpin"}.svg`,L.fillAlpha&&L.fillAlpha<1&&(Q.style=`filter: opacity(${Math.round(L.fillAlpha*100)}%);`)),Q.addEventListener("dblclick",me(this,ye,Io).bind(this)),Re(this,St,Q);const{isMac:ue}=r.FeatureTest.platform;return f.addEventListener("keydown",ve=>{ve.key==="Enter"&&(ue?ve.metaKey:ve.ctrlKey)&&me(this,ye,Io).call(this)}),!L.popupRef&&this.hasPopupData?this._createPopup():Q.classList.add("popupTriggerArea"),f.append(Q),f}getElementsToTriggerPopup(){return u(this,St)}addHighlightArea(){this.container.classList.add("highlightArea")}}St=new WeakMap,ye=new WeakSet,Io=function(){var f;(f=this.downloadManager)==null||f.openOrDownloadData(this.container,this.content,this.filename)};class g{constructor({div:J,accessibilityManager:f,annotationCanvasMap:L,l10n:Q,page:ue,viewport:ve}){ne(this,ut);ne(this,ee);ne(this,at,null);ne(this,Ye,null);ne(this,ct,new Map);this.div=J,Re(this,at,f),Re(this,Ye,L),this.l10n=Q,this.page=ue,this.viewport=ve,this.zIndex=0,this.l10n||(this.l10n=y.NullL10n)}async render(J){const{annotations:f}=J,L=this.div;(0,o.setLayerDimensions)(L,this.viewport);const Q=new Map,ue={data:null,layer:L,linkService:J.linkService,downloadManager:J.downloadManager,imageResourcesPath:J.imageResourcesPath||"",renderForms:J.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:J.annotationStorage||new l.AnnotationStorage,enableScripting:J.enableScripting===!0,hasJSActions:J.hasJSActions,fieldObjects:J.fieldObjects,parent:this,elements:null};for(const ve of f){if(ve.noHTML)continue;const Me=ve.annotationType===r.AnnotationType.POPUP;if(Me){const Ze=Q.get(ve.id);if(!Ze)continue;ue.elements=Ze}else{const{width:Ze,height:mt}=V(ve.rect);if(Ze<=0||mt<=0)continue}ue.data=ve;const Ve=D.create(ue);if(!Ve.isRenderable)continue;if(!Me&&ve.popupRef){const Ze=Q.get(ve.popupRef);Ze?Ze.push(Ve):Q.set(ve.popupRef,[Ve])}Ve.annotationEditorType>0&&u(this,ct).set(Ve.data.id,Ve);const et=Ve.render();ve.hidden&&(et.style.visibility="hidden"),me(this,ut,Mc).call(this,et,ve.id)}me(this,ee,Do).call(this),await this.l10n.translate(L)}update({viewport:J}){const f=this.div;this.viewport=J,(0,o.setLayerDimensions)(f,{rotation:J.rotation}),me(this,ee,Do).call(this),f.hidden=!1}getEditableAnnotations(){return Array.from(u(this,ct).values())}getEditableAnnotation(J){return u(this,ct).get(J)}}at=new WeakMap,Ye=new WeakMap,ct=new WeakMap,ut=new WeakSet,Mc=function(J,f){var Q;const L=J.firstChild||J;L.id=`${r.AnnotationPrefix}${f}`,this.div.append(J),(Q=u(this,at))==null||Q.moveElementInDOM(this.div,J,L,!1)},ee=new WeakSet,Do=function(){if(!u(this,Ye))return;const J=this.div;for(const[f,L]of u(this,Ye)){const Q=J.querySelector(`[data-annotation-id="${f}"]`);if(!Q)continue;const{firstChild:ue}=Q;ue?ue.nodeName==="CANVAS"?ue.replaceWith(L):ue.before(L):Q.append(L)}u(this,Ye).clear()},n.AnnotationLayer=g},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function s(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function r(l){return Math.max(0,Math.min(255,255*l))}class o{static CMYK_G([c,y,b,A]){return["G",1-Math.min(1,.3*c+.59*b+.11*y+A)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_rgb([c]){return c=r(c),[c,c,c]}static G_HTML([c]){const y=s(c);return`#${y}${y}${y}`}static RGB_G([c,y,b]){return["G",.3*c+.59*y+.11*b]}static RGB_rgb(c){return c.map(r)}static RGB_HTML(c){return`#${c.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([c,y,b,A]){return["RGB",1-Math.min(1,c+A),1-Math.min(1,b+A),1-Math.min(1,y+A)]}static CMYK_rgb([c,y,b,A]){return[r(1-Math.min(1,c+A)),r(1-Math.min(1,b+A)),r(1-Math.min(1,y+A))]}static CMYK_HTML(c){const y=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(y)}static RGB_CMYK([c,y,b]){const A=1-c,d=1-y,x=1-b,V=Math.min(A,d,x);return["CMYK",A,d,x,V]}}n.ColorConverters=o},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.getL10nFallback=r;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function r(c,y){switch(c){case"find_match_count":c=`find_match_count[${y.total===1?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${y.limit===1?"one":"other"}]`;break}return s[c]||""}function o(c,y){return y?c.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,A)=>A in y?y[A]:"{{"+A+"}}"):c}const l={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(c,y=null,b=r(c,y)){return o(b,y)},async translate(c){}};n.NullL10n=l},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var r=s(25);class o{static setupStorage(c,y,b,A,d){const x=A.getValue(y,{value:null});switch(b.name){case"textarea":if(x.value!==null&&(c.textContent=x.value),d==="print")break;c.addEventListener("input",V=>{A.setValue(y,{value:V.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if(x.value===b.attributes.xfaOn?c.setAttribute("checked",!0):x.value===b.attributes.xfaOff&&c.removeAttribute("checked"),d==="print")break;c.addEventListener("change",V=>{A.setValue(y,{value:V.target.checked?V.target.getAttribute("xfaOn"):V.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&c.setAttribute("value",x.value),d==="print")break;c.addEventListener("input",V=>{A.setValue(y,{value:V.target.value})})}break;case"select":if(x.value!==null){c.setAttribute("value",x.value);for(const V of b.children)V.attributes.value===x.value?V.attributes.selected=!0:V.attributes.hasOwnProperty("selected")&&delete V.attributes.selected}c.addEventListener("input",V=>{const D=V.target.options,k=D.selectedIndex===-1?"":D[D.selectedIndex].value;A.setValue(y,{value:k})});break}}static setAttributes({html:c,element:y,storage:b=null,intent:A,linkService:d}){const{attributes:x}=y,V=c instanceof HTMLAnchorElement;x.type==="radio"&&(x.name=`${x.name}-${A}`);for(const[D,k]of Object.entries(x))if(k!=null)switch(D){case"class":k.length&&c.setAttribute(D,k.join(" "));break;case"dataId":break;case"id":c.setAttribute("data-element-id",k);break;case"style":Object.assign(c.style,k);break;case"textContent":c.textContent=k;break;default:(!V||D!=="href"&&D!=="newWindow")&&c.setAttribute(D,k)}V&&d.addLinkAttributes(c,x.href,x.newWindow),b&&x.dataId&&this.setupStorage(c,x.dataId,y,b)}static render(c){var M;const y=c.annotationStorage,b=c.linkService,A=c.xfaHtml,d=c.intent||"display",x=document.createElement(A.name);A.attributes&&this.setAttributes({html:x,element:A,intent:d,linkService:b});const V=[[A,-1,x]],D=c.div;if(D.append(x),c.viewport){const w=`matrix(${c.viewport.transform.join(",")})`;D.style.transform=w}d!=="richText"&&D.setAttribute("class","xfaLayer xfaFont");const k=[];for(;V.length>0;){const[w,O,U]=V.at(-1);if(O+1===w.children.length){V.pop();continue}const $=w.children[++V.at(-1)[1]];if($===null)continue;const{name:I}=$;if(I==="#text"){const C=document.createTextNode($.value);k.push(C),U.append(C);continue}const S=(M=$==null?void 0:$.attributes)!=null&&M.xmlns?document.createElementNS($.attributes.xmlns,I):document.createElement(I);if(U.append(S),$.attributes&&this.setAttributes({html:S,element:$,storage:y,intent:d,linkService:b}),$.children&&$.children.length>0)V.push([$,-1,S]);else if($.value){const C=document.createTextNode($.value);r.XfaText.shouldBuildText(I)&&k.push(C),S.append(C)}}for(const w of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:k}}static update(c){const y=`matrix(${c.viewport.transform.join(",")})`;c.div.style.transform=y,c.div.hidden=!1}}n.XfaLayer=o},(e,n,s)=>{var A,d,x,V,D,k,M,w,O,U,$,I,S,C,G,Oc,E,Ic,H,Dc,de,Lc,ge,Lo,xe,Nc,Oe,No,He,Bc,q,$c,v,Uc,T,Hc,j,Wc,re,Vn,R,Bo,Z,qs,se,Gs,Ne,Ci,ke,$o,oe,Ks,fe,Vc,Be,Uo,nt,jc,lt,zc,ot,Ho,Ie,Xs,he,Ti;Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0;var r=s(1),o=s(4),l=s(29),c=s(6),y=s(5);const ze=class ze extends o.AnnotationEditor{constructor(ye){super({...ye,name:"inkEditor"});ne(this,G);ne(this,E);ne(this,H);ne(this,de);ne(this,ge);ne(this,xe);ne(this,Oe);ne(this,He);ne(this,q);ne(this,v);ne(this,T);ne(this,j);ne(this,re);ne(this,R);ne(this,Z);ne(this,se);ne(this,Ne);ne(this,ke);ne(this,oe);ne(this,lt);ne(this,ot);ne(this,Ie);ne(this,he);ne(this,A,0);ne(this,d,0);ne(this,x,this.canvasPointermove.bind(this));ne(this,V,this.canvasPointerleave.bind(this));ne(this,D,this.canvasPointerup.bind(this));ne(this,k,this.canvasPointerdown.bind(this));ne(this,M,new Path2D);ne(this,w,!1);ne(this,O,!1);ne(this,U,!1);ne(this,$,null);ne(this,I,0);ne(this,S,0);ne(this,C,null);this.color=ye.color||null,this.thickness=ye.thickness||null,this.opacity=ye.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ye){o.AnnotationEditor.initialize(ye,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(ye,Xe){switch(ye){case r.AnnotationEditorParamsType.INK_THICKNESS:ze._defaultThickness=Xe;break;case r.AnnotationEditorParamsType.INK_COLOR:ze._defaultColor=Xe;break;case r.AnnotationEditorParamsType.INK_OPACITY:ze._defaultOpacity=Xe/100;break}}updateParams(ye,Xe){switch(ye){case r.AnnotationEditorParamsType.INK_THICKNESS:me(this,G,Oc).call(this,Xe);break;case r.AnnotationEditorParamsType.INK_COLOR:me(this,E,Ic).call(this,Xe);break;case r.AnnotationEditorParamsType.INK_OPACITY:me(this,H,Dc).call(this,Xe);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,ze._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,ze._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(ze._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ze._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||ze._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ze._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(me(this,Z,qs).call(this),me(this,se,Gs).call(this)),this.isAttachedToDOM||(this.parent.add(this),me(this,Ne,Ci).call(this)),me(this,he,Ti).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,$).disconnect(),Re(this,$,null),super.remove())}setParent(ye){!this.parent&&ye?this._uiManager.removeShouldRescale(this):this.parent&&ye===null&&this._uiManager.addShouldRescale(this),super.setParent(ye)}onScaleChanging(){const[ye,Xe]=this.parentDimensions,at=this.width*ye,Ye=this.height*Xe;this.setDimensions(at,Ye)}enableEditMode(){u(this,w)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",u(this,k)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,k)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,w)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Re(this,w,!0),this.div.classList.add("disabled"),me(this,he,Ti).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ye){this._focusEventsAllowed&&(super.focusin(ye),this.enableEditMode())}canvasPointerdown(ye){ye.button!==0||!this.isInEditMode()||u(this,w)||(this.setInForeground(),ye.preventDefault(),ye.type!=="mouse"&&this.div.focus(),me(this,xe,Nc).call(this,ye.offsetX,ye.offsetY))}canvasPointermove(ye){ye.preventDefault(),me(this,Oe,No).call(this,ye.offsetX,ye.offsetY)}canvasPointerup(ye){ye.preventDefault(),me(this,R,Bo).call(this,ye)}canvasPointerleave(ye){me(this,R,Bo).call(this,ye)}get isResizable(){return!this.isEmpty()&&u(this,w)}render(){if(this.div)return this.div;let ye,Xe;this.width&&(ye=this.x,Xe=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Pe=>{var ee;return(ee=this.div)==null?void 0:ee.setAttribute("aria-label",Pe)});const[at,Ye,ct,ut]=me(this,de,Lc).call(this);if(this.setAt(at,Ye,0,0),this.setDims(ct,ut),me(this,Z,qs).call(this),this.width){const[Pe,ee]=this.parentDimensions;this.setAspectRatio(this.width*Pe,this.height*ee),this.setAt(ye*Pe,Xe*ee,this.width*Pe,this.height*ee),Re(this,U,!0),me(this,Ne,Ci).call(this),this.setDims(this.width*Pe,this.height*ee),me(this,re,Vn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return me(this,se,Gs).call(this),this.div}setDimensions(ye,Xe){const at=Math.round(ye),Ye=Math.round(Xe);if(u(this,I)===at&&u(this,S)===Ye)return;Re(this,I,at),Re(this,S,Ye),this.canvas.style.visibility="hidden";const[ct,ut]=this.parentDimensions;this.width=ye/ct,this.height=Xe/ut,this.fixAndSetPosition(),u(this,w)&&me(this,ke,$o).call(this,ye,Xe),me(this,Ne,Ci).call(this),me(this,re,Vn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ye,Xe,at){var ue,ve,Me;if(ye instanceof l.InkAnnotationElement)return null;const Ye=super.deserialize(ye,Xe,at);Ye.thickness=ye.thickness,Ye.color=r.Util.makeHexColor(...ye.color),Ye.opacity=ye.opacity;const[ct,ut]=Ye.pageDimensions,Pe=Ye.width*ct,ee=Ye.height*ut,we=Ye.parentScale,De=ye.thickness/2;Re(Ye,w,!0),Re(Ye,I,Math.round(Pe)),Re(Ye,S,Math.round(ee));const{paths:J,rect:f,rotation:L}=ye;for(let{bezier:Ve}of J){Ve=me(ue=ze,nt,jc).call(ue,Ve,f,L);const et=[];Ye.paths.push(et);let Ze=we*(Ve[0]-De),mt=we*(Ve[1]-De);for(let st=2,pt=Ve.length;st<pt;st+=6){const bt=we*(Ve[st]-De),Et=we*(Ve[st+1]-De),Pt=we*(Ve[st+2]-De),Ht=we*(Ve[st+3]-De),Bt=we*(Ve[st+4]-De),Jt=we*(Ve[st+5]-De);et.push([[Ze,mt],[bt,Et],[Pt,Ht],[Bt,Jt]]),Ze=Bt,mt=Jt}const it=me(this,fe,Vc).call(this,et);Ye.bezierPath2D.push(it)}const Q=me(ve=Ye,ot,Ho).call(ve);return Re(Ye,d,Math.max(o.AnnotationEditor.MIN_SIZE,Q[2]-Q[0])),Re(Ye,A,Math.max(o.AnnotationEditor.MIN_SIZE,Q[3]-Q[1])),me(Me=Ye,ke,$o).call(Me,Pe,ee),Ye}serialize(){if(this.isEmpty())return null;const ye=this.getRect(0,0),Xe=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:Xe,thickness:this.thickness,opacity:this.opacity,paths:me(this,lt,zc).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ye),pageIndex:this.pageIndex,rect:ye,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};A=new WeakMap,d=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,U=new WeakMap,$=new WeakMap,I=new WeakMap,S=new WeakMap,C=new WeakMap,G=new WeakSet,Oc=function(ye){const Xe=this.thickness;this.addCommands({cmd:()=>{this.thickness=ye,me(this,he,Ti).call(this)},undo:()=>{this.thickness=Xe,me(this,he,Ti).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,Ic=function(ye){const Xe=this.color;this.addCommands({cmd:()=>{this.color=ye,me(this,re,Vn).call(this)},undo:()=>{this.color=Xe,me(this,re,Vn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},H=new WeakSet,Dc=function(ye){ye/=100;const Xe=this.opacity;this.addCommands({cmd:()=>{this.opacity=ye,me(this,re,Vn).call(this)},undo:()=>{this.opacity=Xe,me(this,re,Vn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},de=new WeakSet,Lc=function(){const{parentRotation:ye,parentDimensions:[Xe,at]}=this;switch(ye){case 90:return[0,at,at,Xe];case 180:return[Xe,at,Xe,at];case 270:return[Xe,0,at,Xe];default:return[0,0,Xe,at]}},ge=new WeakSet,Lo=function(){const{ctx:ye,color:Xe,opacity:at,thickness:Ye,parentScale:ct,scaleFactor:ut}=this;ye.lineWidth=Ye*ct/ut,ye.lineCap="round",ye.lineJoin="round",ye.miterLimit=10,ye.strokeStyle=`${Xe}${(0,y.opacityToHex)(at)}`},xe=new WeakSet,Nc=function(ye,Xe){this.canvas.addEventListener("contextmenu",c.noContextMenu),this.canvas.addEventListener("pointerleave",u(this,V)),this.canvas.addEventListener("pointermove",u(this,x)),this.canvas.addEventListener("pointerup",u(this,D)),this.canvas.removeEventListener("pointerdown",u(this,k)),this.isEditing=!0,u(this,U)||(Re(this,U,!0),me(this,Ne,Ci).call(this),this.thickness||(this.thickness=ze._defaultThickness),this.color||(this.color=ze._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ze._defaultOpacity)),this.currentPath.push([ye,Xe]),Re(this,O,!1),me(this,ge,Lo).call(this),Re(this,C,()=>{me(this,v,Uc).call(this),u(this,C)&&window.requestAnimationFrame(u(this,C))}),window.requestAnimationFrame(u(this,C))},Oe=new WeakSet,No=function(ye,Xe){const[at,Ye]=this.currentPath.at(-1);if(this.currentPath.length>1&&ye===at&&Xe===Ye)return;const ct=this.currentPath;let ut=u(this,M);if(ct.push([ye,Xe]),Re(this,O,!0),ct.length<=2){ut.moveTo(...ct[0]),ut.lineTo(ye,Xe);return}ct.length===3&&(Re(this,M,ut=new Path2D),ut.moveTo(...ct[0])),me(this,T,Hc).call(this,ut,...ct.at(-3),...ct.at(-2),ye,Xe)},He=new WeakSet,Bc=function(){if(this.currentPath.length===0)return;const ye=this.currentPath.at(-1);u(this,M).lineTo(...ye)},q=new WeakSet,$c=function(ye,Xe){Re(this,C,null),ye=Math.min(Math.max(ye,0),this.canvas.width),Xe=Math.min(Math.max(Xe,0),this.canvas.height),me(this,Oe,No).call(this,ye,Xe),me(this,He,Bc).call(this);let at;if(this.currentPath.length!==1)at=me(this,j,Wc).call(this);else{const ee=[ye,Xe];at=[[ee,ee.slice(),ee.slice(),ee]]}const Ye=u(this,M),ct=this.currentPath;this.currentPath=[],Re(this,M,new Path2D);const ut=()=>{this.allRawPaths.push(ct),this.paths.push(at),this.bezierPath2D.push(Ye),this.rebuild()},Pe=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(me(this,Z,qs).call(this),me(this,se,Gs).call(this)),me(this,he,Ti).call(this))};this.addCommands({cmd:ut,undo:Pe,mustExec:!0})},v=new WeakSet,Uc=function(){if(!u(this,O))return;Re(this,O,!1);const ye=Math.ceil(this.thickness*this.parentScale),Xe=this.currentPath.slice(-3),at=Xe.map(ut=>ut[0]),Ye=Xe.map(ut=>ut[1]);Math.min(...at)-ye,Math.max(...at)+ye,Math.min(...Ye)-ye,Math.max(...Ye)+ye;const{ctx:ct}=this;ct.save(),ct.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ut of this.bezierPath2D)ct.stroke(ut);ct.stroke(u(this,M)),ct.restore()},T=new WeakSet,Hc=function(ye,Xe,at,Ye,ct,ut,Pe){const ee=(Xe+Ye)/2,we=(at+ct)/2,De=(Ye+ut)/2,J=(ct+Pe)/2;ye.bezierCurveTo(ee+2*(Ye-ee)/3,we+2*(ct-we)/3,De+2*(Ye-De)/3,J+2*(ct-J)/3,De,J)},j=new WeakSet,Wc=function(){const ye=this.currentPath;if(ye.length<=2)return[[ye[0],ye[0],ye.at(-1),ye.at(-1)]];const Xe=[];let at,[Ye,ct]=ye[0];for(at=1;at<ye.length-2;at++){const[f,L]=ye[at],[Q,ue]=ye[at+1],ve=(f+Q)/2,Me=(L+ue)/2,Ve=[Ye+2*(f-Ye)/3,ct+2*(L-ct)/3],et=[ve+2*(f-ve)/3,Me+2*(L-Me)/3];Xe.push([[Ye,ct],Ve,et,[ve,Me]]),[Ye,ct]=[ve,Me]}const[ut,Pe]=ye[at],[ee,we]=ye[at+1],De=[Ye+2*(ut-Ye)/3,ct+2*(Pe-ct)/3],J=[ee+2*(ut-ee)/3,we+2*(Pe-we)/3];return Xe.push([[Ye,ct],De,J,[ee,we]]),Xe},re=new WeakSet,Vn=function(){if(this.isEmpty()){me(this,oe,Ks).call(this);return}me(this,ge,Lo).call(this);const{canvas:ye,ctx:Xe}=this;Xe.setTransform(1,0,0,1,0,0),Xe.clearRect(0,0,ye.width,ye.height),me(this,oe,Ks).call(this);for(const at of this.bezierPath2D)Xe.stroke(at)},R=new WeakSet,Bo=function(ye){this.canvas.removeEventListener("pointerleave",u(this,V)),this.canvas.removeEventListener("pointermove",u(this,x)),this.canvas.removeEventListener("pointerup",u(this,D)),this.canvas.addEventListener("pointerdown",u(this,k)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",c.noContextMenu)},10),me(this,q,$c).call(this,ye.offsetX,ye.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Z=new WeakSet,qs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(ye=>{var Xe;return(Xe=this.canvas)==null?void 0:Xe.setAttribute("aria-label",ye)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},se=new WeakSet,Gs=function(){Re(this,$,new ResizeObserver(ye=>{const Xe=ye[0].contentRect;Xe.width&&Xe.height&&this.setDimensions(Xe.width,Xe.height)})),u(this,$).observe(this.div)},Ne=new WeakSet,Ci=function(){if(!u(this,U))return;const[ye,Xe]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ye),this.canvas.height=Math.ceil(this.height*Xe),me(this,oe,Ks).call(this)},ke=new WeakSet,$o=function(ye,Xe){const at=me(this,Ie,Xs).call(this),Ye=(ye-at)/u(this,d),ct=(Xe-at)/u(this,A);this.scaleFactor=Math.min(Ye,ct)},oe=new WeakSet,Ks=function(){const ye=me(this,Ie,Xs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ye,this.translationY*this.scaleFactor+ye)},fe=new WeakSet,Vc=function(ye){const Xe=new Path2D;for(let at=0,Ye=ye.length;at<Ye;at++){const[ct,ut,Pe,ee]=ye[at];at===0&&Xe.moveTo(...ct),Xe.bezierCurveTo(ut[0],ut[1],Pe[0],Pe[1],ee[0],ee[1])}return Xe},Be=new WeakSet,Uo=function(ye,Xe,at){const[Ye,ct,ut,Pe]=Xe;switch(at){case 0:for(let ee=0,we=ye.length;ee<we;ee+=2)ye[ee]+=Ye,ye[ee+1]=Pe-ye[ee+1];break;case 90:for(let ee=0,we=ye.length;ee<we;ee+=2){const De=ye[ee];ye[ee]=ye[ee+1]+Ye,ye[ee+1]=De+ct}break;case 180:for(let ee=0,we=ye.length;ee<we;ee+=2)ye[ee]=ut-ye[ee],ye[ee+1]+=ct;break;case 270:for(let ee=0,we=ye.length;ee<we;ee+=2){const De=ye[ee];ye[ee]=ut-ye[ee+1],ye[ee+1]=Pe-De}break;default:throw new Error("Invalid rotation")}return ye},nt=new WeakSet,jc=function(ye,Xe,at){const[Ye,ct,ut,Pe]=Xe;switch(at){case 0:for(let ee=0,we=ye.length;ee<we;ee+=2)ye[ee]-=Ye,ye[ee+1]=Pe-ye[ee+1];break;case 90:for(let ee=0,we=ye.length;ee<we;ee+=2){const De=ye[ee];ye[ee]=ye[ee+1]-ct,ye[ee+1]=De-Ye}break;case 180:for(let ee=0,we=ye.length;ee<we;ee+=2)ye[ee]=ut-ye[ee],ye[ee+1]-=ct;break;case 270:for(let ee=0,we=ye.length;ee<we;ee+=2){const De=ye[ee];ye[ee]=Pe-ye[ee+1],ye[ee+1]=ut-De}break;default:throw new Error("Invalid rotation")}return ye},lt=new WeakSet,zc=function(ye,Xe,at,Ye){var we,De;const ct=[],ut=this.thickness/2,Pe=ye*Xe+ut,ee=ye*at+ut;for(const J of this.paths){const f=[],L=[];for(let Q=0,ue=J.length;Q<ue;Q++){const[ve,Me,Ve,et]=J[Q],Ze=ye*ve[0]+Pe,mt=ye*ve[1]+ee,it=ye*Me[0]+Pe,st=ye*Me[1]+ee,pt=ye*Ve[0]+Pe,bt=ye*Ve[1]+ee,Et=ye*et[0]+Pe,Pt=ye*et[1]+ee;Q===0&&(f.push(Ze,mt),L.push(Ze,mt)),f.push(it,st,pt,bt,Et,Pt),L.push(it,st),Q===ue-1&&L.push(Et,Pt)}ct.push({bezier:me(we=ze,Be,Uo).call(we,f,Ye,this.rotation),points:me(De=ze,Be,Uo).call(De,L,Ye,this.rotation)})}return ct},ot=new WeakSet,Ho=function(){let ye=1/0,Xe=-1/0,at=1/0,Ye=-1/0;for(const ct of this.paths)for(const[ut,Pe,ee,we]of ct){const De=r.Util.bezierBoundingBox(...ut,...Pe,...ee,...we);ye=Math.min(ye,De[0]),at=Math.min(at,De[1]),Xe=Math.max(Xe,De[2]),Ye=Math.max(Ye,De[3])}return[ye,at,Xe,Ye]},Ie=new WeakSet,Xs=function(){return u(this,w)?Math.ceil(this.thickness*this.parentScale):0},he=new WeakSet,Ti=function(ye=!1){if(this.isEmpty())return;if(!u(this,w)){me(this,re,Vn).call(this);return}const Xe=me(this,ot,Ho).call(this),at=me(this,Ie,Xs).call(this);Re(this,d,Math.max(o.AnnotationEditor.MIN_SIZE,Xe[2]-Xe[0])),Re(this,A,Math.max(o.AnnotationEditor.MIN_SIZE,Xe[3]-Xe[1]));const Ye=Math.ceil(at+u(this,d)*this.scaleFactor),ct=Math.ceil(at+u(this,A)*this.scaleFactor),[ut,Pe]=this.parentDimensions;this.width=Ye/ut,this.height=ct/Pe,this.setAspectRatio(Ye,ct);const ee=this.translationX,we=this.translationY;this.translationX=-Xe[0],this.translationY=-Xe[1],me(this,Ne,Ci).call(this),me(this,re,Vn).call(this),Re(this,I,Ye),Re(this,S,ct),this.setDims(Ye,ct);const De=ye?at/this.scaleFactor/2:0;this.translate(ee-this.translationX-De,we-this.translationY-De)},ne(ze,fe),ne(ze,Be),ne(ze,nt),Nt(ze,"_defaultColor",null),Nt(ze,"_defaultOpacity",1),Nt(ze,"_defaultThickness",1),Nt(ze,"_type","ink");let b=ze;n.InkEditor=b},(e,n,s)=>{var b,A,d,x,V,D,k,M,w,O,U,Xi,I,Yi,C,Ys,N,Wo,X,qc,ae,Gc,K,Vo,Ce,Js,ie,Kc;Object.defineProperty(n,"__esModule",{value:!0}),n.StampEditor=void 0;var r=s(1),o=s(4),l=s(6),c=s(29);const Ue=class Ue extends o.AnnotationEditor{constructor(q){super({...q,name:"stampEditor"});ne(this,U);ne(this,I);ne(this,C);ne(this,N);ne(this,X);ne(this,ae);ne(this,K);ne(this,Ce);ne(this,ie);ne(this,b,null);ne(this,A,null);ne(this,d,null);ne(this,x,null);ne(this,V,null);ne(this,D,null);ne(this,k,null);ne(this,M,null);ne(this,w,!1);ne(this,O,!1);Re(this,x,q.bitmapUrl),Re(this,V,q.bitmapFile)}static initialize(q){o.AnnotationEditor.initialize(q)}static get supportedTypes(){const q=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",q.map(g=>`image/${g}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(q){return this.supportedTypes.includes(q)}static paste(q,g){g.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:q.getAsFile()})}remove(){var q,g;u(this,A)&&(Re(this,b,null),this._uiManager.imageManager.deleteId(u(this,A)),(q=u(this,D))==null||q.remove(),Re(this,D,null),(g=u(this,k))==null||g.disconnect(),Re(this,k,null)),super.remove()}rebuild(){if(!this.parent){u(this,A)&&me(this,C,Ys).call(this);return}super.rebuild(),this.div!==null&&(u(this,A)&&me(this,C,Ys).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,d)||u(this,b)||u(this,x)||u(this,V))}get isResizable(){return!0}render(){if(this.div)return this.div;let q,g;if(this.width&&(q=this.x,g=this.y),super.render(),this.div.hidden=!0,u(this,b)?me(this,N,Wo).call(this):me(this,C,Ys).call(this),this.width){const[v,m]=this.parentDimensions;this.setAt(q*v,g*m,this.width*v,this.height*m)}return this.div}static deserialize(q,g,v){if(q instanceof c.StampAnnotationElement)return null;const m=super.deserialize(q,g,v),{rect:T,bitmapUrl:F,bitmapId:j,isSvg:Y,accessibilityData:re}=q;j&&v.imageManager.isValidId(j)?Re(m,A,j):Re(m,x,F),Re(m,w,Y);const[Se,R]=m.pageDimensions;return m.width=(T[2]-T[0])/Se,m.height=(T[3]-T[1])/R,re&&(m.altTextData=re),m}serialize(q=!1,g=null){if(this.isEmpty())return null;const v={annotationType:r.AnnotationEditorType.STAMP,bitmapId:u(this,A),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,w),structTreeParentId:this._structTreeParentId};if(q)return v.bitmapUrl=me(this,Ce,Js).call(this,!0),v.accessibilityData=this.altTextData,v;const{decorative:m,altText:T}=this.altTextData;if(!m&&T&&(v.accessibilityData={type:"Figure",alt:T}),g===null)return v;g.stamps||(g.stamps=new Map);const F=u(this,w)?(v.rect[2]-v.rect[0])*(v.rect[3]-v.rect[1]):null;if(!g.stamps.has(u(this,A)))g.stamps.set(u(this,A),{area:F,serialized:v}),v.bitmap=me(this,Ce,Js).call(this,!1);else if(u(this,w)){const j=g.stamps.get(u(this,A));F>j.area&&(j.area=F,j.serialized.bitmap.close(),j.serialized.bitmap=me(this,Ce,Js).call(this,!1))}return v}};b=new WeakMap,A=new WeakMap,d=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakMap,k=new WeakMap,M=new WeakMap,w=new WeakMap,O=new WeakMap,U=new WeakSet,Xi=function(q,g=!1){if(!q){this.remove();return}Re(this,b,q.bitmap),g||(Re(this,A,q.id),Re(this,w,q.isSvg)),me(this,N,Wo).call(this)},I=new WeakSet,Yi=function(){Re(this,d,null),this._uiManager.enableWaiting(!1),u(this,D)&&this.div.focus()},C=new WeakSet,Ys=function(){if(u(this,A)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,A)).then(g=>me(this,U,Xi).call(this,g,!0)).finally(()=>me(this,I,Yi).call(this));return}if(u(this,x)){const g=u(this,x);Re(this,x,null),this._uiManager.enableWaiting(!0),Re(this,d,this._uiManager.imageManager.getFromUrl(g).then(v=>me(this,U,Xi).call(this,v)).finally(()=>me(this,I,Yi).call(this)));return}if(u(this,V)){const g=u(this,V);Re(this,V,null),this._uiManager.enableWaiting(!0),Re(this,d,this._uiManager.imageManager.getFromFile(g).then(v=>me(this,U,Xi).call(this,v)).finally(()=>me(this,I,Yi).call(this)));return}const q=document.createElement("input");q.type="file",q.accept=Ue.supportedTypesStr,Re(this,d,new Promise(g=>{q.addEventListener("change",async()=>{if(!q.files||q.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const v=await this._uiManager.imageManager.getFromFile(q.files[0]);me(this,U,Xi).call(this,v)}g()}),q.addEventListener("cancel",()=>{this.remove(),g()})}).finally(()=>me(this,I,Yi).call(this))),q.click()},N=new WeakSet,Wo=function(){const{div:q}=this;let{width:g,height:v}=u(this,b);const[m,T]=this.pageDimensions,F=.75;if(this.width)g=this.width*m,v=this.height*T;else if(g>F*m||v>F*T){const Se=Math.min(F*m/g,F*T/v);g*=Se,v*=Se}const[j,Y]=this.parentDimensions;this.setDims(g*j/m,v*Y/T),this._uiManager.enableWaiting(!1);const re=Re(this,D,document.createElement("canvas"));q.append(re),q.hidden=!1,me(this,K,Vo).call(this,g,v),me(this,ie,Kc).call(this),u(this,O)||(this.parent.addUndoableEditor(this),Re(this,O,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},X=new WeakSet,qc=function(q,g){var F;const[v,m]=this.parentDimensions;this.width=q/v,this.height=g/m,this.setDims(q,g),(F=this._initialOptions)!=null&&F.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,M)!==null&&clearTimeout(u(this,M)),Re(this,M,setTimeout(()=>{Re(this,M,null),me(this,K,Vo).call(this,q,g)},200))},ae=new WeakSet,Gc=function(q,g){const{width:v,height:m}=u(this,b);let T=v,F=m,j=u(this,b);for(;T>2*q||F>2*g;){const Y=T,re=F;T>2*q&&(T=T>=16384?Math.floor(T/2)-1:Math.ceil(T/2)),F>2*g&&(F=F>=16384?Math.floor(F/2)-1:Math.ceil(F/2));const Se=new OffscreenCanvas(T,F);Se.getContext("2d").drawImage(j,0,0,Y,re,0,0,T,F),j=Se.transferToImageBitmap()}return j},K=new WeakSet,Vo=function(q,g){q=Math.ceil(q),g=Math.ceil(g);const v=u(this,D);if(!v||v.width===q&&v.height===g)return;v.width=q,v.height=g;const m=u(this,w)?u(this,b):me(this,ae,Gc).call(this,q,g),T=v.getContext("2d");T.filter=this._uiManager.hcmFilter,T.drawImage(m,0,0,m.width,m.height,0,0,q,g)},Ce=new WeakSet,Js=function(q){if(q){if(u(this,w)){const m=this._uiManager.imageManager.getSvgUrl(u(this,A));if(m)return m}const g=document.createElement("canvas");return{width:g.width,height:g.height}=u(this,b),g.getContext("2d").drawImage(u(this,b),0,0),g.toDataURL()}if(u(this,w)){const[g,v]=this.pageDimensions,m=Math.round(this.width*g*l.PixelsPerInch.PDF_TO_CSS_UNITS),T=Math.round(this.height*v*l.PixelsPerInch.PDF_TO_CSS_UNITS),F=new OffscreenCanvas(m,T);return F.getContext("2d").drawImage(u(this,b),0,0,u(this,b).width,u(this,b).height,0,0,m,T),F.transferToImageBitmap()}return structuredClone(u(this,b))},ie=new WeakSet,Kc=function(){Re(this,k,new ResizeObserver(q=>{const g=q[0].contentRect;g.width&&g.height&&me(this,X,qc).call(this,g.width,g.height)})),u(this,k).observe(this.div)},Nt(Ue,"_type","stamp");let y=Ue;n.StampEditor=y}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var n=__webpack_module_cache__[e];if(n!==void 0)return n.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return n.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return y.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return n.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return n.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return n.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return n.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var n=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),c=__w_pdfjs_require__(5),y=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),A=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const PdfReviewer_vue_vue_type_style_index_0_scoped_fc8c1300_lang="",_export_sfc=(e,n)=>{const s=e.__vccOpts||e;for(const[r,o]of n)s[r]=o;return s},_hoisted_1={class:"pdf-viewer-container flex flex-col bg-gray-100 overflow-hidden"},_hoisted_2={class:"flex items-center justify-between p-4 bg-white border-b border-gray-200 flex-shrink-0"},_hoisted_3={class:"flex items-center gap-4"},_hoisted_4={class:"text-xl font-bold text-gray-700"},_hoisted_5={key:0,class:"flex items-center gap-3"},_hoisted_6=["disabled"],_hoisted_7=["disabled"],_hoisted_8={key:1,class:"flex items-center gap-2 border border-gray-300 rounded-lg p-1"},_hoisted_9=["disabled"],_hoisted_10=["value"],_hoisted_11=["disabled"],_hoisted_12={key:2,class:"flex items-center gap-2 border border-gray-300 rounded-lg p-1"},_hoisted_13={key:0,class:"flex items-center justify-center h-full"},_hoisted_14=["width","height"],_hoisted_15=["onClick"],_hoisted_16=["transform"],_hoisted_17=["fill"],_hoisted_18=["x","y","width","height"],_hoisted_19=["x","y","width","height"],_hoisted_20={class:"comments-sidebar flex flex-col bg-gray-50 border-l border-gray-200"},_hoisted_21={class:"p-4 border-b flex-shrink-0"},_hoisted_22={class:"mt-3 flex gap-2"},_hoisted_23={key:0,class:"mt-2 text-sm text-gray-600 text-center"},_hoisted_24={class:"flex-1 overflow-hidden flex flex-col"},_hoisted_25={key:0,class:"flex-grow flex items-center justify-center p-4"},_hoisted_26={key:1,class:"flex-grow min-h-0 overflow-hidden flex flex-col"},_hoisted_27={class:"flex-grow overflow-y-auto p-3"},_hoisted_28=["onClick"],_hoisted_29={class:"p-4"},_hoisted_30={class:"flex justify-between items-start gap-3 mb-3"},_hoisted_31={class:"comment-header flex-1"},_hoisted_32={class:"flex items-center gap-2 mb-1"},_hoisted_33=["onClick"],_hoisted_34=["title"],_hoisted_35={key:0,class:"text-xs text-gray-400"},_hoisted_36=["title"],_hoisted_37={class:"flex items-center gap-2 flex-shrink-0"},_hoisted_38=["onClick"],_hoisted_39=["checked","onChange","disabled","title"],_hoisted_40={class:"comment-content-wrapper"},_hoisted_41={key:0,class:"mb-3"},_hoisted_42={class:"flex gap-2 mt-2"},_hoisted_43=["onClick"],_hoisted_44=["onClick"],_hoisted_45={class:"flex items-center gap-3 text-xs text-gray-500 border-t pt-2"},_hoisted_46=["onClick"],_hoisted_47=["onClick"],_hoisted_48=["onClick"],_hoisted_49={key:0,class:"px-4 pb-4"},_hoisted_50={class:"ml-4 pl-4 border-l-2 border-gray-200"},_hoisted_51={class:"flex gap-2 mt-2"},_hoisted_52=["onClick"],_hoisted_53={key:1,class:"px-4 pb-4"},_hoisted_54={class:"ml-4 pl-4 border-l-2 border-gray-200 space-y-2"},_hoisted_55={class:"flex items-center gap-2 mb-1"},_hoisted_56={class:"text-xs font-semibold text-gray-600"},_hoisted_57=["title"],_hoisted_58={key:0,class:"text-xs text-gray-400 mb-1"},_hoisted_59=["title"],_hoisted_60={class:"comment-content text-sm text-gray-700"},_hoisted_61={key:0,class:"p-3 border-t bg-white flex-shrink-0"},_hoisted_62={class:"flex items-center justify-between"},_hoisted_63=["disabled"],_hoisted_64={class:"flex items-center gap-1"},_hoisted_65=["onClick"],_hoisted_66={key:1,class:"px-1 text-xs text-gray-500"},_hoisted_67=["disabled"],_hoisted_68={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},_hoisted_69={class:"bg-white rounded-lg shadow-xl p-6 w-[60rem] max-w-[90vw]"},_sfc_main={__name:"PdfReviewer",props:{document:Object,currentUser:Object,creatorId:[Number,String],apiStoreUrl:String,apiUpdateUrlTemplate:String,apiDeleteUrlTemplate:String,apiStatusUrlTemplate:String},setup(e){let n=null;const s=()=>{n=Pe=>{if(Pe.ctrlKey||Pe.metaKey)switch(Pe.key){case"=":case"+":Pe.preventDefault(),j();break;case"-":Pe.preventDefault(),Y();break;case"0":Pe.preventDefault(),x.value=1,fe(b.value);break}},document.addEventListener("keydown",n)},r=()=>{n&&(document.removeEventListener("keydown",n),n=null)};axios$1.defaults.baseURL="/app/publyse/public/",axios$1.defaults.withCredentials=!0;const o=e,l=ref(o.document.comments||[]),c=ref(o.document.pdf_url),y=ref(null),b=ref(1),A=ref(1),d=ref(0),x=ref(1.5),V=ref(1),D=ref(!1),k=ref({width:0,height:0}),M=ref(null),w=ref(.25),O=ref(5);ref(.25);const U=ref([{value:.25,label:"25%"},{value:.5,label:"50%"},{value:.75,label:"75%"},{value:1,label:"100%"},{value:1.25,label:"125%"},{value:1.5,label:"150%"},{value:2,label:"200%"},{value:3,label:"300%"},{value:4,label:"400%"},{value:5,label:"500%"}]),$=ref("point"),I=ref(!1),S=ref(null),C=ref({content:"",position:null,type:"",page_number:0}),G=ref(null),N=ref("all"),E=ref(!1),X=ref({x:0,y:0}),H=ref(null),ae=ref(null),de=ref(""),K=ref(null),ge=ref(""),Ce=ref(null),xe=ref(null),ie=ref({}),Oe=ref(1),Ue=ref(5),He=ref([]);let Ge=null;const q=computed(()=>[...l.value].sort((Pe,ee)=>Pe.page_number-ee.page_number||Pe.id-ee.id)),g=computed(()=>Math.ceil(He.value.length/Ue.value)),v=computed(()=>(Oe.value-1)*Ue.value),m=computed(()=>v.value+Ue.value),T=computed(()=>He.value.slice(v.value,m.value)),F=computed(()=>{const Pe=g.value,ee=Oe.value,we=[];if(Pe<=7)for(let De=1;De<=Pe;De++)we.push(De);else if(ee<=4){for(let De=1;De<=5;De++)we.push(De);we.push("..."),we.push(Pe)}else if(ee>=Pe-3){we.push(1),we.push("...");for(let De=Pe-4;De<=Pe;De++)we.push(De)}else{we.push(1),we.push("...");for(let De=ee-1;De<=ee+1;De++)we.push(De);we.push("..."),we.push(Pe)}return we}),j=()=>{const Pe=U.value.findIndex(ee=>ee.value===x.value);Pe<U.value.length-1&&(x.value=U.value[Pe+1].value,fe(b.value))},Y=()=>{const Pe=U.value.findIndex(ee=>ee.value===x.value);Pe>0&&(x.value=U.value[Pe-1].value,fe(b.value))},re=()=>{fe(b.value)},Se=async()=>{if(!(!y.value||!M.value))try{const ee=(await y.value.getPage(b.value)).getViewport({scale:1}),De=(M.value.clientWidth-40)/ee.width;x.value=Math.max(w.value,Math.min(O.value,De)),fe(b.value)}catch(Pe){console.error("Error fitting to width:",Pe)}},R=async()=>{if(!(!y.value||!M.value))try{const ee=(await y.value.getPage(b.value)).getViewport({scale:1}),we=M.value.clientWidth-40,De=M.value.clientHeight-40,J=we/ee.width,f=De/ee.height,L=Math.min(J,f);x.value=Math.max(w.value,Math.min(O.value,L)),fe(b.value)}catch(Pe){console.error("Error fitting to page:",Pe)}},B=Pe=>{if(Pe.ctrlKey||Pe.metaKey){Pe.preventDefault();const ee=Pe.deltaY<0?1:-1,we=U.value.findIndex(De=>De.value===x.value);ee>0&&we<U.value.length-1?(x.value=U.value[we+1].value,fe(b.value)):ee<0&&we>0&&(x.value=U.value[we-1].value,fe(b.value))}},Z=Pe=>{rt(Pe)},_e=Pe=>{lt(Pe)},se=Pe=>{dt()},Ee=Pe=>{if(!Pe)return"";const ee=new Date,we=new Date(Pe),De=Math.floor((ee-we)/1e3);if(De<60)return"Baru saja";const J=Math.floor(De/60);if(J<60)return`${J} menit yang lalu`;const f=Math.floor(J/60);if(f<24)return`${f} jam yang lalu`;const L=Math.floor(f/24);if(L<7)return`${L} hari yang lalu`;const Q=Math.floor(L/7);if(Q<4)return`${Q} minggu yang lalu`;const ue=Math.floor(L/30);return ue<12?`${ue} bulan yang lalu`:`${Math.floor(L/365)} tahun yang lalu`},Ne=Pe=>{if(!Pe)return"";const ee=new Date(Pe),we={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};return ee.toLocaleDateString("id-ID",we)},Ae=Pe=>{N.value=Pe,Oe.value=1,Pe==="all"?He.value=q.value:He.value=q.value.filter(ee=>ee.status===Pe)},ke=Pe=>{Pe>=1&&Pe<=g.value&&(Oe.value=Pe)},ce=()=>{Oe.value>1&&Oe.value--},oe=()=>{Oe.value<g.value&&Oe.value++};watch(q,Pe=>{Ae(N.value)},{immediate:!0}),pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",onUnmounted(()=>{Ge&&clearInterval(Ge),r()}),onMounted(async()=>{var ee;console.log("Component mounted");const Pe=axios$1.create();try{const we=await Pe.get("http://localhost/app/publyse/public/sanctum/csrf-cookie",{withCredentials:!0});console.log("✅ CSRF OK:",we.status)}catch(we){console.error("❌ CSRF error:",(ee=we.response)==null?void 0:ee.status,we.message)}nextTick(()=>{te()}),Ge=setInterval(()=>{l.value.length>0&&(l.value=[...l.value])},6e4),s()}),watch(I,Pe=>{Pe&&nextTick(()=>{var ee;(ee=S.value)==null||ee.focus()})});const te=async()=>{D.value=!0;try{const ee=await pdfExports.getDocument(c.value).promise;y.value=markRaw(ee),d.value=ee.numPages,await fe(1)}catch(Pe){console.error("Gagal memuat PDF:",Pe),alert("Gagal memuat file PDF dari server. Pastikan path benar dan file dapat diakses.")}finally{D.value=!1}},fe=async Pe=>{if(y.value){D.value=!0;try{const ee=await y.value.getPage(Pe),we=ee.getViewport({scale:x.value}),De=document.getElementById("pdf-canvas"),J=De.getContext("2d");De.height=we.height,De.width=we.width,k.value={width:we.width,height:we.height};const f={canvasContext:J,viewport:we};await ee.render(f).promise,b.value=Pe,A.value=Pe}catch(ee){console.error("Gagal merender halaman:",ee)}finally{D.value=!1}}},Le=Pe=>{const ee=b.value+Pe;ee>0&&ee<=d.value&&fe(ee)},Be=Pe=>{const ee=parseInt(Pe,10);ee>0&&ee<=d.value?fe(ee):A.value=b.value},Qe=Pe=>{$.value=Pe},nt=Pe=>{$.value!=="point"||E.value||(C.value={content:"",position:{x:Pe.offsetX,y:Pe.offsetY},type:"point",page_number:b.value},I.value=!0)},rt=Pe=>{$.value!=="area"||Pe.target.closest("g, rect")||(E.value=!0,X.value={x:Pe.offsetX,y:Pe.offsetY},H.value={x:Pe.offsetX,y:Pe.offsetY,width:0,height:0})},lt=Pe=>{if(!E.value)return;const ee=Pe.offsetX,we=Pe.offsetY,De=Math.min(ee,X.value.x),J=Math.min(we,X.value.y),f=Math.abs(ee-X.value.x),L=Math.abs(we-X.value.y);H.value={x:De,y:J,width:f,height:L}},dt=()=>{if(E.value){if(E.value=!1,H.value.width<5||H.value.height<5){H.value=null;return}C.value={content:"",position:{...H.value},type:"area",page_number:b.value},I.value=!0,H.value=null}},ot=()=>{I.value=!1,C.value={content:"",position:null,type:"",page_number:0}},gt=async()=>{if(!C.value.content.trim())return;const Pe={...C.value,document_id:o.document.id};Pe.position&&(Pe.position=JSON.stringify(Pe.position));try{let we=(await axios$1.post(o.apiStoreUrl,Pe)).data;we.position=St(we.position),l.value.push(we),ot()}catch(ee){console.error("Gagal menyimpan komentar:",ee),alert("Gagal menyimpan komentar.")}},Ie=async Pe=>{const ee=Pe.status==="open"?"done":"open";try{const we=o.apiStatusUrlTemplate.replace("COMMENT_ID",Pe.id);await axios$1.patch(we,{status:ee}),Pe.status=ee}catch(we){console.error("Gagal mengubah status:",we),alert("Terjadi kesalahan saat mengubah status.")}},pe=async Pe=>{Pe.page_number&&Pe.page_number!==b.value&&await fe(Pe.page_number),G.value=Pe.id,setTimeout(()=>{G.value=null},1500)},he=Pe=>{Ce.value=Pe.id},We=Pe=>{ae.value=Pe,de.value=Pe.content},ze=()=>{ae.value=null,de.value=""},Ot=async Pe=>{if(de.value.trim())try{const ee=o.apiUpdateUrlTemplate.replace("COMMENT_ID",Pe.id),we=await axios$1.put(ee,{content:de.value});Pe.content=we.data.content,Pe.updated_at=we.data.updated_at,ze()}catch(ee){console.error("Gagal mengupdate komentar:",ee),alert("Gagal mengupdate komentar.")}},St=Pe=>{if(!Pe)return null;try{return typeof Pe=="object"?Pe:typeof Pe=="string"?JSON.parse(Pe):null}catch(ee){return console.error("Error parsing position:",ee),null}},ye=(Pe,ee)=>{const we=Pe.filter(De=>De.id!==ee);return we.length===Pe.length?Pe.map(De=>(De.replies&&De.replies.length>0&&(De.replies=ye(De.replies,ee)),De)):we},Xe=async Pe=>{if(confirm("Anda yakin ingin menghapus komentar ini?"))try{const ee=o.apiDeleteUrlTemplate.replace("COMMENT_ID",Pe.id);await axios$1.delete(ee),l.value=ye(l.value,Pe.id)}catch(ee){console.error("Gagal menghapus komentar:",ee),alert("Gagal menghapus komentar.")}},at=Pe=>{K.value=Pe,ge.value=""},Ye=()=>{K.value=null,ge.value=""},ct=async Pe=>{var we,De,J,f;if(!ge.value.trim()){console.warn("Reply text is empty");return}const ee={content:ge.value,document_id:o.document.id,parent_id:Pe.id};console.log("Sending reply payload:",ee),console.log("API Store URL:",o.apiStoreUrl);try{const L=await axios$1.post(o.apiStoreUrl,ee);console.log("Reply response:",L.data),Pe.replies||(Pe.replies=[]),Pe.replies.push(L.data),l.value=[...l.value],Ye(),console.log("Reply berhasil ditambahkan")}catch(L){console.error("Gagal mengirim balasan:",L),console.error("Error response:",(we=L.response)==null?void 0:we.data),console.error("Error status:",(De=L.response)==null?void 0:De.status),(f=(J=L.response)==null?void 0:J.data)!=null&&f.message?alert(`Gagal mengirim balasan: ${L.response.data.message}`):alert("Gagal mengirim balasan.")}},ut=computed(()=>l.value.filter(Pe=>{if(Pe.type===null||Pe.page_number!==b.value)return!1;const ee=St(Pe.position);return ee?Pe.type==="point"?typeof ee.x=="number"&&typeof ee.y=="number":Pe.type==="area"?typeof ee.x=="number"&&typeof ee.y=="number"&&typeof ee.width=="number"&&typeof ee.height=="number":!1:!1}));return(Pe,ee)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["flex w-full h-screen",{"no-select":E.value}])},[createBaseVNode("main",_hoisted_1,[createBaseVNode("header",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("h1",_hoisted_4,"Versi: "+toDisplayString(e.document.version),1)]),y.value?(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("button",{onClick:ee[0]||(ee[0]=we=>Le(-1)),disabled:b.value<=1,class:"px-3 py-2 bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"},"<",8,_hoisted_6),createBaseVNode("span",null,[ee[14]||(ee[14]=createTextVNode("Halaman ")),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":ee[1]||(ee[1]=we=>A.value=we),onChange:ee[2]||(ee[2]=we=>Be(A.value)),class:"w-14 text-center border rounded-md p-1"},null,544),[[vModelText,A.value,void 0,{number:!0}]]),createTextVNode(" / "+toDisplayString(d.value),1)]),createBaseVNode("button",{onClick:ee[3]||(ee[3]=we=>Le(1)),disabled:b.value>=d.value,class:"px-3 py-2 bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"},">",8,_hoisted_7)])):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",_hoisted_8,[createBaseVNode("button",{onClick:Y,disabled:x.value<=w.value,class:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom Out"},ee[15]||(ee[15]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}),createBaseVNode("path",{d:"M4 6.5h6a.5.5 0 0 1 0 1H4a.5.5 0 0 1 0-1z"})],-1)]),8,_hoisted_9),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":ee[4]||(ee[4]=we=>x.value=we),onChange:re,class:"text-sm border-0 bg-transparent focus:ring-0 cursor-pointer"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.value,we=>(openBlock(),createElementBlock("option",{key:we.value,value:we.value},toDisplayString(we.label),9,_hoisted_10))),128))],544),[[vModelSelect,x.value]]),createBaseVNode("button",{onClick:j,disabled:x.value>=O.value,class:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",title:"Zoom In"},ee[16]||(ee[16]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}),createBaseVNode("path",{d:"M6.5 4a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 6.5 4z"})],-1)]),8,_hoisted_11),ee[19]||(ee[19]=createBaseVNode("div",{class:"border-l border-gray-300 h-6 mx-1"},null,-1)),createBaseVNode("button",{onClick:Se,class:"p-2 rounded-md hover:bg-gray-100",title:"Fit to Width"},ee[17]||(ee[17]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"}),createBaseVNode("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8zM2 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm10-3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"})],-1)])),createBaseVNode("button",{onClick:R,class:"p-2 rounded-md hover:bg-gray-100",title:"Fit to Page"},ee[18]||(ee[18]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"}),createBaseVNode("path",{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1)]))])):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("button",{onClick:ee[5]||(ee[5]=we=>Qe("point")),class:normalizeClass([[$.value==="point"?"bg-blue-500 text-white":"bg-white","hover:bg-blue-100"],"p-2 rounded-md"]),title:"Komentar Titik"},ee[20]||(ee[20]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})],-1)]),2),createBaseVNode("button",{onClick:ee[6]||(ee[6]=we=>Qe("area")),class:normalizeClass([[$.value==="area"?"bg-blue-500 text-white":"bg-white","hover:bg-blue-100"],"p-2 rounded-md"]),title:"Komentar Area"},ee[21]||(ee[21]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm-5 0H6v3h4V4zM6 0v3H1v1h5V0zM1 4h4v3H1V4zm4 4H1v1h4V8zm-4 4h4v3H1v-3zm5 3v-3h4v3h-4zm5-3h4v3h-4v-3zM11 4h4V1h-4v3z"})],-1)]),2)])):createCommentVNode("",!0)]),createBaseVNode("div",{class:"flex-grow p-4 overflow-auto flex justify-center items-start bg-gray-100",ref_key:"pdfContainer",ref:M},[D.value?(openBlock(),createElementBlock("div",_hoisted_13,ee[22]||(ee[22]=[createBaseVNode("span",{class:"text-gray-500"},"Memuat PDF...",-1)]))):createCommentVNode("",!0),y.value?(openBlock(),createElementBlock("div",{key:1,id:"pdf-container",class:"relative",style:normalizeStyle({transform:`scale(${V.value})`,transformOrigin:"top center"})},[ee[23]||(ee[23]=createBaseVNode("canvas",{id:"pdf-canvas"},null,-1)),(openBlock(),createElementBlock("svg",{id:"annotation-layer",onMousedown:Z,onMousemove:_e,onMouseup:se,onClick:withModifiers(nt,["self"]),onWheel:B,width:k.value.width,height:k.value.height},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ut.value,we=>(openBlock(),createElementBlock("g",{key:we.id,onClick:De=>pe(we)},[we.type==="point"&&St(we.position)?(openBlock(),createElementBlock("g",{key:0,transform:`translate(${St(we.position).x||0}, ${St(we.position).y||0})`,class:"cursor-pointer"},[createBaseVNode("circle",{r:"12",fill:we.status==="done"?"#16a34a":"red","fill-opacity":"0.3"},null,8,_hoisted_17),createBaseVNode("path",{class:normalizeClass([{highlighted:we.id===G.value&&we.status==="open","highlighted-done":we.id===G.value&&we.status==="done","done-point":we.status==="done"},"annotation-point"]),d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z",fill:"#ef4444",transform:"translate(-8, -16) scale(1)"},null,2)],8,_hoisted_16)):createCommentVNode("",!0),we.type==="area"&&St(we.position)?(openBlock(),createElementBlock("rect",{key:1,class:normalizeClass([{"highlighted-area":we.id===G.value&&we.status==="open","highlighted-area-done":we.id===G.value&&we.status==="done","done-area":we.status==="done"},"annotation-area cursor-pointer"]),x:St(we.position).x||0,y:St(we.position).y||0,width:St(we.position).width||0,height:St(we.position).height||0,stroke:"#3b82f6",fill:"rgba(59, 130, 246, 0.2)"},null,10,_hoisted_18)):createCommentVNode("",!0)],8,_hoisted_15))),128)),E.value&&H.value?(openBlock(),createElementBlock("rect",{key:0,x:H.value.x,y:H.value.y,width:H.value.width,height:H.value.height,fill:"rgba(59, 130, 246, 0.2)",stroke:"#3b82f6","stroke-width":"1","stroke-dasharray":"4"},null,8,_hoisted_19)):createCommentVNode("",!0)],40,_hoisted_14))],4)):createCommentVNode("",!0)],512)]),createBaseVNode("aside",_hoisted_20,[createBaseVNode("div",_hoisted_21,[ee[24]||(ee[24]=createBaseVNode("h2",{class:"text-xl font-bold text-gray-700"},"Daftar Komentar",-1)),createBaseVNode("div",_hoisted_22,[createBaseVNode("button",{onClick:ee[7]||(ee[7]=we=>Ae("all")),class:normalizeClass([{"bg-blue-500 text-white":N.value==="all"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Semua",2),createBaseVNode("button",{onClick:ee[8]||(ee[8]=we=>Ae("open")),class:normalizeClass([{"bg-blue-500 text-white":N.value==="open"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Terbuka",2),createBaseVNode("button",{onClick:ee[9]||(ee[9]=we=>Ae("done")),class:normalizeClass([{"bg-blue-500 text-white":N.value==="done"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Selesai",2)]),He.value.length>0?(openBlock(),createElementBlock("div",_hoisted_23," Menampilkan "+toDisplayString(v.value+1)+"-"+toDisplayString(Math.min(m.value,He.value.length))+" dari "+toDisplayString(He.value.length)+" komentar ",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_24,[He.value.length===0?(openBlock(),createElementBlock("div",_hoisted_25,ee[25]||(ee[25]=[createBaseVNode("p",{class:"text-gray-500 text-center"},"Tidak ada komentar yang cocok dengan filter ini.",-1)]))):(openBlock(),createElementBlock("div",_hoisted_26,[createBaseVNode("div",_hoisted_27,[createBaseVNode("ul",{class:"space-y-3",ref_key:"commentListEl",ref:xe},[(openBlock(!0),createElementBlock(Fragment,null,renderList(T.value,we=>(openBlock(),createElementBlock("li",{key:we.id,ref_for:!0,ref:De=>{De&&(ie.value[we.id]=De)},onClick:De=>he(we),class:normalizeClass(["comment-item border transition-colors rounded-lg overflow-hidden",[we.status==="done"?"bg-green-50 border-green-200":"bg-white border-gray-200",we.id===Ce.value?"border-yellow-400 bg-yellow-50":"cursor-pointer hover:bg-blue-50"]])},[createBaseVNode("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,[createBaseVNode("div",_hoisted_31,[createBaseVNode("div",_hoisted_32,[createBaseVNode("p",{class:"text-sm font-semibold text-gray-600 cursor-pointer",onClick:De=>pe(we)},toDisplayString(we.user.fullname),9,_hoisted_33),ee[26]||(ee[26]=createBaseVNode("span",{class:"text-xs text-gray-400"},"•",-1)),createBaseVNode("span",{class:"text-xs text-gray-400 cursor-help",title:Ne(we.created_at)},toDisplayString(Ee(we.created_at)),9,_hoisted_34)]),we.updated_at&&we.updated_at!==we.created_at?(openBlock(),createElementBlock("div",_hoisted_35,[createBaseVNode("span",{class:"cursor-help",title:Ne(we.updated_at)}," Diedit "+toDisplayString(Ee(we.updated_at)),9,_hoisted_36)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_37,[we.page_number?(openBlock(),createElementBlock("span",{key:0,class:"text-xs font-semibold bg-gray-200 text-gray-700 px-2 py-1 rounded-full whitespace-nowrap cursor-pointer",onClick:De=>pe(we)}," Hal. "+toDisplayString(we.page_number),9,_hoisted_38)):createCommentVNode("",!0),createBaseVNode("input",{type:"checkbox",checked:we.status==="done",onChange:De=>Ie(we),onClick:ee[10]||(ee[10]=withModifiers(()=>{},["stop"])),class:normalizeClass(["form-checkbox h-4 w-4 rounded text-green-600 transition duration-150 ease-in-out",{"cursor-not-allowed":!(e.currentUser.id===e.creatorId||e.currentUser.id===we.user_id)}]),disabled:!(e.currentUser.id===e.creatorId||e.currentUser.id===we.user_id),title:e.currentUser.id===e.creatorId||e.currentUser.id===we.user_id?"Tandai sebagai selesai":"Hanya pemilik publikasi/komentar yang bisa mengubah status"},null,42,_hoisted_39)])]),createBaseVNode("div",_hoisted_40,[ae.value&&ae.value.id===we.id?(openBlock(),createElementBlock("div",_hoisted_41,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ee[11]||(ee[11]=De=>de.value=De),class:"comment-textarea w-full border rounded-md p-3 text-sm resize-none focus:ring-1 focus:ring-blue-400 focus:border-blue-400",rows:"3"},"                                            ",512),[[vModelText,de.value]]),createBaseVNode("div",_hoisted_42,[createBaseVNode("button",{onClick:De=>Ot(we),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"}," Simpan ",8,_hoisted_43),createBaseVNode("button",{onClick:ze,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["comment-content cursor-pointer mb-3",{"line-through text-gray-500":we.status==="done"}]),onClick:De=>pe(we)},toDisplayString(we.content),11,_hoisted_44))]),createBaseVNode("div",_hoisted_45,[createBaseVNode("button",{onClick:De=>at(we),class:"hover:underline hover:text-blue-600"}," Balas ",8,_hoisted_46),e.currentUser.id===we.user_id?(openBlock(),createElementBlock(Fragment,{key:0},[ee[27]||(ee[27]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:De=>We(we),class:"hover:underline hover:text-blue-600"}," Edit ",8,_hoisted_47),ee[28]||(ee[28]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:De=>Xe(we),class:"hover:underline text-red-500 hover:text-red-700"}," Hapus ",8,_hoisted_48)],64)):createCommentVNode("",!0)])]),K.value&&K.value.id===we.id?(openBlock(),createElementBlock("div",_hoisted_49,[createBaseVNode("div",_hoisted_50,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ee[12]||(ee[12]=De=>ge.value=De),class:"comment-textarea w-full border rounded-md p-3 text-sm focus:ring-1 focus:ring-blue-400 focus:border-blue-400",placeholder:"Tulis balasan...",rows:"2"},"                                        ",512),[[vModelText,ge.value]]),createBaseVNode("div",_hoisted_51,[createBaseVNode("button",{onClick:De=>ct(we),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"},"Kirim",8,_hoisted_52),createBaseVNode("button",{onClick:Ye,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])])):createCommentVNode("",!0),we.replies&&we.replies.length>0?(openBlock(),createElementBlock("div",_hoisted_53,[createBaseVNode("div",_hoisted_54,[(openBlock(!0),createElementBlock(Fragment,null,renderList(we.replies,De=>(openBlock(),createElementBlock("div",{key:De.id,class:"bg-gray-50 p-3 rounded-md"},[createBaseVNode("div",_hoisted_55,[createBaseVNode("p",_hoisted_56,toDisplayString(De.user.fullname),1),ee[29]||(ee[29]=createBaseVNode("span",{class:"text-xs text-gray-400"},"•",-1)),createBaseVNode("span",{class:"text-xs text-gray-400 cursor-help",title:Ne(De.created_at)},toDisplayString(Ee(De.created_at)),9,_hoisted_57)]),De.updated_at&&De.updated_at!==De.created_at?(openBlock(),createElementBlock("div",_hoisted_58,[createBaseVNode("span",{class:"cursor-help",title:Ne(De.updated_at)}," Diedit "+toDisplayString(Ee(De.updated_at)),9,_hoisted_59)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_60,toDisplayString(De.content),1)]))),128))])])):createCommentVNode("",!0)],10,_hoisted_28))),128))],512)]),g.value>1?(openBlock(),createElementBlock("div",_hoisted_61,[createBaseVNode("div",_hoisted_62,[createBaseVNode("button",{onClick:ce,disabled:Oe.value<=1,class:"px-3 py-1 text-sm bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"}," < Prev ",8,_hoisted_63),createBaseVNode("div",_hoisted_64,[(openBlock(!0),createElementBlock(Fragment,null,renderList(F.value,we=>(openBlock(),createElementBlock("span",{key:we,class:"pagination-item"},[we!=="..."?(openBlock(),createElementBlock("button",{key:0,onClick:De=>ke(we),class:normalizeClass([we===Oe.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300","px-2 py-1 text-xs rounded"])},toDisplayString(we),11,_hoisted_65)):(openBlock(),createElementBlock("span",_hoisted_66,"..."))]))),128))]),createBaseVNode("button",{onClick:oe,disabled:Oe.value>=g.value,class:"px-3 py-1 text-sm bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"}," Next > ",8,_hoisted_67)])])):createCommentVNode("",!0)]))])]),I.value?(openBlock(),createElementBlock("div",_hoisted_68,[createBaseVNode("div",_hoisted_69,[ee[30]||(ee[30]=createBaseVNode("h3",{class:"text-lg font-semibold mb-4 text-gray-700"},"Komentar Baru",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ee[13]||(ee[13]=we=>C.value.content=we),ref_key:"commentTextarea",ref:S,class:"comment-textarea w-full border border-gray-300 rounded-md p-4 text-sm resize-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",placeholder:"Tulis komentar...",rows:"4"},"                ",512),[[vModelText,C.value.content]]),createBaseVNode("div",{class:"mt-6 flex justify-end gap-4"},[createBaseVNode("button",{onClick:ot,class:"px-6 py-3 bg-gray-300 rounded-md hover:bg-gray-400 text-sm"},"Batal"),createBaseVNode("button",{onClick:gt,class:"px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm"},"Simpan")])])])):createCommentVNode("",!0)],2))}},PdfReviewer=_export_sfc(_sfc_main,[["__scopeId","data-v-fc8c1300"]]);console.log("File app.js baru berhasil dijalankan!");const reviewerAppEl=document.getElementById("pdf-reviewer-app");reviewerAppEl?(console.log("Elemen #pdf-reviewer-app DITEMUKAN! Memulai mount Vue..."),JSON.parse(reviewerAppEl.dataset.document),JSON.parse(reviewerAppEl.dataset.user),createApp(PdfReviewer,{document:JSON.parse(reviewerAppEl.dataset.document),currentUser:JSON.parse(reviewerAppEl.dataset.user),apiStoreUrl:reviewerAppEl.dataset.apiStoreUrl,apiUpdateUrlTemplate:reviewerAppEl.dataset.apiUpdateUrlTemplate,apiDeleteUrlTemplate:reviewerAppEl.dataset.apiDeleteUrlTemplate,apiStatusUrlTemplate:reviewerAppEl.dataset.apiStatusUrlTemplate}).mount(reviewerAppEl),console.log("Aplikasi Vue berhasil di-mount.")):console.log("Elemen #pdf-reviewer-app TIDAK ditemukan di halaman ini.");
