var e0=Object.defineProperty;var t0=(e,n,s)=>n in e?e0(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var Nt=(e,n,s)=>(t0(e,typeof n!="symbol"?n+"":n,s),s),lo=(e,n,s)=>{if(!n.has(e))throw TypeError("Cannot "+s)};var h=(e,n,s)=>(lo(e,n,"read from private field"),s?s.call(e):n.get(e)),re=(e,n,s)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,s)},ke=(e,n,s,r)=>(lo(e,n,"write to private field"),r?r.call(e,s):n.set(e,s),s);var Vi=(e,n,s,r)=>({set _(o){ke(e,n,o,s)},get _(){return h(e,n,r)}}),_e=(e,n,s)=>(lo(e,n,"access private method"),s);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var s=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),s}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(e,n){(function(){var s,r="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",y="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",S=500,u="__lodash_placeholder__",R=1,W=2,B=4,P=1,O=2,x=1,L=2,V=4,H=8,N=16,w=32,C=64,Y=128,$=256,E=512,J=30,j="...",ue=800,fe=16,D=1,Z=2,ee=3,me=1/0,ie=9007199254740991,ge=17976931348623157e292,Re=0/0,Ee=4294967295,Oe=Ee-1,G=Ee>>>1,m=[["ary",Y],["bind",x],["bindKey",L],["curry",H],["curryRight",N],["flip",E],["partial",w],["partialRight",C],["rearg",$]],A="[object Arguments]",g="[object Array]",T="[object AsyncFunction]",F="[object Boolean]",q="[object Date]",Q="[object DOMException]",ae="[object Error]",Ce="[object Function]",k="[object GeneratorFunction]",U="[object Map]",te="[object Number]",ye="[object Null]",le="[object Object]",Te="[object Promise]",Ne="[object Proxy]",xe="[object RegExp]",Me="[object Set]",de="[object String]",ce="[object Symbol]",se="[object Undefined]",ve="[object WeakMap]",De="[object WeakSet]",Be="[object ArrayBuffer]",Je="[object DataView]",et="[object Float32Array]",it="[object Float64Array]",lt="[object Int8Array]",dt="[object Int16Array]",rt="[object Int32Array]",pt="[object Uint8Array]",Ie="[object Uint8ClampedArray]",be="[object Uint16Array]",pe="[object Uint32Array]",Ue=/\b__p \+= '';/g,Ve=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>"']/g,Ke=RegExp(Pt.source),ot=RegExp(we.source),Xe=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,We=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(st.source),f=/^\s+/,v=/\s/,I=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,Se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Le=/[()=,{}\[\]\/\s]/,je=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,Ze=/^[-+]0x[0-9a-f]+$/i,Qe=/^0b[01]+$/i,ut=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,Jt="\\ud800-\\udfff",Pn="\\u0300-\\u036f",kn="\\ufe20-\\ufe2f",Ji="\\u20d0-\\u20ff",jo=Pn+kn+Ji,zo="\\u2700-\\u27bf",qo="a-z\\xdf-\\xf6\\xf8-\\xff",Xc="\\xac\\xb1\\xd7\\xf7",Yc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jc="\\u2000-\\u206f",Zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Go="A-Z\\xc0-\\xd6\\xd8-\\xde",Ko="\\ufe0e\\ufe0f",Xo=Xc+Yc+Jc+Zc,Zs="['’]",Qc="["+Jt+"]",Yo="["+Xo+"]",Zi="["+jo+"]",Jo="\\d+",eu="["+zo+"]",Zo="["+qo+"]",Qo="[^"+Jt+Xo+Jo+zo+qo+Go+"]",Qs="\\ud83c[\\udffb-\\udfff]",tu="(?:"+Zi+"|"+Qs+")",ea="[^"+Jt+"]",er="(?:\\ud83c[\\udde6-\\uddff]){2}",tr="[\\ud800-\\udbff][\\udc00-\\udfff]",ci="["+Go+"]",ta="\\u200d",na="(?:"+Zo+"|"+Qo+")",nu="(?:"+ci+"|"+Qo+")",ia="(?:"+Zs+"(?:d|ll|m|re|s|t|ve))?",sa="(?:"+Zs+"(?:D|LL|M|RE|S|T|VE))?",ra=tu+"?",oa="["+Ko+"]?",iu="(?:"+ta+"(?:"+[ea,er,tr].join("|")+")"+oa+ra+")*",su="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ru="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aa=oa+ra+iu,ou="(?:"+[eu,er,tr].join("|")+")"+aa,au="(?:"+[ea+Zi+"?",Zi,er,tr,Qc].join("|")+")",lu=RegExp(Zs,"g"),cu=RegExp(Zi,"g"),nr=RegExp(Qs+"(?="+Qs+")|"+au+aa,"g"),uu=RegExp([ci+"?"+Zo+"+"+ia+"(?="+[Yo,ci,"$"].join("|")+")",nu+"+"+sa+"(?="+[Yo,ci+na,"$"].join("|")+")",ci+"?"+na+"+"+ia,ci+"+"+sa,ru,su,Jo,ou].join("|"),"g"),hu=RegExp("["+ta+Jt+jo+Ko+"]"),du=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pu=-1,Wt={};Wt[et]=Wt[it]=Wt[lt]=Wt[dt]=Wt[rt]=Wt[pt]=Wt[Ie]=Wt[be]=Wt[pe]=!0,Wt[A]=Wt[g]=Wt[Be]=Wt[F]=Wt[Je]=Wt[q]=Wt[ae]=Wt[Ce]=Wt[U]=Wt[te]=Wt[le]=Wt[xe]=Wt[Me]=Wt[de]=Wt[ve]=!1;var Ut={};Ut[A]=Ut[g]=Ut[Be]=Ut[Je]=Ut[F]=Ut[q]=Ut[et]=Ut[it]=Ut[lt]=Ut[dt]=Ut[rt]=Ut[U]=Ut[te]=Ut[le]=Ut[xe]=Ut[Me]=Ut[de]=Ut[ce]=Ut[pt]=Ut[Ie]=Ut[be]=Ut[pe]=!0,Ut[ae]=Ut[Ce]=Ut[ve]=!1;var gu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vu=parseFloat,yu=parseInt,la=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Au=typeof self=="object"&&self&&self.Object===Object&&self,Zt=la||Au||Function("return this")(),ir=n&&!n.nodeType&&n,Qn=ir&&!0&&e&&!e.nodeType&&e,ca=Qn&&Qn.exports===ir,sr=ca&&la.process,mn=function(){try{var Pe=Qn&&Qn.require&&Qn.require("util").types;return Pe||sr&&sr.binding&&sr.binding("util")}catch{}}(),ua=mn&&mn.isArrayBuffer,ha=mn&&mn.isDate,da=mn&&mn.isMap,fa=mn&&mn.isRegExp,pa=mn&&mn.isSet,ga=mn&&mn.isTypedArray;function un(Pe,He,$e){switch($e.length){case 0:return Pe.call(He);case 1:return Pe.call(He,$e[0]);case 2:return Pe.call(He,$e[0],$e[1]);case 3:return Pe.call(He,$e[0],$e[1],$e[2])}return Pe.apply(He,$e)}function Su(Pe,He,$e,ft){for(var wt=-1,It=Pe==null?0:Pe.length;++wt<It;){var Kt=Pe[wt];He(ft,Kt,$e(Kt),Pe)}return ft}function _n(Pe,He){for(var $e=-1,ft=Pe==null?0:Pe.length;++$e<ft&&He(Pe[$e],$e,Pe)!==!1;);return Pe}function wu(Pe,He){for(var $e=Pe==null?0:Pe.length;$e--&&He(Pe[$e],$e,Pe)!==!1;);return Pe}function ma(Pe,He){for(var $e=-1,ft=Pe==null?0:Pe.length;++$e<ft;)if(!He(Pe[$e],$e,Pe))return!1;return!0}function jn(Pe,He){for(var $e=-1,ft=Pe==null?0:Pe.length,wt=0,It=[];++$e<ft;){var Kt=Pe[$e];He(Kt,$e,Pe)&&(It[wt++]=Kt)}return It}function Qi(Pe,He){var $e=Pe==null?0:Pe.length;return!!$e&&ui(Pe,He,0)>-1}function rr(Pe,He,$e){for(var ft=-1,wt=Pe==null?0:Pe.length;++ft<wt;)if($e(He,Pe[ft]))return!0;return!1}function Vt(Pe,He){for(var $e=-1,ft=Pe==null?0:Pe.length,wt=Array(ft);++$e<ft;)wt[$e]=He(Pe[$e],$e,Pe);return wt}function zn(Pe,He){for(var $e=-1,ft=He.length,wt=Pe.length;++$e<ft;)Pe[wt+$e]=He[$e];return Pe}function or(Pe,He,$e,ft){var wt=-1,It=Pe==null?0:Pe.length;for(ft&&It&&($e=Pe[++wt]);++wt<It;)$e=He($e,Pe[wt],wt,Pe);return $e}function Eu(Pe,He,$e,ft){var wt=Pe==null?0:Pe.length;for(ft&&wt&&($e=Pe[--wt]);wt--;)$e=He($e,Pe[wt],wt,Pe);return $e}function ar(Pe,He){for(var $e=-1,ft=Pe==null?0:Pe.length;++$e<ft;)if(He(Pe[$e],$e,Pe))return!0;return!1}var xu=lr("length");function Cu(Pe){return Pe.split("")}function Tu(Pe){return Pe.match(Se)||[]}function _a(Pe,He,$e){var ft;return $e(Pe,function(wt,It,Kt){if(He(wt,It,Kt))return ft=It,!1}),ft}function es(Pe,He,$e,ft){for(var wt=Pe.length,It=$e+(ft?1:-1);ft?It--:++It<wt;)if(He(Pe[It],It,Pe))return It;return-1}function ui(Pe,He,$e){return He===He?$u(Pe,He,$e):es(Pe,ba,$e)}function Ru(Pe,He,$e,ft){for(var wt=$e-1,It=Pe.length;++wt<It;)if(ft(Pe[wt],He))return wt;return-1}function ba(Pe){return Pe!==Pe}function va(Pe,He){var $e=Pe==null?0:Pe.length;return $e?ur(Pe,He)/$e:Re}function lr(Pe){return function(He){return He==null?s:He[Pe]}}function cr(Pe){return function(He){return Pe==null?s:Pe[He]}}function ya(Pe,He,$e,ft,wt){return wt(Pe,function(It,Kt,$t){$e=ft?(ft=!1,It):He($e,It,Kt,$t)}),$e}function Pu(Pe,He){var $e=Pe.length;for(Pe.sort(He);$e--;)Pe[$e]=Pe[$e].value;return Pe}function ur(Pe,He){for(var $e,ft=-1,wt=Pe.length;++ft<wt;){var It=He(Pe[ft]);It!==s&&($e=$e===s?It:$e+It)}return $e}function hr(Pe,He){for(var $e=-1,ft=Array(Pe);++$e<Pe;)ft[$e]=He($e);return ft}function ku(Pe,He){return Vt(He,function($e){return[$e,Pe[$e]]})}function Aa(Pe){return Pe&&Pe.slice(0,xa(Pe)+1).replace(f,"")}function hn(Pe){return function(He){return Pe(He)}}function dr(Pe,He){return Vt(He,function($e){return Pe[$e]})}function Ri(Pe,He){return Pe.has(He)}function Sa(Pe,He){for(var $e=-1,ft=Pe.length;++$e<ft&&ui(He,Pe[$e],0)>-1;);return $e}function wa(Pe,He){for(var $e=Pe.length;$e--&&ui(He,Pe[$e],0)>-1;);return $e}function Mu(Pe,He){for(var $e=Pe.length,ft=0;$e--;)Pe[$e]===He&&++ft;return ft}var Fu=cr(gu),Ou=cr(mu);function Iu(Pe){return"\\"+bu[Pe]}function Du(Pe,He){return Pe==null?s:Pe[He]}function hi(Pe){return hu.test(Pe)}function Lu(Pe){return du.test(Pe)}function Nu(Pe){for(var He,$e=[];!(He=Pe.next()).done;)$e.push(He.value);return $e}function fr(Pe){var He=-1,$e=Array(Pe.size);return Pe.forEach(function(ft,wt){$e[++He]=[wt,ft]}),$e}function Ea(Pe,He){return function($e){return Pe(He($e))}}function qn(Pe,He){for(var $e=-1,ft=Pe.length,wt=0,It=[];++$e<ft;){var Kt=Pe[$e];(Kt===He||Kt===u)&&(Pe[$e]=u,It[wt++]=$e)}return It}function ts(Pe){var He=-1,$e=Array(Pe.size);return Pe.forEach(function(ft){$e[++He]=ft}),$e}function Bu(Pe){var He=-1,$e=Array(Pe.size);return Pe.forEach(function(ft){$e[++He]=[ft,ft]}),$e}function $u(Pe,He,$e){for(var ft=$e-1,wt=Pe.length;++ft<wt;)if(Pe[ft]===He)return ft;return-1}function Uu(Pe,He,$e){for(var ft=$e+1;ft--;)if(Pe[ft]===He)return ft;return ft}function di(Pe){return hi(Pe)?Wu(Pe):xu(Pe)}function xn(Pe){return hi(Pe)?Vu(Pe):Cu(Pe)}function xa(Pe){for(var He=Pe.length;He--&&v.test(Pe.charAt(He)););return He}var Hu=cr(_u);function Wu(Pe){for(var He=nr.lastIndex=0;nr.test(Pe);)++He;return He}function Vu(Pe){return Pe.match(nr)||[]}function ju(Pe){return Pe.match(uu)||[]}var zu=function Pe(He){He=He==null?Zt:fi.defaults(Zt.Object(),He,fi.pick(Zt,fu));var $e=He.Array,ft=He.Date,wt=He.Error,It=He.Function,Kt=He.Math,$t=He.Object,pr=He.RegExp,qu=He.String,bn=He.TypeError,ns=$e.prototype,Gu=It.prototype,pi=$t.prototype,is=He["__core-js_shared__"],ss=Gu.toString,Lt=pi.hasOwnProperty,Ku=0,Ca=function(){var t=/[^.]+$/.exec(is&&is.keys&&is.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),rs=pi.toString,Xu=ss.call($t),Yu=Zt._,Ju=pr("^"+ss.call(Lt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=ca?He.Buffer:s,Gn=He.Symbol,as=He.Uint8Array,Ta=os?os.allocUnsafe:s,ls=Ea($t.getPrototypeOf,$t),Ra=$t.create,Pa=pi.propertyIsEnumerable,cs=ns.splice,ka=Gn?Gn.isConcatSpreadable:s,Pi=Gn?Gn.iterator:s,ei=Gn?Gn.toStringTag:s,us=function(){try{var t=ri($t,"defineProperty");return t({},"",{}),t}catch{}}(),Zu=He.clearTimeout!==Zt.clearTimeout&&He.clearTimeout,Qu=ft&&ft.now!==Zt.Date.now&&ft.now,eh=He.setTimeout!==Zt.setTimeout&&He.setTimeout,hs=Kt.ceil,ds=Kt.floor,gr=$t.getOwnPropertySymbols,th=os?os.isBuffer:s,Ma=He.isFinite,nh=ns.join,ih=Ea($t.keys,$t),Xt=Kt.max,en=Kt.min,sh=ft.now,rh=He.parseInt,Fa=Kt.random,oh=ns.reverse,mr=ri(He,"DataView"),ki=ri(He,"Map"),_r=ri(He,"Promise"),gi=ri(He,"Set"),Mi=ri(He,"WeakMap"),Fi=ri($t,"create"),fs=Mi&&new Mi,mi={},ah=oi(mr),lh=oi(ki),ch=oi(_r),uh=oi(gi),hh=oi(Mi),ps=Gn?Gn.prototype:s,Oi=ps?ps.valueOf:s,Oa=ps?ps.toString:s;function z(t){if(zt(t)&&!Et(t)&&!(t instanceof Mt)){if(t instanceof vn)return t;if(Lt.call(t,"__wrapped__"))return Il(t)}return new vn(t)}var _i=function(){function t(){}return function(i){if(!jt(i))return{};if(Ra)return Ra(i);t.prototype=i;var a=new t;return t.prototype=s,a}}();function gs(){}function vn(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=s}z.templateSettings={escape:Xe,evaluate:at,interpolate:ct,variable:"",imports:{_:z}},z.prototype=gs.prototype,z.prototype.constructor=z,vn.prototype=_i(gs.prototype),vn.prototype.constructor=vn;function Mt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function dh(){var t=new Mt(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t}function fh(){if(this.__filtered__){var t=new Mt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function ph(){var t=this.__wrapped__.value(),i=this.__dir__,a=Et(t),d=i<0,M=a?t.length:0,X=Cd(0,M,this.__views__),he=X.start,Ae=X.end,Fe=Ae-he,ze=d?Ae:he-1,qe=this.__iteratees__,Ye=qe.length,ht=0,mt=en(Fe,this.__takeCount__);if(!a||!d&&M==Fe&&mt==Fe)return il(t,this.__actions__);var yt=[];e:for(;Fe--&&ht<mt;){ze+=i;for(var Tt=-1,At=t[ze];++Tt<Ye;){var kt=qe[Tt],Ot=kt.iteratee,pn=kt.type,rn=Ot(At);if(pn==Z)At=rn;else if(!rn){if(pn==D)continue e;break e}}yt[ht++]=At}return yt}Mt.prototype=_i(gs.prototype),Mt.prototype.constructor=Mt;function ti(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var d=t[i];this.set(d[0],d[1])}}function gh(){this.__data__=Fi?Fi(null):{},this.size=0}function mh(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}function _h(t){var i=this.__data__;if(Fi){var a=i[t];return a===b?s:a}return Lt.call(i,t)?i[t]:s}function bh(t){var i=this.__data__;return Fi?i[t]!==s:Lt.call(i,t)}function vh(t,i){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Fi&&i===s?b:i,this}ti.prototype.clear=gh,ti.prototype.delete=mh,ti.prototype.get=_h,ti.prototype.has=bh,ti.prototype.set=vh;function In(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var d=t[i];this.set(d[0],d[1])}}function yh(){this.__data__=[],this.size=0}function Ah(t){var i=this.__data__,a=ms(i,t);if(a<0)return!1;var d=i.length-1;return a==d?i.pop():cs.call(i,a,1),--this.size,!0}function Sh(t){var i=this.__data__,a=ms(i,t);return a<0?s:i[a][1]}function wh(t){return ms(this.__data__,t)>-1}function Eh(t,i){var a=this.__data__,d=ms(a,t);return d<0?(++this.size,a.push([t,i])):a[d][1]=i,this}In.prototype.clear=yh,In.prototype.delete=Ah,In.prototype.get=Sh,In.prototype.has=wh,In.prototype.set=Eh;function Dn(t){var i=-1,a=t==null?0:t.length;for(this.clear();++i<a;){var d=t[i];this.set(d[0],d[1])}}function xh(){this.size=0,this.__data__={hash:new ti,map:new(ki||In),string:new ti}}function Ch(t){var i=Rs(this,t).delete(t);return this.size-=i?1:0,i}function Th(t){return Rs(this,t).get(t)}function Rh(t){return Rs(this,t).has(t)}function Ph(t,i){var a=Rs(this,t),d=a.size;return a.set(t,i),this.size+=a.size==d?0:1,this}Dn.prototype.clear=xh,Dn.prototype.delete=Ch,Dn.prototype.get=Th,Dn.prototype.has=Rh,Dn.prototype.set=Ph;function ni(t){var i=-1,a=t==null?0:t.length;for(this.__data__=new Dn;++i<a;)this.add(t[i])}function kh(t){return this.__data__.set(t,b),this}function Mh(t){return this.__data__.has(t)}ni.prototype.add=ni.prototype.push=kh,ni.prototype.has=Mh;function Cn(t){var i=this.__data__=new In(t);this.size=i.size}function Fh(){this.__data__=new In,this.size=0}function Oh(t){var i=this.__data__,a=i.delete(t);return this.size=i.size,a}function Ih(t){return this.__data__.get(t)}function Dh(t){return this.__data__.has(t)}function Lh(t,i){var a=this.__data__;if(a instanceof In){var d=a.__data__;if(!ki||d.length<o-1)return d.push([t,i]),this.size=++a.size,this;a=this.__data__=new Dn(d)}return a.set(t,i),this.size=a.size,this}Cn.prototype.clear=Fh,Cn.prototype.delete=Oh,Cn.prototype.get=Ih,Cn.prototype.has=Dh,Cn.prototype.set=Lh;function Ia(t,i){var a=Et(t),d=!a&&ai(t),M=!a&&!d&&Zn(t),X=!a&&!d&&!M&&Ai(t),he=a||d||M||X,Ae=he?hr(t.length,qu):[],Fe=Ae.length;for(var ze in t)(i||Lt.call(t,ze))&&!(he&&(ze=="length"||M&&(ze=="offset"||ze=="parent")||X&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||$n(ze,Fe)))&&Ae.push(ze);return Ae}function Da(t){var i=t.length;return i?t[Rr(0,i-1)]:s}function Nh(t,i){return Ps(on(t),ii(i,0,t.length))}function Bh(t){return Ps(on(t))}function br(t,i,a){(a!==s&&!Tn(t[i],a)||a===s&&!(i in t))&&Ln(t,i,a)}function Ii(t,i,a){var d=t[i];(!(Lt.call(t,i)&&Tn(d,a))||a===s&&!(i in t))&&Ln(t,i,a)}function ms(t,i){for(var a=t.length;a--;)if(Tn(t[a][0],i))return a;return-1}function $h(t,i,a,d){return Kn(t,function(M,X,he){i(d,M,a(M),he)}),d}function La(t,i){return t&&Fn(i,Yt(i),t)}function Uh(t,i){return t&&Fn(i,ln(i),t)}function Ln(t,i,a){i=="__proto__"&&us?us(t,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[i]=a}function vr(t,i){for(var a=-1,d=i.length,M=$e(d),X=t==null;++a<d;)M[a]=X?s:Qr(t,i[a]);return M}function ii(t,i,a){return t===t&&(a!==s&&(t=t<=a?t:a),i!==s&&(t=t>=i?t:i)),t}function yn(t,i,a,d,M,X){var he,Ae=i&R,Fe=i&W,ze=i&B;if(a&&(he=M?a(t,d,M,X):a(t)),he!==s)return he;if(!jt(t))return t;var qe=Et(t);if(qe){if(he=Rd(t),!Ae)return on(t,he)}else{var Ye=tn(t),ht=Ye==Ce||Ye==k;if(Zn(t))return ol(t,Ae);if(Ye==le||Ye==A||ht&&!M){if(he=Fe||ht?{}:xl(t),!Ae)return Fe?_d(t,Uh(he,t)):md(t,La(he,t))}else{if(!Ut[Ye])return M?t:{};he=Pd(t,Ye,Ae)}}X||(X=new Cn);var mt=X.get(t);if(mt)return mt;X.set(t,he),ec(t)?t.forEach(function(At){he.add(yn(At,i,a,At,t,X))}):Zl(t)&&t.forEach(function(At,kt){he.set(kt,yn(At,i,a,kt,t,X))});var yt=ze?Fe?$r:Br:Fe?ln:Yt,Tt=qe?s:yt(t);return _n(Tt||t,function(At,kt){Tt&&(kt=At,At=t[kt]),Ii(he,kt,yn(At,i,a,kt,t,X))}),he}function Hh(t){var i=Yt(t);return function(a){return Na(a,t,i)}}function Na(t,i,a){var d=a.length;if(t==null)return!d;for(t=$t(t);d--;){var M=a[d],X=i[M],he=t[M];if(he===s&&!(M in t)||!X(he))return!1}return!0}function Ba(t,i,a){if(typeof t!="function")throw new bn(c);return Hi(function(){t.apply(s,a)},i)}function Di(t,i,a,d){var M=-1,X=Qi,he=!0,Ae=t.length,Fe=[],ze=i.length;if(!Ae)return Fe;a&&(i=Vt(i,hn(a))),d?(X=rr,he=!1):i.length>=o&&(X=Ri,he=!1,i=new ni(i));e:for(;++M<Ae;){var qe=t[M],Ye=a==null?qe:a(qe);if(qe=d||qe!==0?qe:0,he&&Ye===Ye){for(var ht=ze;ht--;)if(i[ht]===Ye)continue e;Fe.push(qe)}else X(i,Ye,d)||Fe.push(qe)}return Fe}var Kn=hl(Mn),$a=hl(Ar,!0);function Wh(t,i){var a=!0;return Kn(t,function(d,M,X){return a=!!i(d,M,X),a}),a}function _s(t,i,a){for(var d=-1,M=t.length;++d<M;){var X=t[d],he=i(X);if(he!=null&&(Ae===s?he===he&&!fn(he):a(he,Ae)))var Ae=he,Fe=X}return Fe}function Vh(t,i,a,d){var M=t.length;for(a=Ct(a),a<0&&(a=-a>M?0:M+a),d=d===s||d>M?M:Ct(d),d<0&&(d+=M),d=a>d?0:nc(d);a<d;)t[a++]=i;return t}function Ua(t,i){var a=[];return Kn(t,function(d,M,X){i(d,M,X)&&a.push(d)}),a}function Qt(t,i,a,d,M){var X=-1,he=t.length;for(a||(a=Md),M||(M=[]);++X<he;){var Ae=t[X];i>0&&a(Ae)?i>1?Qt(Ae,i-1,a,d,M):zn(M,Ae):d||(M[M.length]=Ae)}return M}var yr=dl(),Ha=dl(!0);function Mn(t,i){return t&&yr(t,i,Yt)}function Ar(t,i){return t&&Ha(t,i,Yt)}function bs(t,i){return jn(i,function(a){return Un(t[a])})}function si(t,i){i=Yn(i,t);for(var a=0,d=i.length;t!=null&&a<d;)t=t[On(i[a++])];return a&&a==d?t:s}function Wa(t,i,a){var d=i(t);return Et(t)?d:zn(d,a(t))}function nn(t){return t==null?t===s?se:ye:ei&&ei in $t(t)?xd(t):Bd(t)}function Sr(t,i){return t>i}function jh(t,i){return t!=null&&Lt.call(t,i)}function zh(t,i){return t!=null&&i in $t(t)}function qh(t,i,a){return t>=en(i,a)&&t<Xt(i,a)}function wr(t,i,a){for(var d=a?rr:Qi,M=t[0].length,X=t.length,he=X,Ae=$e(X),Fe=1/0,ze=[];he--;){var qe=t[he];he&&i&&(qe=Vt(qe,hn(i))),Fe=en(qe.length,Fe),Ae[he]=!a&&(i||M>=120&&qe.length>=120)?new ni(he&&qe):s}qe=t[0];var Ye=-1,ht=Ae[0];e:for(;++Ye<M&&ze.length<Fe;){var mt=qe[Ye],yt=i?i(mt):mt;if(mt=a||mt!==0?mt:0,!(ht?Ri(ht,yt):d(ze,yt,a))){for(he=X;--he;){var Tt=Ae[he];if(!(Tt?Ri(Tt,yt):d(t[he],yt,a)))continue e}ht&&ht.push(yt),ze.push(mt)}}return ze}function Gh(t,i,a,d){return Mn(t,function(M,X,he){i(d,a(M),X,he)}),d}function Li(t,i,a){i=Yn(i,t),t=Pl(t,i);var d=t==null?t:t[On(Sn(i))];return d==null?s:un(d,t,a)}function Va(t){return zt(t)&&nn(t)==A}function Kh(t){return zt(t)&&nn(t)==Be}function Xh(t){return zt(t)&&nn(t)==q}function Ni(t,i,a,d,M){return t===i?!0:t==null||i==null||!zt(t)&&!zt(i)?t!==t&&i!==i:Yh(t,i,a,d,Ni,M)}function Yh(t,i,a,d,M,X){var he=Et(t),Ae=Et(i),Fe=he?g:tn(t),ze=Ae?g:tn(i);Fe=Fe==A?le:Fe,ze=ze==A?le:ze;var qe=Fe==le,Ye=ze==le,ht=Fe==ze;if(ht&&Zn(t)){if(!Zn(i))return!1;he=!0,qe=!1}if(ht&&!qe)return X||(X=new Cn),he||Ai(t)?Sl(t,i,a,d,M,X):wd(t,i,Fe,a,d,M,X);if(!(a&P)){var mt=qe&&Lt.call(t,"__wrapped__"),yt=Ye&&Lt.call(i,"__wrapped__");if(mt||yt){var Tt=mt?t.value():t,At=yt?i.value():i;return X||(X=new Cn),M(Tt,At,a,d,X)}}return ht?(X||(X=new Cn),Ed(t,i,a,d,M,X)):!1}function Jh(t){return zt(t)&&tn(t)==U}function Er(t,i,a,d){var M=a.length,X=M,he=!d;if(t==null)return!X;for(t=$t(t);M--;){var Ae=a[M];if(he&&Ae[2]?Ae[1]!==t[Ae[0]]:!(Ae[0]in t))return!1}for(;++M<X;){Ae=a[M];var Fe=Ae[0],ze=t[Fe],qe=Ae[1];if(he&&Ae[2]){if(ze===s&&!(Fe in t))return!1}else{var Ye=new Cn;if(d)var ht=d(ze,qe,Fe,t,i,Ye);if(!(ht===s?Ni(qe,ze,P|O,d,Ye):ht))return!1}}return!0}function ja(t){if(!jt(t)||Od(t))return!1;var i=Un(t)?Ju:ut;return i.test(oi(t))}function Zh(t){return zt(t)&&nn(t)==xe}function Qh(t){return zt(t)&&tn(t)==Me}function ed(t){return zt(t)&&Ds(t.length)&&!!Wt[nn(t)]}function za(t){return typeof t=="function"?t:t==null?cn:typeof t=="object"?Et(t)?Ka(t[0],t[1]):Ga(t):fc(t)}function xr(t){if(!Ui(t))return ih(t);var i=[];for(var a in $t(t))Lt.call(t,a)&&a!="constructor"&&i.push(a);return i}function td(t){if(!jt(t))return Nd(t);var i=Ui(t),a=[];for(var d in t)d=="constructor"&&(i||!Lt.call(t,d))||a.push(d);return a}function Cr(t,i){return t<i}function qa(t,i){var a=-1,d=an(t)?$e(t.length):[];return Kn(t,function(M,X,he){d[++a]=i(M,X,he)}),d}function Ga(t){var i=Hr(t);return i.length==1&&i[0][2]?Tl(i[0][0],i[0][1]):function(a){return a===t||Er(a,t,i)}}function Ka(t,i){return Vr(t)&&Cl(i)?Tl(On(t),i):function(a){var d=Qr(a,t);return d===s&&d===i?eo(a,t):Ni(i,d,P|O)}}function vs(t,i,a,d,M){t!==i&&yr(i,function(X,he){if(M||(M=new Cn),jt(X))nd(t,i,he,a,vs,d,M);else{var Ae=d?d(zr(t,he),X,he+"",t,i,M):s;Ae===s&&(Ae=X),br(t,he,Ae)}},ln)}function nd(t,i,a,d,M,X,he){var Ae=zr(t,a),Fe=zr(i,a),ze=he.get(Fe);if(ze){br(t,a,ze);return}var qe=X?X(Ae,Fe,a+"",t,i,he):s,Ye=qe===s;if(Ye){var ht=Et(Fe),mt=!ht&&Zn(Fe),yt=!ht&&!mt&&Ai(Fe);qe=Fe,ht||mt||yt?Et(Ae)?qe=Ae:qt(Ae)?qe=on(Ae):mt?(Ye=!1,qe=ol(Fe,!0)):yt?(Ye=!1,qe=al(Fe,!0)):qe=[]:Wi(Fe)||ai(Fe)?(qe=Ae,ai(Ae)?qe=ic(Ae):(!jt(Ae)||Un(Ae))&&(qe=xl(Fe))):Ye=!1}Ye&&(he.set(Fe,qe),M(qe,Fe,d,X,he),he.delete(Fe)),br(t,a,qe)}function Xa(t,i){var a=t.length;if(a)return i+=i<0?a:0,$n(i,a)?t[i]:s}function Ya(t,i,a){i.length?i=Vt(i,function(X){return Et(X)?function(he){return si(he,X.length===1?X[0]:X)}:X}):i=[cn];var d=-1;i=Vt(i,hn(vt()));var M=qa(t,function(X,he,Ae){var Fe=Vt(i,function(ze){return ze(X)});return{criteria:Fe,index:++d,value:X}});return Pu(M,function(X,he){return gd(X,he,a)})}function id(t,i){return Ja(t,i,function(a,d){return eo(t,d)})}function Ja(t,i,a){for(var d=-1,M=i.length,X={};++d<M;){var he=i[d],Ae=si(t,he);a(Ae,he)&&Bi(X,Yn(he,t),Ae)}return X}function sd(t){return function(i){return si(i,t)}}function Tr(t,i,a,d){var M=d?Ru:ui,X=-1,he=i.length,Ae=t;for(t===i&&(i=on(i)),a&&(Ae=Vt(t,hn(a)));++X<he;)for(var Fe=0,ze=i[X],qe=a?a(ze):ze;(Fe=M(Ae,qe,Fe,d))>-1;)Ae!==t&&cs.call(Ae,Fe,1),cs.call(t,Fe,1);return t}function Za(t,i){for(var a=t?i.length:0,d=a-1;a--;){var M=i[a];if(a==d||M!==X){var X=M;$n(M)?cs.call(t,M,1):Mr(t,M)}}return t}function Rr(t,i){return t+ds(Fa()*(i-t+1))}function rd(t,i,a,d){for(var M=-1,X=Xt(hs((i-t)/(a||1)),0),he=$e(X);X--;)he[d?X:++M]=t,t+=a;return he}function Pr(t,i){var a="";if(!t||i<1||i>ie)return a;do i%2&&(a+=t),i=ds(i/2),i&&(t+=t);while(i);return a}function Rt(t,i){return qr(Rl(t,i,cn),t+"")}function od(t){return Da(Si(t))}function ad(t,i){var a=Si(t);return Ps(a,ii(i,0,a.length))}function Bi(t,i,a,d){if(!jt(t))return t;i=Yn(i,t);for(var M=-1,X=i.length,he=X-1,Ae=t;Ae!=null&&++M<X;){var Fe=On(i[M]),ze=a;if(Fe==="__proto__"||Fe==="constructor"||Fe==="prototype")return t;if(M!=he){var qe=Ae[Fe];ze=d?d(qe,Fe,Ae):s,ze===s&&(ze=jt(qe)?qe:$n(i[M+1])?[]:{})}Ii(Ae,Fe,ze),Ae=Ae[Fe]}return t}var Qa=fs?function(t,i){return fs.set(t,i),t}:cn,ld=us?function(t,i){return us(t,"toString",{configurable:!0,enumerable:!1,value:no(i),writable:!0})}:cn;function cd(t){return Ps(Si(t))}function An(t,i,a){var d=-1,M=t.length;i<0&&(i=-i>M?0:M+i),a=a>M?M:a,a<0&&(a+=M),M=i>a?0:a-i>>>0,i>>>=0;for(var X=$e(M);++d<M;)X[d]=t[d+i];return X}function ud(t,i){var a;return Kn(t,function(d,M,X){return a=i(d,M,X),!a}),!!a}function ys(t,i,a){var d=0,M=t==null?d:t.length;if(typeof i=="number"&&i===i&&M<=G){for(;d<M;){var X=d+M>>>1,he=t[X];he!==null&&!fn(he)&&(a?he<=i:he<i)?d=X+1:M=X}return M}return kr(t,i,cn,a)}function kr(t,i,a,d){var M=0,X=t==null?0:t.length;if(X===0)return 0;i=a(i);for(var he=i!==i,Ae=i===null,Fe=fn(i),ze=i===s;M<X;){var qe=ds((M+X)/2),Ye=a(t[qe]),ht=Ye!==s,mt=Ye===null,yt=Ye===Ye,Tt=fn(Ye);if(he)var At=d||yt;else ze?At=yt&&(d||ht):Ae?At=yt&&ht&&(d||!mt):Fe?At=yt&&ht&&!mt&&(d||!Tt):mt||Tt?At=!1:At=d?Ye<=i:Ye<i;At?M=qe+1:X=qe}return en(X,Oe)}function el(t,i){for(var a=-1,d=t.length,M=0,X=[];++a<d;){var he=t[a],Ae=i?i(he):he;if(!a||!Tn(Ae,Fe)){var Fe=Ae;X[M++]=he===0?0:he}}return X}function tl(t){return typeof t=="number"?t:fn(t)?Re:+t}function dn(t){if(typeof t=="string")return t;if(Et(t))return Vt(t,dn)+"";if(fn(t))return Oa?Oa.call(t):"";var i=t+"";return i=="0"&&1/t==-me?"-0":i}function Xn(t,i,a){var d=-1,M=Qi,X=t.length,he=!0,Ae=[],Fe=Ae;if(a)he=!1,M=rr;else if(X>=o){var ze=i?null:Ad(t);if(ze)return ts(ze);he=!1,M=Ri,Fe=new ni}else Fe=i?[]:Ae;e:for(;++d<X;){var qe=t[d],Ye=i?i(qe):qe;if(qe=a||qe!==0?qe:0,he&&Ye===Ye){for(var ht=Fe.length;ht--;)if(Fe[ht]===Ye)continue e;i&&Fe.push(Ye),Ae.push(qe)}else M(Fe,Ye,a)||(Fe!==Ae&&Fe.push(Ye),Ae.push(qe))}return Ae}function Mr(t,i){return i=Yn(i,t),t=Pl(t,i),t==null||delete t[On(Sn(i))]}function nl(t,i,a,d){return Bi(t,i,a(si(t,i)),d)}function As(t,i,a,d){for(var M=t.length,X=d?M:-1;(d?X--:++X<M)&&i(t[X],X,t););return a?An(t,d?0:X,d?X+1:M):An(t,d?X+1:0,d?M:X)}function il(t,i){var a=t;return a instanceof Mt&&(a=a.value()),or(i,function(d,M){return M.func.apply(M.thisArg,zn([d],M.args))},a)}function Fr(t,i,a){var d=t.length;if(d<2)return d?Xn(t[0]):[];for(var M=-1,X=$e(d);++M<d;)for(var he=t[M],Ae=-1;++Ae<d;)Ae!=M&&(X[M]=Di(X[M]||he,t[Ae],i,a));return Xn(Qt(X,1),i,a)}function sl(t,i,a){for(var d=-1,M=t.length,X=i.length,he={};++d<M;){var Ae=d<X?i[d]:s;a(he,t[d],Ae)}return he}function Or(t){return qt(t)?t:[]}function Ir(t){return typeof t=="function"?t:cn}function Yn(t,i){return Et(t)?t:Vr(t,i)?[t]:Ol(Dt(t))}var hd=Rt;function Jn(t,i,a){var d=t.length;return a=a===s?d:a,!i&&a>=d?t:An(t,i,a)}var rl=Zu||function(t){return Zt.clearTimeout(t)};function ol(t,i){if(i)return t.slice();var a=t.length,d=Ta?Ta(a):new t.constructor(a);return t.copy(d),d}function Dr(t){var i=new t.constructor(t.byteLength);return new as(i).set(new as(t)),i}function dd(t,i){var a=i?Dr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}function fd(t){var i=new t.constructor(t.source,nt.exec(t));return i.lastIndex=t.lastIndex,i}function pd(t){return Oi?$t(Oi.call(t)):{}}function al(t,i){var a=i?Dr(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}function ll(t,i){if(t!==i){var a=t!==s,d=t===null,M=t===t,X=fn(t),he=i!==s,Ae=i===null,Fe=i===i,ze=fn(i);if(!Ae&&!ze&&!X&&t>i||X&&he&&Fe&&!Ae&&!ze||d&&he&&Fe||!a&&Fe||!M)return 1;if(!d&&!X&&!ze&&t<i||ze&&a&&M&&!d&&!X||Ae&&a&&M||!he&&M||!Fe)return-1}return 0}function gd(t,i,a){for(var d=-1,M=t.criteria,X=i.criteria,he=M.length,Ae=a.length;++d<he;){var Fe=ll(M[d],X[d]);if(Fe){if(d>=Ae)return Fe;var ze=a[d];return Fe*(ze=="desc"?-1:1)}}return t.index-i.index}function cl(t,i,a,d){for(var M=-1,X=t.length,he=a.length,Ae=-1,Fe=i.length,ze=Xt(X-he,0),qe=$e(Fe+ze),Ye=!d;++Ae<Fe;)qe[Ae]=i[Ae];for(;++M<he;)(Ye||M<X)&&(qe[a[M]]=t[M]);for(;ze--;)qe[Ae++]=t[M++];return qe}function ul(t,i,a,d){for(var M=-1,X=t.length,he=-1,Ae=a.length,Fe=-1,ze=i.length,qe=Xt(X-Ae,0),Ye=$e(qe+ze),ht=!d;++M<qe;)Ye[M]=t[M];for(var mt=M;++Fe<ze;)Ye[mt+Fe]=i[Fe];for(;++he<Ae;)(ht||M<X)&&(Ye[mt+a[he]]=t[M++]);return Ye}function on(t,i){var a=-1,d=t.length;for(i||(i=$e(d));++a<d;)i[a]=t[a];return i}function Fn(t,i,a,d){var M=!a;a||(a={});for(var X=-1,he=i.length;++X<he;){var Ae=i[X],Fe=d?d(a[Ae],t[Ae],Ae,a,t):s;Fe===s&&(Fe=t[Ae]),M?Ln(a,Ae,Fe):Ii(a,Ae,Fe)}return a}function md(t,i){return Fn(t,Wr(t),i)}function _d(t,i){return Fn(t,wl(t),i)}function Ss(t,i){return function(a,d){var M=Et(a)?Su:$h,X=i?i():{};return M(a,t,vt(d,2),X)}}function bi(t){return Rt(function(i,a){var d=-1,M=a.length,X=M>1?a[M-1]:s,he=M>2?a[2]:s;for(X=t.length>3&&typeof X=="function"?(M--,X):s,he&&sn(a[0],a[1],he)&&(X=M<3?s:X,M=1),i=$t(i);++d<M;){var Ae=a[d];Ae&&t(i,Ae,d,X)}return i})}function hl(t,i){return function(a,d){if(a==null)return a;if(!an(a))return t(a,d);for(var M=a.length,X=i?M:-1,he=$t(a);(i?X--:++X<M)&&d(he[X],X,he)!==!1;);return a}}function dl(t){return function(i,a,d){for(var M=-1,X=$t(i),he=d(i),Ae=he.length;Ae--;){var Fe=he[t?Ae:++M];if(a(X[Fe],Fe,X)===!1)break}return i}}function bd(t,i,a){var d=i&x,M=$i(t);function X(){var he=this&&this!==Zt&&this instanceof X?M:t;return he.apply(d?a:this,arguments)}return X}function fl(t){return function(i){i=Dt(i);var a=hi(i)?xn(i):s,d=a?a[0]:i.charAt(0),M=a?Jn(a,1).join(""):i.slice(1);return d[t]()+M}}function vi(t){return function(i){return or(hc(uc(i).replace(lu,"")),t,"")}}function $i(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=_i(t.prototype),d=t.apply(a,i);return jt(d)?d:a}}function vd(t,i,a){var d=$i(t);function M(){for(var X=arguments.length,he=$e(X),Ae=X,Fe=yi(M);Ae--;)he[Ae]=arguments[Ae];var ze=X<3&&he[0]!==Fe&&he[X-1]!==Fe?[]:qn(he,Fe);if(X-=ze.length,X<a)return bl(t,i,ws,M.placeholder,s,he,ze,s,s,a-X);var qe=this&&this!==Zt&&this instanceof M?d:t;return un(qe,this,he)}return M}function pl(t){return function(i,a,d){var M=$t(i);if(!an(i)){var X=vt(a,3);i=Yt(i),a=function(Ae){return X(M[Ae],Ae,M)}}var he=t(i,a,d);return he>-1?M[X?i[he]:he]:s}}function gl(t){return Bn(function(i){var a=i.length,d=a,M=vn.prototype.thru;for(t&&i.reverse();d--;){var X=i[d];if(typeof X!="function")throw new bn(c);if(M&&!he&&Ts(X)=="wrapper")var he=new vn([],!0)}for(d=he?d:a;++d<a;){X=i[d];var Ae=Ts(X),Fe=Ae=="wrapper"?Ur(X):s;Fe&&jr(Fe[0])&&Fe[1]==(Y|H|w|$)&&!Fe[4].length&&Fe[9]==1?he=he[Ts(Fe[0])].apply(he,Fe[3]):he=X.length==1&&jr(X)?he[Ae]():he.thru(X)}return function(){var ze=arguments,qe=ze[0];if(he&&ze.length==1&&Et(qe))return he.plant(qe).value();for(var Ye=0,ht=a?i[Ye].apply(this,ze):qe;++Ye<a;)ht=i[Ye].call(this,ht);return ht}})}function ws(t,i,a,d,M,X,he,Ae,Fe,ze){var qe=i&Y,Ye=i&x,ht=i&L,mt=i&(H|N),yt=i&E,Tt=ht?s:$i(t);function At(){for(var kt=arguments.length,Ot=$e(kt),pn=kt;pn--;)Ot[pn]=arguments[pn];if(mt)var rn=yi(At),gn=Mu(Ot,rn);if(d&&(Ot=cl(Ot,d,M,mt)),X&&(Ot=ul(Ot,X,he,mt)),kt-=gn,mt&&kt<ze){var Gt=qn(Ot,rn);return bl(t,i,ws,At.placeholder,a,Ot,Gt,Ae,Fe,ze-kt)}var Rn=Ye?a:this,Wn=ht?Rn[t]:t;return kt=Ot.length,Ae?Ot=$d(Ot,Ae):yt&&kt>1&&Ot.reverse(),qe&&Fe<kt&&(Ot.length=Fe),this&&this!==Zt&&this instanceof At&&(Wn=Tt||$i(Wn)),Wn.apply(Rn,Ot)}return At}function ml(t,i){return function(a,d){return Gh(a,t,i(d),{})}}function Es(t,i){return function(a,d){var M;if(a===s&&d===s)return i;if(a!==s&&(M=a),d!==s){if(M===s)return d;typeof a=="string"||typeof d=="string"?(a=dn(a),d=dn(d)):(a=tl(a),d=tl(d)),M=t(a,d)}return M}}function Lr(t){return Bn(function(i){return i=Vt(i,hn(vt())),Rt(function(a){var d=this;return t(i,function(M){return un(M,d,a)})})})}function xs(t,i){i=i===s?" ":dn(i);var a=i.length;if(a<2)return a?Pr(i,t):i;var d=Pr(i,hs(t/di(i)));return hi(i)?Jn(xn(d),0,t).join(""):d.slice(0,t)}function yd(t,i,a,d){var M=i&x,X=$i(t);function he(){for(var Ae=-1,Fe=arguments.length,ze=-1,qe=d.length,Ye=$e(qe+Fe),ht=this&&this!==Zt&&this instanceof he?X:t;++ze<qe;)Ye[ze]=d[ze];for(;Fe--;)Ye[ze++]=arguments[++Ae];return un(ht,M?a:this,Ye)}return he}function _l(t){return function(i,a,d){return d&&typeof d!="number"&&sn(i,a,d)&&(a=d=s),i=Hn(i),a===s?(a=i,i=0):a=Hn(a),d=d===s?i<a?1:-1:Hn(d),rd(i,a,d,t)}}function Cs(t){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=wn(i),a=wn(a)),t(i,a)}}function bl(t,i,a,d,M,X,he,Ae,Fe,ze){var qe=i&H,Ye=qe?he:s,ht=qe?s:he,mt=qe?X:s,yt=qe?s:X;i|=qe?w:C,i&=~(qe?C:w),i&V||(i&=~(x|L));var Tt=[t,i,M,mt,Ye,yt,ht,Ae,Fe,ze],At=a.apply(s,Tt);return jr(t)&&kl(At,Tt),At.placeholder=d,Ml(At,t,i)}function Nr(t){var i=Kt[t];return function(a,d){if(a=wn(a),d=d==null?0:en(Ct(d),292),d&&Ma(a)){var M=(Dt(a)+"e").split("e"),X=i(M[0]+"e"+(+M[1]+d));return M=(Dt(X)+"e").split("e"),+(M[0]+"e"+(+M[1]-d))}return i(a)}}var Ad=gi&&1/ts(new gi([,-0]))[1]==me?function(t){return new gi(t)}:ro;function vl(t){return function(i){var a=tn(i);return a==U?fr(i):a==Me?Bu(i):ku(i,t(i))}}function Nn(t,i,a,d,M,X,he,Ae){var Fe=i&L;if(!Fe&&typeof t!="function")throw new bn(c);var ze=d?d.length:0;if(ze||(i&=~(w|C),d=M=s),he=he===s?he:Xt(Ct(he),0),Ae=Ae===s?Ae:Ct(Ae),ze-=M?M.length:0,i&C){var qe=d,Ye=M;d=M=s}var ht=Fe?s:Ur(t),mt=[t,i,a,d,M,qe,Ye,X,he,Ae];if(ht&&Ld(mt,ht),t=mt[0],i=mt[1],a=mt[2],d=mt[3],M=mt[4],Ae=mt[9]=mt[9]===s?Fe?0:t.length:Xt(mt[9]-ze,0),!Ae&&i&(H|N)&&(i&=~(H|N)),!i||i==x)var yt=bd(t,i,a);else i==H||i==N?yt=vd(t,i,Ae):(i==w||i==(x|w))&&!M.length?yt=yd(t,i,a,d):yt=ws.apply(s,mt);var Tt=ht?Qa:kl;return Ml(Tt(yt,mt),t,i)}function yl(t,i,a,d){return t===s||Tn(t,pi[a])&&!Lt.call(d,a)?i:t}function Al(t,i,a,d,M,X){return jt(t)&&jt(i)&&(X.set(i,t),vs(t,i,s,Al,X),X.delete(i)),t}function Sd(t){return Wi(t)?s:t}function Sl(t,i,a,d,M,X){var he=a&P,Ae=t.length,Fe=i.length;if(Ae!=Fe&&!(he&&Fe>Ae))return!1;var ze=X.get(t),qe=X.get(i);if(ze&&qe)return ze==i&&qe==t;var Ye=-1,ht=!0,mt=a&O?new ni:s;for(X.set(t,i),X.set(i,t);++Ye<Ae;){var yt=t[Ye],Tt=i[Ye];if(d)var At=he?d(Tt,yt,Ye,i,t,X):d(yt,Tt,Ye,t,i,X);if(At!==s){if(At)continue;ht=!1;break}if(mt){if(!ar(i,function(kt,Ot){if(!Ri(mt,Ot)&&(yt===kt||M(yt,kt,a,d,X)))return mt.push(Ot)})){ht=!1;break}}else if(!(yt===Tt||M(yt,Tt,a,d,X))){ht=!1;break}}return X.delete(t),X.delete(i),ht}function wd(t,i,a,d,M,X,he){switch(a){case Je:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case Be:return!(t.byteLength!=i.byteLength||!X(new as(t),new as(i)));case F:case q:case te:return Tn(+t,+i);case ae:return t.name==i.name&&t.message==i.message;case xe:case de:return t==i+"";case U:var Ae=fr;case Me:var Fe=d&P;if(Ae||(Ae=ts),t.size!=i.size&&!Fe)return!1;var ze=he.get(t);if(ze)return ze==i;d|=O,he.set(t,i);var qe=Sl(Ae(t),Ae(i),d,M,X,he);return he.delete(t),qe;case ce:if(Oi)return Oi.call(t)==Oi.call(i)}return!1}function Ed(t,i,a,d,M,X){var he=a&P,Ae=Br(t),Fe=Ae.length,ze=Br(i),qe=ze.length;if(Fe!=qe&&!he)return!1;for(var Ye=Fe;Ye--;){var ht=Ae[Ye];if(!(he?ht in i:Lt.call(i,ht)))return!1}var mt=X.get(t),yt=X.get(i);if(mt&&yt)return mt==i&&yt==t;var Tt=!0;X.set(t,i),X.set(i,t);for(var At=he;++Ye<Fe;){ht=Ae[Ye];var kt=t[ht],Ot=i[ht];if(d)var pn=he?d(Ot,kt,ht,i,t,X):d(kt,Ot,ht,t,i,X);if(!(pn===s?kt===Ot||M(kt,Ot,a,d,X):pn)){Tt=!1;break}At||(At=ht=="constructor")}if(Tt&&!At){var rn=t.constructor,gn=i.constructor;rn!=gn&&"constructor"in t&&"constructor"in i&&!(typeof rn=="function"&&rn instanceof rn&&typeof gn=="function"&&gn instanceof gn)&&(Tt=!1)}return X.delete(t),X.delete(i),Tt}function Bn(t){return qr(Rl(t,s,Nl),t+"")}function Br(t){return Wa(t,Yt,Wr)}function $r(t){return Wa(t,ln,wl)}var Ur=fs?function(t){return fs.get(t)}:ro;function Ts(t){for(var i=t.name+"",a=mi[i],d=Lt.call(mi,i)?a.length:0;d--;){var M=a[d],X=M.func;if(X==null||X==t)return M.name}return i}function yi(t){var i=Lt.call(z,"placeholder")?z:t;return i.placeholder}function vt(){var t=z.iteratee||io;return t=t===io?za:t,arguments.length?t(arguments[0],arguments[1]):t}function Rs(t,i){var a=t.__data__;return Fd(i)?a[typeof i=="string"?"string":"hash"]:a.map}function Hr(t){for(var i=Yt(t),a=i.length;a--;){var d=i[a],M=t[d];i[a]=[d,M,Cl(M)]}return i}function ri(t,i){var a=Du(t,i);return ja(a)?a:s}function xd(t){var i=Lt.call(t,ei),a=t[ei];try{t[ei]=s;var d=!0}catch{}var M=rs.call(t);return d&&(i?t[ei]=a:delete t[ei]),M}var Wr=gr?function(t){return t==null?[]:(t=$t(t),jn(gr(t),function(i){return Pa.call(t,i)}))}:oo,wl=gr?function(t){for(var i=[];t;)zn(i,Wr(t)),t=ls(t);return i}:oo,tn=nn;(mr&&tn(new mr(new ArrayBuffer(1)))!=Je||ki&&tn(new ki)!=U||_r&&tn(_r.resolve())!=Te||gi&&tn(new gi)!=Me||Mi&&tn(new Mi)!=ve)&&(tn=function(t){var i=nn(t),a=i==le?t.constructor:s,d=a?oi(a):"";if(d)switch(d){case ah:return Je;case lh:return U;case ch:return Te;case uh:return Me;case hh:return ve}return i});function Cd(t,i,a){for(var d=-1,M=a.length;++d<M;){var X=a[d],he=X.size;switch(X.type){case"drop":t+=he;break;case"dropRight":i-=he;break;case"take":i=en(i,t+he);break;case"takeRight":t=Xt(t,i-he);break}}return{start:t,end:i}}function Td(t){var i=t.match(K);return i?i[1].split(oe):[]}function El(t,i,a){i=Yn(i,t);for(var d=-1,M=i.length,X=!1;++d<M;){var he=On(i[d]);if(!(X=t!=null&&a(t,he)))break;t=t[he]}return X||++d!=M?X:(M=t==null?0:t.length,!!M&&Ds(M)&&$n(he,M)&&(Et(t)||ai(t)))}function Rd(t){var i=t.length,a=new t.constructor(i);return i&&typeof t[0]=="string"&&Lt.call(t,"index")&&(a.index=t.index,a.input=t.input),a}function xl(t){return typeof t.constructor=="function"&&!Ui(t)?_i(ls(t)):{}}function Pd(t,i,a){var d=t.constructor;switch(i){case Be:return Dr(t);case F:case q:return new d(+t);case Je:return dd(t,a);case et:case it:case lt:case dt:case rt:case pt:case Ie:case be:case pe:return al(t,a);case U:return new d;case te:case de:return new d(t);case xe:return fd(t);case Me:return new d;case ce:return pd(t)}}function kd(t,i){var a=i.length;if(!a)return t;var d=a-1;return i[d]=(a>1?"& ":"")+i[d],i=i.join(a>2?", ":" "),t.replace(I,`{
/* [wrapped with `+i+`] */
`)}function Md(t){return Et(t)||ai(t)||!!(ka&&t&&t[ka])}function $n(t,i){var a=typeof t;return i=i??ie,!!i&&(a=="number"||a!="symbol"&&_t.test(t))&&t>-1&&t%1==0&&t<i}function sn(t,i,a){if(!jt(a))return!1;var d=typeof i;return(d=="number"?an(a)&&$n(i,a.length):d=="string"&&i in a)?Tn(a[i],t):!1}function Vr(t,i){if(Et(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||fn(t)?!0:We.test(t)||!St.test(t)||i!=null&&t in $t(i)}function Fd(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}function jr(t){var i=Ts(t),a=z[i];if(typeof a!="function"||!(i in Mt.prototype))return!1;if(t===a)return!0;var d=Ur(a);return!!d&&t===d[0]}function Od(t){return!!Ca&&Ca in t}var Id=is?Un:ao;function Ui(t){var i=t&&t.constructor,a=typeof i=="function"&&i.prototype||pi;return t===a}function Cl(t){return t===t&&!jt(t)}function Tl(t,i){return function(a){return a==null?!1:a[t]===i&&(i!==s||t in $t(a))}}function Dd(t){var i=Os(t,function(d){return a.size===S&&a.clear(),d}),a=i.cache;return i}function Ld(t,i){var a=t[1],d=i[1],M=a|d,X=M<(x|L|Y),he=d==Y&&a==H||d==Y&&a==$&&t[7].length<=i[8]||d==(Y|$)&&i[7].length<=i[8]&&a==H;if(!(X||he))return t;d&x&&(t[2]=i[2],M|=a&x?0:V);var Ae=i[3];if(Ae){var Fe=t[3];t[3]=Fe?cl(Fe,Ae,i[4]):Ae,t[4]=Fe?qn(t[3],u):i[4]}return Ae=i[5],Ae&&(Fe=t[5],t[5]=Fe?ul(Fe,Ae,i[6]):Ae,t[6]=Fe?qn(t[5],u):i[6]),Ae=i[7],Ae&&(t[7]=Ae),d&Y&&(t[8]=t[8]==null?i[8]:en(t[8],i[8])),t[9]==null&&(t[9]=i[9]),t[0]=i[0],t[1]=M,t}function Nd(t){var i=[];if(t!=null)for(var a in $t(t))i.push(a);return i}function Bd(t){return rs.call(t)}function Rl(t,i,a){return i=Xt(i===s?t.length-1:i,0),function(){for(var d=arguments,M=-1,X=Xt(d.length-i,0),he=$e(X);++M<X;)he[M]=d[i+M];M=-1;for(var Ae=$e(i+1);++M<i;)Ae[M]=d[M];return Ae[i]=a(he),un(t,this,Ae)}}function Pl(t,i){return i.length<2?t:si(t,An(i,0,-1))}function $d(t,i){for(var a=t.length,d=en(i.length,a),M=on(t);d--;){var X=i[d];t[d]=$n(X,a)?M[X]:s}return t}function zr(t,i){if(!(i==="constructor"&&typeof t[i]=="function")&&i!="__proto__")return t[i]}var kl=Fl(Qa),Hi=eh||function(t,i){return Zt.setTimeout(t,i)},qr=Fl(ld);function Ml(t,i,a){var d=i+"";return qr(t,kd(d,Ud(Td(d),a)))}function Fl(t){var i=0,a=0;return function(){var d=sh(),M=fe-(d-a);if(a=d,M>0){if(++i>=ue)return arguments[0]}else i=0;return t.apply(s,arguments)}}function Ps(t,i){var a=-1,d=t.length,M=d-1;for(i=i===s?d:i;++a<i;){var X=Rr(a,M),he=t[X];t[X]=t[a],t[a]=he}return t.length=i,t}var Ol=Dd(function(t){var i=[];return t.charCodeAt(0)===46&&i.push(""),t.replace(bt,function(a,d,M,X){i.push(M?X.replace(je,"$1"):d||a)}),i});function On(t){if(typeof t=="string"||fn(t))return t;var i=t+"";return i=="0"&&1/t==-me?"-0":i}function oi(t){if(t!=null){try{return ss.call(t)}catch{}try{return t+""}catch{}}return""}function Ud(t,i){return _n(m,function(a){var d="_."+a[0];i&a[1]&&!Qi(t,d)&&t.push(d)}),t.sort()}function Il(t){if(t instanceof Mt)return t.clone();var i=new vn(t.__wrapped__,t.__chain__);return i.__actions__=on(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}function Hd(t,i,a){(a?sn(t,i,a):i===s)?i=1:i=Xt(Ct(i),0);var d=t==null?0:t.length;if(!d||i<1)return[];for(var M=0,X=0,he=$e(hs(d/i));M<d;)he[X++]=An(t,M,M+=i);return he}function Wd(t){for(var i=-1,a=t==null?0:t.length,d=0,M=[];++i<a;){var X=t[i];X&&(M[d++]=X)}return M}function Vd(){var t=arguments.length;if(!t)return[];for(var i=$e(t-1),a=arguments[0],d=t;d--;)i[d-1]=arguments[d];return zn(Et(a)?on(a):[a],Qt(i,1))}var jd=Rt(function(t,i){return qt(t)?Di(t,Qt(i,1,qt,!0)):[]}),zd=Rt(function(t,i){var a=Sn(i);return qt(a)&&(a=s),qt(t)?Di(t,Qt(i,1,qt,!0),vt(a,2)):[]}),qd=Rt(function(t,i){var a=Sn(i);return qt(a)&&(a=s),qt(t)?Di(t,Qt(i,1,qt,!0),s,a):[]});function Gd(t,i,a){var d=t==null?0:t.length;return d?(i=a||i===s?1:Ct(i),An(t,i<0?0:i,d)):[]}function Kd(t,i,a){var d=t==null?0:t.length;return d?(i=a||i===s?1:Ct(i),i=d-i,An(t,0,i<0?0:i)):[]}function Xd(t,i){return t&&t.length?As(t,vt(i,3),!0,!0):[]}function Yd(t,i){return t&&t.length?As(t,vt(i,3),!0):[]}function Jd(t,i,a,d){var M=t==null?0:t.length;return M?(a&&typeof a!="number"&&sn(t,i,a)&&(a=0,d=M),Vh(t,i,a,d)):[]}function Dl(t,i,a){var d=t==null?0:t.length;if(!d)return-1;var M=a==null?0:Ct(a);return M<0&&(M=Xt(d+M,0)),es(t,vt(i,3),M)}function Ll(t,i,a){var d=t==null?0:t.length;if(!d)return-1;var M=d-1;return a!==s&&(M=Ct(a),M=a<0?Xt(d+M,0):en(M,d-1)),es(t,vt(i,3),M,!0)}function Nl(t){var i=t==null?0:t.length;return i?Qt(t,1):[]}function Zd(t){var i=t==null?0:t.length;return i?Qt(t,me):[]}function Qd(t,i){var a=t==null?0:t.length;return a?(i=i===s?1:Ct(i),Qt(t,i)):[]}function ef(t){for(var i=-1,a=t==null?0:t.length,d={};++i<a;){var M=t[i];d[M[0]]=M[1]}return d}function Bl(t){return t&&t.length?t[0]:s}function tf(t,i,a){var d=t==null?0:t.length;if(!d)return-1;var M=a==null?0:Ct(a);return M<0&&(M=Xt(d+M,0)),ui(t,i,M)}function nf(t){var i=t==null?0:t.length;return i?An(t,0,-1):[]}var sf=Rt(function(t){var i=Vt(t,Or);return i.length&&i[0]===t[0]?wr(i):[]}),rf=Rt(function(t){var i=Sn(t),a=Vt(t,Or);return i===Sn(a)?i=s:a.pop(),a.length&&a[0]===t[0]?wr(a,vt(i,2)):[]}),of=Rt(function(t){var i=Sn(t),a=Vt(t,Or);return i=typeof i=="function"?i:s,i&&a.pop(),a.length&&a[0]===t[0]?wr(a,s,i):[]});function af(t,i){return t==null?"":nh.call(t,i)}function Sn(t){var i=t==null?0:t.length;return i?t[i-1]:s}function lf(t,i,a){var d=t==null?0:t.length;if(!d)return-1;var M=d;return a!==s&&(M=Ct(a),M=M<0?Xt(d+M,0):en(M,d-1)),i===i?Uu(t,i,M):es(t,ba,M,!0)}function cf(t,i){return t&&t.length?Xa(t,Ct(i)):s}var uf=Rt($l);function $l(t,i){return t&&t.length&&i&&i.length?Tr(t,i):t}function hf(t,i,a){return t&&t.length&&i&&i.length?Tr(t,i,vt(a,2)):t}function df(t,i,a){return t&&t.length&&i&&i.length?Tr(t,i,s,a):t}var ff=Bn(function(t,i){var a=t==null?0:t.length,d=vr(t,i);return Za(t,Vt(i,function(M){return $n(M,a)?+M:M}).sort(ll)),d});function pf(t,i){var a=[];if(!(t&&t.length))return a;var d=-1,M=[],X=t.length;for(i=vt(i,3);++d<X;){var he=t[d];i(he,d,t)&&(a.push(he),M.push(d))}return Za(t,M),a}function Gr(t){return t==null?t:oh.call(t)}function gf(t,i,a){var d=t==null?0:t.length;return d?(a&&typeof a!="number"&&sn(t,i,a)?(i=0,a=d):(i=i==null?0:Ct(i),a=a===s?d:Ct(a)),An(t,i,a)):[]}function mf(t,i){return ys(t,i)}function _f(t,i,a){return kr(t,i,vt(a,2))}function bf(t,i){var a=t==null?0:t.length;if(a){var d=ys(t,i);if(d<a&&Tn(t[d],i))return d}return-1}function vf(t,i){return ys(t,i,!0)}function yf(t,i,a){return kr(t,i,vt(a,2),!0)}function Af(t,i){var a=t==null?0:t.length;if(a){var d=ys(t,i,!0)-1;if(Tn(t[d],i))return d}return-1}function Sf(t){return t&&t.length?el(t):[]}function wf(t,i){return t&&t.length?el(t,vt(i,2)):[]}function Ef(t){var i=t==null?0:t.length;return i?An(t,1,i):[]}function xf(t,i,a){return t&&t.length?(i=a||i===s?1:Ct(i),An(t,0,i<0?0:i)):[]}function Cf(t,i,a){var d=t==null?0:t.length;return d?(i=a||i===s?1:Ct(i),i=d-i,An(t,i<0?0:i,d)):[]}function Tf(t,i){return t&&t.length?As(t,vt(i,3),!1,!0):[]}function Rf(t,i){return t&&t.length?As(t,vt(i,3)):[]}var Pf=Rt(function(t){return Xn(Qt(t,1,qt,!0))}),kf=Rt(function(t){var i=Sn(t);return qt(i)&&(i=s),Xn(Qt(t,1,qt,!0),vt(i,2))}),Mf=Rt(function(t){var i=Sn(t);return i=typeof i=="function"?i:s,Xn(Qt(t,1,qt,!0),s,i)});function Ff(t){return t&&t.length?Xn(t):[]}function Of(t,i){return t&&t.length?Xn(t,vt(i,2)):[]}function If(t,i){return i=typeof i=="function"?i:s,t&&t.length?Xn(t,s,i):[]}function Kr(t){if(!(t&&t.length))return[];var i=0;return t=jn(t,function(a){if(qt(a))return i=Xt(a.length,i),!0}),hr(i,function(a){return Vt(t,lr(a))})}function Ul(t,i){if(!(t&&t.length))return[];var a=Kr(t);return i==null?a:Vt(a,function(d){return un(i,s,d)})}var Df=Rt(function(t,i){return qt(t)?Di(t,i):[]}),Lf=Rt(function(t){return Fr(jn(t,qt))}),Nf=Rt(function(t){var i=Sn(t);return qt(i)&&(i=s),Fr(jn(t,qt),vt(i,2))}),Bf=Rt(function(t){var i=Sn(t);return i=typeof i=="function"?i:s,Fr(jn(t,qt),s,i)}),$f=Rt(Kr);function Uf(t,i){return sl(t||[],i||[],Ii)}function Hf(t,i){return sl(t||[],i||[],Bi)}var Wf=Rt(function(t){var i=t.length,a=i>1?t[i-1]:s;return a=typeof a=="function"?(t.pop(),a):s,Ul(t,a)});function Hl(t){var i=z(t);return i.__chain__=!0,i}function Vf(t,i){return i(t),t}function ks(t,i){return i(t)}var jf=Bn(function(t){var i=t.length,a=i?t[0]:0,d=this.__wrapped__,M=function(X){return vr(X,t)};return i>1||this.__actions__.length||!(d instanceof Mt)||!$n(a)?this.thru(M):(d=d.slice(a,+a+(i?1:0)),d.__actions__.push({func:ks,args:[M],thisArg:s}),new vn(d,this.__chain__).thru(function(X){return i&&!X.length&&X.push(s),X}))});function zf(){return Hl(this)}function qf(){return new vn(this.value(),this.__chain__)}function Gf(){this.__values__===s&&(this.__values__=tc(this.value()));var t=this.__index__>=this.__values__.length,i=t?s:this.__values__[this.__index__++];return{done:t,value:i}}function Kf(){return this}function Xf(t){for(var i,a=this;a instanceof gs;){var d=Il(a);d.__index__=0,d.__values__=s,i?M.__wrapped__=d:i=d;var M=d;a=a.__wrapped__}return M.__wrapped__=t,i}function Yf(){var t=this.__wrapped__;if(t instanceof Mt){var i=t;return this.__actions__.length&&(i=new Mt(this)),i=i.reverse(),i.__actions__.push({func:ks,args:[Gr],thisArg:s}),new vn(i,this.__chain__)}return this.thru(Gr)}function Jf(){return il(this.__wrapped__,this.__actions__)}var Zf=Ss(function(t,i,a){Lt.call(t,a)?++t[a]:Ln(t,a,1)});function Qf(t,i,a){var d=Et(t)?ma:Wh;return a&&sn(t,i,a)&&(i=s),d(t,vt(i,3))}function ep(t,i){var a=Et(t)?jn:Ua;return a(t,vt(i,3))}var tp=pl(Dl),np=pl(Ll);function ip(t,i){return Qt(Ms(t,i),1)}function sp(t,i){return Qt(Ms(t,i),me)}function rp(t,i,a){return a=a===s?1:Ct(a),Qt(Ms(t,i),a)}function Wl(t,i){var a=Et(t)?_n:Kn;return a(t,vt(i,3))}function Vl(t,i){var a=Et(t)?wu:$a;return a(t,vt(i,3))}var op=Ss(function(t,i,a){Lt.call(t,a)?t[a].push(i):Ln(t,a,[i])});function ap(t,i,a,d){t=an(t)?t:Si(t),a=a&&!d?Ct(a):0;var M=t.length;return a<0&&(a=Xt(M+a,0)),Ls(t)?a<=M&&t.indexOf(i,a)>-1:!!M&&ui(t,i,a)>-1}var lp=Rt(function(t,i,a){var d=-1,M=typeof i=="function",X=an(t)?$e(t.length):[];return Kn(t,function(he){X[++d]=M?un(i,he,a):Li(he,i,a)}),X}),cp=Ss(function(t,i,a){Ln(t,a,i)});function Ms(t,i){var a=Et(t)?Vt:qa;return a(t,vt(i,3))}function up(t,i,a,d){return t==null?[]:(Et(i)||(i=i==null?[]:[i]),a=d?s:a,Et(a)||(a=a==null?[]:[a]),Ya(t,i,a))}var hp=Ss(function(t,i,a){t[a?0:1].push(i)},function(){return[[],[]]});function dp(t,i,a){var d=Et(t)?or:ya,M=arguments.length<3;return d(t,vt(i,4),a,M,Kn)}function fp(t,i,a){var d=Et(t)?Eu:ya,M=arguments.length<3;return d(t,vt(i,4),a,M,$a)}function pp(t,i){var a=Et(t)?jn:Ua;return a(t,Is(vt(i,3)))}function gp(t){var i=Et(t)?Da:od;return i(t)}function mp(t,i,a){(a?sn(t,i,a):i===s)?i=1:i=Ct(i);var d=Et(t)?Nh:ad;return d(t,i)}function _p(t){var i=Et(t)?Bh:cd;return i(t)}function bp(t){if(t==null)return 0;if(an(t))return Ls(t)?di(t):t.length;var i=tn(t);return i==U||i==Me?t.size:xr(t).length}function vp(t,i,a){var d=Et(t)?ar:ud;return a&&sn(t,i,a)&&(i=s),d(t,vt(i,3))}var yp=Rt(function(t,i){if(t==null)return[];var a=i.length;return a>1&&sn(t,i[0],i[1])?i=[]:a>2&&sn(i[0],i[1],i[2])&&(i=[i[0]]),Ya(t,Qt(i,1),[])}),Fs=Qu||function(){return Zt.Date.now()};function Ap(t,i){if(typeof i!="function")throw new bn(c);return t=Ct(t),function(){if(--t<1)return i.apply(this,arguments)}}function jl(t,i,a){return i=a?s:i,i=t&&i==null?t.length:i,Nn(t,Y,s,s,s,s,i)}function zl(t,i){var a;if(typeof i!="function")throw new bn(c);return t=Ct(t),function(){return--t>0&&(a=i.apply(this,arguments)),t<=1&&(i=s),a}}var Xr=Rt(function(t,i,a){var d=x;if(a.length){var M=qn(a,yi(Xr));d|=w}return Nn(t,d,i,a,M)}),ql=Rt(function(t,i,a){var d=x|L;if(a.length){var M=qn(a,yi(ql));d|=w}return Nn(i,d,t,a,M)});function Gl(t,i,a){i=a?s:i;var d=Nn(t,H,s,s,s,s,s,i);return d.placeholder=Gl.placeholder,d}function Kl(t,i,a){i=a?s:i;var d=Nn(t,N,s,s,s,s,s,i);return d.placeholder=Kl.placeholder,d}function Xl(t,i,a){var d,M,X,he,Ae,Fe,ze=0,qe=!1,Ye=!1,ht=!0;if(typeof t!="function")throw new bn(c);i=wn(i)||0,jt(a)&&(qe=!!a.leading,Ye="maxWait"in a,X=Ye?Xt(wn(a.maxWait)||0,i):X,ht="trailing"in a?!!a.trailing:ht);function mt(Gt){var Rn=d,Wn=M;return d=M=s,ze=Gt,he=t.apply(Wn,Rn),he}function yt(Gt){return ze=Gt,Ae=Hi(kt,i),qe?mt(Gt):he}function Tt(Gt){var Rn=Gt-Fe,Wn=Gt-ze,pc=i-Rn;return Ye?en(pc,X-Wn):pc}function At(Gt){var Rn=Gt-Fe,Wn=Gt-ze;return Fe===s||Rn>=i||Rn<0||Ye&&Wn>=X}function kt(){var Gt=Fs();if(At(Gt))return Ot(Gt);Ae=Hi(kt,Tt(Gt))}function Ot(Gt){return Ae=s,ht&&d?mt(Gt):(d=M=s,he)}function pn(){Ae!==s&&rl(Ae),ze=0,d=Fe=M=Ae=s}function rn(){return Ae===s?he:Ot(Fs())}function gn(){var Gt=Fs(),Rn=At(Gt);if(d=arguments,M=this,Fe=Gt,Rn){if(Ae===s)return yt(Fe);if(Ye)return rl(Ae),Ae=Hi(kt,i),mt(Fe)}return Ae===s&&(Ae=Hi(kt,i)),he}return gn.cancel=pn,gn.flush=rn,gn}var Sp=Rt(function(t,i){return Ba(t,1,i)}),wp=Rt(function(t,i,a){return Ba(t,wn(i)||0,a)});function Ep(t){return Nn(t,E)}function Os(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new bn(c);var a=function(){var d=arguments,M=i?i.apply(this,d):d[0],X=a.cache;if(X.has(M))return X.get(M);var he=t.apply(this,d);return a.cache=X.set(M,he)||X,he};return a.cache=new(Os.Cache||Dn),a}Os.Cache=Dn;function Is(t){if(typeof t!="function")throw new bn(c);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}function xp(t){return zl(2,t)}var Cp=hd(function(t,i){i=i.length==1&&Et(i[0])?Vt(i[0],hn(vt())):Vt(Qt(i,1),hn(vt()));var a=i.length;return Rt(function(d){for(var M=-1,X=en(d.length,a);++M<X;)d[M]=i[M].call(this,d[M]);return un(t,this,d)})}),Yr=Rt(function(t,i){var a=qn(i,yi(Yr));return Nn(t,w,s,i,a)}),Yl=Rt(function(t,i){var a=qn(i,yi(Yl));return Nn(t,C,s,i,a)}),Tp=Bn(function(t,i){return Nn(t,$,s,s,s,i)});function Rp(t,i){if(typeof t!="function")throw new bn(c);return i=i===s?i:Ct(i),Rt(t,i)}function Pp(t,i){if(typeof t!="function")throw new bn(c);return i=i==null?0:Xt(Ct(i),0),Rt(function(a){var d=a[i],M=Jn(a,0,i);return d&&zn(M,d),un(t,this,M)})}function kp(t,i,a){var d=!0,M=!0;if(typeof t!="function")throw new bn(c);return jt(a)&&(d="leading"in a?!!a.leading:d,M="trailing"in a?!!a.trailing:M),Xl(t,i,{leading:d,maxWait:i,trailing:M})}function Mp(t){return jl(t,1)}function Fp(t,i){return Yr(Ir(i),t)}function Op(){if(!arguments.length)return[];var t=arguments[0];return Et(t)?t:[t]}function Ip(t){return yn(t,B)}function Dp(t,i){return i=typeof i=="function"?i:s,yn(t,B,i)}function Lp(t){return yn(t,R|B)}function Np(t,i){return i=typeof i=="function"?i:s,yn(t,R|B,i)}function Bp(t,i){return i==null||Na(t,i,Yt(i))}function Tn(t,i){return t===i||t!==t&&i!==i}var $p=Cs(Sr),Up=Cs(function(t,i){return t>=i}),ai=Va(function(){return arguments}())?Va:function(t){return zt(t)&&Lt.call(t,"callee")&&!Pa.call(t,"callee")},Et=$e.isArray,Hp=ua?hn(ua):Kh;function an(t){return t!=null&&Ds(t.length)&&!Un(t)}function qt(t){return zt(t)&&an(t)}function Wp(t){return t===!0||t===!1||zt(t)&&nn(t)==F}var Zn=th||ao,Vp=ha?hn(ha):Xh;function jp(t){return zt(t)&&t.nodeType===1&&!Wi(t)}function zp(t){if(t==null)return!0;if(an(t)&&(Et(t)||typeof t=="string"||typeof t.splice=="function"||Zn(t)||Ai(t)||ai(t)))return!t.length;var i=tn(t);if(i==U||i==Me)return!t.size;if(Ui(t))return!xr(t).length;for(var a in t)if(Lt.call(t,a))return!1;return!0}function qp(t,i){return Ni(t,i)}function Gp(t,i,a){a=typeof a=="function"?a:s;var d=a?a(t,i):s;return d===s?Ni(t,i,s,a):!!d}function Jr(t){if(!zt(t))return!1;var i=nn(t);return i==ae||i==Q||typeof t.message=="string"&&typeof t.name=="string"&&!Wi(t)}function Kp(t){return typeof t=="number"&&Ma(t)}function Un(t){if(!jt(t))return!1;var i=nn(t);return i==Ce||i==k||i==T||i==Ne}function Jl(t){return typeof t=="number"&&t==Ct(t)}function Ds(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ie}function jt(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}function zt(t){return t!=null&&typeof t=="object"}var Zl=da?hn(da):Jh;function Xp(t,i){return t===i||Er(t,i,Hr(i))}function Yp(t,i,a){return a=typeof a=="function"?a:s,Er(t,i,Hr(i),a)}function Jp(t){return Ql(t)&&t!=+t}function Zp(t){if(Id(t))throw new wt(l);return ja(t)}function Qp(t){return t===null}function eg(t){return t==null}function Ql(t){return typeof t=="number"||zt(t)&&nn(t)==te}function Wi(t){if(!zt(t)||nn(t)!=le)return!1;var i=ls(t);if(i===null)return!0;var a=Lt.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&ss.call(a)==Xu}var Zr=fa?hn(fa):Zh;function tg(t){return Jl(t)&&t>=-ie&&t<=ie}var ec=pa?hn(pa):Qh;function Ls(t){return typeof t=="string"||!Et(t)&&zt(t)&&nn(t)==de}function fn(t){return typeof t=="symbol"||zt(t)&&nn(t)==ce}var Ai=ga?hn(ga):ed;function ng(t){return t===s}function ig(t){return zt(t)&&tn(t)==ve}function sg(t){return zt(t)&&nn(t)==De}var rg=Cs(Cr),og=Cs(function(t,i){return t<=i});function tc(t){if(!t)return[];if(an(t))return Ls(t)?xn(t):on(t);if(Pi&&t[Pi])return Nu(t[Pi]());var i=tn(t),a=i==U?fr:i==Me?ts:Si;return a(t)}function Hn(t){if(!t)return t===0?t:0;if(t=wn(t),t===me||t===-me){var i=t<0?-1:1;return i*ge}return t===t?t:0}function Ct(t){var i=Hn(t),a=i%1;return i===i?a?i-a:i:0}function nc(t){return t?ii(Ct(t),0,Ee):0}function wn(t){if(typeof t=="number")return t;if(fn(t))return Re;if(jt(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=jt(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=Aa(t);var a=Qe.test(t);return a||gt.test(t)?yu(t.slice(2),a?2:8):Ze.test(t)?Re:+t}function ic(t){return Fn(t,ln(t))}function ag(t){return t?ii(Ct(t),-ie,ie):t===0?t:0}function Dt(t){return t==null?"":dn(t)}var lg=bi(function(t,i){if(Ui(i)||an(i)){Fn(i,Yt(i),t);return}for(var a in i)Lt.call(i,a)&&Ii(t,a,i[a])}),sc=bi(function(t,i){Fn(i,ln(i),t)}),Ns=bi(function(t,i,a,d){Fn(i,ln(i),t,d)}),cg=bi(function(t,i,a,d){Fn(i,Yt(i),t,d)}),ug=Bn(vr);function hg(t,i){var a=_i(t);return i==null?a:La(a,i)}var dg=Rt(function(t,i){t=$t(t);var a=-1,d=i.length,M=d>2?i[2]:s;for(M&&sn(i[0],i[1],M)&&(d=1);++a<d;)for(var X=i[a],he=ln(X),Ae=-1,Fe=he.length;++Ae<Fe;){var ze=he[Ae],qe=t[ze];(qe===s||Tn(qe,pi[ze])&&!Lt.call(t,ze))&&(t[ze]=X[ze])}return t}),fg=Rt(function(t){return t.push(s,Al),un(rc,s,t)});function pg(t,i){return _a(t,vt(i,3),Mn)}function gg(t,i){return _a(t,vt(i,3),Ar)}function mg(t,i){return t==null?t:yr(t,vt(i,3),ln)}function _g(t,i){return t==null?t:Ha(t,vt(i,3),ln)}function bg(t,i){return t&&Mn(t,vt(i,3))}function vg(t,i){return t&&Ar(t,vt(i,3))}function yg(t){return t==null?[]:bs(t,Yt(t))}function Ag(t){return t==null?[]:bs(t,ln(t))}function Qr(t,i,a){var d=t==null?s:si(t,i);return d===s?a:d}function Sg(t,i){return t!=null&&El(t,i,jh)}function eo(t,i){return t!=null&&El(t,i,zh)}var wg=ml(function(t,i,a){i!=null&&typeof i.toString!="function"&&(i=rs.call(i)),t[i]=a},no(cn)),Eg=ml(function(t,i,a){i!=null&&typeof i.toString!="function"&&(i=rs.call(i)),Lt.call(t,i)?t[i].push(a):t[i]=[a]},vt),xg=Rt(Li);function Yt(t){return an(t)?Ia(t):xr(t)}function ln(t){return an(t)?Ia(t,!0):td(t)}function Cg(t,i){var a={};return i=vt(i,3),Mn(t,function(d,M,X){Ln(a,i(d,M,X),d)}),a}function Tg(t,i){var a={};return i=vt(i,3),Mn(t,function(d,M,X){Ln(a,M,i(d,M,X))}),a}var Rg=bi(function(t,i,a){vs(t,i,a)}),rc=bi(function(t,i,a,d){vs(t,i,a,d)}),Pg=Bn(function(t,i){var a={};if(t==null)return a;var d=!1;i=Vt(i,function(X){return X=Yn(X,t),d||(d=X.length>1),X}),Fn(t,$r(t),a),d&&(a=yn(a,R|W|B,Sd));for(var M=i.length;M--;)Mr(a,i[M]);return a});function kg(t,i){return oc(t,Is(vt(i)))}var Mg=Bn(function(t,i){return t==null?{}:id(t,i)});function oc(t,i){if(t==null)return{};var a=Vt($r(t),function(d){return[d]});return i=vt(i),Ja(t,a,function(d,M){return i(d,M[0])})}function Fg(t,i,a){i=Yn(i,t);var d=-1,M=i.length;for(M||(M=1,t=s);++d<M;){var X=t==null?s:t[On(i[d])];X===s&&(d=M,X=a),t=Un(X)?X.call(t):X}return t}function Og(t,i,a){return t==null?t:Bi(t,i,a)}function Ig(t,i,a,d){return d=typeof d=="function"?d:s,t==null?t:Bi(t,i,a,d)}var ac=vl(Yt),lc=vl(ln);function Dg(t,i,a){var d=Et(t),M=d||Zn(t)||Ai(t);if(i=vt(i,4),a==null){var X=t&&t.constructor;M?a=d?new X:[]:jt(t)?a=Un(X)?_i(ls(t)):{}:a={}}return(M?_n:Mn)(t,function(he,Ae,Fe){return i(a,he,Ae,Fe)}),a}function Lg(t,i){return t==null?!0:Mr(t,i)}function Ng(t,i,a){return t==null?t:nl(t,i,Ir(a))}function Bg(t,i,a,d){return d=typeof d=="function"?d:s,t==null?t:nl(t,i,Ir(a),d)}function Si(t){return t==null?[]:dr(t,Yt(t))}function $g(t){return t==null?[]:dr(t,ln(t))}function Ug(t,i,a){return a===s&&(a=i,i=s),a!==s&&(a=wn(a),a=a===a?a:0),i!==s&&(i=wn(i),i=i===i?i:0),ii(wn(t),i,a)}function Hg(t,i,a){return i=Hn(i),a===s?(a=i,i=0):a=Hn(a),t=wn(t),qh(t,i,a)}function Wg(t,i,a){if(a&&typeof a!="boolean"&&sn(t,i,a)&&(i=a=s),a===s&&(typeof i=="boolean"?(a=i,i=s):typeof t=="boolean"&&(a=t,t=s)),t===s&&i===s?(t=0,i=1):(t=Hn(t),i===s?(i=t,t=0):i=Hn(i)),t>i){var d=t;t=i,i=d}if(a||t%1||i%1){var M=Fa();return en(t+M*(i-t+vu("1e-"+((M+"").length-1))),i)}return Rr(t,i)}var Vg=vi(function(t,i,a){return i=i.toLowerCase(),t+(a?cc(i):i)});function cc(t){return to(Dt(t).toLowerCase())}function uc(t){return t=Dt(t),t&&t.replace(xt,Fu).replace(cu,"")}function jg(t,i,a){t=Dt(t),i=dn(i);var d=t.length;a=a===s?d:ii(Ct(a),0,d);var M=a;return a-=i.length,a>=0&&t.slice(a,M)==i}function zg(t){return t=Dt(t),t&&ot.test(t)?t.replace(we,Ou):t}function qg(t){return t=Dt(t),t&&ne.test(t)?t.replace(st,"\\$&"):t}var Gg=vi(function(t,i,a){return t+(a?"-":"")+i.toLowerCase()}),Kg=vi(function(t,i,a){return t+(a?" ":"")+i.toLowerCase()}),Xg=fl("toLowerCase");function Yg(t,i,a){t=Dt(t),i=Ct(i);var d=i?di(t):0;if(!i||d>=i)return t;var M=(i-d)/2;return xs(ds(M),a)+t+xs(hs(M),a)}function Jg(t,i,a){t=Dt(t),i=Ct(i);var d=i?di(t):0;return i&&d<i?t+xs(i-d,a):t}function Zg(t,i,a){t=Dt(t),i=Ct(i);var d=i?di(t):0;return i&&d<i?xs(i-d,a)+t:t}function Qg(t,i,a){return a||i==null?i=0:i&&(i=+i),rh(Dt(t).replace(f,""),i||0)}function em(t,i,a){return(a?sn(t,i,a):i===s)?i=1:i=Ct(i),Pr(Dt(t),i)}function tm(){var t=arguments,i=Dt(t[0]);return t.length<3?i:i.replace(t[1],t[2])}var nm=vi(function(t,i,a){return t+(a?"_":"")+i.toLowerCase()});function im(t,i,a){return a&&typeof a!="number"&&sn(t,i,a)&&(i=a=s),a=a===s?Ee:a>>>0,a?(t=Dt(t),t&&(typeof i=="string"||i!=null&&!Zr(i))&&(i=dn(i),!i&&hi(t))?Jn(xn(t),0,a):t.split(i,a)):[]}var sm=vi(function(t,i,a){return t+(a?" ":"")+to(i)});function rm(t,i,a){return t=Dt(t),a=a==null?0:ii(Ct(a),0,t.length),i=dn(i),t.slice(a,a+i.length)==i}function om(t,i,a){var d=z.templateSettings;a&&sn(t,i,a)&&(i=s),t=Dt(t),i=Ns({},i,d,yl);var M=Ns({},i.imports,d.imports,yl),X=Yt(M),he=dr(M,X),Ae,Fe,ze=0,qe=i.interpolate||Ht,Ye="__p += '",ht=pr((i.escape||Ht).source+"|"+qe.source+"|"+(qe===ct?Ge:Ht).source+"|"+(i.evaluate||Ht).source+"|$","g"),mt="//# sourceURL="+(Lt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pu+"]")+`
`;t.replace(ht,function(At,kt,Ot,pn,rn,gn){return Ot||(Ot=pn),Ye+=t.slice(ze,gn).replace(Bt,Iu),kt&&(Ae=!0,Ye+=`' +
__e(`+kt+`) +
'`),rn&&(Fe=!0,Ye+=`';
`+rn+`;
__p += '`),Ot&&(Ye+=`' +
((__t = (`+Ot+`)) == null ? '' : __t) +
'`),ze=gn+At.length,At}),Ye+=`';
`;var yt=Lt.call(i,"variable")&&i.variable;if(!yt)Ye=`with (obj) {
`+Ye+`
}
`;else if(Le.test(yt))throw new wt(y);Ye=(Fe?Ye.replace(Ue,""):Ye).replace(Ve,"$1").replace(Ft,"$1;"),Ye="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ae?", __e = _.escape":"")+(Fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ye+`return __p
}`;var Tt=dc(function(){return It(X,mt+"return "+Ye).apply(s,he)});if(Tt.source=Ye,Jr(Tt))throw Tt;return Tt}function am(t){return Dt(t).toLowerCase()}function lm(t){return Dt(t).toUpperCase()}function cm(t,i,a){if(t=Dt(t),t&&(a||i===s))return Aa(t);if(!t||!(i=dn(i)))return t;var d=xn(t),M=xn(i),X=Sa(d,M),he=wa(d,M)+1;return Jn(d,X,he).join("")}function um(t,i,a){if(t=Dt(t),t&&(a||i===s))return t.slice(0,xa(t)+1);if(!t||!(i=dn(i)))return t;var d=xn(t),M=wa(d,xn(i))+1;return Jn(d,0,M).join("")}function hm(t,i,a){if(t=Dt(t),t&&(a||i===s))return t.replace(f,"");if(!t||!(i=dn(i)))return t;var d=xn(t),M=Sa(d,xn(i));return Jn(d,M).join("")}function dm(t,i){var a=J,d=j;if(jt(i)){var M="separator"in i?i.separator:M;a="length"in i?Ct(i.length):a,d="omission"in i?dn(i.omission):d}t=Dt(t);var X=t.length;if(hi(t)){var he=xn(t);X=he.length}if(a>=X)return t;var Ae=a-di(d);if(Ae<1)return d;var Fe=he?Jn(he,0,Ae).join(""):t.slice(0,Ae);if(M===s)return Fe+d;if(he&&(Ae+=Fe.length-Ae),Zr(M)){if(t.slice(Ae).search(M)){var ze,qe=Fe;for(M.global||(M=pr(M.source,Dt(nt.exec(M))+"g")),M.lastIndex=0;ze=M.exec(qe);)var Ye=ze.index;Fe=Fe.slice(0,Ye===s?Ae:Ye)}}else if(t.indexOf(dn(M),Ae)!=Ae){var ht=Fe.lastIndexOf(M);ht>-1&&(Fe=Fe.slice(0,ht))}return Fe+d}function fm(t){return t=Dt(t),t&&Ke.test(t)?t.replace(Pt,Hu):t}var pm=vi(function(t,i,a){return t+(a?" ":"")+i.toUpperCase()}),to=fl("toUpperCase");function hc(t,i,a){return t=Dt(t),i=a?s:i,i===s?Lu(t)?ju(t):Tu(t):t.match(i)||[]}var dc=Rt(function(t,i){try{return un(t,s,i)}catch(a){return Jr(a)?a:new wt(a)}}),gm=Bn(function(t,i){return _n(i,function(a){a=On(a),Ln(t,a,Xr(t[a],t))}),t});function mm(t){var i=t==null?0:t.length,a=vt();return t=i?Vt(t,function(d){if(typeof d[1]!="function")throw new bn(c);return[a(d[0]),d[1]]}):[],Rt(function(d){for(var M=-1;++M<i;){var X=t[M];if(un(X[0],this,d))return un(X[1],this,d)}})}function _m(t){return Hh(yn(t,R))}function no(t){return function(){return t}}function bm(t,i){return t==null||t!==t?i:t}var vm=gl(),ym=gl(!0);function cn(t){return t}function io(t){return za(typeof t=="function"?t:yn(t,R))}function Am(t){return Ga(yn(t,R))}function Sm(t,i){return Ka(t,yn(i,R))}var wm=Rt(function(t,i){return function(a){return Li(a,t,i)}}),Em=Rt(function(t,i){return function(a){return Li(t,a,i)}});function so(t,i,a){var d=Yt(i),M=bs(i,d);a==null&&!(jt(i)&&(M.length||!d.length))&&(a=i,i=t,t=this,M=bs(i,Yt(i)));var X=!(jt(a)&&"chain"in a)||!!a.chain,he=Un(t);return _n(M,function(Ae){var Fe=i[Ae];t[Ae]=Fe,he&&(t.prototype[Ae]=function(){var ze=this.__chain__;if(X||ze){var qe=t(this.__wrapped__),Ye=qe.__actions__=on(this.__actions__);return Ye.push({func:Fe,args:arguments,thisArg:t}),qe.__chain__=ze,qe}return Fe.apply(t,zn([this.value()],arguments))})}),t}function xm(){return Zt._===this&&(Zt._=Yu),this}function ro(){}function Cm(t){return t=Ct(t),Rt(function(i){return Xa(i,t)})}var Tm=Lr(Vt),Rm=Lr(ma),Pm=Lr(ar);function fc(t){return Vr(t)?lr(On(t)):sd(t)}function km(t){return function(i){return t==null?s:si(t,i)}}var Mm=_l(),Fm=_l(!0);function oo(){return[]}function ao(){return!1}function Om(){return{}}function Im(){return""}function Dm(){return!0}function Lm(t,i){if(t=Ct(t),t<1||t>ie)return[];var a=Ee,d=en(t,Ee);i=vt(i),t-=Ee;for(var M=hr(d,i);++a<t;)i(a);return M}function Nm(t){return Et(t)?Vt(t,On):fn(t)?[t]:on(Ol(Dt(t)))}function Bm(t){var i=++Ku;return Dt(t)+i}var $m=Es(function(t,i){return t+i},0),Um=Nr("ceil"),Hm=Es(function(t,i){return t/i},1),Wm=Nr("floor");function Vm(t){return t&&t.length?_s(t,cn,Sr):s}function jm(t,i){return t&&t.length?_s(t,vt(i,2),Sr):s}function zm(t){return va(t,cn)}function qm(t,i){return va(t,vt(i,2))}function Gm(t){return t&&t.length?_s(t,cn,Cr):s}function Km(t,i){return t&&t.length?_s(t,vt(i,2),Cr):s}var Xm=Es(function(t,i){return t*i},1),Ym=Nr("round"),Jm=Es(function(t,i){return t-i},0);function Zm(t){return t&&t.length?ur(t,cn):0}function Qm(t,i){return t&&t.length?ur(t,vt(i,2)):0}return z.after=Ap,z.ary=jl,z.assign=lg,z.assignIn=sc,z.assignInWith=Ns,z.assignWith=cg,z.at=ug,z.before=zl,z.bind=Xr,z.bindAll=gm,z.bindKey=ql,z.castArray=Op,z.chain=Hl,z.chunk=Hd,z.compact=Wd,z.concat=Vd,z.cond=mm,z.conforms=_m,z.constant=no,z.countBy=Zf,z.create=hg,z.curry=Gl,z.curryRight=Kl,z.debounce=Xl,z.defaults=dg,z.defaultsDeep=fg,z.defer=Sp,z.delay=wp,z.difference=jd,z.differenceBy=zd,z.differenceWith=qd,z.drop=Gd,z.dropRight=Kd,z.dropRightWhile=Xd,z.dropWhile=Yd,z.fill=Jd,z.filter=ep,z.flatMap=ip,z.flatMapDeep=sp,z.flatMapDepth=rp,z.flatten=Nl,z.flattenDeep=Zd,z.flattenDepth=Qd,z.flip=Ep,z.flow=vm,z.flowRight=ym,z.fromPairs=ef,z.functions=yg,z.functionsIn=Ag,z.groupBy=op,z.initial=nf,z.intersection=sf,z.intersectionBy=rf,z.intersectionWith=of,z.invert=wg,z.invertBy=Eg,z.invokeMap=lp,z.iteratee=io,z.keyBy=cp,z.keys=Yt,z.keysIn=ln,z.map=Ms,z.mapKeys=Cg,z.mapValues=Tg,z.matches=Am,z.matchesProperty=Sm,z.memoize=Os,z.merge=Rg,z.mergeWith=rc,z.method=wm,z.methodOf=Em,z.mixin=so,z.negate=Is,z.nthArg=Cm,z.omit=Pg,z.omitBy=kg,z.once=xp,z.orderBy=up,z.over=Tm,z.overArgs=Cp,z.overEvery=Rm,z.overSome=Pm,z.partial=Yr,z.partialRight=Yl,z.partition=hp,z.pick=Mg,z.pickBy=oc,z.property=fc,z.propertyOf=km,z.pull=uf,z.pullAll=$l,z.pullAllBy=hf,z.pullAllWith=df,z.pullAt=ff,z.range=Mm,z.rangeRight=Fm,z.rearg=Tp,z.reject=pp,z.remove=pf,z.rest=Rp,z.reverse=Gr,z.sampleSize=mp,z.set=Og,z.setWith=Ig,z.shuffle=_p,z.slice=gf,z.sortBy=yp,z.sortedUniq=Sf,z.sortedUniqBy=wf,z.split=im,z.spread=Pp,z.tail=Ef,z.take=xf,z.takeRight=Cf,z.takeRightWhile=Tf,z.takeWhile=Rf,z.tap=Vf,z.throttle=kp,z.thru=ks,z.toArray=tc,z.toPairs=ac,z.toPairsIn=lc,z.toPath=Nm,z.toPlainObject=ic,z.transform=Dg,z.unary=Mp,z.union=Pf,z.unionBy=kf,z.unionWith=Mf,z.uniq=Ff,z.uniqBy=Of,z.uniqWith=If,z.unset=Lg,z.unzip=Kr,z.unzipWith=Ul,z.update=Ng,z.updateWith=Bg,z.values=Si,z.valuesIn=$g,z.without=Df,z.words=hc,z.wrap=Fp,z.xor=Lf,z.xorBy=Nf,z.xorWith=Bf,z.zip=$f,z.zipObject=Uf,z.zipObjectDeep=Hf,z.zipWith=Wf,z.entries=ac,z.entriesIn=lc,z.extend=sc,z.extendWith=Ns,so(z,z),z.add=$m,z.attempt=dc,z.camelCase=Vg,z.capitalize=cc,z.ceil=Um,z.clamp=Ug,z.clone=Ip,z.cloneDeep=Lp,z.cloneDeepWith=Np,z.cloneWith=Dp,z.conformsTo=Bp,z.deburr=uc,z.defaultTo=bm,z.divide=Hm,z.endsWith=jg,z.eq=Tn,z.escape=zg,z.escapeRegExp=qg,z.every=Qf,z.find=tp,z.findIndex=Dl,z.findKey=pg,z.findLast=np,z.findLastIndex=Ll,z.findLastKey=gg,z.floor=Wm,z.forEach=Wl,z.forEachRight=Vl,z.forIn=mg,z.forInRight=_g,z.forOwn=bg,z.forOwnRight=vg,z.get=Qr,z.gt=$p,z.gte=Up,z.has=Sg,z.hasIn=eo,z.head=Bl,z.identity=cn,z.includes=ap,z.indexOf=tf,z.inRange=Hg,z.invoke=xg,z.isArguments=ai,z.isArray=Et,z.isArrayBuffer=Hp,z.isArrayLike=an,z.isArrayLikeObject=qt,z.isBoolean=Wp,z.isBuffer=Zn,z.isDate=Vp,z.isElement=jp,z.isEmpty=zp,z.isEqual=qp,z.isEqualWith=Gp,z.isError=Jr,z.isFinite=Kp,z.isFunction=Un,z.isInteger=Jl,z.isLength=Ds,z.isMap=Zl,z.isMatch=Xp,z.isMatchWith=Yp,z.isNaN=Jp,z.isNative=Zp,z.isNil=eg,z.isNull=Qp,z.isNumber=Ql,z.isObject=jt,z.isObjectLike=zt,z.isPlainObject=Wi,z.isRegExp=Zr,z.isSafeInteger=tg,z.isSet=ec,z.isString=Ls,z.isSymbol=fn,z.isTypedArray=Ai,z.isUndefined=ng,z.isWeakMap=ig,z.isWeakSet=sg,z.join=af,z.kebabCase=Gg,z.last=Sn,z.lastIndexOf=lf,z.lowerCase=Kg,z.lowerFirst=Xg,z.lt=rg,z.lte=og,z.max=Vm,z.maxBy=jm,z.mean=zm,z.meanBy=qm,z.min=Gm,z.minBy=Km,z.stubArray=oo,z.stubFalse=ao,z.stubObject=Om,z.stubString=Im,z.stubTrue=Dm,z.multiply=Xm,z.nth=cf,z.noConflict=xm,z.noop=ro,z.now=Fs,z.pad=Yg,z.padEnd=Jg,z.padStart=Zg,z.parseInt=Qg,z.random=Wg,z.reduce=dp,z.reduceRight=fp,z.repeat=em,z.replace=tm,z.result=Fg,z.round=Ym,z.runInContext=Pe,z.sample=gp,z.size=bp,z.snakeCase=nm,z.some=vp,z.sortedIndex=mf,z.sortedIndexBy=_f,z.sortedIndexOf=bf,z.sortedLastIndex=vf,z.sortedLastIndexBy=yf,z.sortedLastIndexOf=Af,z.startCase=sm,z.startsWith=rm,z.subtract=Jm,z.sum=Zm,z.sumBy=Qm,z.template=om,z.times=Lm,z.toFinite=Hn,z.toInteger=Ct,z.toLength=nc,z.toLower=am,z.toNumber=wn,z.toSafeInteger=ag,z.toString=Dt,z.toUpper=lm,z.trim=cm,z.trimEnd=um,z.trimStart=hm,z.truncate=dm,z.unescape=fm,z.uniqueId=Bm,z.upperCase=pm,z.upperFirst=to,z.each=Wl,z.eachRight=Vl,z.first=Bl,so(z,function(){var t={};return Mn(z,function(i,a){Lt.call(z.prototype,a)||(t[a]=i)}),t}(),{chain:!1}),z.VERSION=r,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){z[t].placeholder=z}),_n(["drop","take"],function(t,i){Mt.prototype[t]=function(a){a=a===s?1:Xt(Ct(a),0);var d=this.__filtered__&&!i?new Mt(this):this.clone();return d.__filtered__?d.__takeCount__=en(a,d.__takeCount__):d.__views__.push({size:en(a,Ee),type:t+(d.__dir__<0?"Right":"")}),d},Mt.prototype[t+"Right"]=function(a){return this.reverse()[t](a).reverse()}}),_n(["filter","map","takeWhile"],function(t,i){var a=i+1,d=a==D||a==ee;Mt.prototype[t]=function(M){var X=this.clone();return X.__iteratees__.push({iteratee:vt(M,3),type:a}),X.__filtered__=X.__filtered__||d,X}}),_n(["head","last"],function(t,i){var a="take"+(i?"Right":"");Mt.prototype[t]=function(){return this[a](1).value()[0]}}),_n(["initial","tail"],function(t,i){var a="drop"+(i?"":"Right");Mt.prototype[t]=function(){return this.__filtered__?new Mt(this):this[a](1)}}),Mt.prototype.compact=function(){return this.filter(cn)},Mt.prototype.find=function(t){return this.filter(t).head()},Mt.prototype.findLast=function(t){return this.reverse().find(t)},Mt.prototype.invokeMap=Rt(function(t,i){return typeof t=="function"?new Mt(this):this.map(function(a){return Li(a,t,i)})}),Mt.prototype.reject=function(t){return this.filter(Is(vt(t)))},Mt.prototype.slice=function(t,i){t=Ct(t);var a=this;return a.__filtered__&&(t>0||i<0)?new Mt(a):(t<0?a=a.takeRight(-t):t&&(a=a.drop(t)),i!==s&&(i=Ct(i),a=i<0?a.dropRight(-i):a.take(i-t)),a)},Mt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mt.prototype.toArray=function(){return this.take(Ee)},Mn(Mt.prototype,function(t,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),d=/^(?:head|last)$/.test(i),M=z[d?"take"+(i=="last"?"Right":""):i],X=d||/^find/.test(i);M&&(z.prototype[i]=function(){var he=this.__wrapped__,Ae=d?[1]:arguments,Fe=he instanceof Mt,ze=Ae[0],qe=Fe||Et(he),Ye=function(kt){var Ot=M.apply(z,zn([kt],Ae));return d&&ht?Ot[0]:Ot};qe&&a&&typeof ze=="function"&&ze.length!=1&&(Fe=qe=!1);var ht=this.__chain__,mt=!!this.__actions__.length,yt=X&&!ht,Tt=Fe&&!mt;if(!X&&qe){he=Tt?he:new Mt(this);var At=t.apply(he,Ae);return At.__actions__.push({func:ks,args:[Ye],thisArg:s}),new vn(At,ht)}return yt&&Tt?t.apply(this,Ae):(At=this.thru(Ye),yt?d?At.value()[0]:At.value():At)})}),_n(["pop","push","shift","sort","splice","unshift"],function(t){var i=ns[t],a=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",d=/^(?:pop|shift)$/.test(t);z.prototype[t]=function(){var M=arguments;if(d&&!this.__chain__){var X=this.value();return i.apply(Et(X)?X:[],M)}return this[a](function(he){return i.apply(Et(he)?he:[],M)})}}),Mn(Mt.prototype,function(t,i){var a=z[i];if(a){var d=a.name+"";Lt.call(mi,d)||(mi[d]=[]),mi[d].push({name:i,func:a})}}),mi[ws(s,L).name]=[{name:"wrapper",func:s}],Mt.prototype.clone=dh,Mt.prototype.reverse=fh,Mt.prototype.value=ph,z.prototype.at=jf,z.prototype.chain=zf,z.prototype.commit=qf,z.prototype.next=Gf,z.prototype.plant=Xf,z.prototype.reverse=Yf,z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=Jf,z.prototype.first=z.prototype.head,Pi&&(z.prototype[Pi]=Kf),z},fi=zu();Qn?((Qn.exports=fi)._=fi,ir._=fi):Zt._=fi}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const _=getDefaultExportFromCjs(lodashExports);function bind(e,n){return function(){return e.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator:iterator$1,toStringTag}=Symbol,kindOf=(e=>n=>{const s=toString.call(n);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),n=>kindOf(n)===e),typeOfTest=e=>n=>typeof n===e,{isArray:isArray$2}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction$2(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&isArrayBuffer(e.buffer),n}const isString$2=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject$1=e=>{if(kindOf(e)!=="object")return!1;const n=getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(toStringTag in e)&&!(iterator$1 in e)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$2(e)&&isFunction$2(e.pipe),isFormData=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction$2(e.append)&&((n=kindOf(e))==="formdata"||n==="object"&&isFunction$2(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,n,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),isArray$2(e))for(r=0,o=e.length;r<o;r++)n.call(null,e[r],r,e);else{const l=s?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let y;for(r=0;r<c;r++)y=l[r],n.call(null,e[y],y,e)}}function findKey(e,n){n=n.toLowerCase();const s=Object.keys(e);let r=s.length,o;for(;r-- >0;)if(o=s[r],n===o.toLowerCase())return o;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},n={},s=(r,o)=>{const l=e&&findKey(n,o)||o;isPlainObject$1(n[l])&&isPlainObject$1(r)?n[l]=merge(n[l],r):isPlainObject$1(r)?n[l]=merge({},r):isArray$2(r)?n[l]=r.slice():n[l]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&forEach(arguments[r],s);return n}const extend$2=(e,n,s,{allOwnKeys:r}={})=>(forEach(n,(o,l)=>{s&&isFunction$2(o)?e[l]=bind(o,s):e[l]=o},{allOwnKeys:r}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,n,s,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject=(e,n,s,r)=>{let o,l,c;const y={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!r||r(c,e,n))&&!y[c]&&(n[c]=e[c],y[c]=!0);e=s!==!1&&getPrototypeOf(e)}while(e&&(!s||s(e,n))&&e!==Object.prototype);return n},endsWith=(e,n,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=n.length;const r=e.indexOf(n,s);return r!==-1&&r===s},toArray=e=>{if(!e)return null;if(isArray$2(e))return e;let n=e.length;if(!isNumber(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=e[n];return s},isTypedArray=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,n)=>{const r=(e&&e[iterator$1]).call(e);let o;for(;(o=r.next())&&!o.done;){const l=o.value;n.call(e,l[0],l[1])}},matchAll=(e,n)=>{let s;const r=[];for(;(s=e.exec(n))!==null;)r.push(s);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),hasOwnProperty$2=(({hasOwnProperty:e})=>(n,s)=>e.call(n,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,n)=>{const s=Object.getOwnPropertyDescriptors(e),r={};forEach(s,(o,l)=>{let c;(c=n(o,l,e))!==!1&&(r[l]=c||o)}),Object.defineProperties(e,r)},freezeMethods=e=>{reduceDescriptors(e,(n,s)=>{if(isFunction$2(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(isFunction$2(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(e,n)=>{const s={},r=o=>{o.forEach(l=>{s[l]=!0})};return isArray$2(e)?r(e):r(String(e).split(n)),s},noop=()=>{},toFiniteNumber=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function isSpecCompliantForm(e){return!!(e&&isFunction$2(e.append)&&e[toStringTag]==="FormData"&&e[iterator$1])}const toJSONObject=e=>{const n=new Array(10),s=(r,o)=>{if(isObject$2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[o]=r;const l=isArray$2(r)?[]:{};return forEach(r,(c,y)=>{const b=s(c,o+1);!isUndefined(b)&&(l[y]=b)}),n[o]=void 0,l}}return r};return s(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$2(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),_setImmediate=((e,n)=>e?setImmediate:n?((s,r)=>(_global.addEventListener("message",({source:o,data:l})=>{o===_global&&l===s&&r.length&&r.shift()()},!1),o=>{r.push(o),_global.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=e=>e!=null&&isFunction$2(e[iterator$1]),utils$1={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber,isBoolean,isObject:isObject$2,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend:extend$2,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(e,n,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,n,s,r,o,l)=>{const c=Object.create(prototype$1);return utils$1.toFlatObject(e,c,function(b){return b!==Error.prototype},y=>y!=="isAxiosError"),AxiosError.call(c,e.message,n,s,r,o),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,n,s){return e?e.concat(n).map(function(o,l){return o=removeBrackets(o),!s&&l?"["+o+"]":o}).join(s?".":""):n}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData(e,n,s){if(!utils$1.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,x){return!utils$1.isUndefined(x[O])});const r=s.metaTokens,o=s.visitor||u,l=s.dots,c=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function S(P){if(P===null)return"";if(utils$1.isDate(P))return P.toISOString();if(utils$1.isBoolean(P))return P.toString();if(!b&&utils$1.isBlob(P))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(P)||utils$1.isTypedArray(P)?b&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function u(P,O,x){let L=P;if(P&&!x&&typeof P=="object"){if(utils$1.endsWith(O,"{}"))O=r?O:O.slice(0,-2),P=JSON.stringify(P);else if(utils$1.isArray(P)&&isFlatArray(P)||(utils$1.isFileList(P)||utils$1.endsWith(O,"[]"))&&(L=utils$1.toArray(P)))return O=removeBrackets(O),L.forEach(function(H,N){!(utils$1.isUndefined(H)||H===null)&&n.append(c===!0?renderKey([O],N,l):c===null?O:O+"[]",S(H))}),!1}return isVisitable(P)?!0:(n.append(renderKey(x,O,l),S(P)),!1)}const R=[],W=Object.assign(predicates,{defaultVisitor:u,convertValue:S,isVisitable});function B(P,O){if(!utils$1.isUndefined(P)){if(R.indexOf(P)!==-1)throw Error("Circular reference detected in "+O.join("."));R.push(P),utils$1.forEach(P,function(L,V){(!(utils$1.isUndefined(L)||L===null)&&o.call(n,L,utils$1.isString(V)?V.trim():V,O,W))===!0&&B(L,O?O.concat(V):[V])}),R.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return B(e),n}function encode$1(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams(e,n){this._pairs=[],e&&toFormData(e,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,s){this._pairs.push([n,s])};prototype.toString=function(n){const s=n?function(r){return n.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,n,s){if(!n)return e;const r=s&&s.encode||encode;utils$1.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let l;if(o?l=o(n,s):l=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,s).toString(r),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class InterceptorManager{constructor(){this.handlers=[]}use(n,s,r){return this.handlers.push({fulfilled:n,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,n){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,r,o,l){return platform.isNode&&utils$1.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(e){const n={},s=Object.keys(e);let r;const o=s.length;let l;for(r=0;r<o;r++)l=s[r],n[l]=e[l];return n}function formDataToJSON(e){function n(s,r,o,l){let c=s[l++];if(c==="__proto__")return!0;const y=Number.isFinite(+c),b=l>=s.length;return c=!c&&utils$1.isArray(o)?o.length:c,b?(utils$1.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!y):((!o[c]||!utils$1.isObject(o[c]))&&(o[c]=[]),n(s,r,o[c],l)&&utils$1.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!y)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const s={};return utils$1.forEachEntry(e,(r,o)=>{n(parsePropPath(r),o,s,0)}),s}return null}function stringifySafely(e,n,s){if(utils$1.isString(e))try{return(n||JSON.parse)(e),utils$1.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,l=utils$1.isObject(n);if(l&&utils$1.isHTMLForm(n)&&(n=new FormData(n)),utils$1.isFormData(n))return o?JSON.stringify(formDataToJSON(n)):n;if(utils$1.isArrayBuffer(n)||utils$1.isBuffer(n)||utils$1.isStream(n)||utils$1.isFile(n)||utils$1.isBlob(n)||utils$1.isReadableStream(n))return n;if(utils$1.isArrayBufferView(n))return n.buffer;if(utils$1.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let y;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((y=utils$1.isFileList(n))||r.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return toFormData(y?{"files[]":n}:n,b&&new b,this.formSerializer)}}return l||o?(s.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const s=this.transitional||defaults.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(n)||utils$1.isReadableStream(n))return n;if(n&&utils$1.isString(n)&&(r&&!this.responseType||o)){const c=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(y){if(c)throw y.name==="SyntaxError"?AxiosError.from(y,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):y}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const n={};let s,r,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),s=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!s||n[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?n[s]?n[s].push(r):n[s]=[r]:n[s]=n[s]?n[s]+", "+r:r)}),n},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)n[r[1]]=r[2];return n}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,n,s,r,o){if(utils$1.isFunction(r))return r.call(this,n,s);if(o&&(n=s),!!utils$1.isString(n)){if(utils$1.isString(r))return n.indexOf(r)!==-1;if(utils$1.isRegExp(r))return r.test(n)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,r)=>s.toUpperCase()+r)}function buildAccessors(e,n){const s=utils$1.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(o,l,c){return this[r].call(this,n,o,l,c)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,s,r){const o=this;function l(y,b,S){const u=normalizeHeader(b);if(!u)throw new Error("header name must be a non-empty string");const R=utils$1.findKey(o,u);(!R||o[R]===void 0||S===!0||S===void 0&&o[R]!==!1)&&(o[R||b]=normalizeValue(y))}const c=(y,b)=>utils$1.forEach(y,(S,u)=>l(S,u,b));if(utils$1.isPlainObject(n)||n instanceof this.constructor)c(n,s);else if(utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))c(parseHeaders(n),s);else if(utils$1.isObject(n)&&utils$1.isIterable(n)){let y={},b,S;for(const u of n){if(!utils$1.isArray(u))throw TypeError("Object iterator must return a key-value pair");y[S=u[0]]=(b=y[S])?utils$1.isArray(b)?[...b,u[1]]:[b,u[1]]:u[1]}c(y,s)}else n!=null&&l(s,n,r);return this}get(n,s){if(n=normalizeHeader(n),n){const r=utils$1.findKey(this,n);if(r){const o=this[r];if(!s)return o;if(s===!0)return parseTokens(o);if(utils$1.isFunction(s))return s.call(this,o,r);if(utils$1.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=normalizeHeader(n),n){const r=utils$1.findKey(this,n);return!!(r&&this[r]!==void 0&&(!s||matchHeaderValue(this,this[r],r,s)))}return!1}delete(n,s){const r=this;let o=!1;function l(c){if(c=normalizeHeader(c),c){const y=utils$1.findKey(r,c);y&&(!s||matchHeaderValue(r,r[y],y,s))&&(delete r[y],o=!0)}}return utils$1.isArray(n)?n.forEach(l):l(n),o}clear(n){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const l=s[r];(!n||matchHeaderValue(this,this[l],l,n,!0))&&(delete this[l],o=!0)}return o}normalize(n){const s=this,r={};return utils$1.forEach(this,(o,l)=>{const c=utils$1.findKey(r,l);if(c){s[c]=normalizeValue(o),delete s[l];return}const y=n?formatHeader(l):String(l).trim();y!==l&&delete s[l],s[y]=normalizeValue(o),r[y]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return utils$1.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=n&&utils$1.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const r=new this(n);return s.forEach(o=>r.set(o)),r}static accessor(n){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function l(c){const y=normalizeHeader(c);r[y]||(buildAccessors(o,c),r[y]=!0)}return utils$1.isArray(n)?n.forEach(l):l(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:e},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[s]=r}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,n){const s=this||defaults$1,r=n||s,o=AxiosHeaders$1.from(r.headers);let l=r.data;return utils$1.forEach(e,function(y){l=y.call(s,l,o.normalize(),n?n.status:void 0)}),o.normalize(),l}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,n,s){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,n,s),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,n,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):n(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function parseProtocol(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function speedometer(e,n){e=e||10;const s=new Array(e),r=new Array(e);let o=0,l=0,c;return n=n!==void 0?n:1e3,function(b){const S=Date.now(),u=r[l];c||(c=S),s[o]=b,r[o]=S;let R=l,W=0;for(;R!==o;)W+=s[R++],R=R%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),S-c<n)return;const B=u&&S-u;return B?Math.round(W*1e3/B):void 0}}function throttle(e,n){let s=0,r=1e3/n,o,l;const c=(S,u=Date.now())=>{s=u,o=null,l&&(clearTimeout(l),l=null),e.apply(null,S)};return[(...S)=>{const u=Date.now(),R=u-s;R>=r?c(S,u):(o=S,l||(l=setTimeout(()=>{l=null,c(o)},r-R)))},()=>o&&c(o)]}const progressEventReducer=(e,n,s=3)=>{let r=0;const o=speedometer(50,250);return throttle(l=>{const c=l.loaded,y=l.lengthComputable?l.total:void 0,b=c-r,S=o(b),u=c<=y;r=c;const R={loaded:c,total:y,progress:y?c/y:void 0,bytes:b,rate:S||void 0,estimated:S&&y&&u?(y-c)/S:void 0,event:l,lengthComputable:y!=null,[n?"download":"upload"]:!0};e(R)},s)},progressEventDecorator=(e,n)=>{const s=e!=null;return[r=>n[0]({lengthComputable:s,total:e,loaded:r}),n[1]]},asyncDecorator=e=>(...n)=>utils$1.asap(()=>e(...n)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,n)=>s=>(s=new URL(s,platform.origin),e.protocol===s.protocol&&e.host===s.host&&(n||e.port===s.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,n,s,r,o,l){const c=[e+"="+encodeURIComponent(n)];utils$1.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),utils$1.isString(r)&&c.push("path="+r),utils$1.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function buildFullPath(e,n,s){let r=!isAbsoluteURL(n);return e&&(r||s==!1)?combineURLs(e,n):n}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig(e,n){n=n||{};const s={};function r(S,u,R,W){return utils$1.isPlainObject(S)&&utils$1.isPlainObject(u)?utils$1.merge.call({caseless:W},S,u):utils$1.isPlainObject(u)?utils$1.merge({},u):utils$1.isArray(u)?u.slice():u}function o(S,u,R,W){if(utils$1.isUndefined(u)){if(!utils$1.isUndefined(S))return r(void 0,S,R,W)}else return r(S,u,R,W)}function l(S,u){if(!utils$1.isUndefined(u))return r(void 0,u)}function c(S,u){if(utils$1.isUndefined(u)){if(!utils$1.isUndefined(S))return r(void 0,S)}else return r(void 0,u)}function y(S,u,R){if(R in n)return r(S,u);if(R in e)return r(void 0,S)}const b={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:y,headers:(S,u,R)=>o(headersToObject(S),headersToObject(u),R,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,n)),function(u){const R=b[u]||o,W=R(e[u],n[u],u);utils$1.isUndefined(W)&&R!==y||(s[u]=W)}),s}const resolveConfig=e=>{const n=mergeConfig({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:y}=n;n.headers=c=AxiosHeaders$1.from(c),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&c.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let b;if(utils$1.isFormData(s)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((b=c.getContentType())!==!1){const[S,...u]=b?b.split(";").map(R=>R.trim()).filter(Boolean):[];c.setContentType([S||"multipart/form-data",...u].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$1.isFunction(r)&&(r=r(n)),r||r!==!1&&isURLSameOrigin(n.url))){const S=o&&l&&cookies.read(l);S&&c.set(o,S)}return n},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(s,r){const o=resolveConfig(e);let l=o.data;const c=AxiosHeaders$1.from(o.headers).normalize();let{responseType:y,onUploadProgress:b,onDownloadProgress:S}=o,u,R,W,B,P;function O(){B&&B(),P&&P(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function L(){if(!x)return;const H=AxiosHeaders$1.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),w={data:!y||y==="text"||y==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:H,config:e,request:x};settle(function(Y){s(Y),O()},function(Y){r(Y),O()},w),x=null}"onloadend"in x?x.onloadend=L:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(L)},x.onabort=function(){x&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const w=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),r(new AxiosError(N,w.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,x)),x=null},l===void 0&&c.setContentType(null),"setRequestHeader"in x&&utils$1.forEach(c.toJSON(),function(N,w){x.setRequestHeader(w,N)}),utils$1.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),y&&y!=="json"&&(x.responseType=o.responseType),S&&([W,P]=progressEventReducer(S,!0),x.addEventListener("progress",W)),b&&x.upload&&([R,B]=progressEventReducer(b),x.upload.addEventListener("progress",R),x.upload.addEventListener("loadend",B)),(o.cancelToken||o.signal)&&(u=H=>{x&&(r(!H||H.type?new CanceledError(null,e,x):H),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const V=parseProtocol(o.url);if(V&&platform.protocols.indexOf(V)===-1){r(new AxiosError("Unsupported protocol "+V+":",AxiosError.ERR_BAD_REQUEST,e));return}x.send(l||null)})},composeSignals=(e,n)=>{const{length:s}=e=e?e.filter(Boolean):[];if(n||s){let r=new AbortController,o;const l=function(S){if(!o){o=!0,y();const u=S instanceof Error?S:this.reason;r.abort(u instanceof AxiosError?u:new CanceledError(u instanceof Error?u.message:u))}};let c=n&&setTimeout(()=>{c=null,l(new AxiosError(`timeout ${n} of ms exceeded`,AxiosError.ETIMEDOUT))},n);const y=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(S=>{S.unsubscribe?S.unsubscribe(l):S.removeEventListener("abort",l)}),e=null)};e.forEach(S=>S.addEventListener("abort",l));const{signal:b}=r;return b.unsubscribe=()=>utils$1.asap(y),b}},composeSignals$1=composeSignals,streamChunk=function*(e,n){let s=e.byteLength;if(!n||s<n){yield e;return}let r=0,o;for(;r<s;)o=r+n,yield e.slice(r,o),r=o},readBytes=async function*(e,n){for await(const s of readStream(e))yield*streamChunk(s,n)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:s,value:r}=await n.read();if(s)break;yield r}}finally{await n.cancel()}},trackStream=(e,n,s,r)=>{const o=readBytes(e,n);let l=0,c,y=b=>{c||(c=!0,r&&r(b))};return new ReadableStream({async pull(b){try{const{done:S,value:u}=await o.next();if(S){y(),b.close();return}let R=u.byteLength;if(s){let W=l+=R;s(W)}b.enqueue(new Uint8Array(u))}catch(S){throw y(S),S}},cancel(b){return y(b),o.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...n)=>{try{return!!e(...n)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const n=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!resolvers[n]&&(resolvers[n]=utils$1.isFunction(e[n])?s=>s[n]():(s,r)=>{throw new AxiosError(`Response type '${n}' is not supported`,AxiosError.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,n)=>{const s=utils$1.toFiniteNumber(e.getContentLength());return s??getBodyLength(n)},fetchAdapter=isFetchSupported&&(async e=>{let{url:n,method:s,data:r,signal:o,cancelToken:l,timeout:c,onDownloadProgress:y,onUploadProgress:b,responseType:S,headers:u,withCredentials:R="same-origin",fetchOptions:W}=resolveConfig(e);S=S?(S+"").toLowerCase():"text";let B=composeSignals$1([o,l&&l.toAbortSignal()],c),P;const O=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let x;try{if(b&&supportsRequestStream&&s!=="get"&&s!=="head"&&(x=await resolveBodyLength(u,r))!==0){let w=new Request(n,{method:"POST",body:r,duplex:"half"}),C;if(utils$1.isFormData(r)&&(C=w.headers.get("content-type"))&&u.setContentType(C),w.body){const[Y,$]=progressEventDecorator(x,progressEventReducer(asyncDecorator(b)));r=trackStream(w.body,DEFAULT_CHUNK_SIZE,Y,$)}}utils$1.isString(R)||(R=R?"include":"omit");const L="credentials"in Request.prototype;P=new Request(n,{...W,signal:B,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:L?R:void 0});let V=await fetch(P,W);const H=supportsResponseStream&&(S==="stream"||S==="response");if(supportsResponseStream&&(y||H&&O)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=V[E]});const C=utils$1.toFiniteNumber(V.headers.get("content-length")),[Y,$]=y&&progressEventDecorator(C,progressEventReducer(asyncDecorator(y),!0))||[];V=new Response(trackStream(V.body,DEFAULT_CHUNK_SIZE,Y,()=>{$&&$(),O&&O()}),w)}S=S||"text";let N=await resolvers[utils$1.findKey(resolvers,S)||"text"](V,e);return!H&&O&&O(),await new Promise((w,C)=>{settle(w,C,{data:N,headers:AxiosHeaders$1.from(V.headers),status:V.status,statusText:V.statusText,config:e,request:P})})}catch(L){throw O&&O(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,P),{cause:L.cause||L}):AxiosError.from(L,L&&L.code,e,P)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:n}=e;let s,r;const o={};for(let l=0;l<n;l++){s=e[l];let c;if(r=s,!isResolvedHandle(s)&&(r=knownAdapters[(c=String(s)).toLowerCase()],r===void 0))throw new AxiosError(`Unknown adapter '${c}'`);if(r)break;o[c||"#"+l]=r}if(!r){const l=Object.entries(o).map(([y,b])=>`adapter ${y} `+(b===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(renderReason).join(`
`):" "+renderReason(l[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(r){return throwIfCancellationRequested(e),r.data=transformData.call(e,e.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(e),r&&r.response&&(r.response.data=transformData.call(e,e.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const VERSION="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{validators$1[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(n,s,r){function o(l,c){return"[Axios v"+VERSION+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,y)=>{if(n===!1)throw new AxiosError(o(c," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(l,c,y):!0}};validators$1.spelling=function(n){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function assertOptions(e,n,s){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const l=r[o],c=n[l];if(c){const y=e[l],b=y===void 0||c(y,l,e);if(b!==!0)throw new AxiosError("option "+l+" must be "+b,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+l,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(n,s){try{return await this._request(n,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=mergeConfig(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:l}=s;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?s.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),validator.assertOptions(s,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=l&&utils$1.merge(l.common,l[s.method]);l&&utils$1.forEach(["delete","get","head","post","put","patch","common"],P=>{delete l[P]}),s.headers=AxiosHeaders$1.concat(c,l);const y=[];let b=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(s)===!1||(b=b&&O.synchronous,y.unshift(O.fulfilled,O.rejected))});const S=[];this.interceptors.response.forEach(function(O){S.push(O.fulfilled,O.rejected)});let u,R=0,W;if(!b){const P=[dispatchRequest.bind(this),void 0];for(P.unshift.apply(P,y),P.push.apply(P,S),W=P.length,u=Promise.resolve(s);R<W;)u=u.then(P[R++],P[R++]);return u}W=y.length;let B=s;for(R=0;R<W;){const P=y[R++],O=y[R++];try{B=P(B)}catch(x){O.call(this,x);break}}try{u=dispatchRequest.call(this,B)}catch(P){return Promise.reject(P)}for(R=0,W=S.length;R<W;)u=u.then(S[R++],S[R++]);return u}getUri(n){n=mergeConfig(this.defaults,n);const s=buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls);return buildURL(s,n.params,n.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(n){Axios.prototype[n]=function(s,r){return this.request(mergeConfig(r||{},{method:n,url:s,data:(r||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function s(r){return function(l,c,y){return this.request(mergeConfig(y||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Axios.prototype[n]=s(),Axios.prototype[n+"Form"]=s(!0)});const Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(o=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](o);r._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(y=>{r.subscribe(y),l=y}).then(o);return c.cancel=function(){r.unsubscribe(l)},c},n(function(l,c,y){r.reason||(r.reason=new CanceledError(l,c,y),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const n=new AbortController,s=r=>{n.abort(r)};return this.subscribe(s),n.signal.unsubscribe=()=>this.unsubscribe(s),n.signal}static source(){let n;return{token:new CancelToken(function(o){n=o}),cancel:n}}}const CancelToken$1=CancelToken;function spread(e){return function(s){return e.apply(null,s)}}function isAxiosError(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,n])=>{HttpStatusCode[n]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const n=new Axios$1(e),s=bind(Axios$1.prototype.request,n);return utils$1.extend(s,Axios$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(s,n,null,{allOwnKeys:!0}),s.create=function(o){return createInstance(mergeConfig(e,o))},s}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;window._=_;window.axios=axios$1;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const csrfToken=document.head.querySelector('meta[name="csrf-token"]');csrfToken?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=csrfToken.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token");const app="";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap$1(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener$1=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,n)=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,n)=>hasOwnProperty$1.call(e,n),isArray$1=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet$1=e=>toTypeString$1(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol$1=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$1(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap$1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(e=>e.replace(camelizeRE$1,(n,s)=>s?s.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(e=>e.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize$1=cacheStringFunction$1(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction$1(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,n)=>!Object.is(e,n),invokeArrayFns$1=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},def=(e,n,s,r=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:r,value:s})},looseToNumber$1=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++){const r=e[s],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const l in o)n[l]=o[l]}return n}else if(isString$1(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const n={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const r=s.split(propertyDelimiterRE);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function normalizeClass(e){let n="";if(isString$1(e))n=e;else if(isArray$1(e))for(let s=0;s<e.length;s++){const r=normalizeClass(e[s]);r&&(n+=r+" ")}else if(isObject$1(e))for(const s in e)e[s]&&(n+=s+" ");return n.trim()}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$1(e)||isObject$1(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,n)=>isRef$1(n)?replacer(e,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[r,o],l)=>(s[stringifySymbol(r,l)+" =>"]=o,s),{})}:isSet$1(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>stringifySymbol(s))}:isSymbol$1(n)?stringifySymbol(n):isObject$1(n)&&!isArray$1(n)&&!isPlainObject(n)?String(n):n,stringifySymbol=(e,n="")=>{var s;return isSymbol$1(e)?`Symbol(${(s=e.description)!=null?s:n})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].pause();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].resume();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].resume()}}run(n){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const n=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=n,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)removeSub(n);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,n=!1){if(e.flags|=8,n){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let n=batchedComputed;for(batchedComputed=void 0;n;){const s=n.next;n.next=void 0,n.flags&=-9,n=s}}let e;for(;batchedSub;){let n=batchedSub;for(batchedSub=void 0;n;){const s=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(r){e||(e=r)}n=s}}if(e)throw e}function prepareDeps(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function cleanupDeps(e){let n,s=e.depsTail,r=s;for(;r;){const o=r.prevDep;r.version===-1?(r===s&&(s=o),removeSub(r),removeDep(r)):n=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=n,e.depsTail=s}function isDirty(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(refreshComputed(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const n=e.dep,s=activeSub,r=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const o=e.fn(e._value);(n.version===0||hasChanged(o,e._value))&&(e.flags|=128,e._value=o,n.version++)}catch(o){throw n.version++,o}finally{activeSub=s,shouldTrack=r,cleanupDeps(e),e.flags&=-3}}function removeSub(e,n=!1){const{dep:s,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!n&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(e){const{prevDep:n,nextDep:s}=e;n&&(n.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=n,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const s=activeSub;activeSub=void 0;try{n()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(n,s){this.sub=n,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=r)}return s}trigger(n){this.version++,globalVersion++,this.notify(n)}notify(n){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let r=n.deps;r;r=r.nextDep)addSub(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,n,s){if(shouldTrack&&activeSub){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let o=r.get(s);o||(r.set(s,o=new Dep),o.map=r,o.key=s),o.track()}}function trigger(e,n,s,r,o,l){const c=targetMap.get(e);if(!c){globalVersion++;return}const y=b=>{b&&b.trigger()};if(startBatch(),n==="clear")c.forEach(y);else{const b=isArray$1(e),S=b&&isIntegerKey(s);if(b&&s==="length"){const u=Number(r);c.forEach((R,W)=>{(W==="length"||W===ARRAY_ITERATE_KEY||!isSymbol$1(W)&&W>=u)&&y(R)})}else switch((s!==void 0||c.has(void 0))&&y(c.get(s)),S&&y(c.get(ARRAY_ITERATE_KEY)),n){case"add":b?S&&y(c.get("length")):(y(c.get(ITERATE_KEY)),isMap(e)&&y(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":b||(y(c.get(ITERATE_KEY)),isMap(e)&&y(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&y(c.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(e){const n=toRaw(e);return n===e?n:(track(n,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?n:n.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(n=>isArray$1(n)?reactiveReadArray(n):n))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,n){return apply(this,"every",e,n,void 0,arguments)},filter(e,n){return apply(this,"filter",e,n,s=>s.map(toReactive),arguments)},find(e,n){return apply(this,"find",e,n,toReactive,arguments)},findIndex(e,n){return apply(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return apply(this,"findLast",e,n,toReactive,arguments)},findLastIndex(e,n){return apply(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return apply(this,"forEach",e,n,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,n){return apply(this,"map",e,n,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...n){return reduce(this,"reduce",e,n)},reduceRight(e,...n){return reduce(this,"reduceRight",e,n)},shift(){return noTracking(this,"shift")},some(e,n){return apply(this,"some",e,n,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,n,s){const r=shallowReadArray(e),o=r[n]();return r!==e&&!isShallow(e)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=s(l.value)),l}),o}const arrayProto=Array.prototype;function apply(e,n,s,r,o,l){const c=shallowReadArray(e),y=c!==e&&!isShallow(e),b=c[n];if(b!==arrayProto[n]){const R=b.apply(e,l);return y?toReactive(R):R}let S=s;c!==e&&(y?S=function(R,W){return s.call(this,toReactive(R),W,e)}:s.length>2&&(S=function(R,W){return s.call(this,R,W,e)}));const u=b.call(c,S,r);return y&&o?o(u):u}function reduce(e,n,s,r){const o=shallowReadArray(e);let l=s;return o!==e&&(isShallow(e)?s.length>3&&(l=function(c,y,b){return s.call(this,c,y,b,e)}):l=function(c,y,b){return s.call(this,c,toReactive(y),b,e)}),o[n](l,...r)}function searchProxy(e,n,s){const r=toRaw(e);track(r,"iterate",ARRAY_ITERATE_KEY);const o=r[n](...s);return(o===-1||o===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),r[n](...s)):o}function noTracking(e,n,s=[]){pauseTracking(),startBatch();const r=toRaw(e)[n].apply(e,s);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap$1("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$1));function hasOwnProperty(e){isSymbol$1(e)||(e=String(e));const n=toRaw(this);return track(n,"has",e),n.hasOwnProperty(e)}class BaseReactiveHandler{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,r){if(s==="__v_skip")return n.__v_skip;const o=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return l;if(s==="__v_raw")return r===(o?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(r)?n:void 0;const c=isArray$1(n);if(!o){let b;if(c&&(b=arrayInstrumentations[s]))return b;if(s==="hasOwnProperty")return hasOwnProperty}const y=Reflect.get(n,s,isRef(n)?n:r);return(isSymbol$1(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(o||track(n,"get",s),l)?y:isRef(y)?c&&isIntegerKey(s)?y:y.value:isObject$1(y)?o?readonly(y):reactive(y):y}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!1,n)}set(n,s,r,o){let l=n[s];if(!this._isShallow){const b=isReadonly(l);if(!isShallow(r)&&!isReadonly(r)&&(l=toRaw(l),r=toRaw(r)),!isArray$1(n)&&isRef(l)&&!isRef(r))return b?!1:(l.value=r,!0)}const c=isArray$1(n)&&isIntegerKey(s)?Number(s)<n.length:hasOwn(n,s),y=Reflect.set(n,s,r,isRef(n)?n:o);return n===toRaw(o)&&(c?hasChanged(r,l)&&trigger(n,"set",s,r):trigger(n,"add",s,r)),y}deleteProperty(n,s){const r=hasOwn(n,s);n[s];const o=Reflect.deleteProperty(n,s);return o&&r&&trigger(n,"delete",s,void 0),o}has(n,s){const r=Reflect.has(n,s);return(!isSymbol$1(s)||!builtInSymbols.has(s))&&track(n,"has",s),r}ownKeys(n){return track(n,"iterate",isArray$1(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,n,s){return function(...r){const o=this.__v_raw,l=toRaw(o),c=isMap(l),y=e==="entries"||e===Symbol.iterator&&c,b=e==="keys"&&c,S=o[e](...r),u=s?toShallow:n?toReadonly:toReactive;return!n&&track(l,"iterate",b?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:R,done:W}=S.next();return W?{value:R,done:W}:{value:y?[u(R[0]),u(R[1])]:u(R),done:W}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,n){const s={get(o){const l=this.__v_raw,c=toRaw(l),y=toRaw(o);e||(hasChanged(o,y)&&track(c,"get",o),track(c,"get",y));const{has:b}=getProto(c),S=n?toShallow:e?toReadonly:toReactive;if(b.call(c,o))return S(l.get(o));if(b.call(c,y))return S(l.get(y));l!==c&&l.get(o)},get size(){const o=this.__v_raw;return!e&&track(toRaw(o),"iterate",ITERATE_KEY),Reflect.get(o,"size",o)},has(o){const l=this.__v_raw,c=toRaw(l),y=toRaw(o);return e||(hasChanged(o,y)&&track(c,"has",o),track(c,"has",y)),o===y?l.has(o):l.has(o)||l.has(y)},forEach(o,l){const c=this,y=c.__v_raw,b=toRaw(y),S=n?toShallow:e?toReadonly:toReactive;return!e&&track(b,"iterate",ITERATE_KEY),y.forEach((u,R)=>o.call(l,S(u),S(R),c))}};return extend$1(s,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(o){!n&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const l=toRaw(this);return getProto(l).has.call(l,o)||(l.add(o),trigger(l,"add",o,o)),this},set(o,l){!n&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const c=toRaw(this),{has:y,get:b}=getProto(c);let S=y.call(c,o);S||(o=toRaw(o),S=y.call(c,o));const u=b.call(c,o);return c.set(o,l),S?hasChanged(l,u)&&trigger(c,"set",o,l):trigger(c,"add",o,l),this},delete(o){const l=toRaw(this),{has:c,get:y}=getProto(l);let b=c.call(l,o);b||(o=toRaw(o),b=c.call(l,o)),y&&y.call(l,o);const S=l.delete(o);return b&&trigger(l,"delete",o,void 0),S},clear(){const o=toRaw(this),l=o.size!==0,c=o.clear();return l&&trigger(o,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=createIterableMethod(o,e,n)}),s}function createInstrumentationGetter(e,n){const s=createInstrumentations(e,n);return(r,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hasOwn(s,o)&&o in r?s:r,o,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,n,s,r,o){if(!isObject$1(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=getTargetType(e);if(l===0)return e;const c=o.get(e);if(c)return c;const y=new Proxy(e,l===2?r:s);return o.set(e,y),y}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const n=e&&e.__v_raw;return n?toRaw(n):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function createRef(e,n){return isRef(e)?e:new RefImpl(e,n)}class RefImpl{constructor(n,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?n:toRaw(n),this._value=s?n:toReactive(n),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(n){const s=this._rawValue,r=this.__v_isShallow||isShallow(n)||isReadonly(n);n=r?n:toRaw(n),hasChanged(n,s)&&(this._rawValue=n,this._value=r?n:toReactive(n),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,n,s)=>n==="__v_raw"?e:unref(Reflect.get(e,n,s)),set:(e,n,s,r)=>{const o=e[n];return isRef(o)&&!isRef(s)?(o.value=s,!0):Reflect.set(e,n,s,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(n,s,r){this.fn=n,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const n=this.dep.track();return refreshComputed(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function computed$1(e,n,s=!1){let r,o;return isFunction$1(e)?r=e:(r=e.get,o=e.set),new ComputedRefImpl(r,o,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,n=!1,s=activeWatcher){if(s){let r=cleanupMap.get(s);r||cleanupMap.set(s,r=[]),r.push(e)}}function watch$1(e,n,s=EMPTY_OBJ){const{immediate:r,deep:o,once:l,scheduler:c,augmentJob:y,call:b}=s,S=N=>o?N:isShallow(N)||o===!1||o===0?traverse(N,1):traverse(N);let u,R,W,B,P=!1,O=!1;if(isRef(e)?(R=()=>e.value,P=isShallow(e)):isReactive(e)?(R=()=>S(e),P=!0):isArray$1(e)?(O=!0,P=e.some(N=>isReactive(N)||isShallow(N)),R=()=>e.map(N=>{if(isRef(N))return N.value;if(isReactive(N))return S(N);if(isFunction$1(N))return b?b(N,2):N()})):isFunction$1(e)?n?R=b?()=>b(e,2):e:R=()=>{if(W){pauseTracking();try{W()}finally{resetTracking()}}const N=activeWatcher;activeWatcher=u;try{return b?b(e,3,[B]):e(B)}finally{activeWatcher=N}}:R=NOOP,n&&o){const N=R,w=o===!0?1/0:o;R=()=>traverse(N(),w)}const x=getCurrentScope(),L=()=>{u.stop(),x&&x.active&&remove(x.effects,u)};if(l&&n){const N=n;n=(...w)=>{N(...w),L()}}let V=O?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const H=N=>{if(!(!(u.flags&1)||!u.dirty&&!N))if(n){const w=u.run();if(o||P||(O?w.some((C,Y)=>hasChanged(C,V[Y])):hasChanged(w,V))){W&&W();const C=activeWatcher;activeWatcher=u;try{const Y=[w,V===INITIAL_WATCHER_VALUE?void 0:O&&V[0]===INITIAL_WATCHER_VALUE?[]:V,B];V=w,b?b(n,3,Y):n(...Y)}finally{activeWatcher=C}}}else u.run()};return y&&y(H),u=new ReactiveEffect(R),u.scheduler=c?()=>c(H,!1):H,B=N=>onWatcherCleanup(N,!1,u),W=u.onStop=()=>{const N=cleanupMap.get(u);if(N){if(b)b(N,4);else for(const w of N)w();cleanupMap.delete(u)}},n?r?H(!0):V=u.run():c?c(H.bind(null,!0),!0):u.run(),L.pause=u.pause.bind(u),L.resume=u.resume.bind(u),L.stop=L,L}function traverse(e,n=1/0,s){if(n<=0||!isObject$1(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),n--,isRef(e))traverse(e.value,n,s);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],n,s);else if(isSet$1(e)||isMap(e))e.forEach(r=>{traverse(r,n,s)});else if(isPlainObject(e)){for(const r in e)traverse(e[r],n,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&traverse(e[r],n,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...n){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,r=s&&s.appContext.config.warnHandler,o=getComponentTrace();if(r)callWithErrorHandling(r,s,11,[e+n.map(l=>{var c,y;return(y=(c=l.toString)==null?void 0:c.call(l))!=null?y:JSON.stringify(l)}).join(""),s&&s.proxy,o.map(({vnode:l})=>`at <${formatComponentName(s,l.type)}>`).join(`
`),o]);else{const l=[`[Vue warn]: ${e}`,...n];o.length&&l.push(`
`,...formatTrace(o)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const n=[];for(;e;){const s=n[0];s&&s.vnode===e?s.recurseCount++:n.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return n}function formatTrace(e){const n=[];return e.forEach((s,r)=>{n.push(...r===0?[]:[`
`],...formatTraceEntry(s))}),n}function formatTraceEntry({vnode:e,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${formatComponentName(e.component,e.type,r)}`,l=">"+s;return e.props?[o,...formatProps(e.props),l]:[o+l]}function formatProps(e){const n=[],s=Object.keys(e);return s.slice(0,3).forEach(r=>{n.push(...formatProp(r,e[r]))}),s.length>3&&n.push(" ..."),n}function formatProp(e,n,s){return isString$1(n)?(n=JSON.stringify(n),s?n:[`${e}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${e}=${n}`]:isRef(n)?(n=formatProp(e,toRaw(n.value),!0),s?n:[`${e}=Ref<`,n,">"]):isFunction$1(n)?[`${e}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),s?n:[`${e}=`,n])}function callWithErrorHandling(e,n,s,r){try{return r?e(...r):e()}catch(o){handleError(o,n,s)}}function callWithAsyncErrorHandling(e,n,s,r){if(isFunction$1(e)){const o=callWithErrorHandling(e,n,s,r);return o&&isPromise(o)&&o.catch(l=>{handleError(l,n,s)}),o}if(isArray$1(e)){const o=[];for(let l=0;l<e.length;l++)o.push(callWithAsyncErrorHandling(e[l],n,s,r));return o}}function handleError(e,n,s,r=!0){const o=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||EMPTY_OBJ;if(n){let y=n.parent;const b=n.proxy,S=`https://vuejs.org/error-reference/#runtime-${s}`;for(;y;){const u=y.ec;if(u){for(let R=0;R<u.length;R++)if(u[R](e,b,S)===!1)return}y=y.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[e,b,S]),resetTracking();return}}logError(e,s,o,r,c)}function logError(e,n,s,r=!0,o=!1){if(o)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const n=currentFlushPromise||resolvedPromise;return e?n.then(this?e.bind(this):e):n}function findInsertionIndex(e){let n=flushIndex+1,s=queue.length;for(;n<s;){const r=n+s>>>1,o=queue[r],l=getId(o);l<e||l===e&&o.flags&2?n=r+1:s=r}return n}function queueJob(e){if(!(e.flags&1)){const n=getId(e),s=queue[queue.length-1];!s||!(e.flags&2)&&n>=getId(s)?queue.push(e):queue.splice(findInsertionIndex(n),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,n,s=flushIndex+1){for(;s<queue.length;s++){const r=queue[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;queue.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)].sort((s,r)=>getId(s)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),callWithErrorHandling(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&(s.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const n=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,n}function withCtx(e,n=currentRenderingInstance,s){if(!n||e._n)return e;const r=(...o)=>{r._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(n);let c;try{c=e(...o)}finally{setCurrentRenderingInstance(l),r._d&&setBlockTracking(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function withDirectives(e,n){if(currentRenderingInstance===null)return e;const s=getComponentPublicInstance(currentRenderingInstance),r=e.dirs||(e.dirs=[]);for(let o=0;o<n.length;o++){let[l,c,y,b=EMPTY_OBJ]=n[o];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),r.push({dir:l,instance:s,value:c,oldValue:void 0,arg:y,modifiers:b}))}return e}function invokeDirectiveHook(e,n,s,r){const o=e.dirs,l=n&&n.dirs;for(let c=0;c<o.length;c++){const y=o[c];l&&(y.oldValue=l[c].value);let b=y.dir[r];b&&(pauseTracking(),callWithAsyncErrorHandling(b,s,8,[e.el,y,e,n]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport;function setTransitionHooks(e,n){e.shapeFlag&6&&e.component?(e.transition=n,setTransitionHooks(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,n,s,r,o=!1){if(isArray$1(e)){e.forEach((P,O)=>setRef(P,n&&(isArray$1(n)?n[O]:n),s,r,o));return}if(isAsyncWrapper(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(e,n,s,r.component.subTree);return}const l=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,c=o?null:l,{i:y,r:b}=e,S=n&&n.r,u=y.refs===EMPTY_OBJ?y.refs={}:y.refs,R=y.setupState,W=toRaw(R),B=R===EMPTY_OBJ?()=>!1:P=>hasOwn(W,P);if(S!=null&&S!==b&&(isString$1(S)?(u[S]=null,B(S)&&(R[S]=null)):isRef(S)&&(S.value=null)),isFunction$1(b))callWithErrorHandling(b,y,12,[c,u]);else{const P=isString$1(b),O=isRef(b);if(P||O){const x=()=>{if(e.f){const L=P?B(b)?R[b]:u[b]:b.value;o?isArray$1(L)&&remove(L,l):isArray$1(L)?L.includes(l)||L.push(l):P?(u[b]=[l],B(b)&&(R[b]=u[b])):(b.value=[l],e.k&&(u[e.k]=b.value))}else P?(u[b]=c,B(b)&&(R[b]=c)):O&&(b.value=c,e.k&&(u[e.k]=c))};c?(x.id=-1,queuePostRenderEffect(x,s)):x()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,n){registerKeepAliveHook(e,"a",n)}function onDeactivated(e,n){registerKeepAliveHook(e,"da",n)}function registerKeepAliveHook(e,n,s=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(n,r,s),s){let o=s.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,n,s,o),o=o.parent}}function injectToKeepAliveRoot(e,n,s,r){const o=injectHook(n,e,r,!0);onUnmounted(()=>{remove(r[n],o)},s)}function injectHook(e,n,s=currentInstance,r=!1){if(s){const o=s[e]||(s[e]=[]),l=n.__weh||(n.__weh=(...c)=>{pauseTracking();const y=setCurrentInstance(s),b=callWithAsyncErrorHandling(n,s,e,c);return y(),resetTracking(),b});return r?o.unshift(l):o.push(l),l}}const createHook=e=>(n,s=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>n(...r),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,n=currentInstance){injectHook("ec",e,n)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,n,s,r){let o;const l=s&&s[r],c=isArray$1(e);if(c||isString$1(e)){const y=c&&isReactive(e);let b=!1,S=!1;y&&(b=!isShallow(e),S=isReadonly(e),e=shallowReadArray(e)),o=new Array(e.length);for(let u=0,R=e.length;u<R;u++)o[u]=n(b?S?toReadonly(toReactive(e[u])):toReactive(e[u]):e[u],u,void 0,l&&l[u])}else if(typeof e=="number"){o=new Array(e);for(let y=0;y<e;y++)o[y]=n(y+1,y,void 0,l&&l[y])}else if(isObject$1(e))if(e[Symbol.iterator])o=Array.from(e,(y,b)=>n(y,b,void 0,l&&l[b]));else{const y=Object.keys(e);o=new Array(y.length);for(let b=0,S=y.length;b<S;b++){const u=y[b];o[b]=n(e[u],u,b,l&&l[b])}}else o=[];return s&&(s[r]=o),o}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,n)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,n),PublicInstanceProxyHandlers={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:r,data:o,props:l,accessCache:c,type:y,appContext:b}=e;let S;if(n[0]!=="$"){const B=c[n];if(B!==void 0)switch(B){case 1:return r[n];case 2:return o[n];case 4:return s[n];case 3:return l[n]}else{if(hasSetupBinding(r,n))return c[n]=1,r[n];if(o!==EMPTY_OBJ&&hasOwn(o,n))return c[n]=2,o[n];if((S=e.propsOptions[0])&&hasOwn(S,n))return c[n]=3,l[n];if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];shouldCacheAccess&&(c[n]=0)}}const u=publicPropertiesMap[n];let R,W;if(u)return n==="$attrs"&&track(e.attrs,"get",""),u(e);if((R=y.__cssModules)&&(R=R[n]))return R;if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];if(W=b.config.globalProperties,hasOwn(W,n))return W[n]},set({_:e},n,s){const{data:r,setupState:o,ctx:l}=e;return hasSetupBinding(o,n)?(o[n]=s,!0):r!==EMPTY_OBJ&&hasOwn(r,n)?(r[n]=s,!0):hasOwn(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(l[n]=s,!0)},has({_:{data:e,setupState:n,accessCache:s,ctx:r,appContext:o,propsOptions:l}},c){let y;return!!s[c]||e!==EMPTY_OBJ&&hasOwn(e,c)||hasSetupBinding(n,c)||(y=l[0])&&hasOwn(y,c)||hasOwn(r,c)||hasOwn(publicPropertiesMap,c)||hasOwn(o.config.globalProperties,c)},defineProperty(e,n,s){return s.get!=null?e._.accessCache[n]=0:hasOwn(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((n,s)=>(n[s]=null,n),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const n=resolveMergedOptions(e),s=e.proxy,r=e.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook(n.beforeCreate,e,"bc");const{data:o,computed:l,methods:c,watch:y,provide:b,inject:S,created:u,beforeMount:R,mounted:W,beforeUpdate:B,updated:P,activated:O,deactivated:x,beforeDestroy:L,beforeUnmount:V,destroyed:H,unmounted:N,render:w,renderTracked:C,renderTriggered:Y,errorCaptured:$,serverPrefetch:E,expose:J,inheritAttrs:j,components:ue,directives:fe,filters:D}=n;if(S&&resolveInjections(S,r,null),c)for(const me in c){const ie=c[me];isFunction$1(ie)&&(r[me]=ie.bind(s))}if(o){const me=o.call(s,s);isObject$1(me)&&(e.data=reactive(me))}if(shouldCacheAccess=!0,l)for(const me in l){const ie=l[me],ge=isFunction$1(ie)?ie.bind(s,s):isFunction$1(ie.get)?ie.get.bind(s,s):NOOP,Re=!isFunction$1(ie)&&isFunction$1(ie.set)?ie.set.bind(s):NOOP,Ee=computed({get:ge,set:Re});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:Oe=>Ee.value=Oe})}if(y)for(const me in y)createWatcher(y[me],r,s,me);if(b){const me=isFunction$1(b)?b.call(s):b;Reflect.ownKeys(me).forEach(ie=>{provide(ie,me[ie])})}u&&callHook(u,e,"c");function ee(me,ie){isArray$1(ie)?ie.forEach(ge=>me(ge.bind(s))):ie&&me(ie.bind(s))}if(ee(onBeforeMount,R),ee(onMounted,W),ee(onBeforeUpdate,B),ee(onUpdated,P),ee(onActivated,O),ee(onDeactivated,x),ee(onErrorCaptured,$),ee(onRenderTracked,C),ee(onRenderTriggered,Y),ee(onBeforeUnmount,V),ee(onUnmounted,N),ee(onServerPrefetch,E),isArray$1(J))if(J.length){const me=e.exposed||(e.exposed={});J.forEach(ie=>{Object.defineProperty(me,ie,{get:()=>s[ie],set:ge=>s[ie]=ge})})}else e.exposed||(e.exposed={});w&&e.render===NOOP&&(e.render=w),j!=null&&(e.inheritAttrs=j),ue&&(e.components=ue),fe&&(e.directives=fe),E&&markAsyncBoundary(e)}function resolveInjections(e,n,s=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const r in e){const o=e[r];let l;isObject$1(o)?"default"in o?l=inject(o.from||r,o.default,!0):l=inject(o.from||r):l=inject(o),isRef(l)?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):n[r]=l}}function callHook(e,n,s){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,s)}function createWatcher(e,n,s,r){let o=r.includes(".")?createPathGetter(s,r):()=>s[r];if(isString$1(e)){const l=n[e];isFunction$1(l)&&watch(o,l)}else if(isFunction$1(e))watch(o,e.bind(s));else if(isObject$1(e))if(isArray$1(e))e.forEach(l=>createWatcher(l,n,s,r));else{const l=isFunction$1(e.handler)?e.handler.bind(s):n[e.handler];isFunction$1(l)&&watch(o,l,e)}}function resolveMergedOptions(e){const n=e.type,{mixins:s,extends:r}=n,{mixins:o,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,y=l.get(n);let b;return y?b=y:!o.length&&!s&&!r?b=n:(b={},o.length&&o.forEach(S=>mergeOptions(b,S,c,!0)),mergeOptions(b,n,c)),isObject$1(n)&&l.set(n,b),b}function mergeOptions(e,n,s,r=!1){const{mixins:o,extends:l}=n;l&&mergeOptions(e,l,s,!0),o&&o.forEach(c=>mergeOptions(e,c,s,!0));for(const c in n)if(!(r&&c==="expose")){const y=internalOptionMergeStrats[c]||s&&s[c];e[c]=y?y(e[c],n[c]):n[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,n){return n?e?function(){return extend$1(isFunction$1(e)?e.call(this,this):e,isFunction$1(n)?n.call(this,this):n)}:n:e}function mergeInject(e,n){return mergeObjectOptions(normalizeInject(e),normalizeInject(n))}function normalizeInject(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++)n[e[s]]=e[s];return n}return e}function mergeAsArray(e,n){return e?[...new Set([].concat(e,n))]:n}function mergeObjectOptions(e,n){return e?extend$1(Object.create(null),e,n):n}function mergeEmitsOrPropsOptions(e,n){return e?isArray$1(e)&&isArray$1(n)?[...new Set([...e,...n])]:extend$1(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(n??{})):n}function mergeWatchOptions(e,n){if(!e)return n;if(!n)return e;const s=extend$1(Object.create(null),e);for(const r in n)s[r]=mergeAsArray(e[r],n[r]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,n){return function(r,o=null){isFunction$1(r)||(r=extend$1({},r)),o!=null&&!isObject$1(o)&&(o=null);const l=createAppContext(),c=new WeakSet,y=[];let b=!1;const S=l.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(u){},use(u,...R){return c.has(u)||(u&&isFunction$1(u.install)?(c.add(u),u.install(S,...R)):isFunction$1(u)&&(c.add(u),u(S,...R))),S},mixin(u){return l.mixins.includes(u)||l.mixins.push(u),S},component(u,R){return R?(l.components[u]=R,S):l.components[u]},directive(u,R){return R?(l.directives[u]=R,S):l.directives[u]},mount(u,R,W){if(!b){const B=S._ceVNode||createVNode(r,o);return B.appContext=l,W===!0?W="svg":W===!1&&(W=void 0),R&&n?n(B,u):e(B,u,W),b=!0,S._container=u,u.__vue_app__=S,getComponentPublicInstance(B.component)}},onUnmount(u){y.push(u)},unmount(){b&&(callWithAsyncErrorHandling(y,S._instance,16),e(null,S._container),delete S._container.__vue_app__)},provide(u,R){return l.provides[u]=R,S},runWithContext(u){const R=currentApp;currentApp=S;try{return u()}finally{currentApp=R}}};return S}}let currentApp=null;function provide(e,n){if(currentInstance){let s=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===s&&(s=currentInstance.provides=Object.create(r)),s[e]=n}}function inject(e,n,s=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){let o=currentApp?currentApp._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&isFunction$1(n)?n.call(r&&r.proxy):n}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,n,s,r=!1){const o={},l=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,n,o,l);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);s?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function updateProps(e,n,s,r){const{props:o,attrs:l,vnode:{patchFlag:c}}=e,y=toRaw(o),[b]=e.propsOptions;let S=!1;if((r||c>0)&&!(c&16)){if(c&8){const u=e.vnode.dynamicProps;for(let R=0;R<u.length;R++){let W=u[R];if(isEmitListener(e.emitsOptions,W))continue;const B=n[W];if(b)if(hasOwn(l,W))B!==l[W]&&(l[W]=B,S=!0);else{const P=camelize$1(W);o[P]=resolvePropValue(b,y,P,B,e,!1)}else B!==l[W]&&(l[W]=B,S=!0)}}}else{setFullProps(e,n,o,l)&&(S=!0);let u;for(const R in y)(!n||!hasOwn(n,R)&&((u=hyphenate$1(R))===R||!hasOwn(n,u)))&&(b?s&&(s[R]!==void 0||s[u]!==void 0)&&(o[R]=resolvePropValue(b,y,R,void 0,e,!0)):delete o[R]);if(l!==y)for(const R in l)(!n||!hasOwn(n,R))&&(delete l[R],S=!0)}S&&trigger(e.attrs,"set","")}function setFullProps(e,n,s,r){const[o,l]=e.propsOptions;let c=!1,y;if(n)for(let b in n){if(isReservedProp(b))continue;const S=n[b];let u;o&&hasOwn(o,u=camelize$1(b))?!l||!l.includes(u)?s[u]=S:(y||(y={}))[u]=S:isEmitListener(e.emitsOptions,b)||(!(b in r)||S!==r[b])&&(r[b]=S,c=!0)}if(l){const b=toRaw(s),S=y||EMPTY_OBJ;for(let u=0;u<l.length;u++){const R=l[u];s[R]=resolvePropValue(o,b,R,S[R],e,!hasOwn(S,R))}}return c}function resolvePropValue(e,n,s,r,o,l){const c=e[s];if(c!=null){const y=hasOwn(c,"default");if(y&&r===void 0){const b=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$1(b)){const{propsDefaults:S}=o;if(s in S)r=S[s];else{const u=setCurrentInstance(o);r=S[s]=b.call(null,n),u()}}else r=b;o.ce&&o.ce._setProp(s,r)}c[0]&&(l&&!y?r=!1:c[1]&&(r===""||r===hyphenate$1(s))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,n,s=!1){const r=s?mixinPropsCache:n.propsCache,o=r.get(e);if(o)return o;const l=e.props,c={},y=[];let b=!1;if(!isFunction$1(e)){const u=R=>{b=!0;const[W,B]=normalizePropsOptions(R,n,!0);extend$1(c,W),B&&y.push(...B)};!s&&n.mixins.length&&n.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!l&&!b)return isObject$1(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(l))for(let u=0;u<l.length;u++){const R=camelize$1(l[u]);validatePropName(R)&&(c[R]=EMPTY_OBJ)}else if(l)for(const u in l){const R=camelize$1(u);if(validatePropName(R)){const W=l[u],B=c[R]=isArray$1(W)||isFunction$1(W)?{type:W}:extend$1({},W),P=B.type;let O=!1,x=!0;if(isArray$1(P))for(let L=0;L<P.length;++L){const V=P[L],H=isFunction$1(V)&&V.name;if(H==="Boolean"){O=!0;break}else H==="String"&&(x=!1)}else O=isFunction$1(P)&&P.name==="Boolean";B[0]=O,B[1]=x,(O||hasOwn(B,"default"))&&y.push(R)}}const S=[c,y];return isObject$1(e)&&r.set(e,S),S}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,n,s)=>{if(n._n)return n;const r=withCtx((...o)=>normalizeSlotValue(n(...o)),s);return r._c=!1,r},normalizeObjectSlots=(e,n,s)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const l=e[o];if(isFunction$1(l))n[o]=normalizeSlot(o,l,r);else if(l!=null){const c=normalizeSlotValue(l);n[o]=()=>c}}},normalizeVNodeSlots=(e,n)=>{const s=normalizeSlotValue(n);e.slots.default=()=>s},assignSlots=(e,n,s)=>{for(const r in n)(s||!isInternalKey(r))&&(e[r]=n[r])},initSlots=(e,n,s)=>{const r=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const o=n.__;o&&def(r,"__",o,!0);const l=n._;l?(assignSlots(r,n,s),s&&def(r,"_",l,!0)):normalizeObjectSlots(n,r)}else n&&normalizeVNodeSlots(e,n)},updateSlots=(e,n,s)=>{const{vnode:r,slots:o}=e;let l=!0,c=EMPTY_OBJ;if(r.shapeFlag&32){const y=n._;y?s&&y===1?l=!1:assignSlots(o,n,s):(l=!n.$stable,normalizeObjectSlots(n,o)),c=n}else n&&(normalizeVNodeSlots(e,n),c={default:1});if(l)for(const y in o)!isInternalKey(y)&&c[y]==null&&delete o[y]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,n){const s=getGlobalThis();s.__VUE__=!0;const{insert:r,remove:o,patchProp:l,createElement:c,createText:y,createComment:b,setText:S,setElementText:u,parentNode:R,nextSibling:W,setScopeId:B=NOOP,insertStaticContent:P}=e,O=(k,U,te,ye=null,le=null,Te=null,Ne=void 0,xe=null,Me=!!U.dynamicChildren)=>{if(k===U)return;k&&!isSameVNodeType(k,U)&&(ye=T(k),Oe(k,le,Te,!0),k=null),U.patchFlag===-2&&(Me=!1,U.dynamicChildren=null);const{type:de,ref:ce,shapeFlag:se}=U;switch(de){case Text:x(k,U,te,ye);break;case Comment:L(k,U,te,ye);break;case Static:k==null&&V(U,te,ye,Ne);break;case Fragment:ue(k,U,te,ye,le,Te,Ne,xe,Me);break;default:se&1?w(k,U,te,ye,le,Te,Ne,xe,Me):se&6?fe(k,U,te,ye,le,Te,Ne,xe,Me):(se&64||se&128)&&de.process(k,U,te,ye,le,Te,Ne,xe,Me,Q)}ce!=null&&le?setRef(ce,k&&k.ref,Te,U||k,!U):ce==null&&k&&k.ref!=null&&setRef(k.ref,null,Te,k,!0)},x=(k,U,te,ye)=>{if(k==null)r(U.el=y(U.children),te,ye);else{const le=U.el=k.el;U.children!==k.children&&S(le,U.children)}},L=(k,U,te,ye)=>{k==null?r(U.el=b(U.children||""),te,ye):U.el=k.el},V=(k,U,te,ye)=>{[k.el,k.anchor]=P(k.children,U,te,ye,k.el,k.anchor)},H=({el:k,anchor:U},te,ye)=>{let le;for(;k&&k!==U;)le=W(k),r(k,te,ye),k=le;r(U,te,ye)},N=({el:k,anchor:U})=>{let te;for(;k&&k!==U;)te=W(k),o(k),k=te;o(U)},w=(k,U,te,ye,le,Te,Ne,xe,Me)=>{U.type==="svg"?Ne="svg":U.type==="math"&&(Ne="mathml"),k==null?C(U,te,ye,le,Te,Ne,xe,Me):E(k,U,le,Te,Ne,xe,Me)},C=(k,U,te,ye,le,Te,Ne,xe)=>{let Me,de;const{props:ce,shapeFlag:se,transition:ve,dirs:De}=k;if(Me=k.el=c(k.type,Te,ce&&ce.is,ce),se&8?u(Me,k.children):se&16&&$(k.children,Me,null,ye,le,resolveChildrenNamespace(k,Te),Ne,xe),De&&invokeDirectiveHook(k,null,ye,"created"),Y(Me,k,k.scopeId,Ne,ye),ce){for(const Je in ce)Je!=="value"&&!isReservedProp(Je)&&l(Me,Je,null,ce[Je],Te,ye);"value"in ce&&l(Me,"value",null,ce.value,Te),(de=ce.onVnodeBeforeMount)&&invokeVNodeHook(de,ye,k)}De&&invokeDirectiveHook(k,null,ye,"beforeMount");const Be=needTransition(le,ve);Be&&ve.beforeEnter(Me),r(Me,U,te),((de=ce&&ce.onVnodeMounted)||Be||De)&&queuePostRenderEffect(()=>{de&&invokeVNodeHook(de,ye,k),Be&&ve.enter(Me),De&&invokeDirectiveHook(k,null,ye,"mounted")},le)},Y=(k,U,te,ye,le)=>{if(te&&B(k,te),ye)for(let Te=0;Te<ye.length;Te++)B(k,ye[Te]);if(le){let Te=le.subTree;if(U===Te||isSuspense(Te.type)&&(Te.ssContent===U||Te.ssFallback===U)){const Ne=le.vnode;Y(k,Ne,Ne.scopeId,Ne.slotScopeIds,le.parent)}}},$=(k,U,te,ye,le,Te,Ne,xe,Me=0)=>{for(let de=Me;de<k.length;de++){const ce=k[de]=xe?cloneIfMounted(k[de]):normalizeVNode(k[de]);O(null,ce,U,te,ye,le,Te,Ne,xe)}},E=(k,U,te,ye,le,Te,Ne)=>{const xe=U.el=k.el;let{patchFlag:Me,dynamicChildren:de,dirs:ce}=U;Me|=k.patchFlag&16;const se=k.props||EMPTY_OBJ,ve=U.props||EMPTY_OBJ;let De;if(te&&toggleRecurse(te,!1),(De=ve.onVnodeBeforeUpdate)&&invokeVNodeHook(De,te,U,k),ce&&invokeDirectiveHook(U,k,te,"beforeUpdate"),te&&toggleRecurse(te,!0),(se.innerHTML&&ve.innerHTML==null||se.textContent&&ve.textContent==null)&&u(xe,""),de?J(k.dynamicChildren,de,xe,te,ye,resolveChildrenNamespace(U,le),Te):Ne||ie(k,U,xe,null,te,ye,resolveChildrenNamespace(U,le),Te,!1),Me>0){if(Me&16)j(xe,se,ve,te,le);else if(Me&2&&se.class!==ve.class&&l(xe,"class",null,ve.class,le),Me&4&&l(xe,"style",se.style,ve.style,le),Me&8){const Be=U.dynamicProps;for(let Je=0;Je<Be.length;Je++){const et=Be[Je],it=se[et],lt=ve[et];(lt!==it||et==="value")&&l(xe,et,it,lt,le,te)}}Me&1&&k.children!==U.children&&u(xe,U.children)}else!Ne&&de==null&&j(xe,se,ve,te,le);((De=ve.onVnodeUpdated)||ce)&&queuePostRenderEffect(()=>{De&&invokeVNodeHook(De,te,U,k),ce&&invokeDirectiveHook(U,k,te,"updated")},ye)},J=(k,U,te,ye,le,Te,Ne)=>{for(let xe=0;xe<U.length;xe++){const Me=k[xe],de=U[xe],ce=Me.el&&(Me.type===Fragment||!isSameVNodeType(Me,de)||Me.shapeFlag&198)?R(Me.el):te;O(Me,de,ce,null,ye,le,Te,Ne,!0)}},j=(k,U,te,ye,le)=>{if(U!==te){if(U!==EMPTY_OBJ)for(const Te in U)!isReservedProp(Te)&&!(Te in te)&&l(k,Te,U[Te],null,le,ye);for(const Te in te){if(isReservedProp(Te))continue;const Ne=te[Te],xe=U[Te];Ne!==xe&&Te!=="value"&&l(k,Te,xe,Ne,le,ye)}"value"in te&&l(k,"value",U.value,te.value,le)}},ue=(k,U,te,ye,le,Te,Ne,xe,Me)=>{const de=U.el=k?k.el:y(""),ce=U.anchor=k?k.anchor:y("");let{patchFlag:se,dynamicChildren:ve,slotScopeIds:De}=U;De&&(xe=xe?xe.concat(De):De),k==null?(r(de,te,ye),r(ce,te,ye),$(U.children||[],te,ce,le,Te,Ne,xe,Me)):se>0&&se&64&&ve&&k.dynamicChildren?(J(k.dynamicChildren,ve,te,le,Te,Ne,xe),(U.key!=null||le&&U===le.subTree)&&traverseStaticChildren(k,U,!0)):ie(k,U,te,ce,le,Te,Ne,xe,Me)},fe=(k,U,te,ye,le,Te,Ne,xe,Me)=>{U.slotScopeIds=xe,k==null?U.shapeFlag&512?le.ctx.activate(U,te,ye,Ne,Me):D(U,te,ye,le,Te,Ne,Me):Z(k,U,Me)},D=(k,U,te,ye,le,Te,Ne)=>{const xe=k.component=createComponentInstance(k,ye,le);if(isKeepAlive(k)&&(xe.ctx.renderer=Q),setupComponent(xe,!1,Ne),xe.asyncDep){if(le&&le.registerDep(xe,ee,Ne),!k.el){const Me=xe.subTree=createVNode(Comment);L(null,Me,U,te)}}else ee(xe,k,U,te,le,Te,Ne)},Z=(k,U,te)=>{const ye=U.component=k.component;if(shouldUpdateComponent(k,U,te))if(ye.asyncDep&&!ye.asyncResolved){me(ye,U,te);return}else ye.next=U,ye.update();else U.el=k.el,ye.vnode=U},ee=(k,U,te,ye,le,Te,Ne)=>{const xe=()=>{if(k.isMounted){let{next:se,bu:ve,u:De,parent:Be,vnode:Je}=k;{const rt=locateNonHydratedAsyncRoot(k);if(rt){se&&(se.el=Je.el,me(k,se,Ne)),rt.asyncDep.then(()=>{k.isUnmounted||xe()});return}}let et=se,it;toggleRecurse(k,!1),se?(se.el=Je.el,me(k,se,Ne)):se=Je,ve&&invokeArrayFns$1(ve),(it=se.props&&se.props.onVnodeBeforeUpdate)&&invokeVNodeHook(it,Be,se,Je),toggleRecurse(k,!0);const lt=renderComponentRoot(k),dt=k.subTree;k.subTree=lt,O(dt,lt,R(dt.el),T(dt),k,le,Te),se.el=lt.el,et===null&&updateHOCHostEl(k,lt.el),De&&queuePostRenderEffect(De,le),(it=se.props&&se.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(it,Be,se,Je),le)}else{let se;const{el:ve,props:De}=U,{bm:Be,m:Je,parent:et,root:it,type:lt}=k,dt=isAsyncWrapper(U);if(toggleRecurse(k,!1),Be&&invokeArrayFns$1(Be),!dt&&(se=De&&De.onVnodeBeforeMount)&&invokeVNodeHook(se,et,U),toggleRecurse(k,!0),ve&&Ce){const rt=()=>{k.subTree=renderComponentRoot(k),Ce(ve,k.subTree,k,le,null)};dt&&lt.__asyncHydrate?lt.__asyncHydrate(ve,k,rt):rt()}else{it.ce&&it.ce._def.shadowRoot!==!1&&it.ce._injectChildStyle(lt);const rt=k.subTree=renderComponentRoot(k);O(null,rt,te,ye,k,le,Te),U.el=rt.el}if(Je&&queuePostRenderEffect(Je,le),!dt&&(se=De&&De.onVnodeMounted)){const rt=U;queuePostRenderEffect(()=>invokeVNodeHook(se,et,rt),le)}(U.shapeFlag&256||et&&isAsyncWrapper(et.vnode)&&et.vnode.shapeFlag&256)&&k.a&&queuePostRenderEffect(k.a,le),k.isMounted=!0,U=te=ye=null}};k.scope.on();const Me=k.effect=new ReactiveEffect(xe);k.scope.off();const de=k.update=Me.run.bind(Me),ce=k.job=Me.runIfDirty.bind(Me);ce.i=k,ce.id=k.uid,Me.scheduler=()=>queueJob(ce),toggleRecurse(k,!0),de()},me=(k,U,te)=>{U.component=k;const ye=k.vnode.props;k.vnode=U,k.next=null,updateProps(k,U.props,ye,te),updateSlots(k,U.children,te),pauseTracking(),flushPreFlushCbs(k),resetTracking()},ie=(k,U,te,ye,le,Te,Ne,xe,Me=!1)=>{const de=k&&k.children,ce=k?k.shapeFlag:0,se=U.children,{patchFlag:ve,shapeFlag:De}=U;if(ve>0){if(ve&128){Re(de,se,te,ye,le,Te,Ne,xe,Me);return}else if(ve&256){ge(de,se,te,ye,le,Te,Ne,xe,Me);return}}De&8?(ce&16&&g(de,le,Te),se!==de&&u(te,se)):ce&16?De&16?Re(de,se,te,ye,le,Te,Ne,xe,Me):g(de,le,Te,!0):(ce&8&&u(te,""),De&16&&$(se,te,ye,le,Te,Ne,xe,Me))},ge=(k,U,te,ye,le,Te,Ne,xe,Me)=>{k=k||EMPTY_ARR,U=U||EMPTY_ARR;const de=k.length,ce=U.length,se=Math.min(de,ce);let ve;for(ve=0;ve<se;ve++){const De=U[ve]=Me?cloneIfMounted(U[ve]):normalizeVNode(U[ve]);O(k[ve],De,te,null,le,Te,Ne,xe,Me)}de>ce?g(k,le,Te,!0,!1,se):$(U,te,ye,le,Te,Ne,xe,Me,se)},Re=(k,U,te,ye,le,Te,Ne,xe,Me)=>{let de=0;const ce=U.length;let se=k.length-1,ve=ce-1;for(;de<=se&&de<=ve;){const De=k[de],Be=U[de]=Me?cloneIfMounted(U[de]):normalizeVNode(U[de]);if(isSameVNodeType(De,Be))O(De,Be,te,null,le,Te,Ne,xe,Me);else break;de++}for(;de<=se&&de<=ve;){const De=k[se],Be=U[ve]=Me?cloneIfMounted(U[ve]):normalizeVNode(U[ve]);if(isSameVNodeType(De,Be))O(De,Be,te,null,le,Te,Ne,xe,Me);else break;se--,ve--}if(de>se){if(de<=ve){const De=ve+1,Be=De<ce?U[De].el:ye;for(;de<=ve;)O(null,U[de]=Me?cloneIfMounted(U[de]):normalizeVNode(U[de]),te,Be,le,Te,Ne,xe,Me),de++}}else if(de>ve)for(;de<=se;)Oe(k[de],le,Te,!0),de++;else{const De=de,Be=de,Je=new Map;for(de=Be;de<=ve;de++){const be=U[de]=Me?cloneIfMounted(U[de]):normalizeVNode(U[de]);be.key!=null&&Je.set(be.key,de)}let et,it=0;const lt=ve-Be+1;let dt=!1,rt=0;const pt=new Array(lt);for(de=0;de<lt;de++)pt[de]=0;for(de=De;de<=se;de++){const be=k[de];if(it>=lt){Oe(be,le,Te,!0);continue}let pe;if(be.key!=null)pe=Je.get(be.key);else for(et=Be;et<=ve;et++)if(pt[et-Be]===0&&isSameVNodeType(be,U[et])){pe=et;break}pe===void 0?Oe(be,le,Te,!0):(pt[pe-Be]=de+1,pe>=rt?rt=pe:dt=!0,O(be,U[pe],te,null,le,Te,Ne,xe,Me),it++)}const Ie=dt?getSequence(pt):EMPTY_ARR;for(et=Ie.length-1,de=lt-1;de>=0;de--){const be=Be+de,pe=U[be],Ue=be+1<ce?U[be+1].el:ye;pt[de]===0?O(null,pe,te,Ue,le,Te,Ne,xe,Me):dt&&(et<0||de!==Ie[et]?Ee(pe,te,Ue,2):et--)}}},Ee=(k,U,te,ye,le=null)=>{const{el:Te,type:Ne,transition:xe,children:Me,shapeFlag:de}=k;if(de&6){Ee(k.component.subTree,U,te,ye);return}if(de&128){k.suspense.move(U,te,ye);return}if(de&64){Ne.move(k,U,te,Q);return}if(Ne===Fragment){r(Te,U,te);for(let se=0;se<Me.length;se++)Ee(Me[se],U,te,ye);r(k.anchor,U,te);return}if(Ne===Static){H(k,U,te);return}if(ye!==2&&de&1&&xe)if(ye===0)xe.beforeEnter(Te),r(Te,U,te),queuePostRenderEffect(()=>xe.enter(Te),le);else{const{leave:se,delayLeave:ve,afterLeave:De}=xe,Be=()=>{k.ctx.isUnmounted?o(Te):r(Te,U,te)},Je=()=>{se(Te,()=>{Be(),De&&De()})};ve?ve(Te,Be,Je):Je()}else r(Te,U,te)},Oe=(k,U,te,ye=!1,le=!1)=>{const{type:Te,props:Ne,ref:xe,children:Me,dynamicChildren:de,shapeFlag:ce,patchFlag:se,dirs:ve,cacheIndex:De}=k;if(se===-2&&(le=!1),xe!=null&&(pauseTracking(),setRef(xe,null,te,k,!0),resetTracking()),De!=null&&(U.renderCache[De]=void 0),ce&256){U.ctx.deactivate(k);return}const Be=ce&1&&ve,Je=!isAsyncWrapper(k);let et;if(Je&&(et=Ne&&Ne.onVnodeBeforeUnmount)&&invokeVNodeHook(et,U,k),ce&6)A(k.component,te,ye);else{if(ce&128){k.suspense.unmount(te,ye);return}Be&&invokeDirectiveHook(k,null,U,"beforeUnmount"),ce&64?k.type.remove(k,U,te,Q,ye):de&&!de.hasOnce&&(Te!==Fragment||se>0&&se&64)?g(de,U,te,!1,!0):(Te===Fragment&&se&384||!le&&ce&16)&&g(Me,U,te),ye&&G(k)}(Je&&(et=Ne&&Ne.onVnodeUnmounted)||Be)&&queuePostRenderEffect(()=>{et&&invokeVNodeHook(et,U,k),Be&&invokeDirectiveHook(k,null,U,"unmounted")},te)},G=k=>{const{type:U,el:te,anchor:ye,transition:le}=k;if(U===Fragment){m(te,ye);return}if(U===Static){N(k);return}const Te=()=>{o(te),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(k.shapeFlag&1&&le&&!le.persisted){const{leave:Ne,delayLeave:xe}=le,Me=()=>Ne(te,Te);xe?xe(k.el,Te,Me):Me()}else Te()},m=(k,U)=>{let te;for(;k!==U;)te=W(k),o(k),k=te;o(U)},A=(k,U,te)=>{const{bum:ye,scope:le,job:Te,subTree:Ne,um:xe,m:Me,a:de,parent:ce,slots:{__:se}}=k;invalidateMount(Me),invalidateMount(de),ye&&invokeArrayFns$1(ye),ce&&isArray$1(se)&&se.forEach(ve=>{ce.renderCache[ve]=void 0}),le.stop(),Te&&(Te.flags|=8,Oe(Ne,k,U,te)),xe&&queuePostRenderEffect(xe,U),queuePostRenderEffect(()=>{k.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},g=(k,U,te,ye=!1,le=!1,Te=0)=>{for(let Ne=Te;Ne<k.length;Ne++)Oe(k[Ne],U,te,ye,le)},T=k=>{if(k.shapeFlag&6)return T(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const U=W(k.anchor||k.el),te=U&&U[TeleportEndKey];return te?W(te):U};let F=!1;const q=(k,U,te)=>{k==null?U._vnode&&Oe(U._vnode,null,null,!0):O(U._vnode||null,k,U,null,null,null,te),U._vnode=k,F||(F=!0,flushPreFlushCbs(),flushPostFlushCbs(),F=!1)},Q={p:O,um:Oe,m:Ee,r:G,mt:D,mc:$,pc:ie,pbc:J,n:T,o:e};let ae,Ce;return n&&([ae,Ce]=n(Q)),{render:q,hydrate:ae,createApp:createAppAPI(q,ae)}}function resolveChildrenNamespace({type:e,props:n},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function toggleRecurse({effect:e,job:n},s){s?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function needTransition(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function traverseStaticChildren(e,n,s=!1){const r=e.children,o=n.children;if(isArray$1(r)&&isArray$1(o))for(let l=0;l<r.length;l++){const c=r[l];let y=o[l];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=o[l]=cloneIfMounted(o[l]),y.el=c.el),!s&&y.patchFlag!==-2&&traverseStaticChildren(c,y)),y.type===Text&&(y.el=c.el),y.type===Comment&&!y.el&&(y.el=c.el)}}function getSequence(e){const n=e.slice(),s=[0];let r,o,l,c,y;const b=e.length;for(r=0;r<b;r++){const S=e[r];if(S!==0){if(o=s[s.length-1],e[o]<S){n[r]=o,s.push(r);continue}for(l=0,c=s.length-1;l<c;)y=l+c>>1,e[s[y]]<S?l=y+1:c=y;S<e[s[l]]&&(l>0&&(n[r]=s[l-1]),s[l]=r)}}for(l=s.length,c=s[l-1];l-- >0;)s[l]=c,c=n[c];return s}function locateNonHydratedAsyncRoot(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:locateNonHydratedAsyncRoot(n)}function invalidateMount(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(e,n,s){return doWatch(e,n,s)}function doWatch(e,n,s=EMPTY_OBJ){const{immediate:r,deep:o,flush:l,once:c}=s,y=extend$1({},s),b=n&&r||!n&&l!=="post";let S;if(isInSSRComponentSetup){if(l==="sync"){const B=useSSRContext();S=B.__watcherHandles||(B.__watcherHandles=[])}else if(!b){const B=()=>{};return B.stop=NOOP,B.resume=NOOP,B.pause=NOOP,B}}const u=currentInstance;y.call=(B,P,O)=>callWithAsyncErrorHandling(B,u,P,O);let R=!1;l==="post"?y.scheduler=B=>{queuePostRenderEffect(B,u&&u.suspense)}:l!=="sync"&&(R=!0,y.scheduler=(B,P)=>{P?B():queueJob(B)}),y.augmentJob=B=>{n&&(B.flags|=4),R&&(B.flags|=2,u&&(B.id=u.uid,B.i=u))};const W=watch$1(e,n,y);return isInSSRComponentSetup&&(S?S.push(W):b&&W()),W}function instanceWatch(e,n,s){const r=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let l;isFunction$1(n)?l=n:(l=n.handler,s=n);const c=setCurrentInstance(this),y=doWatch(o,l.bind(r),s);return c(),y}function createPathGetter(e,n){const s=n.split(".");return()=>{let r=e;for(let o=0;o<s.length&&r;o++)r=r[s[o]];return r}}const getModelModifiers=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${camelize$1(n)}Modifiers`]||e[`${hyphenate$1(n)}Modifiers`];function emit(e,n,...s){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=s;const l=n.startsWith("update:"),c=l&&getModelModifiers(r,n.slice(7));c&&(c.trim&&(o=s.map(u=>isString$1(u)?u.trim():u)),c.number&&(o=s.map(looseToNumber$1)));let y,b=r[y=toHandlerKey(n)]||r[y=toHandlerKey(camelize$1(n))];!b&&l&&(b=r[y=toHandlerKey(hyphenate$1(n))]),b&&callWithAsyncErrorHandling(b,e,6,o);const S=r[y+"Once"];if(S){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,callWithAsyncErrorHandling(S,e,6,o)}}function normalizeEmitsOptions(e,n,s=!1){const r=n.emitsCache,o=r.get(e);if(o!==void 0)return o;const l=e.emits;let c={},y=!1;if(!isFunction$1(e)){const b=S=>{const u=normalizeEmitsOptions(S,n,!0);u&&(y=!0,extend$1(c,u))};!s&&n.mixins.length&&n.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!l&&!y?(isObject$1(e)&&r.set(e,null),null):(isArray$1(l)?l.forEach(b=>c[b]=null):extend$1(c,l),isObject$1(e)&&r.set(e,c),c)}function isEmitListener(e,n){return!e||!isOn$1(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(e,n[0].toLowerCase()+n.slice(1))||hasOwn(e,hyphenate$1(n))||hasOwn(e,n))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:n,vnode:s,proxy:r,withProxy:o,propsOptions:[l],slots:c,attrs:y,emit:b,render:S,renderCache:u,props:R,data:W,setupState:B,ctx:P,inheritAttrs:O}=e,x=setCurrentRenderingInstance(e);let L,V;try{if(s.shapeFlag&4){const N=o||r,w=N;L=normalizeVNode(S.call(w,N,u,R,B,W,P)),V=y}else{const N=n;L=normalizeVNode(N.length>1?N(R,{attrs:y,slots:c,emit:b}):N(R,null)),V=n.props?y:getFunctionalFallthrough(y)}}catch(N){blockStack.length=0,handleError(N,e,1),L=createVNode(Comment)}let H=L;if(V&&O!==!1){const N=Object.keys(V),{shapeFlag:w}=H;N.length&&w&7&&(l&&N.some(isModelListener$1)&&(V=filterModelListeners(V,l)),H=cloneVNode(H,V,!1,!0))}return s.dirs&&(H=cloneVNode(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks(H,s.transition),L=H,setCurrentRenderingInstance(x),L}const getFunctionalFallthrough=e=>{let n;for(const s in e)(s==="class"||s==="style"||isOn$1(s))&&((n||(n={}))[s]=e[s]);return n},filterModelListeners=(e,n)=>{const s={};for(const r in e)(!isModelListener$1(r)||!(r.slice(9)in n))&&(s[r]=e[r]);return s};function shouldUpdateComponent(e,n,s){const{props:r,children:o,component:l}=e,{props:c,children:y,patchFlag:b}=n,S=l.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&b>=0){if(b&1024)return!0;if(b&16)return r?hasPropsChanged(r,c,S):!!c;if(b&8){const u=n.dynamicProps;for(let R=0;R<u.length;R++){const W=u[R];if(c[W]!==r[W]&&!isEmitListener(S,W))return!0}}}else return(o||y)&&(!y||!y.$stable)?!0:r===c?!1:r?c?hasPropsChanged(r,c,S):!0:!!c;return!1}function hasPropsChanged(e,n,s){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const l=r[o];if(n[l]!==e[l]&&!isEmitListener(s,l))return!0}return!1}function updateHOCHostEl({vnode:e,parent:n},s){for(;n;){const r=n.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=n.vnode).el=s,n=n.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,n){n&&n.pendingBranch?isArray$1(e)?n.effects.push(...e):n.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,n=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&n&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,n,s,r,o,l){return setupBlock(createBaseVNode(e,n,s,r,o,l,!0))}function createBlock(e,n,s,r,o){return setupBlock(createVNode(e,n,s,r,o,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,n){return e.type===n.type&&e.key===n.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:n,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:n,f:!!s}:e:null);function createBaseVNode(e,n=null,s=null,r=0,o=null,l=e===Fragment?0:1,c=!1,y=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return y?(normalizeChildren(b,s),l&128&&e.normalize(b)):s&&(b.shapeFlag|=isString$1(s)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(b.patchFlag>0||l&6)&&b.patchFlag!==32&&currentBlock.push(b),b}const createVNode=_createVNode;function _createVNode(e,n=null,s=null,r=0,o=null,l=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const y=cloneVNode(e,n,!0);return s&&normalizeChildren(y,s),isBlockTreeEnabled>0&&!l&&currentBlock&&(y.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=y:currentBlock.push(y)),y.patchFlag=-2,y}if(isClassComponent(e)&&(e=e.__vccOpts),n){n=guardReactiveProps(n);let{class:y,style:b}=n;y&&!isString$1(y)&&(n.class=normalizeClass(y)),isObject$1(b)&&(isProxy(b)&&!isArray$1(b)&&(b=extend$1({},b)),n.style=normalizeStyle(b))}const c=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,n,s,r,o,c,l,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$1({},e):e:null}function cloneVNode(e,n,s=!1,r=!1){const{props:o,ref:l,patchFlag:c,children:y,transition:b}=e,S=n?mergeProps(o||{},n):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:S,key:S&&normalizeKey(S),ref:n&&n.ref?s&&l?isArray$1(l)?l.concat(normalizeRef(n)):[l,normalizeRef(n)]:normalizeRef(n):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:y,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Fragment?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:b,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return b&&r&&setTransitionHooks(u,b.clone(u)),u}function createTextVNode(e=" ",n=0){return createVNode(Text,null,e,n)}function createCommentVNode(e="",n=!1){return n?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,n){let s=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(isArray$1(n))s=16;else if(typeof n=="object")if(r&65){const o=n.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=n._;!o&&!isInternalObject(n)?n._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else isFunction$1(n)?(n={default:n,_ctx:currentRenderingInstance},s=32):(n=String(n),r&64?(s=16,n=[createTextVNode(n)]):s=8);e.children=n,e.shapeFlag|=s}function mergeProps(...e){const n={};for(let s=0;s<e.length;s++){const r=e[s];for(const o in r)if(o==="class")n.class!==r.class&&(n.class=normalizeClass([n.class,r.class]));else if(o==="style")n.style=normalizeStyle([n.style,r.style]);else if(isOn$1(o)){const l=n[o],c=r[o];c&&l!==c&&!(isArray$1(l)&&l.includes(c))&&(n[o]=l?[].concat(l,c):c)}else o!==""&&(n[o]=r[o])}return n}function invokeVNodeHook(e,n,s,r=null){callWithAsyncErrorHandling(e,n,7,[s,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,n,s){const r=e.type,o=(n?n.appContext:e.appContext)||emptyAppContext,l={uid:uid++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=emit.bind(null,l),e.ce&&e.ce(l),l}let currentInstance=null,internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),n=(s,r)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(r),l=>{o.length>1?o.forEach(c=>c(l)):o[0](l)}};internalSetCurrentInstance=n("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=n("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=e=>{const n=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(n)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,n=!1,s=!1){n&&setInSSRSetupState(n);const{props:r,children:o}=e.vnode,l=isStatefulComponent(e);initProps(e,r,l,n),initSlots(e,o,s||n);const c=l?setupStatefulComponent(e,n):void 0;return n&&setInSSRSetupState(!1),c}function setupStatefulComponent(e,n){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:r}=s;if(r){pauseTracking();const o=e.setupContext=r.length>1?createSetupContext(e):null,l=setCurrentInstance(e),c=callWithErrorHandling(r,e,0,[e.props,o]),y=isPromise(c);if(resetTracking(),l(),(y||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),y){if(c.then(unsetCurrentInstance,unsetCurrentInstance),n)return c.then(b=>{handleSetupResult(e,b,n)}).catch(b=>{handleError(b,e,0)});e.asyncDep=c}else handleSetupResult(e,c,n)}else finishComponentSetup(e,n)}function handleSetupResult(e,n,s){isFunction$1(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:isObject$1(n)&&(e.setupState=proxyRefs(n)),finishComponentSetup(e,s)}let compile;function finishComponentSetup(e,n,s){const r=e.type;if(!e.render){if(!n&&compile&&!r.render){const o=r.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:l,compilerOptions:c}=e.appContext.config,{delimiters:y,compilerOptions:b}=r,S=extend$1(extend$1({isCustomElement:l,delimiters:y},c),b);r.render=compile(o,S)}}e.render=r.render||NOOP}{const o=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),o()}}}const attrsProxyHandlers={get(e,n){return track(e,"get",""),e[n]}};function createSetupContext(e){const n=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:n}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(n,s){if(s in n)return n[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](e)},has(n,s){return s in n||s in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,n=!0){return isFunction$1(e)?e.displayName||e.name:e.name||n&&e.__name}function formatComponentName(e,n,s=!1){let r=getComponentName(n);if(!r&&n.__file){const o=n.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=l=>{for(const c in l)if(l[c]===n)return c};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?classify(r):s?"App":"Anonymous"}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,n)=>computed$1(e,n,isInSSRComponentSetup),version="3.5.17";/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,isArray=Array.isArray,isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),cacheStringFunction=e=>{const n=Object.create(null);return s=>n[s]||(n[s]=e(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(n,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),invokeArrayFns=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},looseToNumber=e=>{const n=parseFloat(e);return isNaN(n)?e:n},specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,n){if(e.length!==n.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=looseEqual(e[r],n[r]);return s}function looseEqual(e,n){if(e===n)return!0;let s=isDate(e),r=isDate(n);if(s||r)return s&&r?e.getTime()===n.getTime():!1;if(s=isSymbol(e),r=isSymbol(n),s||r)return e===n;if(s=isArray(e),r=isArray(n),s||r)return s&&r?looseCompareArrays(e,n):!1;if(s=isObject(e),r=isObject(n),s||r){if(!s||!r)return!1;const o=Object.keys(e).length,l=Object.keys(n).length;if(o!==l)return!1;for(const c in e){const y=e.hasOwnProperty(c),b=n.hasOwnProperty(c);if(y&&!b||!y&&b||!looseEqual(e[c],n[c]))return!1}}return String(e)===String(n)}function looseIndexOf(e,n){return e.findIndex(s=>looseEqual(s,n))}/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,n,s)=>{n.insertBefore(e,s||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,s,r)=>{const o=n==="svg"?doc.createElementNS(svgNS,e):n==="mathml"?doc.createElementNS(mathmlNS,e):s?doc.createElement(e,{is:s}):doc.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,s,r,o,l){const c=s?s.previousSibling:n.lastChild;if(o&&(o===l||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const y=templateContainer.content;if(r==="svg"||r==="mathml"){const b=y.firstChild;for(;b.firstChild;)y.appendChild(b.firstChild);y.removeChild(b)}n.insertBefore(y,s)}return[c?c.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,n,s){const r=e[vtcKey];r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):s?e.setAttribute("class",n):e.className=n}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,n,s){const r=e.style,o=isString(s);let l=!1;if(s&&!o){if(n)if(isString(n))for(const c of n.split(";")){const y=c.slice(0,c.indexOf(":")).trim();s[y]==null&&setStyle(r,y,"")}else for(const c in n)s[c]==null&&setStyle(r,c,"");for(const c in s)c==="display"&&(l=!0),setStyle(r,c,s[c])}else if(o){if(n!==s){const c=r[CSS_VAR_TEXT];c&&(s+=";"+c),r.cssText=s,l=displayRE.test(s)}}else n&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=l?r.display:"",e[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,n,s){if(isArray(s))s.forEach(r=>setStyle(e,n,r));else if(s==null&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const r=autoPrefix(e,n);importantRE.test(s)?e.setProperty(hyphenate(r),s.replace(importantRE,""),"important"):e[r]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,n){const s=prefixCache[n];if(s)return s;let r=camelize$1(n);if(r!=="filter"&&r in e)return prefixCache[n]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const l=prefixes[o]+r;if(l in e)return prefixCache[n]=l}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,n,s,r,o,l=isSpecialBooleanAttr(n)){r&&n.startsWith("xlink:")?s==null?e.removeAttributeNS(xlinkNS,n.slice(6,n.length)):e.setAttributeNS(xlinkNS,n,s):s==null||l&&!includeBooleanAttr(s)?e.removeAttribute(n):e.setAttribute(n,l?"":isSymbol(s)?String(s):s)}function patchDOMProp(e,n,s,r,o){if(n==="innerHTML"||n==="textContent"){s!=null&&(e[n]=n==="innerHTML"?unsafeToTrustedHTML(s):s);return}const l=e.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const y=l==="OPTION"?e.getAttribute("value")||"":e.value,b=s==null?e.type==="checkbox"?"on":"":String(s);(y!==b||!("_value"in e))&&(e.value=b),s==null&&e.removeAttribute(n),e._value=s;return}let c=!1;if(s===""||s==null){const y=typeof e[n];y==="boolean"?s=includeBooleanAttr(s):s==null&&y==="string"?(s="",c=!0):y==="number"&&(s=0,c=!0)}try{e[n]=s}catch{}c&&e.removeAttribute(o||n)}function addEventListener(e,n,s,r){e.addEventListener(n,s,r)}function removeEventListener(e,n,s,r){e.removeEventListener(n,s,r)}const veiKey=Symbol("_vei");function patchEvent(e,n,s,r,o=null){const l=e[veiKey]||(e[veiKey]={}),c=l[n];if(r&&c)c.value=r;else{const[y,b]=parseName(n);if(r){const S=l[n]=createInvoker(r,o);addEventListener(e,y,S,b)}else c&&(removeEventListener(e,y,c,b),l[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let n;if(optionsModifierRE.test(e)){n={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),n]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,n){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,s.value),n,5,[r])};return s.value=e,s.attached=getNow(),s}function patchStopImmediatePropagation(e,n){if(isArray(n)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},n.map(r=>o=>!o._stopped&&r&&r(o))}else return n}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,n,s,r,o,l)=>{const c=o==="svg";n==="class"?patchClass(e,r,c):n==="style"?patchStyle(e,s,r):isOn(n)?isModelListener(n)||patchEvent(e,n,s,r,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(e,n,r,c))?(patchDOMProp(e,n,r),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&patchAttr(e,n,r,c,l,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!isString(r))?patchDOMProp(e,camelize(n),r,l,n):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),patchAttr(e,n,r,c))};function shouldSetAsProp(e,n,s,r){if(r)return!!(n==="innerHTML"||n==="textContent"||n in e&&isNativeOn(n)&&isFunction(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return isNativeOn(n)&&isString(s)?!1:n in e}const getModelAssigner=e=>{const n=e.props["onUpdate:modelValue"]||!1;return isArray(n)?s=>invokeArrayFns(n,s):n};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:n,trim:s,number:r}},o){e[assignKey]=getModelAssigner(o);const l=r||o.props&&o.props.type==="number";addEventListener(e,n?"change":"input",c=>{if(c.target.composing)return;let y=e.value;s&&(y=y.trim()),l&&(y=looseToNumber(y)),e[assignKey](y)}),s&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),n||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:s,modifiers:{lazy:r,trim:o,number:l}},c){if(e[assignKey]=getModelAssigner(c),e.composing)return;const y=(l||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,b=n??"";y!==b&&(document.activeElement===e&&e.type!=="range"&&(r&&n===s||o&&e.value.trim()===b)||(e.value=b))}},vModelSelect={deep:!0,created(e,{value:n,modifiers:{number:s}},r){const o=isSet(n);addEventListener(e,"change",()=>{const l=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?looseToNumber(getValue(c)):getValue(c));e[assignKey](e.multiple?o?new Set(l):l:l[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(r)},mounted(e,{value:n}){setSelected(e,n)},beforeUpdate(e,n,s){e[assignKey]=getModelAssigner(s)},updated(e,{value:n}){e._assigning||setSelected(e,n)}};function setSelected(e,n){const s=e.multiple,r=isArray(n);if(!(s&&!r&&!isSet(n))){for(let o=0,l=e.options.length;o<l;o++){const c=e.options[o],y=getValue(c);if(s)if(r){const b=typeof y;b==="string"||b==="number"?c.selected=n.some(S=>String(S)===String(y)):c.selected=looseIndexOf(n,y)>-1}else c.selected=n.has(y);else if(looseEqual(getValue(c),n)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>systemModifiers.some(s=>e[`${s}Key`]&&!n.includes(s))},withModifiers=(e,n)=>{const s=e._withMods||(e._withMods={}),r=n.join(".");return s[r]||(s[r]=(o,...l)=>{for(let c=0;c<n.length;c++){const y=modifierGuards[n[c]];if(y&&y(o,n))return}return e(o,...l)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,n)=>{const s=e._withKeys||(e._withKeys={}),r=n.join(".");return s[r]||(s[r]=o=>{if(!("key"in o))return;const l=hyphenate(o.key);if(n.some(c=>c===l||keyNames[c]===l))return e(o)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const n=ensureRenderer().createApp(...e),{mount:s}=n;return n.mount=r=>{const o=normalizeContainer(r);if(!o)return;const l=n._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const c=s(o,!1,resolveRootNamespace(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},n};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(n,s){module.exports=n.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,n)=>{var pt;Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.RenderingIntentFlag=n.PromiseCapability=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.MAX_IMAGE_SIZE_TO_CACHE=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.BASELINE_FACTOR=n.AnnotationType=n.AnnotationReplyType=n.AnnotationPrefix=n.AnnotationMode=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.assert=ge,n.bytesToString=ae,n.createValidAbsoluteUrl=Ee,n.getModificationDate=Be,n.getUuid=dt,n.getVerbosityLevel=Z,n.info=ee,n.isArrayBuffer=ve,n.isArrayEqual=De,n.isNodeJS=void 0,n.normalizeUnicode=lt,n.objectFromMap=te,n.objectSize=U,n.setVerbosityLevel=D,n.shadow=Oe,n.string32=k,n.stringToBytes=Ce,n.stringToPDFString=de,n.stringToUTF8String=ce,n.unreachable=ie,n.utf8StringToString=se,n.warn=me;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=s;const r=[1,0,0,1,0,0];n.IDENTITY_MATRIX=r;const o=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=o;const l=1e7;n.MAX_IMAGE_SIZE_TO_CACHE=l;const c=1.35;n.LINE_FACTOR=c;const y=.35;n.LINE_DESCENT_FACTOR=y;const b=y/c;n.BASELINE_FACTOR=b;const S={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=S;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=u;const R="pdfjs_internal_editor_";n.AnnotationEditorPrefix=R;const W={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};n.AnnotationEditorType=W;const B={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};n.AnnotationEditorParamsType=B;const P={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=P;const O={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=O;const x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=x;const L={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=L;const V={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=V;const H={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=H;const N={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=N;const w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=w;const C={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=C;const Y={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=Y;const $={O:"PageOpen",C:"PageClose"};n.PageActionEventType=$;const E={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=E;const J={NONE:0,BINARY:1};n.CMapCompressionType=J;const j={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=j;const ue={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=ue;let fe=E.WARNINGS;function D(Ie){Number.isInteger(Ie)&&(fe=Ie)}function Z(){return fe}function ee(Ie){fe>=E.INFOS&&console.log(`Info: ${Ie}`)}function me(Ie){fe>=E.WARNINGS&&console.log(`Warning: ${Ie}`)}function ie(Ie){throw new Error(Ie)}function ge(Ie,be){Ie||ie(be)}function Re(Ie){switch(Ie==null?void 0:Ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ee(Ie,be=null,pe=null){if(!Ie)return null;try{if(pe&&typeof Ie=="string"){if(pe.addDefaultProtocol&&Ie.startsWith("www.")){const Ve=Ie.match(/\./g);(Ve==null?void 0:Ve.length)>=2&&(Ie=`http://${Ie}`)}if(pe.tryConvertEncoding)try{Ie=ce(Ie)}catch{}}const Ue=be?new URL(Ie,be):new URL(Ie);if(Re(Ue))return Ue}catch{}return null}function Oe(Ie,be,pe,Ue=!1){return Object.defineProperty(Ie,be,{value:pe,enumerable:!Ue,configurable:!0,writable:!1}),pe}const G=function(){function be(pe,Ue){this.constructor===be&&ie("Cannot initialize BaseException."),this.message=pe,this.name=Ue}return be.prototype=new Error,be.constructor=be,be}();n.BaseException=G;class m extends G{constructor(be,pe){super(be,"PasswordException"),this.code=pe}}n.PasswordException=m;class A extends G{constructor(be,pe){super(be,"UnknownErrorException"),this.details=pe}}n.UnknownErrorException=A;class g extends G{constructor(be){super(be,"InvalidPDFException")}}n.InvalidPDFException=g;class T extends G{constructor(be){super(be,"MissingPDFException")}}n.MissingPDFException=T;class F extends G{constructor(be,pe){super(be,"UnexpectedResponseException"),this.status=pe}}n.UnexpectedResponseException=F;class q extends G{constructor(be){super(be,"FormatError")}}n.FormatError=q;class Q extends G{constructor(be){super(be,"AbortException")}}n.AbortException=Q;function ae(Ie){(typeof Ie!="object"||(Ie==null?void 0:Ie.length)===void 0)&&ie("Invalid argument for bytesToString");const be=Ie.length,pe=8192;if(be<pe)return String.fromCharCode.apply(null,Ie);const Ue=[];for(let Ve=0;Ve<be;Ve+=pe){const Ft=Math.min(Ve+pe,be),Pt=Ie.subarray(Ve,Ft);Ue.push(String.fromCharCode.apply(null,Pt))}return Ue.join("")}function Ce(Ie){typeof Ie!="string"&&ie("Invalid argument for stringToBytes");const be=Ie.length,pe=new Uint8Array(be);for(let Ue=0;Ue<be;++Ue)pe[Ue]=Ie.charCodeAt(Ue)&255;return pe}function k(Ie){return String.fromCharCode(Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255)}function U(Ie){return Object.keys(Ie).length}function te(Ie){const be=Object.create(null);for(const[pe,Ue]of Ie)be[pe]=Ue;return be}function ye(){const Ie=new Uint8Array(4);return Ie[0]=1,new Uint32Array(Ie.buffer,0,1)[0]===1}function le(){try{return new Function(""),!0}catch{return!1}}class Te{static get isLittleEndian(){return Oe(this,"isLittleEndian",ye())}static get isEvalSupported(){return Oe(this,"isEvalSupported",le())}static get isOffscreenCanvasSupported(){return Oe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Oe(this,"platform",{isWin:!1,isMac:!1}):Oe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var be,pe;return Oe(this,"isCSSRoundSupported",(pe=(be=globalThis.CSS)==null?void 0:be.supports)==null?void 0:pe.call(be,"width: round(1.5px, 1px)"))}}n.FeatureTest=Te;const Ne=[...Array(256).keys()].map(Ie=>Ie.toString(16).padStart(2,"0"));class xe{static makeHexColor(be,pe,Ue){return`#${Ne[be]}${Ne[pe]}${Ne[Ue]}`}static scaleMinMax(be,pe){let Ue;be[0]?(be[0]<0&&(Ue=pe[0],pe[0]=pe[1],pe[1]=Ue),pe[0]*=be[0],pe[1]*=be[0],be[3]<0&&(Ue=pe[2],pe[2]=pe[3],pe[3]=Ue),pe[2]*=be[3],pe[3]*=be[3]):(Ue=pe[0],pe[0]=pe[2],pe[2]=Ue,Ue=pe[1],pe[1]=pe[3],pe[3]=Ue,be[1]<0&&(Ue=pe[2],pe[2]=pe[3],pe[3]=Ue),pe[2]*=be[1],pe[3]*=be[1],be[2]<0&&(Ue=pe[0],pe[0]=pe[1],pe[1]=Ue),pe[0]*=be[2],pe[1]*=be[2]),pe[0]+=be[4],pe[1]+=be[4],pe[2]+=be[5],pe[3]+=be[5]}static transform(be,pe){return[be[0]*pe[0]+be[2]*pe[1],be[1]*pe[0]+be[3]*pe[1],be[0]*pe[2]+be[2]*pe[3],be[1]*pe[2]+be[3]*pe[3],be[0]*pe[4]+be[2]*pe[5]+be[4],be[1]*pe[4]+be[3]*pe[5]+be[5]]}static applyTransform(be,pe){const Ue=be[0]*pe[0]+be[1]*pe[2]+pe[4],Ve=be[0]*pe[1]+be[1]*pe[3]+pe[5];return[Ue,Ve]}static applyInverseTransform(be,pe){const Ue=pe[0]*pe[3]-pe[1]*pe[2],Ve=(be[0]*pe[3]-be[1]*pe[2]+pe[2]*pe[5]-pe[4]*pe[3])/Ue,Ft=(-be[0]*pe[1]+be[1]*pe[0]+pe[4]*pe[1]-pe[5]*pe[0])/Ue;return[Ve,Ft]}static getAxialAlignedBoundingBox(be,pe){const Ue=this.applyTransform(be,pe),Ve=this.applyTransform(be.slice(2,4),pe),Ft=this.applyTransform([be[0],be[3]],pe),Pt=this.applyTransform([be[2],be[1]],pe);return[Math.min(Ue[0],Ve[0],Ft[0],Pt[0]),Math.min(Ue[1],Ve[1],Ft[1],Pt[1]),Math.max(Ue[0],Ve[0],Ft[0],Pt[0]),Math.max(Ue[1],Ve[1],Ft[1],Pt[1])]}static inverseTransform(be){const pe=be[0]*be[3]-be[1]*be[2];return[be[3]/pe,-be[1]/pe,-be[2]/pe,be[0]/pe,(be[2]*be[5]-be[4]*be[3])/pe,(be[4]*be[1]-be[5]*be[0])/pe]}static singularValueDecompose2dScale(be){const pe=[be[0],be[2],be[1],be[3]],Ue=be[0]*pe[0]+be[1]*pe[2],Ve=be[0]*pe[1]+be[1]*pe[3],Ft=be[2]*pe[0]+be[3]*pe[2],Pt=be[2]*pe[1]+be[3]*pe[3],we=(Ue+Pt)/2,Ke=Math.sqrt((Ue+Pt)**2-4*(Ue*Pt-Ft*Ve))/2,ot=we+Ke||1,Xe=we-Ke||1;return[Math.sqrt(ot),Math.sqrt(Xe)]}static normalizeRect(be){const pe=be.slice(0);return be[0]>be[2]&&(pe[0]=be[2],pe[2]=be[0]),be[1]>be[3]&&(pe[1]=be[3],pe[3]=be[1]),pe}static intersect(be,pe){const Ue=Math.max(Math.min(be[0],be[2]),Math.min(pe[0],pe[2])),Ve=Math.min(Math.max(be[0],be[2]),Math.max(pe[0],pe[2]));if(Ue>Ve)return null;const Ft=Math.max(Math.min(be[1],be[3]),Math.min(pe[1],pe[3])),Pt=Math.min(Math.max(be[1],be[3]),Math.max(pe[1],pe[3]));return Ft>Pt?null:[Ue,Ft,Ve,Pt]}static bezierBoundingBox(be,pe,Ue,Ve,Ft,Pt,we,Ke){const ot=[],Xe=[[],[]];let at,ct,St,We,bt,st,ne,f;for(let oe=0;oe<2;++oe){if(oe===0?(ct=6*be-12*Ue+6*Ft,at=-3*be+9*Ue-9*Ft+3*we,St=3*Ue-3*be):(ct=6*pe-12*Ve+6*Pt,at=-3*pe+9*Ve-9*Pt+3*Ke,St=3*Ve-3*pe),Math.abs(at)<1e-12){if(Math.abs(ct)<1e-12)continue;We=-St/ct,0<We&&We<1&&ot.push(We);continue}ne=ct*ct-4*St*at,f=Math.sqrt(ne),!(ne<0)&&(bt=(-ct+f)/(2*at),0<bt&&bt<1&&ot.push(bt),st=(-ct-f)/(2*at),0<st&&st<1&&ot.push(st))}let v=ot.length,I;const K=v;for(;v--;)We=ot[v],I=1-We,Xe[0][v]=I*I*I*be+3*I*I*We*Ue+3*I*We*We*Ft+We*We*We*we,Xe[1][v]=I*I*I*pe+3*I*I*We*Ve+3*I*We*We*Pt+We*We*We*Ke;return Xe[0][K]=be,Xe[1][K]=pe,Xe[0][K+1]=we,Xe[1][K+1]=Ke,Xe[0].length=Xe[1].length=K+2,[Math.min(...Xe[0]),Math.min(...Xe[1]),Math.max(...Xe[0]),Math.max(...Xe[1])]}}n.Util=xe;const Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function de(Ie){if(Ie[0]>="ï"){let pe;if(Ie[0]==="þ"&&Ie[1]==="ÿ"?pe="utf-16be":Ie[0]==="ÿ"&&Ie[1]==="þ"?pe="utf-16le":Ie[0]==="ï"&&Ie[1]==="»"&&Ie[2]==="¿"&&(pe="utf-8"),pe)try{const Ue=new TextDecoder(pe,{fatal:!0}),Ve=Ce(Ie);return Ue.decode(Ve)}catch(Ue){me(`stringToPDFString: "${Ue}".`)}}const be=[];for(let pe=0,Ue=Ie.length;pe<Ue;pe++){const Ve=Me[Ie.charCodeAt(pe)];be.push(Ve?String.fromCharCode(Ve):Ie.charAt(pe))}return be.join("")}function ce(Ie){return decodeURIComponent(escape(Ie))}function se(Ie){return unescape(encodeURIComponent(Ie))}function ve(Ie){return typeof Ie=="object"&&(Ie==null?void 0:Ie.byteLength)!==void 0}function De(Ie,be){if(Ie.length!==be.length)return!1;for(let pe=0,Ue=Ie.length;pe<Ue;pe++)if(Ie[pe]!==be[pe])return!1;return!0}function Be(Ie=new Date){return[Ie.getUTCFullYear().toString(),(Ie.getUTCMonth()+1).toString().padStart(2,"0"),Ie.getUTCDate().toString().padStart(2,"0"),Ie.getUTCHours().toString().padStart(2,"0"),Ie.getUTCMinutes().toString().padStart(2,"0"),Ie.getUTCSeconds().toString().padStart(2,"0")].join("")}class Je{constructor(){re(this,pt,!1);this.promise=new Promise((be,pe)=>{this.resolve=Ue=>{ke(this,pt,!0),be(Ue)},this.reject=Ue=>{ke(this,pt,!0),pe(Ue)}})}get settled(){return h(this,pt)}}pt=new WeakMap,n.PromiseCapability=Je;let et=null,it=null;function lt(Ie){return et||(et=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,it=new Map([["ﬅ","ſt"]])),Ie.replaceAll(et,(be,pe,Ue)=>pe?pe.normalize("NFKC"):it.get(Ue))}function dt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ie=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ie);else for(let be=0;be<32;be++)Ie[be]=Math.floor(Math.random()*255);return ae(Ie)}const rt="pdfjs_internal_id_";n.AnnotationPrefix=rt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,r,o,wi,c,Bs,b,S,u,R,W,B,P,O,x,$s,V,H,co,w,C;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument($){if(typeof $=="string"||$ instanceof URL?$={url:$}:(0,_util.isArrayBuffer)($)&&($={data:$}),typeof $!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!$.url&&!$.data&&!$.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const E=new PDFDocumentLoadingTask,{docId:J}=E,j=$.url?getUrlProp($.url):null,ue=$.data?getDataProp($.data):null,fe=$.httpHeaders||null,D=$.withCredentials===!0,Z=$.password??null,ee=$.range instanceof PDFDataRangeTransport?$.range:null,me=Number.isInteger($.rangeChunkSize)&&$.rangeChunkSize>0?$.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ie=$.worker instanceof PDFWorker?$.worker:null;const ge=$.verbosity,Re=typeof $.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)($.docBaseUrl)?$.docBaseUrl:null,Ee=typeof $.cMapUrl=="string"?$.cMapUrl:null,Oe=$.cMapPacked!==!1,G=$.CMapReaderFactory||DefaultCMapReaderFactory,m=typeof $.standardFontDataUrl=="string"?$.standardFontDataUrl:null,A=$.StandardFontDataFactory||DefaultStandardFontDataFactory,g=$.stopAtErrors!==!0,T=Number.isInteger($.maxImageSize)&&$.maxImageSize>-1?$.maxImageSize:-1,F=$.isEvalSupported!==!1,q=typeof $.isOffscreenCanvasSupported=="boolean"?$.isOffscreenCanvasSupported:!_util.isNodeJS,Q=Number.isInteger($.canvasMaxAreaInBytes)?$.canvasMaxAreaInBytes:-1,ae=typeof $.disableFontFace=="boolean"?$.disableFontFace:_util.isNodeJS,Ce=$.fontExtraProperties===!0,k=$.enableXfa===!0,U=$.ownerDocument||globalThis.document,te=$.disableRange===!0,ye=$.disableStream===!0,le=$.disableAutoFetch===!0,Te=$.pdfBug===!0,Ne=ee?ee.length:$.length??NaN,xe=typeof $.useSystemFonts=="boolean"?$.useSystemFonts:!_util.isNodeJS&&!ae,Me=typeof $.useWorkerFetch=="boolean"?$.useWorkerFetch:G===_display_utils.DOMCMapReaderFactory&&A===_display_utils.DOMStandardFontDataFactory&&Ee&&m&&(0,_display_utils.isValidFetchUrl)(Ee,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(m,document.baseURI),de=$.canvasFactory||new DefaultCanvasFactory({ownerDocument:U}),ce=$.filterFactory||new DefaultFilterFactory({docId:J,ownerDocument:U}),se=null;(0,_util.setVerbosityLevel)(ge);const ve={canvasFactory:de,filterFactory:ce};if(Me||(ve.cMapReaderFactory=new G({baseUrl:Ee,isCompressed:Oe}),ve.standardFontDataFactory=new A({baseUrl:m})),!ie){const Je={verbosity:ge,port:_worker_options.GlobalWorkerOptions.workerPort};ie=Je.port?PDFWorker.fromPort(Je):new PDFWorker(Je),E._worker=ie}const De={docId:J,apiVersion:"3.11.174",data:ue,password:Z,disableAutoFetch:le,rangeChunkSize:me,length:Ne,docBaseUrl:Re,enableXfa:k,evaluatorOptions:{maxImageSize:T,disableFontFace:ae,ignoreErrors:g,isEvalSupported:F,isOffscreenCanvasSupported:q,canvasMaxAreaInBytes:Q,fontExtraProperties:Ce,useSystemFonts:xe,cMapUrl:Me?Ee:null,standardFontDataUrl:Me?m:null}},Be={ignoreErrors:g,isEvalSupported:F,disableFontFace:ae,fontExtraProperties:Ce,enableXfa:k,ownerDocument:U,disableAutoFetch:le,pdfBug:Te,styleElement:se};return ie.promise.then(function(){if(E.destroyed)throw new Error("Loading aborted");const Je=_fetchDocument(ie,De),et=new Promise(function(it){let lt;ee?lt=new _transport_stream.PDFDataTransportStream({length:Ne,initialData:ee.initialData,progressiveDone:ee.progressiveDone,contentDispositionFilename:ee.contentDispositionFilename,disableRange:te,disableStream:ye},ee):ue||(lt=(rt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(rt):(0,_display_utils.isValidFetchUrl)(rt.url)?new _displayFetch_stream.PDFFetchStream(rt):new _displayNetwork.PDFNetworkStream(rt))({url:j,length:Ne,httpHeaders:fe,withCredentials:D,rangeChunkSize:me,disableRange:te,disableStream:ye})),it(lt)});return Promise.all([Je,et]).then(function([it,lt]){if(E.destroyed)throw new Error("Loading aborted");const dt=new _message_handler.MessageHandler(J,it,ie.port),rt=new WorkerTransport(dt,E,lt,Be,ve);E._transport=rt,dt.send("Ready",null)})}).catch(E._capability.reject),E}async function _fetchDocument($,E){if($.destroyed)throw new Error("Worker was destroyed");const J=await $.messageHandler.sendWithPromise("GetDocRequest",E,E.data?[E.data.buffer]:null);if($.destroyed)throw new Error("Worker was destroyed");return J}function getUrlProp($){if($ instanceof URL)return $.href;try{return new URL($,window.location).href}catch{if(_util.isNodeJS&&typeof $=="string")return $}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp($){if(_util.isNodeJS&&typeof Buffer<"u"&&$ instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if($ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength)return $;if(typeof $=="string")return(0,_util.stringToBytes)($);if(typeof $=="object"&&!isNaN($==null?void 0:$.length)||(0,_util.isArrayBuffer)($))return new Uint8Array($);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const n=class n{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Vi(n,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var E,J,j;this.destroyed=!0;try{(E=this._worker)!=null&&E.port&&(this._worker._pendingDestroy=!0),await((J=this._transport)==null?void 0:J.destroy())}catch(ue){throw(j=this._worker)!=null&&j.port&&delete this._worker._pendingDestroy,ue}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,re(n,e,0);let PDFDocumentLoadingTask=n;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(E,J,j=!1,ue=null){this.length=E,this.initialData=J,this.progressiveDone=j,this.contentDispositionFilename=ue,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(E){this._rangeListeners.push(E)}addProgressListener(E){this._progressListeners.push(E)}addProgressiveReadListener(E){this._progressiveReadListeners.push(E)}addProgressiveDoneListener(E){this._progressiveDoneListeners.push(E)}onDataRange(E,J){for(const j of this._rangeListeners)j(E,J)}onDataProgress(E,J){this._readyCapability.promise.then(()=>{for(const j of this._progressListeners)j(E,J)})}onDataProgressiveRead(E){this._readyCapability.promise.then(()=>{for(const J of this._progressiveReadListeners)J(E)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const E of this._progressiveDoneListeners)E()})}transportReady(){this._readyCapability.resolve()}requestDataRange(E,J){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(E,J){this._pdfInfo=E,this._transport=J,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(j=>{if(!j)return j;const ue=[];for(const fe in j)ue.push(...j[fe]);return ue}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(E){return this._transport.getPage(E)}getPageIndex(E){return this._transport.getPageIndex(E)}getDestinations(){return this._transport.getDestinations()}getDestination(E){return this._transport.getDestination(E)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(E=!1){return this._transport.startCleanup(E||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(E,J,j,ue=!1){re(this,o);re(this,c);re(this,s,null);re(this,r,!1);this._pageIndex=E,this._pageInfo=J,this._transport=j,this._stats=ue?new _display_utils.StatTimer:null,this._pdfBug=ue,this.commonObjs=j.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:E,rotation:J=this.rotate,offsetX:j=0,offsetY:ue=0,dontFlip:fe=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:E,rotation:J,offsetX:j,offsetY:ue,dontFlip:fe})}getAnnotations({intent:E="display"}={}){const J=this._transport.getRenderingIntent(E);return this._transport.getAnnotations(this._pageIndex,J.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var E;return((E=this._transport._htmlForXfa)==null?void 0:E.children[this._pageIndex])||null}render({canvasContext:E,viewport:J,intent:j="display",annotationMode:ue=_util.AnnotationMode.ENABLE,transform:fe=null,background:D=null,optionalContentConfigPromise:Z=null,annotationCanvasMap:ee=null,pageColors:me=null,printAnnotationStorage:ie=null}){var A,g;(A=this._stats)==null||A.time("Overall");const ge=this._transport.getRenderingIntent(j,ue,ie);ke(this,r,!1),_e(this,c,Bs).call(this),Z||(Z=this._transport.getOptionalContentConfig());let Re=this._intentStates.get(ge.cacheKey);Re||(Re=Object.create(null),this._intentStates.set(ge.cacheKey,Re)),Re.streamReaderCancelTimeout&&(clearTimeout(Re.streamReaderCancelTimeout),Re.streamReaderCancelTimeout=null);const Ee=!!(ge.renderingIntent&_util.RenderingIntentFlag.PRINT);Re.displayReadyCapability||(Re.displayReadyCapability=new _util.PromiseCapability,Re.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(ge));const Oe=T=>{var F,q;Re.renderTasks.delete(G),(this._maybeCleanupAfterRender||Ee)&&ke(this,r,!0),_e(this,o,wi).call(this,!Ee),T?(G.capability.reject(T),this._abortOperatorList({intentState:Re,reason:T instanceof Error?T:new Error(T)})):G.capability.resolve(),(F=this._stats)==null||F.timeEnd("Rendering"),(q=this._stats)==null||q.timeEnd("Overall")},G=new InternalRenderTask({callback:Oe,params:{canvasContext:E,viewport:J,transform:fe,background:D},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ee,operatorList:Re.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ee,pdfBug:this._pdfBug,pageColors:me});(Re.renderTasks||(Re.renderTasks=new Set)).add(G);const m=G.task;return Promise.all([Re.displayReadyCapability.promise,Z]).then(([T,F])=>{var q;if(this.destroyed){Oe();return}(q=this._stats)==null||q.time("Rendering"),G.initializeGraphics({transparency:T,optionalContentConfig:F}),G.operatorListChanged()}).catch(Oe),m}getOperatorList({intent:E="display",annotationMode:J=_util.AnnotationMode.ENABLE,printAnnotationStorage:j=null}={}){var ee;function ue(){D.operatorList.lastChunk&&(D.opListReadCapability.resolve(D.operatorList),D.renderTasks.delete(Z))}const fe=this._transport.getRenderingIntent(E,J,j,!0);let D=this._intentStates.get(fe.cacheKey);D||(D=Object.create(null),this._intentStates.set(fe.cacheKey,D));let Z;return D.opListReadCapability||(Z=Object.create(null),Z.operatorListChanged=ue,D.opListReadCapability=new _util.PromiseCapability,(D.renderTasks||(D.renderTasks=new Set)).add(Z),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ee=this._stats)==null||ee.time("Page Request"),this._pumpOperatorList(fe)),D.opListReadCapability.promise}streamTextContent({includeMarkedContent:E=!1,disableNormalization:J=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:E===!0,disableNormalization:J===!0},{highWaterMark:100,size(ue){return ue.items.length}})}getTextContent(E={}){if(this._transport._htmlForXfa)return this.getXfa().then(j=>_xfa_text.XfaText.textContent(j));const J=this.streamTextContent(E);return new Promise(function(j,ue){function fe(){D.read().then(function({value:ee,done:me}){if(me){j(Z);return}Object.assign(Z.styles,ee.styles),Z.items.push(...ee.items),fe()},ue)}const D=J.getReader(),Z={items:[],styles:Object.create(null)};fe()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const E=[];for(const J of this._intentStates.values())if(this._abortOperatorList({intentState:J,reason:new Error("Page was destroyed."),force:!0}),!J.opListReadCapability)for(const j of J.renderTasks)E.push(j.completed),j.cancel();return this.objs.clear(),ke(this,r,!1),_e(this,c,Bs).call(this),Promise.all(E)}cleanup(E=!1){ke(this,r,!0);const J=_e(this,o,wi).call(this,!1);return E&&J&&this._stats&&(this._stats=new _display_utils.StatTimer),J}_startRenderPage(E,J){var ue,fe;const j=this._intentStates.get(J);j&&((ue=this._stats)==null||ue.timeEnd("Page Request"),(fe=j.displayReadyCapability)==null||fe.resolve(E))}_renderPageChunk(E,J){for(let j=0,ue=E.length;j<ue;j++)J.operatorList.fnArray.push(E.fnArray[j]),J.operatorList.argsArray.push(E.argsArray[j]);J.operatorList.lastChunk=E.lastChunk,J.operatorList.separateAnnots=E.separateAnnots;for(const j of J.renderTasks)j.operatorListChanged();E.lastChunk&&_e(this,o,wi).call(this,!0)}_pumpOperatorList({renderingIntent:E,cacheKey:J,annotationStorageSerializable:j}){const{map:ue,transfers:fe}=j,Z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:E,cacheKey:J,annotationStorage:ue},fe).getReader(),ee=this._intentStates.get(J);ee.streamReader=Z;const me=()=>{Z.read().then(({value:ie,done:ge})=>{if(ge){ee.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ie,ee),me())},ie=>{if(ee.streamReader=null,!this._transport.destroyed){if(ee.operatorList){ee.operatorList.lastChunk=!0;for(const ge of ee.renderTasks)ge.operatorListChanged();_e(this,o,wi).call(this,!0)}if(ee.displayReadyCapability)ee.displayReadyCapability.reject(ie);else if(ee.opListReadCapability)ee.opListReadCapability.reject(ie);else throw ie}})};me()}_abortOperatorList({intentState:E,reason:J,force:j=!1}){if(E.streamReader){if(E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null),!j){if(E.renderTasks.size>0)return;if(J instanceof _display_utils.RenderingCancelledException){let ue=RENDERING_CANCELLED_TIMEOUT;J.extraDelay>0&&J.extraDelay<1e3&&(ue+=J.extraDelay),E.streamReaderCancelTimeout=setTimeout(()=>{E.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:E,reason:J,force:!0})},ue);return}}if(E.streamReader.cancel(new _util.AbortException(J.message)).catch(()=>{}),E.streamReader=null,!this._transport.destroyed){for(const[ue,fe]of this._intentStates)if(fe===E){this._intentStates.delete(ue);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,r=new WeakMap,o=new WeakSet,wi=function(E=!1){if(_e(this,c,Bs).call(this),!h(this,r)||this.destroyed)return!1;if(E)return ke(this,s,setTimeout(()=>{ke(this,s,null),_e(this,o,wi).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:J,operatorList:j}of this._intentStates.values())if(J.size>0||!j.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ke(this,r,!1),!0},c=new WeakSet,Bs=function(){h(this,s)&&(clearTimeout(h(this,s)),ke(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){re(this,b,new Set);re(this,S,Promise.resolve())}postMessage(E,J){const j={data:structuredClone(E,J?{transfer:J}:null)};h(this,S).then(()=>{for(const ue of h(this,b))ue.call(this,j)})}addEventListener(E,J){h(this,b).add(J)}removeEventListener(E,J){h(this,b).delete(J)}terminate(){h(this,b).clear()}}b=new WeakMap,S=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $=(u=document==null?void 0:document.currentScript)==null?void 0:u.src;$&&(PDFWorkerUtil.fallbackWorkerSrc=$.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($,E){let J;try{if(J=new URL($),!J.origin||J.origin==="null")return!1}catch{return!1}const j=new URL(E,J);return J.origin===j.origin},PDFWorkerUtil.createCDNWrapper=function($){const E=`importScripts("${$}");`;return URL.createObjectURL(new Blob([E]))}}const _PDFWorker=class _PDFWorker{constructor({name:$=null,port:E=null,verbosity:J=(0,_util.getVerbosityLevel)()}={}){var j;if(this.name=$,this.destroyed=!1,this.verbosity=J,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,E){if((j=h(_PDFWorker,R))!=null&&j.has(E))throw new Error("Cannot use more than one PDFWorker per port.");(h(_PDFWorker,R)||ke(_PDFWorker,R,new WeakMap)).set(E,this),this._initializeFromPort(E);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new _message_handler.MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const E=new Worker($),J=new _message_handler.MessageHandler("main","worker",E),j=()=>{E.removeEventListener("error",ue),J.destroy(),E.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ue=()=>{this._webWorker||j()};E.addEventListener("error",ue),J.on("test",D=>{if(E.removeEventListener("error",ue),this.destroyed){j();return}D?(this._messageHandler=J,this._port=E,this._webWorker=E,this._readyCapability.resolve(),J.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),J.destroy(),E.terminate())}),J.on("ready",D=>{if(E.removeEventListener("error",ue),this.destroyed){j();return}try{fe()}catch{this._setupFakeWorker()}});const fe=()=>{const D=new Uint8Array;J.send("test",D,[D.buffer])};fe();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const E=new LoopbackPort;this._port=E;const J=`fake${PDFWorkerUtil.fakeWorkerId++}`,j=new _message_handler.MessageHandler(J+"_worker",J,E);$.setup(j,E);const ue=new _message_handler.MessageHandler(J,J+"_worker",E);this._messageHandler=ue,this._readyCapability.resolve(),ue.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=h(_PDFWorker,R))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var J;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const E=(J=h(this,R))==null?void 0:J.get($.port);if(E){if(E._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return E}return new _PDFWorker($)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};R=new WeakMap,re(_PDFWorker,R,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(E,J,j,ue,fe){re(this,x);re(this,W,new Map);re(this,B,new Map);re(this,P,new Map);re(this,O,null);this.messageHandler=E,this.loadingTask=J,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ue.ownerDocument,styleElement:ue.styleElement}),this._params=ue,this.canvasFactory=fe.canvasFactory,this.filterFactory=fe.filterFactory,this.cMapReaderFactory=fe.cMapReaderFactory,this.standardFontDataFactory=fe.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=j,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(E,J=_util.AnnotationMode.ENABLE,j=null,ue=!1){let fe=_util.RenderingIntentFlag.DISPLAY,D=_annotation_storage.SerializableEmpty;switch(E){case"any":fe=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":fe=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${E}`)}switch(J){case _util.AnnotationMode.DISABLE:fe+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:fe+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:fe+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,D=(fe&_util.RenderingIntentFlag.PRINT&&j instanceof _annotation_storage.PrintAnnotationStorage?j:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${J}`)}return ue&&(fe+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:fe,cacheKey:`${fe}_${D.hash}`,annotationStorageSerializable:D}}destroy(){var j;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(j=h(this,O))==null||j.reject(new Error("Worker was destroyed during onPassword callback"));const E=[];for(const ue of h(this,B).values())E.push(ue._destroy());h(this,B).clear(),h(this,P).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const J=this.messageHandler.sendWithPromise("Terminate",null);return E.push(J),Promise.all(E).then(()=>{var ue;this.commonObjs.clear(),this.fontLoader.clear(),h(this,W).clear(),this.filterFactory.destroy(),(ue=this._networkStream)==null||ue.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:E,loadingTask:J}=this;E.on("GetReader",(j,ue)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=fe=>{this._lastProgress={loaded:fe.loaded,total:fe.total}},ue.onPull=()=>{this._fullReader.read().then(function({value:fe,done:D}){if(D){ue.close();return}(0,_util.assert)(fe instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ue.enqueue(new Uint8Array(fe),1,[fe])}).catch(fe=>{ue.error(fe)})},ue.onCancel=fe=>{this._fullReader.cancel(fe),ue.ready.catch(D=>{if(!this.destroyed)throw D})}}),E.on("ReaderHeadersReady",j=>{const ue=new _util.PromiseCapability,fe=this._fullReader;return fe.headersReady.then(()=>{var D;(!fe.isStreamingSupported||!fe.isRangeSupported)&&(this._lastProgress&&((D=J.onProgress)==null||D.call(J,this._lastProgress)),fe.onProgress=Z=>{var ee;(ee=J.onProgress)==null||ee.call(J,{loaded:Z.loaded,total:Z.total})}),ue.resolve({isStreamingSupported:fe.isStreamingSupported,isRangeSupported:fe.isRangeSupported,contentLength:fe.contentLength})},ue.reject),ue.promise}),E.on("GetRangeReader",(j,ue)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const fe=this._networkStream.getRangeReader(j.begin,j.end);if(!fe){ue.close();return}ue.onPull=()=>{fe.read().then(function({value:D,done:Z}){if(Z){ue.close();return}(0,_util.assert)(D instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ue.enqueue(new Uint8Array(D),1,[D])}).catch(D=>{ue.error(D)})},ue.onCancel=D=>{fe.cancel(D),ue.ready.catch(Z=>{if(!this.destroyed)throw Z})}}),E.on("GetDoc",({pdfInfo:j})=>{this._numPages=j.numPages,this._htmlForXfa=j.htmlForXfa,delete j.htmlForXfa,J._capability.resolve(new PDFDocumentProxy(j,this))}),E.on("DocException",function(j){let ue;switch(j.name){case"PasswordException":ue=new _util.PasswordException(j.message,j.code);break;case"InvalidPDFException":ue=new _util.InvalidPDFException(j.message);break;case"MissingPDFException":ue=new _util.MissingPDFException(j.message);break;case"UnexpectedResponseException":ue=new _util.UnexpectedResponseException(j.message,j.status);break;case"UnknownErrorException":ue=new _util.UnknownErrorException(j.message,j.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}J._capability.reject(ue)}),E.on("PasswordRequest",j=>{if(ke(this,O,new _util.PromiseCapability),J.onPassword){const ue=fe=>{fe instanceof Error?h(this,O).reject(fe):h(this,O).resolve({password:fe})};try{J.onPassword(ue,j.code)}catch(fe){h(this,O).reject(fe)}}else h(this,O).reject(new _util.PasswordException(j.message,j.code));return h(this,O).promise}),E.on("DataLoaded",j=>{var ue;(ue=J.onProgress)==null||ue.call(J,{loaded:j.length,total:j.length}),this.downloadInfoCapability.resolve(j)}),E.on("StartRenderPage",j=>{if(this.destroyed)return;h(this,B).get(j.pageIndex)._startRenderPage(j.transparency,j.cacheKey)}),E.on("commonobj",([j,ue,fe])=>{var D;if(!this.destroyed&&!this.commonObjs.has(j))switch(ue){case"Font":const Z=this._params;if("error"in fe){const ie=fe.error;(0,_util.warn)(`Error during font loading: ${ie}`),this.commonObjs.resolve(j,ie);break}const ee=Z.pdfBug&&((D=globalThis.FontInspector)!=null&&D.enabled)?(ie,ge)=>globalThis.FontInspector.fontAdded(ie,ge):null,me=new _font_loader.FontFaceObject(fe,{isEvalSupported:Z.isEvalSupported,disableFontFace:Z.disableFontFace,ignoreErrors:Z.ignoreErrors,inspectFont:ee});this.fontLoader.bind(me).catch(ie=>E.sendWithPromise("FontFallback",{id:j})).finally(()=>{!Z.fontExtraProperties&&me.data&&(me.data=null),this.commonObjs.resolve(j,me)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(j,fe);break;default:throw new Error(`Got unknown common object type ${ue}`)}}),E.on("obj",([j,ue,fe,D])=>{var ee;if(this.destroyed)return;const Z=h(this,B).get(ue);if(!Z.objs.has(j))switch(fe){case"Image":if(Z.objs.resolve(j,D),D){let me;if(D.bitmap){const{width:ie,height:ge}=D;me=ie*ge*4}else me=((ee=D.data)==null?void 0:ee.length)||0;me>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Z._maybeCleanupAfterRender=!0)}break;case"Pattern":Z.objs.resolve(j,D);break;default:throw new Error(`Got unknown object type ${fe}`)}}),E.on("DocProgress",j=>{var ue;this.destroyed||(ue=J.onProgress)==null||ue.call(J,{loaded:j.loaded,total:j.total})}),E.on("FetchBuiltInCMap",j=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(j):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),E.on("FetchStandardFontData",j=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(j):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var j;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:E,transfers:J}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:E,filename:((j=this._fullReader)==null?void 0:j.filename)??null},J).finally(()=>{this.annotationStorage.resetModified()})}getPage(E){if(!Number.isInteger(E)||E<=0||E>this._numPages)return Promise.reject(new Error("Invalid page request."));const J=E-1,j=h(this,P).get(J);if(j)return j;const ue=this.messageHandler.sendWithPromise("GetPage",{pageIndex:J}).then(fe=>{if(this.destroyed)throw new Error("Transport destroyed");const D=new PDFPageProxy(J,fe,this,this._params.pdfBug);return h(this,B).set(J,D),D});return h(this,P).set(J,ue),ue}getPageIndex(E){return typeof E!="object"||E===null||!Number.isInteger(E.num)||E.num<0||!Number.isInteger(E.gen)||E.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:E.num,gen:E.gen})}getAnnotations(E,J){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:E,intent:J})}getFieldObjects(){return _e(this,x,$s).call(this,"GetFieldObjects")}hasJSActions(){return _e(this,x,$s).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(E){return typeof E!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:E})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _e(this,x,$s).call(this,"GetDocJSActions")}getPageJSActions(E){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:E})}getStructTree(E){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:E})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(E=>new _optional_content_config.OptionalContentConfig(E))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const E="GetMetadata",J=h(this,W).get(E);if(J)return J;const j=this.messageHandler.sendWithPromise(E,null).then(ue=>{var fe,D;return{info:ue[0],metadata:ue[1]?new _metadata.Metadata(ue[1]):null,contentDispositionFilename:((fe=this._fullReader)==null?void 0:fe.filename)??null,contentLength:((D=this._fullReader)==null?void 0:D.contentLength)??null}});return h(this,W).set(E,j),j}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(E=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const J of h(this,B).values())if(!J.cleanup())throw new Error(`startCleanup: Page ${J.pageNumber} is currently rendering.`);this.commonObjs.clear(),E||this.fontLoader.clear(),h(this,W).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:E,enableXfa:J}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:E,enableXfa:J})}}W=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakSet,$s=function(E,J=null){const j=h(this,W).get(E);if(j)return j;const ue=this.messageHandler.sendWithPromise(E,J);return h(this,W).set(E,ue),ue};class PDFObjects{constructor(){re(this,H);re(this,V,Object.create(null))}get(E,J=null){if(J){const ue=_e(this,H,co).call(this,E);return ue.capability.promise.then(()=>J(ue.data)),null}const j=h(this,V)[E];if(!(j!=null&&j.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${E}.`);return j.data}has(E){const J=h(this,V)[E];return(J==null?void 0:J.capability.settled)||!1}resolve(E,J=null){const j=_e(this,H,co).call(this,E);j.data=J,j.capability.resolve()}clear(){var E;for(const J in h(this,V)){const{data:j}=h(this,V)[J];(E=j==null?void 0:j.bitmap)==null||E.close()}ke(this,V,Object.create(null))}}V=new WeakMap,H=new WeakSet,co=function(E){var J;return(J=h(this,V))[E]||(J[E]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(E){re(this,w,null);ke(this,w,E),this.onContinue=null}get promise(){return h(this,w).capability.promise}cancel(E=0){h(this,w).cancel(null,E)}get separateAnnots(){const{separateAnnots:E}=h(this,w).operatorList;if(!E)return!1;const{annotationCanvasMap:J}=h(this,w);return E.form||E.canvas&&(J==null?void 0:J.size)>0}}w=new WeakMap,exports.RenderTask=RenderTask;const Y=class Y{constructor({callback:E,params:J,objs:j,commonObjs:ue,annotationCanvasMap:fe,operatorList:D,pageIndex:Z,canvasFactory:ee,filterFactory:me,useRequestAnimationFrame:ie=!1,pdfBug:ge=!1,pageColors:Re=null}){this.callback=E,this.params=J,this.objs=j,this.commonObjs=ue,this.annotationCanvasMap=fe,this.operatorListIdx=null,this.operatorList=D,this._pageIndex=Z,this.canvasFactory=ee,this.filterFactory=me,this._pdfBug=ge,this.pageColors=Re,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ie===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=J.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:E=!1,optionalContentConfig:J}){var Z,ee;if(this.cancelled)return;if(this._canvas){if(h(Y,C).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Y,C).add(this._canvas)}this._pdfBug&&((Z=globalThis.StepperManager)!=null&&Z.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:j,viewport:ue,transform:fe,background:D}=this.params;this.gfx=new _canvas.CanvasGraphics(j,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:J},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:fe,viewport:ue,transparency:E,background:D}),this.operatorListIdx=0,this.graphicsReady=!0,(ee=this.graphicsReadyCallback)==null||ee.call(this)}cancel(E=null,J=0){var j;this.running=!1,this.cancelled=!0,(j=this.gfx)==null||j.endDrawing(),h(Y,C).delete(this._canvas),this.callback(E||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,J))}operatorListChanged(){var E;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(E=this.stepper)==null||E.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Y,C).delete(this._canvas),this.callback())))}};C=new WeakMap,re(Y,C,new WeakSet);let InternalRenderTask=Y;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,n,s)=>{var S,u,R,gc,B;Object.defineProperty(n,"__esModule",{value:!0}),n.SerializableEmpty=n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var r=s(1),o=s(4),l=s(8);const c=Object.freeze({map:null,hash:"",transfers:void 0});n.SerializableEmpty=c;class y{constructor(){re(this,R);re(this,S,!1);re(this,u,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(O,x){const L=h(this,u).get(O);return L===void 0?x:Object.assign(x,L)}getRawValue(O){return h(this,u).get(O)}remove(O){if(h(this,u).delete(O),h(this,u).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const x of h(this,u).values())if(x instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(O,x){const L=h(this,u).get(O);let V=!1;if(L!==void 0)for(const[H,N]of Object.entries(x))L[H]!==N&&(V=!0,L[H]=N);else V=!0,h(this,u).set(O,x);V&&_e(this,R,gc).call(this),x instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(x.constructor._type)}has(O){return h(this,u).has(O)}getAll(){return h(this,u).size>0?(0,r.objectFromMap)(h(this,u)):null}setAll(O){for(const[x,L]of Object.entries(O))this.setValue(x,L)}get size(){return h(this,u).size}resetModified(){h(this,S)&&(ke(this,S,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(h(this,u).size===0)return c;const O=new Map,x=new l.MurmurHash3_64,L=[],V=Object.create(null);let H=!1;for(const[N,w]of h(this,u)){const C=w instanceof o.AnnotationEditor?w.serialize(!1,V):w;C&&(O.set(N,C),x.update(`${N}:${JSON.stringify(C)}`),H||(H=!!C.bitmap))}if(H)for(const N of O.values())N.bitmap&&L.push(N.bitmap);return O.size>0?{map:O,hash:x.hexdigest(),transfers:L}:c}}S=new WeakMap,u=new WeakMap,R=new WeakSet,gc=function(){h(this,S)||(ke(this,S,!0),typeof this.onSetModified=="function"&&this.onSetModified())},n.AnnotationStorage=y;class b extends y{constructor(x){super();re(this,B,void 0);const{map:L,hash:V,transfers:H}=x.serializable,N=structuredClone(L,H?{transfer:H}:null);ke(this,B,{map:N,hash:V,transfers:H})}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,B)}}B=new WeakMap,n.PrintAnnotationStorage=b},(e,n,s)=>{var b,S,u,R,W,B,P,O,x,L,V,H,N,w,C,uo,$,ho,J,fo,ue,po,D,mc,ee,_c,ie,bc,Re,go,Oe,vc;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var r=s(5),o=s(1),l=s(6);const m=class m{constructor(g){re(this,C);re(this,$);re(this,ue);re(this,D);re(this,ee);re(this,ie);re(this,Re);re(this,Oe);re(this,b,"");re(this,S,!1);re(this,u,null);re(this,R,null);re(this,W,null);re(this,B,!1);re(this,P,null);re(this,O,this.focusin.bind(this));re(this,x,this.focusout.bind(this));re(this,L,!1);re(this,V,!1);re(this,H,!1);Nt(this,"_initialOptions",Object.create(null));Nt(this,"_uiManager",null);Nt(this,"_focusEventsAllowed",!0);Nt(this,"_l10nPromise",null);re(this,N,!1);re(this,w,m._zIndex++);this.constructor===m&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=g.parent,this.id=g.id,this.width=this.height=null,this.pageIndex=g.parent.pageIndex,this.name=g.name,this.div=null,this._uiManager=g.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=g.isCentered,this._structTreeParentId=null;const{rotation:T,rawDims:{pageWidth:F,pageHeight:q,pageX:Q,pageY:ae}}=this.parent.viewport;this.rotation=T,this.pageRotation=(360+T-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[F,q],this.pageTranslation=[Q,ae];const[Ce,k]=this.parentDimensions;this.x=g.x/Ce,this.y=g.y/k,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(g){const T=new y({id:g.parent.getNextId(),parent:g.parent,uiManager:g._uiManager});T.annotationElementId=g.annotationElementId,T.deleted=!0,T._uiManager.addToAnnotationStorage(T)}static initialize(g,T=null){if(m._l10nPromise||(m._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(q=>[q,g.get(q)]))),T!=null&&T.strings)for(const q of T.strings)m._l10nPromise.set(q,g.get(q));if(m._borderLineWidth!==-1)return;const F=getComputedStyle(document.documentElement);m._borderLineWidth=parseFloat(F.getPropertyValue("--outline-width"))||0}static updateDefaultParams(g,T){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(g){return!1}static paste(g,T){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,N)}set _isDraggable(g){var T;ke(this,N,g),(T=this.div)==null||T.classList.toggle("draggable",g)}center(){const[g,T]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*T/(g*2),this.y+=this.width*g/(T*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*T/(g*2),this.y-=this.width*g/(T*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(g){this._uiManager.addCommands(g)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,w)}setParent(g){g!==null&&(this.pageIndex=g.pageIndex,this.pageDimensions=g.pageDimensions),this.parent=g}focusin(g){this._focusEventsAllowed&&(h(this,L)?ke(this,L,!1):this.parent.setSelected(this))}focusout(g){var F;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const T=g.relatedTarget;T!=null&&T.closest(`#${this.id}`)||(g.preventDefault(),(F=this.parent)!=null&&F.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(g,T,F,q){const[Q,ae]=this.parentDimensions;[F,q]=this.screenToPageTranslation(F,q),this.x=(g+F)/Q,this.y=(T+q)/ae,this.fixAndSetPosition()}translate(g,T){_e(this,C,uo).call(this,this.parentDimensions,g,T)}translateInPage(g,T){_e(this,C,uo).call(this,this.pageDimensions,g,T),this.div.scrollIntoView({block:"nearest"})}drag(g,T){const[F,q]=this.parentDimensions;if(this.x+=g/F,this.y+=T/q,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:U,y:te}=this.div.getBoundingClientRect();this.parent.findNewParent(this,U,te)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Q,y:ae}=this;const[Ce,k]=_e(this,$,ho).call(this);Q+=Ce,ae+=k,this.div.style.left=`${(100*Q).toFixed(2)}%`,this.div.style.top=`${(100*ae).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[g,T]=this.pageDimensions;let{x:F,y:q,width:Q,height:ae}=this;switch(Q*=g,ae*=T,F*=g,q*=T,this.rotation){case 0:F=Math.max(0,Math.min(g-Q,F)),q=Math.max(0,Math.min(T-ae,q));break;case 90:F=Math.max(0,Math.min(g-ae,F)),q=Math.min(T,Math.max(Q,q));break;case 180:F=Math.min(g,Math.max(Q,F)),q=Math.min(T,Math.max(ae,q));break;case 270:F=Math.min(g,Math.max(ae,F)),q=Math.max(0,Math.min(T-Q,q));break}this.x=F/=g,this.y=q/=T;const[Ce,k]=_e(this,$,ho).call(this);F+=Ce,q+=k;const{style:U}=this.div;U.left=`${(100*F).toFixed(2)}%`,U.top=`${(100*q).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(g,T){var F;return _e(F=m,J,fo).call(F,g,T,this.parentRotation)}pageTranslationToScreen(g,T){var F;return _e(F=m,J,fo).call(F,g,T,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:g,pageDimensions:[T,F]}=this,q=T*g,Q=F*g;return o.FeatureTest.isCSSRoundSupported?[Math.round(q),Math.round(Q)]:[q,Q]}setDims(g,T){var Q;const[F,q]=this.parentDimensions;this.div.style.width=`${(100*g/F).toFixed(2)}%`,h(this,B)||(this.div.style.height=`${(100*T/q).toFixed(2)}%`),(Q=h(this,u))==null||Q.classList.toggle("small",g<m.SMALL_EDITOR_SIZE||T<m.SMALL_EDITOR_SIZE)}fixDims(){const{style:g}=this.div,{height:T,width:F}=g,q=F.endsWith("%"),Q=!h(this,B)&&T.endsWith("%");if(q&&Q)return;const[ae,Ce]=this.parentDimensions;q||(g.width=`${(100*parseFloat(F)/ae).toFixed(2)}%`),!h(this,B)&&!Q&&(g.height=`${(100*parseFloat(T)/Ce).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(h(this,u))return;const g=ke(this,u,document.createElement("button"));g.className="altText";const T=await m._l10nPromise.get("editor_alt_text_button_label");g.textContent=T,g.setAttribute("aria-label",T),g.tabIndex="0",g.addEventListener("contextmenu",l.noContextMenu),g.addEventListener("pointerdown",F=>F.stopPropagation()),g.addEventListener("click",F=>{F.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),g.addEventListener("keydown",F=>{F.target===g&&F.key==="Enter"&&(F.preventDefault(),this._uiManager.editAltText(this))}),_e(this,Re,go).call(this),this.div.append(g),m.SMALL_EDITOR_SIZE||(m.SMALL_EDITOR_SIZE=Math.min(128,Math.round(g.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:h(this,b),decorative:h(this,S)}}set altTextData({altText:g,decorative:T}){h(this,b)===g&&h(this,S)===T||(ke(this,b,g),ke(this,S,T),_e(this,Re,go).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",h(this,O)),this.div.addEventListener("focusout",h(this,x));const[g,T]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*T/g).toFixed(2)}%`,this.div.style.maxHeight=`${(100*g/T).toFixed(2)}%`);const[F,q]=this.getInitialTranslation();return this.translate(F,q),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(g){const{isMac:T}=o.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&T){g.preventDefault();return}ke(this,L,!0),_e(this,Oe,vc).call(this,g)}moveInDOM(){var g;(g=this.parent)==null||g.moveEditorInDOM(this)}_setParentAndPosition(g,T,F){g.changeParent(this),this.x=T,this.y=F,this.fixAndSetPosition()}getRect(g,T){const F=this.parentScale,[q,Q]=this.pageDimensions,[ae,Ce]=this.pageTranslation,k=g/F,U=T/F,te=this.x*q,ye=this.y*Q,le=this.width*q,Te=this.height*Q;switch(this.rotation){case 0:return[te+k+ae,Q-ye-U-Te+Ce,te+k+le+ae,Q-ye-U+Ce];case 90:return[te+U+ae,Q-ye+k+Ce,te+U+Te+ae,Q-ye+k+le+Ce];case 180:return[te-k-le+ae,Q-ye+U+Ce,te-k+ae,Q-ye+U+Te+Ce];case 270:return[te-U-Te+ae,Q-ye-k-le+Ce,te-U+ae,Q-ye-k+Ce];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(g,T){const[F,q,Q,ae]=g,Ce=Q-F,k=ae-q;switch(this.rotation){case 0:return[F,T-ae,Ce,k];case 90:return[F,T-q,k,Ce];case 180:return[Q,T-q,Ce,k];case 270:return[Q,T-ae,k,Ce];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ke(this,H,!0)}disableEditMode(){ke(this,H,!1)}isInEditMode(){return h(this,H)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var g,T;(g=this.div)==null||g.addEventListener("focusin",h(this,O)),(T=this.div)==null||T.addEventListener("focusout",h(this,x))}serialize(g=!1,T=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(g,T,F){const q=new this.prototype.constructor({parent:T,id:T.getNextId(),uiManager:F});q.rotation=g.rotation;const[Q,ae]=q.pageDimensions,[Ce,k,U,te]=q.getRectInCurrentCoords(g.rect,ae);return q.x=Ce/Q,q.y=k/ae,q.width=U/Q,q.height=te/ae,q}remove(){var g;this.div.removeEventListener("focusin",h(this,O)),this.div.removeEventListener("focusout",h(this,x)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(g=h(this,u))==null||g.remove(),ke(this,u,null),ke(this,R,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_e(this,D,mc).call(this),h(this,P).classList.remove("hidden"))}select(){var g;this.makeResizable(),(g=this.div)==null||g.classList.add("selectedEditor")}unselect(){var g,T,F;(g=h(this,P))==null||g.classList.add("hidden"),(T=this.div)==null||T.classList.remove("selectedEditor"),(F=this.div)!=null&&F.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(g,T){}disableEditing(){h(this,u)&&(h(this,u).hidden=!0)}enableEditing(){h(this,u)&&(h(this,u).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return h(this,V)}set isEditing(g){ke(this,V,g),this.parent&&(g?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(g,T){ke(this,B,!0);const F=g/T,{style:q}=this.div;q.aspectRatio=F,q.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,S=new WeakMap,u=new WeakMap,R=new WeakMap,W=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakMap,V=new WeakMap,H=new WeakMap,N=new WeakMap,w=new WeakMap,C=new WeakSet,uo=function([g,T],F,q){[F,q]=this.screenToPageTranslation(F,q),this.x+=F/g,this.y+=q/T,this.fixAndSetPosition()},$=new WeakSet,ho=function(){const[g,T]=this.parentDimensions,{_borderLineWidth:F}=m,q=F/g,Q=F/T;switch(this.rotation){case 90:return[-q,Q];case 180:return[q,Q];case 270:return[q,-Q];default:return[-q,-Q]}},J=new WeakSet,fo=function(g,T,F){switch(F){case 90:return[T,-g];case 180:return[-g,-T];case 270:return[-T,g];default:return[g,T]}},ue=new WeakSet,po=function(g){switch(g){case 90:{const[T,F]=this.pageDimensions;return[0,-T/F,F/T,0]}case 180:return[-1,0,0,-1];case 270:{const[T,F]=this.pageDimensions;return[0,T/F,-F/T,0]}default:return[1,0,0,1]}},D=new WeakSet,mc=function(){if(h(this,P))return;ke(this,P,document.createElement("div")),h(this,P).classList.add("resizers");const g=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||g.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const T of g){const F=document.createElement("div");h(this,P).append(F),F.classList.add("resizer",T),F.addEventListener("pointerdown",_e(this,ee,_c).bind(this,T)),F.addEventListener("contextmenu",l.noContextMenu)}this.div.prepend(h(this,P))},ee=new WeakSet,_c=function(g,T){T.preventDefault();const{isMac:F}=o.FeatureTest.platform;if(T.button!==0||T.ctrlKey&&F)return;const q=_e(this,ie,bc).bind(this,g),Q=this._isDraggable;this._isDraggable=!1;const ae={passive:!0,capture:!0};window.addEventListener("pointermove",q,ae);const Ce=this.x,k=this.y,U=this.width,te=this.height,ye=this.parent.div.style.cursor,le=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(T.target).cursor;const Te=()=>{this._isDraggable=Q,window.removeEventListener("pointerup",Te),window.removeEventListener("blur",Te),window.removeEventListener("pointermove",q,ae),this.parent.div.style.cursor=ye,this.div.style.cursor=le;const Ne=this.x,xe=this.y,Me=this.width,de=this.height;Ne===Ce&&xe===k&&Me===U&&de===te||this.addCommands({cmd:()=>{this.width=Me,this.height=de,this.x=Ne,this.y=xe;const[ce,se]=this.parentDimensions;this.setDims(ce*Me,se*de),this.fixAndSetPosition()},undo:()=>{this.width=U,this.height=te,this.x=Ce,this.y=k;const[ce,se]=this.parentDimensions;this.setDims(ce*U,se*te),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Te),window.addEventListener("blur",Te)},ie=new WeakSet,bc=function(g,T){const[F,q]=this.parentDimensions,Q=this.x,ae=this.y,Ce=this.width,k=this.height,U=m.MIN_SIZE/F,te=m.MIN_SIZE/q,ye=Ue=>Math.round(Ue*1e4)/1e4,le=_e(this,ue,po).call(this,this.rotation),Te=(Ue,Ve)=>[le[0]*Ue+le[2]*Ve,le[1]*Ue+le[3]*Ve],Ne=_e(this,ue,po).call(this,360-this.rotation),xe=(Ue,Ve)=>[Ne[0]*Ue+Ne[2]*Ve,Ne[1]*Ue+Ne[3]*Ve];let Me,de,ce=!1,se=!1;switch(g){case"topLeft":ce=!0,Me=(Ue,Ve)=>[0,0],de=(Ue,Ve)=>[Ue,Ve];break;case"topMiddle":Me=(Ue,Ve)=>[Ue/2,0],de=(Ue,Ve)=>[Ue/2,Ve];break;case"topRight":ce=!0,Me=(Ue,Ve)=>[Ue,0],de=(Ue,Ve)=>[0,Ve];break;case"middleRight":se=!0,Me=(Ue,Ve)=>[Ue,Ve/2],de=(Ue,Ve)=>[0,Ve/2];break;case"bottomRight":ce=!0,Me=(Ue,Ve)=>[Ue,Ve],de=(Ue,Ve)=>[0,0];break;case"bottomMiddle":Me=(Ue,Ve)=>[Ue/2,Ve],de=(Ue,Ve)=>[Ue/2,0];break;case"bottomLeft":ce=!0,Me=(Ue,Ve)=>[0,Ve],de=(Ue,Ve)=>[Ue,0];break;case"middleLeft":se=!0,Me=(Ue,Ve)=>[0,Ve/2],de=(Ue,Ve)=>[Ue,Ve/2];break}const ve=Me(Ce,k),De=de(Ce,k);let Be=Te(...De);const Je=ye(Q+Be[0]),et=ye(ae+Be[1]);let it=1,lt=1,[dt,rt]=this.screenToPageTranslation(T.movementX,T.movementY);if([dt,rt]=xe(dt/F,rt/q),ce){const Ue=Math.hypot(Ce,k);it=lt=Math.max(Math.min(Math.hypot(De[0]-ve[0]-dt,De[1]-ve[1]-rt)/Ue,1/Ce,1/k),U/Ce,te/k)}else se?it=Math.max(U,Math.min(1,Math.abs(De[0]-ve[0]-dt)))/Ce:lt=Math.max(te,Math.min(1,Math.abs(De[1]-ve[1]-rt)))/k;const pt=ye(Ce*it),Ie=ye(k*lt);Be=Te(...de(pt,Ie));const be=Je-Be[0],pe=et-Be[1];this.width=pt,this.height=Ie,this.x=be,this.y=pe,this.setDims(F*pt,q*Ie),this.fixAndSetPosition()},Re=new WeakSet,go=async function(){var F;const g=h(this,u);if(!g)return;if(!h(this,b)&&!h(this,S)){g.classList.remove("done"),(F=h(this,R))==null||F.remove();return}m._l10nPromise.get("editor_alt_text_edit_button_label").then(q=>{g.setAttribute("aria-label",q)});let T=h(this,R);if(!T){ke(this,R,T=document.createElement("span")),T.className="tooltip",T.setAttribute("role","tooltip");const q=T.id=`alt-text-tooltip-${this.id}`;g.setAttribute("aria-describedby",q);const Q=100;g.addEventListener("mouseenter",()=>{ke(this,W,setTimeout(()=>{ke(this,W,null),h(this,R).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Q))}),g.addEventListener("mouseleave",()=>{var ae;clearTimeout(h(this,W)),ke(this,W,null),(ae=h(this,R))==null||ae.classList.remove("show")})}g.classList.add("done"),T.innerText=h(this,S)?await m._l10nPromise.get("editor_alt_text_decorative_tooltip"):h(this,b),T.parentNode||g.append(T)},Oe=new WeakSet,vc=function(g){if(!this._isDraggable)return;const T=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let F,q;T&&(F={passive:!0,capture:!0},q=ae=>{const[Ce,k]=this.screenToPageTranslation(ae.movementX,ae.movementY);this._uiManager.dragSelectedEditors(Ce,k)},window.addEventListener("pointermove",q,F));const Q=()=>{if(window.removeEventListener("pointerup",Q),window.removeEventListener("blur",Q),T&&window.removeEventListener("pointermove",q,F),ke(this,L,!1),!this._uiManager.endDragSession()){const{isMac:ae}=o.FeatureTest.platform;g.ctrlKey&&!ae||g.shiftKey||g.metaKey&&ae?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Q),window.addEventListener("blur",Q)},re(m,J),Nt(m,"_borderLineWidth",-1),Nt(m,"_colorManager",new r.ColorManager),Nt(m,"_zIndex",1),Nt(m,"SMALL_EDITOR_SIZE",0);let c=m;n.AnnotationEditor=c;class y extends c{constructor(g){super(g),this.annotationElementId=g.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,n,s)=>{var B,P,O,x,L,mo,N,w,C,Y,$,yc,j,ue,fe,D,Z,ee,me,ie,ge,Re,Ee,Oe,G,m,A,g,T,F,q,Q,ae,Ce,k,U,te,ye,le,Te,Ne,xe,Me,de,ce,se,ve,Ac,Be,_o,et,bo,lt,Us,rt,vo,Ie,yo,pe,En,Ve,ji,Pt,Sc,Ke,wc,Xe,Ao,ct,zi,We,So;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=l,n.opacityToHex=c;var r=s(1),o=s(6);function l(ne,f,v){for(const I of v)f.addEventListener(I,ne[I].bind(ne))}function c(ne){return Math.round(Math.min(255,Math.max(1,255*ne))).toString(16).padStart(2,"0")}class y{constructor(){re(this,B,0)}getId(){return`${r.AnnotationEditorPrefix}${Vi(this,B)._++}`}}B=new WeakMap;const H=class H{constructor(){re(this,L);re(this,P,(0,r.getUuid)());re(this,O,0);re(this,x,null)}static get _isSVGFittingCanvas(){const f='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',I=new OffscreenCanvas(1,3).getContext("2d"),K=new Image;K.src=f;const oe=K.decode().then(()=>(I.drawImage(K,0,0,1,1,0,0,1,3),new Uint32Array(I.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",oe)}async getFromFile(f){const{lastModified:v,name:I,size:K,type:oe}=f;return _e(this,L,mo).call(this,`${v}_${I}_${K}_${oe}`,f)}async getFromUrl(f){return _e(this,L,mo).call(this,f,f)}async getFromId(f){h(this,x)||ke(this,x,new Map);const v=h(this,x).get(f);return v?v.bitmap?(v.refCounter+=1,v):v.file?this.getFromFile(v.file):this.getFromUrl(v.url):null}getSvgUrl(f){const v=h(this,x).get(f);return v!=null&&v.isSvg?v.svgUrl:null}deleteId(f){h(this,x)||ke(this,x,new Map);const v=h(this,x).get(f);v&&(v.refCounter-=1,v.refCounter===0&&(v.bitmap=null))}isValidId(f){return f.startsWith(`image_${h(this,P)}_`)}};P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakSet,mo=async function(f,v){h(this,x)||ke(this,x,new Map);let I=h(this,x).get(f);if(I===null)return null;if(I!=null&&I.bitmap)return I.refCounter+=1,I;try{I||(I={bitmap:null,id:`image_${h(this,P)}_${Vi(this,O)._++}`,refCounter:0,isSvg:!1});let K;if(typeof v=="string"){I.url=v;const oe=await fetch(v);if(!oe.ok)throw new Error(oe.statusText);K=await oe.blob()}else K=I.file=v;if(K.type==="image/svg+xml"){const oe=H._isSVGFittingCanvas,Se=new FileReader,Le=new Image,je=new Promise((Ge,nt)=>{Le.onload=()=>{I.bitmap=Le,I.isSvg=!0,Ge()},Se.onload=async()=>{const Ze=I.svgUrl=Se.result;Le.src=await oe?`${Ze}#svgView(preserveAspectRatio(none))`:Ze},Le.onerror=Se.onerror=nt});Se.readAsDataURL(K),await je}else I.bitmap=await createImageBitmap(K);I.refCounter=1}catch(K){console.error(K),I=null}return h(this,x).set(f,I),I&&h(this,x).set(I.id,I),I};let b=H;class S{constructor(f=128){re(this,N,[]);re(this,w,!1);re(this,C,void 0);re(this,Y,-1);ke(this,C,f)}add({cmd:f,undo:v,mustExec:I,type:K=NaN,overwriteIfSameType:oe=!1,keepUndo:Se=!1}){if(I&&f(),h(this,w))return;const Le={cmd:f,undo:v,type:K};if(h(this,Y)===-1){h(this,N).length>0&&(h(this,N).length=0),ke(this,Y,0),h(this,N).push(Le);return}if(oe&&h(this,N)[h(this,Y)].type===K){Se&&(Le.undo=h(this,N)[h(this,Y)].undo),h(this,N)[h(this,Y)]=Le;return}const je=h(this,Y)+1;je===h(this,C)?h(this,N).splice(0,1):(ke(this,Y,je),je<h(this,N).length&&h(this,N).splice(je)),h(this,N).push(Le)}undo(){h(this,Y)!==-1&&(ke(this,w,!0),h(this,N)[h(this,Y)].undo(),ke(this,w,!1),ke(this,Y,h(this,Y)-1))}redo(){h(this,Y)<h(this,N).length-1&&(ke(this,Y,h(this,Y)+1),ke(this,w,!0),h(this,N)[h(this,Y)].cmd(),ke(this,w,!1))}hasSomethingToUndo(){return h(this,Y)!==-1}hasSomethingToRedo(){return h(this,Y)<h(this,N).length-1}destroy(){ke(this,N,null)}}N=new WeakMap,w=new WeakMap,C=new WeakMap,Y=new WeakMap,n.CommandManager=S;class u{constructor(f){re(this,$);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:v}=r.FeatureTest.platform;for(const[I,K,oe={}]of f)for(const Se of I){const Le=Se.startsWith("mac+");v&&Le?(this.callbacks.set(Se.slice(4),{callback:K,options:oe}),this.allKeys.add(Se.split("+").at(-1))):!v&&!Le&&(this.callbacks.set(Se,{callback:K,options:oe}),this.allKeys.add(Se.split("+").at(-1)))}}exec(f,v){if(!this.allKeys.has(v.key))return;const I=this.callbacks.get(_e(this,$,yc).call(this,v));if(!I)return;const{callback:K,options:{bubbles:oe=!1,args:Se=[],checker:Le=null}}=I;Le&&!Le(f,v)||(K.bind(f,...Se)(),oe||(v.stopPropagation(),v.preventDefault()))}}$=new WeakSet,yc=function(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);const v=this.buffer.join("+");return this.buffer.length=0,v},n.KeyboardManager=u;const J=class J{get _colors(){const f=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(f),(0,r.shadow)(this,"_colors",f)}convert(f){const v=(0,o.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return v;for(const[I,K]of this._colors)if(K.every((oe,Se)=>oe===v[Se]))return J._colorsMapping.get(I);return v}getHexCode(f){const v=this._colors.get(f);return v?r.Util.makeHexColor(...v):f}};Nt(J,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let R=J;n.ColorManager=R;const st=class st{constructor(f,v,I,K,oe,Se){re(this,ve);re(this,Be);re(this,et);re(this,lt);re(this,rt);re(this,Ie);re(this,pe);re(this,Ve);re(this,Pt);re(this,Ke);re(this,Xe);re(this,ct);re(this,We);re(this,j,null);re(this,ue,new Map);re(this,fe,new Map);re(this,D,null);re(this,Z,null);re(this,ee,new S);re(this,me,0);re(this,ie,new Set);re(this,ge,null);re(this,Re,null);re(this,Ee,new Set);re(this,Oe,null);re(this,G,new y);re(this,m,!1);re(this,A,!1);re(this,g,null);re(this,T,r.AnnotationEditorType.NONE);re(this,F,new Set);re(this,q,null);re(this,Q,this.blur.bind(this));re(this,ae,this.focus.bind(this));re(this,Ce,this.copy.bind(this));re(this,k,this.cut.bind(this));re(this,U,this.paste.bind(this));re(this,te,this.keydown.bind(this));re(this,ye,this.onEditingAction.bind(this));re(this,le,this.onPageChanging.bind(this));re(this,Te,this.onScaleChanging.bind(this));re(this,Ne,this.onRotationChanging.bind(this));re(this,xe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});re(this,Me,[0,0]);re(this,de,null);re(this,ce,null);re(this,se,null);ke(this,ce,f),ke(this,se,v),ke(this,D,I),this._eventBus=K,this._eventBus._on("editingaction",h(this,ye)),this._eventBus._on("pagechanging",h(this,le)),this._eventBus._on("scalechanging",h(this,Te)),this._eventBus._on("rotationchanging",h(this,Ne)),ke(this,Z,oe.annotationStorage),ke(this,Oe,oe.filterFactory),ke(this,q,Se),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const f=st.prototype,v=oe=>{const{activeElement:Se}=document;return Se&&h(oe,ce).contains(Se)&&oe.hasSomethingToControl()},I=this.TRANSLATE_SMALL,K=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],f.selectAll],[["ctrl+z","mac+meta+z"],f.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],f.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],f.delete],[["Escape","mac+Escape"],f.unselectAll],[["ArrowLeft","mac+ArrowLeft"],f.translateSelectedEditors,{args:[-I,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f.translateSelectedEditors,{args:[-K,0],checker:v}],[["ArrowRight","mac+ArrowRight"],f.translateSelectedEditors,{args:[I,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f.translateSelectedEditors,{args:[K,0],checker:v}],[["ArrowUp","mac+ArrowUp"],f.translateSelectedEditors,{args:[0,-I],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f.translateSelectedEditors,{args:[0,-K],checker:v}],[["ArrowDown","mac+ArrowDown"],f.translateSelectedEditors,{args:[0,I],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f.translateSelectedEditors,{args:[0,K],checker:v}]]))}destroy(){_e(this,lt,Us).call(this),_e(this,Be,_o).call(this),this._eventBus._off("editingaction",h(this,ye)),this._eventBus._off("pagechanging",h(this,le)),this._eventBus._off("scalechanging",h(this,Te)),this._eventBus._off("rotationchanging",h(this,Ne));for(const f of h(this,fe).values())f.destroy();h(this,fe).clear(),h(this,ue).clear(),h(this,Ee).clear(),ke(this,j,null),h(this,F).clear(),h(this,ee).destroy(),h(this,D).destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",h(this,q)?h(this,Oe).addHCMFilter(h(this,q).foreground,h(this,q).background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(h(this,ce)).direction)}editAltText(f){var v;(v=h(this,D))==null||v.editAltText(this,f)}onPageChanging({pageNumber:f}){ke(this,me,f-1)}focusMainContainer(){h(this,ce).focus()}findParent(f,v){for(const I of h(this,fe).values()){const{x:K,y:oe,width:Se,height:Le}=I.div.getBoundingClientRect();if(f>=K&&f<=K+Se&&v>=oe&&v<=oe+Le)return I}return null}disableUserSelect(f=!1){h(this,se).classList.toggle("noUserSelect",f)}addShouldRescale(f){h(this,Ee).add(f)}removeShouldRescale(f){h(this,Ee).delete(f)}onScaleChanging({scale:f}){this.commitOrRemove(),this.viewParameters.realScale=f*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const v of h(this,Ee))v.onScaleChanging()}onRotationChanging({pagesRotation:f}){this.commitOrRemove(),this.viewParameters.rotation=f}addToAnnotationStorage(f){!f.isEmpty()&&h(this,Z)&&!h(this,Z).has(f.id)&&h(this,Z).setValue(f.id,f)}blur(){if(!this.hasSelection)return;const{activeElement:f}=document;for(const v of h(this,F))if(v.div.contains(f)){ke(this,g,[v,f]),v._focusEventsAllowed=!1;break}}focus(){if(!h(this,g))return;const[f,v]=h(this,g);ke(this,g,null),v.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),v.focus()}addEditListeners(){_e(this,et,bo).call(this),_e(this,rt,vo).call(this)}removeEditListeners(){_e(this,lt,Us).call(this),_e(this,Ie,yo).call(this)}copy(f){var I;if(f.preventDefault(),(I=h(this,j))==null||I.commitOrRemove(),!this.hasSelection)return;const v=[];for(const K of h(this,F)){const oe=K.serialize(!0);oe&&v.push(oe)}v.length!==0&&f.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(f){this.copy(f),this.delete()}paste(f){f.preventDefault();const{clipboardData:v}=f;for(const oe of v.items)for(const Se of h(this,Re))if(Se.isHandlingMimeForPasting(oe.type)){Se.paste(oe,this.currentLayer);return}let I=v.getData("application/pdfjs");if(!I)return;try{I=JSON.parse(I)}catch(oe){(0,r.warn)(`paste: "${oe.message}".`);return}if(!Array.isArray(I))return;this.unselectAll();const K=this.currentLayer;try{const oe=[];for(const je of I){const Ge=K.deserialize(je);if(!Ge)return;oe.push(Ge)}const Se=()=>{for(const je of oe)_e(this,Xe,Ao).call(this,je);_e(this,We,So).call(this,oe)},Le=()=>{for(const je of oe)je.remove()};this.addCommands({cmd:Se,undo:Le,mustExec:!0})}catch(oe){(0,r.warn)(`paste: "${oe.message}".`)}}keydown(f){var v;(v=this.getActive())!=null&&v.shouldGetKeyboardEvents()||st._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","delete","selectAll"].includes(f.name)&&this[f.name]()}setEditingState(f){f?(_e(this,ve,Ac).call(this),_e(this,et,bo).call(this),_e(this,rt,vo).call(this),_e(this,pe,En).call(this,{isEditing:h(this,T)!==r.AnnotationEditorType.NONE,isEmpty:_e(this,ct,zi).call(this),hasSomethingToUndo:h(this,ee).hasSomethingToUndo(),hasSomethingToRedo:h(this,ee).hasSomethingToRedo(),hasSelectedEditor:!1})):(_e(this,Be,_o).call(this),_e(this,lt,Us).call(this),_e(this,Ie,yo).call(this),_e(this,pe,En).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(f){if(!h(this,Re)){ke(this,Re,f);for(const v of h(this,Re))_e(this,Ve,ji).call(this,v.defaultPropertiesToUpdate)}}getId(){return h(this,G).getId()}get currentLayer(){return h(this,fe).get(h(this,me))}getLayer(f){return h(this,fe).get(f)}get currentPageIndex(){return h(this,me)}addLayer(f){h(this,fe).set(f.pageIndex,f),h(this,m)?f.enable():f.disable()}removeLayer(f){h(this,fe).delete(f.pageIndex)}updateMode(f,v=null){if(h(this,T)!==f){if(ke(this,T,f),f===r.AnnotationEditorType.NONE){this.setEditingState(!1),_e(this,Ke,wc).call(this);return}this.setEditingState(!0),_e(this,Pt,Sc).call(this),this.unselectAll();for(const I of h(this,fe).values())I.updateMode(f);if(v){for(const I of h(this,ue).values())if(I.annotationElementId===v){this.setSelected(I),I.enterInEditMode();break}}}}updateToolbar(f){f!==h(this,T)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,v){if(h(this,Re)){if(f===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(f);return}for(const I of h(this,F))I.updateParams(f,v);for(const I of h(this,Re))I.updateDefaultParams(f,v)}}enableWaiting(f=!1){if(h(this,A)!==f){ke(this,A,f);for(const v of h(this,fe).values())f?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",f)}}getEditors(f){const v=[];for(const I of h(this,ue).values())I.pageIndex===f&&v.push(I);return v}getEditor(f){return h(this,ue).get(f)}addEditor(f){h(this,ue).set(f.id,f)}removeEditor(f){var v;h(this,ue).delete(f.id),this.unselect(f),(!f.annotationElementId||!h(this,ie).has(f.annotationElementId))&&((v=h(this,Z))==null||v.remove(f.id))}addDeletedAnnotationElement(f){h(this,ie).add(f.annotationElementId),f.deleted=!0}isDeletedAnnotationElement(f){return h(this,ie).has(f)}removeDeletedAnnotationElement(f){h(this,ie).delete(f.annotationElementId),f.deleted=!1}setActiveEditor(f){h(this,j)!==f&&(ke(this,j,f),f&&_e(this,Ve,ji).call(this,f.propertiesToUpdate))}toggleSelected(f){if(h(this,F).has(f)){h(this,F).delete(f),f.unselect(),_e(this,pe,En).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,F).add(f),f.select(),_e(this,Ve,ji).call(this,f.propertiesToUpdate),_e(this,pe,En).call(this,{hasSelectedEditor:!0})}setSelected(f){for(const v of h(this,F))v!==f&&v.unselect();h(this,F).clear(),h(this,F).add(f),f.select(),_e(this,Ve,ji).call(this,f.propertiesToUpdate),_e(this,pe,En).call(this,{hasSelectedEditor:!0})}isSelected(f){return h(this,F).has(f)}unselect(f){f.unselect(),h(this,F).delete(f),_e(this,pe,En).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,F).size!==0}undo(){h(this,ee).undo(),_e(this,pe,En).call(this,{hasSomethingToUndo:h(this,ee).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_e(this,ct,zi).call(this)})}redo(){h(this,ee).redo(),_e(this,pe,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,ee).hasSomethingToRedo(),isEmpty:_e(this,ct,zi).call(this)})}addCommands(f){h(this,ee).add(f),_e(this,pe,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_e(this,ct,zi).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const f=[...h(this,F)],v=()=>{for(const K of f)K.remove()},I=()=>{for(const K of f)_e(this,Xe,Ao).call(this,K)};this.addCommands({cmd:v,undo:I,mustExec:!0})}commitOrRemove(){var f;(f=h(this,j))==null||f.commitOrRemove()}hasSomethingToControl(){return h(this,j)||this.hasSelection}selectAll(){for(const f of h(this,F))f.commit();_e(this,We,So).call(this,h(this,ue).values())}unselectAll(){if(h(this,j)){h(this,j).commitOrRemove();return}if(this.hasSelection){for(const f of h(this,F))f.unselect();h(this,F).clear(),_e(this,pe,En).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(f,v,I=!1){if(I||this.commitOrRemove(),!this.hasSelection)return;h(this,Me)[0]+=f,h(this,Me)[1]+=v;const[K,oe]=h(this,Me),Se=[...h(this,F)],Le=1e3;h(this,de)&&clearTimeout(h(this,de)),ke(this,de,setTimeout(()=>{ke(this,de,null),h(this,Me)[0]=h(this,Me)[1]=0,this.addCommands({cmd:()=>{for(const je of Se)h(this,ue).has(je.id)&&je.translateInPage(K,oe)},undo:()=>{for(const je of Se)h(this,ue).has(je.id)&&je.translateInPage(-K,-oe)},mustExec:!1})},Le));for(const je of Se)je.translateInPage(f,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ke(this,ge,new Map);for(const f of h(this,F))h(this,ge).set(f,{savedX:f.x,savedY:f.y,savedPageIndex:f.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,ge))return!1;this.disableUserSelect(!1);const f=h(this,ge);ke(this,ge,null);let v=!1;for(const[{x:K,y:oe,pageIndex:Se},Le]of f)Le.newX=K,Le.newY=oe,Le.newPageIndex=Se,v||(v=K!==Le.savedX||oe!==Le.savedY||Se!==Le.savedPageIndex);if(!v)return!1;const I=(K,oe,Se,Le)=>{if(h(this,ue).has(K.id)){const je=h(this,fe).get(Le);je?K._setParentAndPosition(je,oe,Se):(K.pageIndex=Le,K.x=oe,K.y=Se)}};return this.addCommands({cmd:()=>{for(const[K,{newX:oe,newY:Se,newPageIndex:Le}]of f)I(K,oe,Se,Le)},undo:()=>{for(const[K,{savedX:oe,savedY:Se,savedPageIndex:Le}]of f)I(K,oe,Se,Le)},mustExec:!0}),!0}dragSelectedEditors(f,v){if(h(this,ge))for(const I of h(this,ge).keys())I.drag(f,v)}rebuild(f){if(f.parent===null){const v=this.getLayer(f.pageIndex);v?(v.changeParent(f),v.addOrRebuild(f)):(this.addEditor(f),this.addToAnnotationStorage(f),f.rebuild())}else f.parent.addOrRebuild(f)}isActive(f){return h(this,j)===f}getActive(){return h(this,j)}getMode(){return h(this,T)}get imageManager(){return(0,r.shadow)(this,"imageManager",new b)}};j=new WeakMap,ue=new WeakMap,fe=new WeakMap,D=new WeakMap,Z=new WeakMap,ee=new WeakMap,me=new WeakMap,ie=new WeakMap,ge=new WeakMap,Re=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,G=new WeakMap,m=new WeakMap,A=new WeakMap,g=new WeakMap,T=new WeakMap,F=new WeakMap,q=new WeakMap,Q=new WeakMap,ae=new WeakMap,Ce=new WeakMap,k=new WeakMap,U=new WeakMap,te=new WeakMap,ye=new WeakMap,le=new WeakMap,Te=new WeakMap,Ne=new WeakMap,xe=new WeakMap,Me=new WeakMap,de=new WeakMap,ce=new WeakMap,se=new WeakMap,ve=new WeakSet,Ac=function(){window.addEventListener("focus",h(this,ae)),window.addEventListener("blur",h(this,Q))},Be=new WeakSet,_o=function(){window.removeEventListener("focus",h(this,ae)),window.removeEventListener("blur",h(this,Q))},et=new WeakSet,bo=function(){window.addEventListener("keydown",h(this,te),{capture:!0})},lt=new WeakSet,Us=function(){window.removeEventListener("keydown",h(this,te),{capture:!0})},rt=new WeakSet,vo=function(){document.addEventListener("copy",h(this,Ce)),document.addEventListener("cut",h(this,k)),document.addEventListener("paste",h(this,U))},Ie=new WeakSet,yo=function(){document.removeEventListener("copy",h(this,Ce)),document.removeEventListener("cut",h(this,k)),document.removeEventListener("paste",h(this,U))},pe=new WeakSet,En=function(f){Object.entries(f).some(([I,K])=>h(this,xe)[I]!==K)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,xe),f)})},Ve=new WeakSet,ji=function(f){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:f})},Pt=new WeakSet,Sc=function(){if(!h(this,m)){ke(this,m,!0);for(const f of h(this,fe).values())f.enable()}},Ke=new WeakSet,wc=function(){if(this.unselectAll(),h(this,m)){ke(this,m,!1);for(const f of h(this,fe).values())f.disable()}},Xe=new WeakSet,Ao=function(f){const v=h(this,fe).get(f.pageIndex);v?v.addOrRebuild(f):this.addEditor(f)},ct=new WeakSet,zi=function(){if(h(this,ue).size===0)return!0;if(h(this,ue).size===1)for(const f of h(this,ue).values())return f.isEmpty();return!1},We=new WeakSet,So=function(f){h(this,F).clear();for(const v of f)v.isEmpty()||(h(this,F).add(v),v.select());_e(this,pe,En).call(this,{hasSelectedEditor:!0})},Nt(st,"TRANSLATE_SMALL",1),Nt(st,"TRANSLATE_BIG",10);let W=st;n.AnnotationEditorUIManager=W},(e,n,s)=>{var me,ie,ge,Re,Ee,Oe,G,m,A,g,T,F,Ei,Q,xi,Ce,wo,U,Hs,ye,Ws,Te,qi,xe,Gi;Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMFilterFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.deprecated=Y,n.getColorValues=ue,n.getCurrentTransform=fe,n.getCurrentTransformInverse=D,n.getFilenameFromUrl=L,n.getPdfFilenameFromUrl=V,n.getRGB=j,n.getXfaPageViewport=J,n.isDataScheme=O,n.isPdfFile=x,n.isValidFetchUrl=N,n.loadScript=C,n.noContextMenu=w,n.setLayerDimensions=Z;var r=s(7),o=s(1);const l="http://www.w3.org/2000/svg",ee=class ee{};Nt(ee,"CSS",96),Nt(ee,"PDF",72),Nt(ee,"PDF_TO_CSS_UNITS",ee.CSS/ee.PDF);let c=ee;n.PixelsPerInch=c;class y extends r.BaseFilterFactory{constructor({docId:se,ownerDocument:ve=globalThis.document}={}){super();re(this,F);re(this,Q);re(this,Ce);re(this,U);re(this,ye);re(this,Te);re(this,xe);re(this,me,void 0);re(this,ie,void 0);re(this,ge,void 0);re(this,Re,void 0);re(this,Ee,void 0);re(this,Oe,void 0);re(this,G,void 0);re(this,m,void 0);re(this,A,void 0);re(this,g,void 0);re(this,T,0);ke(this,ge,se),ke(this,Re,ve)}addFilter(se){if(!se)return"none";let ve=h(this,F,Ei).get(se);if(ve)return ve;let De,Be,Je,et;if(se.length===1){const rt=se[0],pt=new Array(256);for(let Ie=0;Ie<256;Ie++)pt[Ie]=rt[Ie]/255;et=De=Be=Je=pt.join(",")}else{const[rt,pt,Ie]=se,be=new Array(256),pe=new Array(256),Ue=new Array(256);for(let Ve=0;Ve<256;Ve++)be[Ve]=rt[Ve]/255,pe[Ve]=pt[Ve]/255,Ue[Ve]=Ie[Ve]/255;De=be.join(","),Be=pe.join(","),Je=Ue.join(","),et=`${De}${Be}${Je}`}if(ve=h(this,F,Ei).get(et),ve)return h(this,F,Ei).set(se,ve),ve;const it=`g_${h(this,ge)}_transfer_map_${Vi(this,T)._++}`,lt=`url(#${it})`;h(this,F,Ei).set(se,lt),h(this,F,Ei).set(et,lt);const dt=_e(this,U,Hs).call(this,it);return _e(this,Te,qi).call(this,De,Be,Je,dt),lt}addHCMFilter(se,ve){var pt;const De=`${se}-${ve}`;if(h(this,Oe)===De)return h(this,G);if(ke(this,Oe,De),ke(this,G,"none"),(pt=h(this,Ee))==null||pt.remove(),!se||!ve)return h(this,G);const Be=_e(this,xe,Gi).call(this,se);se=o.Util.makeHexColor(...Be);const Je=_e(this,xe,Gi).call(this,ve);if(ve=o.Util.makeHexColor(...Je),h(this,Q,xi).style.color="",se==="#000000"&&ve==="#ffffff"||se===ve)return h(this,G);const et=new Array(256);for(let Ie=0;Ie<=255;Ie++){const be=Ie/255;et[Ie]=be<=.03928?be/12.92:((be+.055)/1.055)**2.4}const it=et.join(","),lt=`g_${h(this,ge)}_hcm_filter`,dt=ke(this,m,_e(this,U,Hs).call(this,lt));_e(this,Te,qi).call(this,it,it,it,dt),_e(this,Ce,wo).call(this,dt);const rt=(Ie,be)=>{const pe=Be[Ie]/255,Ue=Je[Ie]/255,Ve=new Array(be+1);for(let Ft=0;Ft<=be;Ft++)Ve[Ft]=pe+Ft/be*(Ue-pe);return Ve.join(",")};return _e(this,Te,qi).call(this,rt(0,5),rt(1,5),rt(2,5),dt),ke(this,G,`url(#${lt})`),h(this,G)}addHighlightHCMFilter(se,ve,De,Be){var Ue;const Je=`${se}-${ve}-${De}-${Be}`;if(h(this,A)===Je)return h(this,g);if(ke(this,A,Je),ke(this,g,"none"),(Ue=h(this,m))==null||Ue.remove(),!se||!ve)return h(this,g);const[et,it]=[se,ve].map(_e(this,xe,Gi).bind(this));let lt=Math.round(.2126*et[0]+.7152*et[1]+.0722*et[2]),dt=Math.round(.2126*it[0]+.7152*it[1]+.0722*it[2]),[rt,pt]=[De,Be].map(_e(this,xe,Gi).bind(this));dt<lt&&([lt,dt,rt,pt]=[dt,lt,pt,rt]),h(this,Q,xi).style.color="";const Ie=(Ve,Ft,Pt)=>{const we=new Array(256),Ke=(dt-lt)/Pt,ot=Ve/255,Xe=(Ft-Ve)/(255*Pt);let at=0;for(let ct=0;ct<=Pt;ct++){const St=Math.round(lt+ct*Ke),We=ot+ct*Xe;for(let bt=at;bt<=St;bt++)we[bt]=We;at=St+1}for(let ct=at;ct<256;ct++)we[ct]=we[at-1];return we.join(",")},be=`g_${h(this,ge)}_hcm_highlight_filter`,pe=ke(this,m,_e(this,U,Hs).call(this,be));return _e(this,Ce,wo).call(this,pe),_e(this,Te,qi).call(this,Ie(rt[0],pt[0],5),Ie(rt[1],pt[1],5),Ie(rt[2],pt[2],5),pe),ke(this,g,`url(#${be})`),h(this,g)}destroy(se=!1){se&&(h(this,G)||h(this,g))||(h(this,ie)&&(h(this,ie).parentNode.parentNode.remove(),ke(this,ie,null)),h(this,me)&&(h(this,me).clear(),ke(this,me,null)),ke(this,T,0))}}me=new WeakMap,ie=new WeakMap,ge=new WeakMap,Re=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,G=new WeakMap,m=new WeakMap,A=new WeakMap,g=new WeakMap,T=new WeakMap,F=new WeakSet,Ei=function(){return h(this,me)||ke(this,me,new Map)},Q=new WeakSet,xi=function(){if(!h(this,ie)){const se=h(this,Re).createElement("div"),{style:ve}=se;ve.visibility="hidden",ve.contain="strict",ve.width=ve.height=0,ve.position="absolute",ve.top=ve.left=0,ve.zIndex=-1;const De=h(this,Re).createElementNS(l,"svg");De.setAttribute("width",0),De.setAttribute("height",0),ke(this,ie,h(this,Re).createElementNS(l,"defs")),se.append(De),De.append(h(this,ie)),h(this,Re).body.append(se)}return h(this,ie)},Ce=new WeakSet,wo=function(se){const ve=h(this,Re).createElementNS(l,"feColorMatrix");ve.setAttribute("type","matrix"),ve.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),se.append(ve)},U=new WeakSet,Hs=function(se){const ve=h(this,Re).createElementNS(l,"filter");return ve.setAttribute("color-interpolation-filters","sRGB"),ve.setAttribute("id",se),h(this,Q,xi).append(ve),ve},ye=new WeakSet,Ws=function(se,ve,De){const Be=h(this,Re).createElementNS(l,ve);Be.setAttribute("type","discrete"),Be.setAttribute("tableValues",De),se.append(Be)},Te=new WeakSet,qi=function(se,ve,De,Be){const Je=h(this,Re).createElementNS(l,"feComponentTransfer");Be.append(Je),_e(this,ye,Ws).call(this,Je,"feFuncR",se),_e(this,ye,Ws).call(this,Je,"feFuncG",ve),_e(this,ye,Ws).call(this,Je,"feFuncB",De)},xe=new WeakSet,Gi=function(se){return h(this,Q,xi).style.color=se,j(getComputedStyle(h(this,Q,xi)).getPropertyValue("color"))},n.DOMFilterFactory=y;class b extends r.BaseCanvasFactory{constructor({ownerDocument:ce=globalThis.document}={}){super(),this._document=ce}_createCanvas(ce,se){const ve=this._document.createElement("canvas");return ve.width=ce,ve.height=se,ve}}n.DOMCanvasFactory=b;async function S(de,ce=!1){if(N(de,document.baseURI)){const se=await fetch(de);if(!se.ok)throw new Error(se.statusText);return ce?new Uint8Array(await se.arrayBuffer()):(0,o.stringToBytes)(await se.text())}return new Promise((se,ve)=>{const De=new XMLHttpRequest;De.open("GET",de,!0),ce&&(De.responseType="arraybuffer"),De.onreadystatechange=()=>{if(De.readyState===XMLHttpRequest.DONE){if(De.status===200||De.status===0){let Be;if(ce&&De.response?Be=new Uint8Array(De.response):!ce&&De.responseText&&(Be=(0,o.stringToBytes)(De.responseText)),Be){se(Be);return}}ve(new Error(De.statusText))}},De.send(null)})}class u extends r.BaseCMapReaderFactory{_fetchData(ce,se){return S(ce,this.isCompressed).then(ve=>({cMapData:ve,compressionType:se}))}}n.DOMCMapReaderFactory=u;class R extends r.BaseStandardFontDataFactory{_fetchData(ce){return S(ce,!0)}}n.DOMStandardFontDataFactory=R;class W extends r.BaseSVGFactory{_createSVG(ce){return document.createElementNS(l,ce)}}n.DOMSVGFactory=W;class B{constructor({viewBox:ce,scale:se,rotation:ve,offsetX:De=0,offsetY:Be=0,dontFlip:Je=!1}){this.viewBox=ce,this.scale=se,this.rotation=ve,this.offsetX=De,this.offsetY=Be;const et=(ce[2]+ce[0])/2,it=(ce[3]+ce[1])/2;let lt,dt,rt,pt;switch(ve%=360,ve<0&&(ve+=360),ve){case 180:lt=-1,dt=0,rt=0,pt=1;break;case 90:lt=0,dt=1,rt=1,pt=0;break;case 270:lt=0,dt=-1,rt=-1,pt=0;break;case 0:lt=1,dt=0,rt=0,pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Je&&(rt=-rt,pt=-pt);let Ie,be,pe,Ue;lt===0?(Ie=Math.abs(it-ce[1])*se+De,be=Math.abs(et-ce[0])*se+Be,pe=(ce[3]-ce[1])*se,Ue=(ce[2]-ce[0])*se):(Ie=Math.abs(et-ce[0])*se+De,be=Math.abs(it-ce[1])*se+Be,pe=(ce[2]-ce[0])*se,Ue=(ce[3]-ce[1])*se),this.transform=[lt*se,dt*se,rt*se,pt*se,Ie-lt*se*et-rt*se*it,be-dt*se*et-pt*se*it],this.width=pe,this.height=Ue}get rawDims(){const{viewBox:ce}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:ce[2]-ce[0],pageHeight:ce[3]-ce[1],pageX:ce[0],pageY:ce[1]})}clone({scale:ce=this.scale,rotation:se=this.rotation,offsetX:ve=this.offsetX,offsetY:De=this.offsetY,dontFlip:Be=!1}={}){return new B({viewBox:this.viewBox.slice(),scale:ce,rotation:se,offsetX:ve,offsetY:De,dontFlip:Be})}convertToViewportPoint(ce,se){return o.Util.applyTransform([ce,se],this.transform)}convertToViewportRectangle(ce){const se=o.Util.applyTransform([ce[0],ce[1]],this.transform),ve=o.Util.applyTransform([ce[2],ce[3]],this.transform);return[se[0],se[1],ve[0],ve[1]]}convertToPdfPoint(ce,se){return o.Util.applyInverseTransform([ce,se],this.transform)}}n.PageViewport=B;class P extends o.BaseException{constructor(ce,se=0){super(ce,"RenderingCancelledException"),this.extraDelay=se}}n.RenderingCancelledException=P;function O(de){const ce=de.length;let se=0;for(;se<ce&&de[se].trim()==="";)se++;return de.substring(se,se+5).toLowerCase()==="data:"}function x(de){return typeof de=="string"&&/\.pdf$/i.test(de)}function L(de,ce=!1){return ce||([de]=de.split(/[#?]/,1)),de.substring(de.lastIndexOf("/")+1)}function V(de,ce="document.pdf"){if(typeof de!="string")return ce;if(O(de))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ce;const se=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ve=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,De=se.exec(de);let Be=ve.exec(De[1])||ve.exec(De[2])||ve.exec(De[3]);if(Be&&(Be=Be[0],Be.includes("%")))try{Be=ve.exec(decodeURIComponent(Be))[0]}catch{}return Be||ce}class H{constructor(){Nt(this,"started",Object.create(null));Nt(this,"times",[])}time(ce){ce in this.started&&(0,o.warn)(`Timer is already running for ${ce}`),this.started[ce]=Date.now()}timeEnd(ce){ce in this.started||(0,o.warn)(`Timer has not been started for ${ce}`),this.times.push({name:ce,start:this.started[ce],end:Date.now()}),delete this.started[ce]}toString(){const ce=[];let se=0;for(const{name:ve}of this.times)se=Math.max(ve.length,se);for(const{name:ve,start:De,end:Be}of this.times)ce.push(`${ve.padEnd(se)} ${Be-De}ms
`);return ce.join("")}}n.StatTimer=H;function N(de,ce){try{const{protocol:se}=ce?new URL(de,ce):new URL(de);return se==="http:"||se==="https:"}catch{return!1}}function w(de){de.preventDefault()}function C(de,ce=!1){return new Promise((se,ve)=>{const De=document.createElement("script");De.src=de,De.onload=function(Be){ce&&De.remove(),se(Be)},De.onerror=function(){ve(new Error(`Cannot load script at: ${De.src}`))},(document.head||document.documentElement).append(De)})}function Y(de){console.log("Deprecated API usage: "+de)}let $;class E{static toDateObject(ce){if(!ce||typeof ce!="string")return null;$||($=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const se=$.exec(ce);if(!se)return null;const ve=parseInt(se[1],10);let De=parseInt(se[2],10);De=De>=1&&De<=12?De-1:0;let Be=parseInt(se[3],10);Be=Be>=1&&Be<=31?Be:1;let Je=parseInt(se[4],10);Je=Je>=0&&Je<=23?Je:0;let et=parseInt(se[5],10);et=et>=0&&et<=59?et:0;let it=parseInt(se[6],10);it=it>=0&&it<=59?it:0;const lt=se[7]||"Z";let dt=parseInt(se[8],10);dt=dt>=0&&dt<=23?dt:0;let rt=parseInt(se[9],10)||0;return rt=rt>=0&&rt<=59?rt:0,lt==="-"?(Je+=dt,et+=rt):lt==="+"&&(Je-=dt,et-=rt),new Date(Date.UTC(ve,De,Be,Je,et,it))}}n.PDFDateString=E;function J(de,{scale:ce=1,rotation:se=0}){const{width:ve,height:De}=de.attributes.style,Be=[0,0,parseInt(ve),parseInt(De)];return new B({viewBox:Be,scale:ce,rotation:se})}function j(de){if(de.startsWith("#")){const ce=parseInt(de.slice(1),16);return[(ce&16711680)>>16,(ce&65280)>>8,ce&255]}return de.startsWith("rgb(")?de.slice(4,-1).split(",").map(ce=>parseInt(ce)):de.startsWith("rgba(")?de.slice(5,-1).split(",").map(ce=>parseInt(ce)).slice(0,3):((0,o.warn)(`Not a valid color format: "${de}"`),[0,0,0])}function ue(de){const ce=document.createElement("span");ce.style.visibility="hidden",document.body.append(ce);for(const se of de.keys()){ce.style.color=se;const ve=window.getComputedStyle(ce).color;de.set(se,j(ve))}ce.remove()}function fe(de){const{a:ce,b:se,c:ve,d:De,e:Be,f:Je}=de.getTransform();return[ce,se,ve,De,Be,Je]}function D(de){const{a:ce,b:se,c:ve,d:De,e:Be,f:Je}=de.getTransform().invertSelf();return[ce,se,ve,De,Be,Je]}function Z(de,ce,se=!1,ve=!0){if(ce instanceof B){const{pageWidth:De,pageHeight:Be}=ce.rawDims,{style:Je}=de,et=o.FeatureTest.isCSSRoundSupported,it=`var(--scale-factor) * ${De}px`,lt=`var(--scale-factor) * ${Be}px`,dt=et?`round(${it}, 1px)`:`calc(${it})`,rt=et?`round(${lt}, 1px)`:`calc(${lt})`;!se||ce.rotation%180===0?(Je.width=dt,Je.height=rt):(Je.width=rt,Je.height=dt)}ve&&de.setAttribute("data-main-rotation",ce.rotation)}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseFilterFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var r=s(1);class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,R){return"none"}addHighlightHCMFilter(u,R,W,B){return"none"}destroy(u=!1){}}n.BaseFilterFactory=o;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,R){if(u<=0||R<=0)throw new Error("Invalid canvas size");const W=this._createCanvas(u,R);return{canvas:W,context:W.getContext("2d")}}reset(u,R,W){if(!u.canvas)throw new Error("Canvas is not specified");if(R<=0||W<=0)throw new Error("Invalid canvas size");u.canvas.width=R,u.canvas.height=W}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,R){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=l;class c{constructor({baseUrl:u=null,isCompressed:R=!0}){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=R}async fetch({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const R=this.baseUrl+u+(this.isCompressed?".bcmap":""),W=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(R,W).catch(B=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${R}`)})}_fetchData(u,R){(0,r.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=c;class y{constructor({baseUrl:u=null}){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}async fetch({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const R=`${this.baseUrl}${u}`;return this._fetchData(R).catch(W=>{throw new Error(`Unable to load font data at: ${R}`)})}_fetchData(u){(0,r.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=y;class b{constructor(){this.constructor===b&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,R,W=!1){if(u<=0||R<=0)throw new Error("Invalid SVG dimensions");const B=this._createSVG("svg:svg");return B.setAttribute("version","1.1"),W||(B.setAttribute("width",`${u}px`),B.setAttribute("height",`${R}px`)),B.setAttribute("preserveAspectRatio","none"),B.setAttribute("viewBox",`0 0 ${u} ${R}`),B}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,r.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=b},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var r=s(1);const o=3285377520,l=4294901760,c=65535;class y{constructor(S){this.h1=S?S&4294967295:o,this.h2=S?S&4294967295:o}update(S){let u,R;if(typeof S=="string"){u=new Uint8Array(S.length*2),R=0;for(let Y=0,$=S.length;Y<$;Y++){const E=S.charCodeAt(Y);E<=255?u[R++]=E:(u[R++]=E>>>8,u[R++]=E&255)}}else if((0,r.isArrayBuffer)(S))u=S.slice(),R=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const W=R>>2,B=R-W*4,P=new Uint32Array(u.buffer,0,W);let O=0,x=0,L=this.h1,V=this.h2;const H=3432918353,N=461845907,w=H&c,C=N&c;for(let Y=0;Y<W;Y++)Y&1?(O=P[Y],O=O*H&l|O*w&c,O=O<<15|O>>>17,O=O*N&l|O*C&c,L^=O,L=L<<13|L>>>19,L=L*5+3864292196):(x=P[Y],x=x*H&l|x*w&c,x=x<<15|x>>>17,x=x*N&l|x*C&c,V^=x,V=V<<13|V>>>19,V=V*5+3864292196);switch(O=0,B){case 3:O^=u[W*4+2]<<16;case 2:O^=u[W*4+1]<<8;case 1:O^=u[W*4],O=O*H&l|O*w&c,O=O<<15|O>>>17,O=O*N&l|O*C&c,W&1?L^=O:V^=O}this.h1=L,this.h2=V}hexdigest(){let S=this.h1,u=this.h2;return S^=u>>>1,S=S*3981806797&l|S*36045&c,u=u*4283543511&l|((u<<16|S>>>16)*2950163797&l)>>>16,S^=u>>>1,S=S*444984403&l|S*60499&c,u=u*3301882366&l|((u<<16|S>>>16)*3120437893&l)>>>16,S^=u>>>1,(S>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}n.MurmurHash3_64=y},(e,n,s)=>{var c;Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var r=s(1);class o{constructor({ownerDocument:b=globalThis.document,styleElement:S=null}){re(this,c,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const S=this.styleElement.sheet;S.insertRule(b,S.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),h(this,c).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||h(this,c).has(b.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:S,src:u,style:R}=b,W=new FontFace(S,u,R);this.addNativeFontFace(W);try{await W.load(),h(this,c).add(S)}catch{(0,r.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(W)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const u=b.createNativeFontFace();if(u){this.addNativeFontFace(u);try{await u.loaded}catch(R){throw(0,r.warn)(`Failed to load font '${u.family}': '${R}'.`),b.disableFontFace=!0,R}}return}const S=b.createFontFaceRule();if(S){if(this.insertRule(S),this.isSyncFontLoadingSupported)return;await new Promise(u=>{const R=this._queueLoadingCallback(u);this._prepareFontLoadEvent(b,R)})}}get isFontLoadingAPISupported(){var S;const b=!!((S=this._document)!=null&&S.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function S(){for((0,r.assert)(!R.done,"completeRequest() cannot be called twice."),R.done=!0;u.length>0&&u[0].done;){const W=u.shift();setTimeout(W.callback,0)}}const{loadingRequests:u}=this,R={done:!1,complete:S,callback:b};return u.push(R),R}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,S){function u(j,ue){return j.charCodeAt(ue)<<24|j.charCodeAt(ue+1)<<16|j.charCodeAt(ue+2)<<8|j.charCodeAt(ue+3)&255}function R(j,ue,fe,D){const Z=j.substring(0,ue),ee=j.substring(ue+fe);return Z+D+ee}let W,B;const P=this._document.createElement("canvas");P.width=1,P.height=1;const O=P.getContext("2d");let x=0;function L(j,ue){if(++x>30){(0,r.warn)("Load test font never loaded."),ue();return}if(O.font="30px "+j,O.fillText(".",0,20),O.getImageData(0,0,1,1).data[3]>0){ue();return}setTimeout(L.bind(null,j,ue))}const V=`lt${Date.now()}${this.loadTestFontId++}`;let H=this._loadTestFont;H=R(H,976,V.length,V);const w=16,C=1482184792;let Y=u(H,w);for(W=0,B=V.length-3;W<B;W+=4)Y=Y-C+u(V,W)|0;W<V.length&&(Y=Y-C+u(V+"XXX",W)|0),H=R(H,w,4,(0,r.string32)(Y));const $=`url(data:font/opentype;base64,${btoa(H)});`,E=`@font-face {font-family:"${V}";src:${$}}`;this.insertRule(E);const J=this._document.createElement("div");J.style.visibility="hidden",J.style.width=J.style.height="10px",J.style.position="absolute",J.style.top=J.style.left="0px";for(const j of[b.loadedName,V]){const ue=this._document.createElement("span");ue.textContent="Hi",ue.style.fontFamily=j,J.append(ue)}this._document.body.append(J),L(V,()=>{J.remove(),S.complete()})}}c=new WeakMap,n.FontLoader=o;class l{constructor(b,{isEvalSupported:S=!0,disableFontFace:u=!1,ignoreErrors:R=!1,inspectFont:W=null}){this.compiledGlyphs=Object.create(null);for(const B in b)this[B]=b[B];this.isEvalSupported=S!==!1,this.disableFontFace=u===!0,this.ignoreErrors=R===!0,this._inspectFont=W}createNativeFontFace(){var S;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}return(S=this._inspectFont)==null||S.call(this,this),b}createFontFaceRule(){var R;if(!this.data||this.disableFontFace)return null;const b=(0,r.bytesToString)(this.data),S=`url(data:${this.mimetype};base64,${btoa(b)});`;let u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${S}}`;else{let W=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(W+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${W}src:${S}}`}return(R=this._inspectFont)==null||R.call(this,this,S),u}getPathGenerator(b,S){if(this.compiledGlyphs[S]!==void 0)return this.compiledGlyphs[S];let u;try{u=b.get(this.loadedName+"_path_"+S)}catch(R){if(!this.ignoreErrors)throw R;return(0,r.warn)(`getPathGenerator - ignoring character: "${R}".`),this.compiledGlyphs[S]=function(W,B){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const R=[];for(const W of u){const B=W.args!==void 0?W.args.join(","):"";R.push("c.",W.cmd,"(",B,`);
`)}return this.compiledGlyphs[S]=new Function("c","size",R.join(""))}return this.compiledGlyphs[S]=function(R,W){for(const B of u)B.cmd==="scale"&&(B.args=[W,-W]),R[B.cmd].apply(R,B.args)}}}n.FontFaceObject=l},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeFilterFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var r=s(7);s(1);const o=function(S){return new Promise((u,R)=>{require$$5.readFile(S,(B,P)=>{if(B||!P){R(new Error(B));return}u(new Uint8Array(P))})})};class l extends r.BaseFilterFactory{}n.NodeFilterFactory=l;class c extends r.BaseCanvasFactory{_createCanvas(u,R){return require$$5.createCanvas(u,R)}}n.NodeCanvasFactory=c;class y extends r.BaseCMapReaderFactory{_fetchData(u,R){return o(u).then(W=>({cMapData:W,compressionType:R}))}}n.NodeCMapReaderFactory=y;class b extends r.BaseStandardFontDataFactory{_fetchData(u){return o(u)}}n.NodeStandardFontDataFactory=b},(e,n,s)=>{var ie,Eo,Re,xo;Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var r=s(1),o=s(6),l=s(12),c=s(13);const y=16,b=100,S=4096,u=15,R=10,W=1e3,B=16;function P(G,m){if(G._removeMirroring)throw new Error("Context is already forwarding operations.");G.__originalSave=G.save,G.__originalRestore=G.restore,G.__originalRotate=G.rotate,G.__originalScale=G.scale,G.__originalTranslate=G.translate,G.__originalTransform=G.transform,G.__originalSetTransform=G.setTransform,G.__originalResetTransform=G.resetTransform,G.__originalClip=G.clip,G.__originalMoveTo=G.moveTo,G.__originalLineTo=G.lineTo,G.__originalBezierCurveTo=G.bezierCurveTo,G.__originalRect=G.rect,G.__originalClosePath=G.closePath,G.__originalBeginPath=G.beginPath,G._removeMirroring=()=>{G.save=G.__originalSave,G.restore=G.__originalRestore,G.rotate=G.__originalRotate,G.scale=G.__originalScale,G.translate=G.__originalTranslate,G.transform=G.__originalTransform,G.setTransform=G.__originalSetTransform,G.resetTransform=G.__originalResetTransform,G.clip=G.__originalClip,G.moveTo=G.__originalMoveTo,G.lineTo=G.__originalLineTo,G.bezierCurveTo=G.__originalBezierCurveTo,G.rect=G.__originalRect,G.closePath=G.__originalClosePath,G.beginPath=G.__originalBeginPath,delete G._removeMirroring},G.save=function(){m.save(),this.__originalSave()},G.restore=function(){m.restore(),this.__originalRestore()},G.translate=function(g,T){m.translate(g,T),this.__originalTranslate(g,T)},G.scale=function(g,T){m.scale(g,T),this.__originalScale(g,T)},G.transform=function(g,T,F,q,Q,ae){m.transform(g,T,F,q,Q,ae),this.__originalTransform(g,T,F,q,Q,ae)},G.setTransform=function(g,T,F,q,Q,ae){m.setTransform(g,T,F,q,Q,ae),this.__originalSetTransform(g,T,F,q,Q,ae)},G.resetTransform=function(){m.resetTransform(),this.__originalResetTransform()},G.rotate=function(g){m.rotate(g),this.__originalRotate(g)},G.clip=function(g){m.clip(g),this.__originalClip(g)},G.moveTo=function(A,g){m.moveTo(A,g),this.__originalMoveTo(A,g)},G.lineTo=function(A,g){m.lineTo(A,g),this.__originalLineTo(A,g)},G.bezierCurveTo=function(A,g,T,F,q,Q){m.bezierCurveTo(A,g,T,F,q,Q),this.__originalBezierCurveTo(A,g,T,F,q,Q)},G.rect=function(A,g,T,F){m.rect(A,g,T,F),this.__originalRect(A,g,T,F)},G.closePath=function(){m.closePath(),this.__originalClosePath()},G.beginPath=function(){m.beginPath(),this.__originalBeginPath()}}class O{constructor(m){this.canvasFactory=m,this.cache=Object.create(null)}getCanvas(m,A,g){let T;return this.cache[m]!==void 0?(T=this.cache[m],this.canvasFactory.reset(T,A,g)):(T=this.canvasFactory.create(A,g),this.cache[m]=T),T}delete(m){delete this.cache[m]}clear(){for(const m in this.cache){const A=this.cache[m];this.canvasFactory.destroy(A),delete this.cache[m]}}}function x(G,m,A,g,T,F,q,Q,ae,Ce){const[k,U,te,ye,le,Te]=(0,o.getCurrentTransform)(G);if(U===0&&te===0){const Me=q*k+le,de=Math.round(Me),ce=Q*ye+Te,se=Math.round(ce),ve=(q+ae)*k+le,De=Math.abs(Math.round(ve)-de)||1,Be=(Q+Ce)*ye+Te,Je=Math.abs(Math.round(Be)-se)||1;return G.setTransform(Math.sign(k),0,0,Math.sign(ye),de,se),G.drawImage(m,A,g,T,F,0,0,De,Je),G.setTransform(k,U,te,ye,le,Te),[De,Je]}if(k===0&&ye===0){const Me=Q*te+le,de=Math.round(Me),ce=q*U+Te,se=Math.round(ce),ve=(Q+Ce)*te+le,De=Math.abs(Math.round(ve)-de)||1,Be=(q+ae)*U+Te,Je=Math.abs(Math.round(Be)-se)||1;return G.setTransform(0,Math.sign(U),Math.sign(te),0,de,se),G.drawImage(m,A,g,T,F,0,0,Je,De),G.setTransform(k,U,te,ye,le,Te),[Je,De]}G.drawImage(m,A,g,T,F,q,Q,ae,Ce);const Ne=Math.hypot(k,U),xe=Math.hypot(te,ye);return[Ne*ae,xe*Ce]}function L(G){const{width:m,height:A}=G;if(m>W||A>W)return null;const g=1e3,T=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),F=m+1;let q=new Uint8Array(F*(A+1)),Q,ae,Ce;const k=m+7&-8;let U=new Uint8Array(k*A),te=0;for(const xe of G.data){let Me=128;for(;Me>0;)U[te++]=xe&Me?0:255,Me>>=1}let ye=0;for(te=0,U[te]!==0&&(q[0]=1,++ye),ae=1;ae<m;ae++)U[te]!==U[te+1]&&(q[ae]=U[te]?2:1,++ye),te++;for(U[te]!==0&&(q[ae]=2,++ye),Q=1;Q<A;Q++){te=Q*k,Ce=Q*F,U[te-k]!==U[te]&&(q[Ce]=U[te]?1:8,++ye);let xe=(U[te]?4:0)+(U[te-k]?8:0);for(ae=1;ae<m;ae++)xe=(xe>>2)+(U[te+1]?4:0)+(U[te-k+1]?8:0),T[xe]&&(q[Ce+ae]=T[xe],++ye),te++;if(U[te-k]!==U[te]&&(q[Ce+ae]=U[te]?2:4,++ye),ye>g)return null}for(te=k*(A-1),Ce=Q*F,U[te]!==0&&(q[Ce]=8,++ye),ae=1;ae<m;ae++)U[te]!==U[te+1]&&(q[Ce+ae]=U[te]?4:8,++ye),te++;if(U[te]!==0&&(q[Ce+ae]=4,++ye),ye>g)return null;const le=new Int32Array([0,F,-1,0,-F,0,0,0,1]),Te=new Path2D;for(Q=0;ye&&Q<=A;Q++){let xe=Q*F;const Me=xe+m;for(;xe<Me&&!q[xe];)xe++;if(xe===Me)continue;Te.moveTo(xe%F,Q);const de=xe;let ce=q[xe];do{const se=le[ce];do xe+=se;while(!q[xe]);const ve=q[xe];ve!==5&&ve!==10?(ce=ve,q[xe]=0):(ce=ve&51*ce>>4,q[xe]&=ce>>2|ce<<2),Te.lineTo(xe%F,xe/F|0),q[xe]||--ye}while(de!==xe);--Q}return U=null,q=null,function(xe){xe.save(),xe.scale(1/m,-1/A),xe.translate(0,-A),xe.fill(Te),xe.beginPath(),xe.restore()}}class V{constructor(m,A){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,m,A])}clone(){const m=Object.create(this);return m.clipBox=this.clipBox.slice(),m}setCurrentPoint(m,A){this.x=m,this.y=A}updatePathMinMax(m,A,g){[A,g]=r.Util.applyTransform([A,g],m),this.minX=Math.min(this.minX,A),this.minY=Math.min(this.minY,g),this.maxX=Math.max(this.maxX,A),this.maxY=Math.max(this.maxY,g)}updateRectMinMax(m,A){const g=r.Util.applyTransform(A,m),T=r.Util.applyTransform(A.slice(2),m);this.minX=Math.min(this.minX,g[0],T[0]),this.minY=Math.min(this.minY,g[1],T[1]),this.maxX=Math.max(this.maxX,g[0],T[0]),this.maxY=Math.max(this.maxY,g[1],T[1])}updateScalingPathMinMax(m,A){r.Util.scaleMinMax(m,A),this.minX=Math.min(this.minX,A[0]),this.maxX=Math.max(this.maxX,A[1]),this.minY=Math.min(this.minY,A[2]),this.maxY=Math.max(this.maxY,A[3])}updateCurvePathMinMax(m,A,g,T,F,q,Q,ae,Ce,k){const U=r.Util.bezierBoundingBox(A,g,T,F,q,Q,ae,Ce);if(k){k[0]=Math.min(k[0],U[0],U[2]),k[1]=Math.max(k[1],U[0],U[2]),k[2]=Math.min(k[2],U[1],U[3]),k[3]=Math.max(k[3],U[1],U[3]);return}this.updateRectMinMax(m,U)}getPathBoundingBox(m=l.PathType.FILL,A=null){const g=[this.minX,this.minY,this.maxX,this.maxY];if(m===l.PathType.STROKE){A||(0,r.unreachable)("Stroke bounding box must include transform.");const T=r.Util.singularValueDecompose2dScale(A),F=T[0]*this.lineWidth/2,q=T[1]*this.lineWidth/2;g[0]-=F,g[1]-=q,g[2]+=F,g[3]+=q}return g}updateClipFromPath(){const m=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(m||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(m){this.clipBox=m,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(m=l.PathType.FILL,A=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(m,A))}}function H(G,m){if(typeof ImageData<"u"&&m instanceof ImageData){G.putImageData(m,0,0);return}const A=m.height,g=m.width,T=A%B,F=(A-T)/B,q=T===0?F:F+1,Q=G.createImageData(g,B);let ae=0,Ce;const k=m.data,U=Q.data;let te,ye,le,Te;if(m.kind===r.ImageKind.GRAYSCALE_1BPP){const Ne=k.byteLength,xe=new Uint32Array(U.buffer,0,U.byteLength>>2),Me=xe.length,de=g+7>>3,ce=4294967295,se=r.FeatureTest.isLittleEndian?4278190080:255;for(te=0;te<q;te++){for(le=te<F?B:T,Ce=0,ye=0;ye<le;ye++){const ve=Ne-ae;let De=0;const Be=ve>de?g:ve*8-7,Je=Be&-8;let et=0,it=0;for(;De<Je;De+=8)it=k[ae++],xe[Ce++]=it&128?ce:se,xe[Ce++]=it&64?ce:se,xe[Ce++]=it&32?ce:se,xe[Ce++]=it&16?ce:se,xe[Ce++]=it&8?ce:se,xe[Ce++]=it&4?ce:se,xe[Ce++]=it&2?ce:se,xe[Ce++]=it&1?ce:se;for(;De<Be;De++)et===0&&(it=k[ae++],et=128),xe[Ce++]=it&et?ce:se,et>>=1}for(;Ce<Me;)xe[Ce++]=0;G.putImageData(Q,0,te*B)}}else if(m.kind===r.ImageKind.RGBA_32BPP){for(ye=0,Te=g*B*4,te=0;te<F;te++)U.set(k.subarray(ae,ae+Te)),ae+=Te,G.putImageData(Q,0,ye),ye+=B;te<q&&(Te=g*T*4,U.set(k.subarray(ae,ae+Te)),G.putImageData(Q,0,ye))}else if(m.kind===r.ImageKind.RGB_24BPP)for(le=B,Te=g*le,te=0;te<q;te++){for(te>=F&&(le=T,Te=g*le),Ce=0,ye=Te;ye--;)U[Ce++]=k[ae++],U[Ce++]=k[ae++],U[Ce++]=k[ae++],U[Ce++]=255;G.putImageData(Q,0,te*B)}else throw new Error(`bad image kind: ${m.kind}`)}function N(G,m){if(m.bitmap){G.drawImage(m.bitmap,0,0);return}const A=m.height,g=m.width,T=A%B,F=(A-T)/B,q=T===0?F:F+1,Q=G.createImageData(g,B);let ae=0;const Ce=m.data,k=Q.data;for(let U=0;U<q;U++){const te=U<F?B:T;({srcPos:ae}=(0,c.convertBlackAndWhiteToRGBA)({src:Ce,srcPos:ae,dest:k,width:g,height:te,nonBlackColor:0})),G.putImageData(Q,0,U*B)}}function w(G,m){const A=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const g of A)G[g]!==void 0&&(m[g]=G[g]);G.setLineDash!==void 0&&(m.setLineDash(G.getLineDash()),m.lineDashOffset=G.lineDashOffset)}function C(G){if(G.strokeStyle=G.fillStyle="#000000",G.fillRule="nonzero",G.globalAlpha=1,G.lineWidth=1,G.lineCap="butt",G.lineJoin="miter",G.miterLimit=10,G.globalCompositeOperation="source-over",G.font="10px sans-serif",G.setLineDash!==void 0&&(G.setLineDash([]),G.lineDashOffset=0),!r.isNodeJS){const{filter:m}=G;m!=="none"&&m!==""&&(G.filter="none")}}function Y(G,m,A,g){const T=G.length;for(let F=3;F<T;F+=4){const q=G[F];if(q===0)G[F-3]=m,G[F-2]=A,G[F-1]=g;else if(q<255){const Q=255-q;G[F-3]=G[F-3]*q+m*Q>>8,G[F-2]=G[F-2]*q+A*Q>>8,G[F-1]=G[F-1]*q+g*Q>>8}}}function $(G,m,A){const g=G.length,T=1/255;for(let F=3;F<g;F+=4){const q=A?A[G[F]]:G[F];m[F]=m[F]*q*T|0}}function E(G,m,A){const g=G.length;for(let T=3;T<g;T+=4){const F=G[T-3]*77+G[T-2]*152+G[T-1]*28;m[T]=A?m[T]*A[F>>8]>>8:m[T]*F>>16}}function J(G,m,A,g,T,F,q,Q,ae,Ce,k){const U=!!F,te=U?F[0]:0,ye=U?F[1]:0,le=U?F[2]:0,Te=T==="Luminosity"?E:$,xe=Math.min(g,Math.ceil(1048576/A));for(let Me=0;Me<g;Me+=xe){const de=Math.min(xe,g-Me),ce=G.getImageData(Q-Ce,Me+(ae-k),A,de),se=m.getImageData(Q,Me+ae,A,de);U&&Y(ce.data,te,ye,le),Te(ce.data,se.data,q),m.putImageData(se,Q,Me+ae)}}function j(G,m,A,g){const T=g[0],F=g[1],q=g[2]-T,Q=g[3]-F;q===0||Q===0||(J(m.context,A,q,Q,m.subtype,m.backdrop,m.transferMap,T,F,m.offsetX,m.offsetY),G.save(),G.globalAlpha=1,G.globalCompositeOperation="source-over",G.setTransform(1,0,0,1,0,0),G.drawImage(A.canvas,0,0),G.restore())}function ue(G,m){const A=r.Util.singularValueDecompose2dScale(G);A[0]=Math.fround(A[0]),A[1]=Math.fround(A[1]);const g=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return m!==void 0?m:A[0]<=g||A[1]<=g}const fe=["butt","round","square"],D=["miter","round","bevel"],Z={},ee={},Oe=class Oe{constructor(m,A,g,T,F,{optionalContentConfig:q,markedContentStack:Q=null},ae,Ce){re(this,ie);re(this,Re);this.ctx=m,this.current=new V(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=A,this.objs=g,this.canvasFactory=T,this.filterFactory=F,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Q||[],this.optionalContentConfig=q,this.cachedCanvases=new O(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ae,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ce,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(m,A=null){return typeof m=="string"?m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m):A}beginDrawing({transform:m,viewport:A,transparency:g=!1,background:T=null}){const F=this.ctx.canvas.width,q=this.ctx.canvas.height,Q=this.ctx.fillStyle;if(this.ctx.fillStyle=T||"#ffffff",this.ctx.fillRect(0,0,F,q),this.ctx.fillStyle=Q,g){const ae=this.cachedCanvases.getCanvas("transparent",F,q);this.compositeCtx=this.ctx,this.transparentCanvas=ae.canvas,this.ctx=ae.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx),m&&(this.ctx.transform(...m),this.outputScaleX=m[0],this.outputScaleY=m[0]),this.ctx.transform(...A.transform),this.viewportScale=A.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(m,A,g,T){const F=m.argsArray,q=m.fnArray;let Q=A||0;const ae=F.length;if(ae===Q)return Q;const Ce=ae-Q>R&&typeof g=="function",k=Ce?Date.now()+u:0;let U=0;const te=this.commonObjs,ye=this.objs;let le;for(;;){if(T!==void 0&&Q===T.nextBreakPoint)return T.breakIt(Q,g),Q;if(le=q[Q],le!==r.OPS.dependency)this[le].apply(this,F[Q]);else for(const Te of F[Q]){const Ne=Te.startsWith("g_")?te:ye;if(!Ne.has(Te))return Ne.get(Te,g),Q}if(Q++,Q===ae)return Q;if(Ce&&++U>R){if(Date.now()>k)return g(),Q;U=0}}}endDrawing(){_e(this,ie,Eo).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const m of this._cachedBitmapsMap.values()){for(const A of m.values())typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement&&(A.width=A.height=0);m.clear()}this._cachedBitmapsMap.clear(),_e(this,Re,xo).call(this)}_scaleImage(m,A){const g=m.width,T=m.height;let F=Math.max(Math.hypot(A[0],A[1]),1),q=Math.max(Math.hypot(A[2],A[3]),1),Q=g,ae=T,Ce="prescale1",k,U;for(;F>2&&Q>1||q>2&&ae>1;){let te=Q,ye=ae;F>2&&Q>1&&(te=Q>=16384?Math.floor(Q/2)-1||1:Math.ceil(Q/2),F/=Q/te),q>2&&ae>1&&(ye=ae>=16384?Math.floor(ae/2)-1||1:Math.ceil(ae)/2,q/=ae/ye),k=this.cachedCanvases.getCanvas(Ce,te,ye),U=k.context,U.clearRect(0,0,te,ye),U.drawImage(m,0,0,Q,ae,0,0,te,ye),m=k.canvas,Q=te,ae=ye,Ce=Ce==="prescale1"?"prescale2":"prescale1"}return{img:m,paintWidth:Q,paintHeight:ae}}_createMaskCanvas(m){const A=this.ctx,{width:g,height:T}=m,F=this.current.fillColor,q=this.current.patternFill,Q=(0,o.getCurrentTransform)(A);let ae,Ce,k,U;if((m.bitmap||m.data)&&m.count>1){const De=m.bitmap||m.data.buffer;Ce=JSON.stringify(q?Q:[Q.slice(0,4),F]),ae=this._cachedBitmapsMap.get(De),ae||(ae=new Map,this._cachedBitmapsMap.set(De,ae));const Be=ae.get(Ce);if(Be&&!q){const Je=Math.round(Math.min(Q[0],Q[2])+Q[4]),et=Math.round(Math.min(Q[1],Q[3])+Q[5]);return{canvas:Be,offsetX:Je,offsetY:et}}k=Be}k||(U=this.cachedCanvases.getCanvas("maskCanvas",g,T),N(U.context,m));let te=r.Util.transform(Q,[1/g,0,0,-1/T,0,0]);te=r.Util.transform(te,[1,0,0,1,0,-T]);const ye=r.Util.applyTransform([0,0],te),le=r.Util.applyTransform([g,T],te),Te=r.Util.normalizeRect([ye[0],ye[1],le[0],le[1]]),Ne=Math.round(Te[2]-Te[0])||1,xe=Math.round(Te[3]-Te[1])||1,Me=this.cachedCanvases.getCanvas("fillCanvas",Ne,xe),de=Me.context,ce=Math.min(ye[0],le[0]),se=Math.min(ye[1],le[1]);de.translate(-ce,-se),de.transform(...te),k||(k=this._scaleImage(U.canvas,(0,o.getCurrentTransformInverse)(de)),k=k.img,ae&&q&&ae.set(Ce,k)),de.imageSmoothingEnabled=ue((0,o.getCurrentTransform)(de),m.interpolate),x(de,k,0,0,k.width,k.height,0,0,g,T),de.globalCompositeOperation="source-in";const ve=r.Util.transform((0,o.getCurrentTransformInverse)(de),[1,0,0,1,-ce,-se]);return de.fillStyle=q?F.getPattern(A,this,ve,l.PathType.FILL):F,de.fillRect(0,0,g,T),ae&&!q&&(this.cachedCanvases.delete("fillCanvas"),ae.set(Ce,Me.canvas)),{canvas:Me.canvas,offsetX:Math.round(ce),offsetY:Math.round(se)}}setLineWidth(m){m!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=m,this.ctx.lineWidth=m}setLineCap(m){this.ctx.lineCap=fe[m]}setLineJoin(m){this.ctx.lineJoin=D[m]}setMiterLimit(m){this.ctx.miterLimit=m}setDash(m,A){const g=this.ctx;g.setLineDash!==void 0&&(g.setLineDash(m),g.lineDashOffset=A)}setRenderingIntent(m){}setFlatness(m){}setGState(m){for(const[A,g]of m)switch(A){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g[0],g[1]);break;case"CA":this.current.strokeAlpha=g;break;case"ca":this.current.fillAlpha=g,this.ctx.globalAlpha=g;break;case"BM":this.ctx.globalCompositeOperation=g;break;case"SMask":this.current.activeSMask=g?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(g);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const m=this.inSMaskMode;this.current.activeSMask&&!m?this.beginSMaskMode():!this.current.activeSMask&&m&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const m=this.ctx.canvas.width,A=this.ctx.canvas.height,g="smaskGroupAt"+this.groupLevel,T=this.cachedCanvases.getCanvas(g,m,A);this.suspendedCtx=this.ctx,this.ctx=T.context;const F=this.ctx;F.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,F),P(F,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(m){if(!this.current.activeSMask)return;m?(m[0]=Math.floor(m[0]),m[1]=Math.floor(m[1]),m[2]=Math.ceil(m[2]),m[3]=Math.ceil(m[3])):m=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const A=this.current.activeSMask,g=this.suspendedCtx;j(g,A,this.ctx,m),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const m=this.current;this.stateStack.push(m),this.current=m.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(m,A,g,T,F,q){this.ctx.transform(m,A,g,T,F,q),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(m,A,g){const T=this.ctx,F=this.current;let q=F.x,Q=F.y,ae,Ce;const k=(0,o.getCurrentTransform)(T),U=k[0]===0&&k[3]===0||k[1]===0&&k[2]===0,te=U?g.slice(0):null;for(let ye=0,le=0,Te=m.length;ye<Te;ye++)switch(m[ye]|0){case r.OPS.rectangle:q=A[le++],Q=A[le++];const Ne=A[le++],xe=A[le++],Me=q+Ne,de=Q+xe;T.moveTo(q,Q),Ne===0||xe===0?T.lineTo(Me,de):(T.lineTo(Me,Q),T.lineTo(Me,de),T.lineTo(q,de)),U||F.updateRectMinMax(k,[q,Q,Me,de]),T.closePath();break;case r.OPS.moveTo:q=A[le++],Q=A[le++],T.moveTo(q,Q),U||F.updatePathMinMax(k,q,Q);break;case r.OPS.lineTo:q=A[le++],Q=A[le++],T.lineTo(q,Q),U||F.updatePathMinMax(k,q,Q);break;case r.OPS.curveTo:ae=q,Ce=Q,q=A[le+4],Q=A[le+5],T.bezierCurveTo(A[le],A[le+1],A[le+2],A[le+3],q,Q),F.updateCurvePathMinMax(k,ae,Ce,A[le],A[le+1],A[le+2],A[le+3],q,Q,te),le+=6;break;case r.OPS.curveTo2:ae=q,Ce=Q,T.bezierCurveTo(q,Q,A[le],A[le+1],A[le+2],A[le+3]),F.updateCurvePathMinMax(k,ae,Ce,q,Q,A[le],A[le+1],A[le+2],A[le+3],te),q=A[le+2],Q=A[le+3],le+=4;break;case r.OPS.curveTo3:ae=q,Ce=Q,q=A[le+2],Q=A[le+3],T.bezierCurveTo(A[le],A[le+1],q,Q,q,Q),F.updateCurvePathMinMax(k,ae,Ce,A[le],A[le+1],q,Q,q,Q,te),le+=4;break;case r.OPS.closePath:T.closePath();break}U&&F.updateScalingPathMinMax(k,te),F.setCurrentPoint(q,Q)}closePath(){this.ctx.closePath()}stroke(m=!0){const A=this.ctx,g=this.current.strokeColor;A.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof g=="object"&&(g!=null&&g.getPattern)?(A.save(),A.strokeStyle=g.getPattern(A,this,(0,o.getCurrentTransformInverse)(A),l.PathType.STROKE),this.rescaleAndStroke(!1),A.restore()):this.rescaleAndStroke(!0)),m&&this.consumePath(this.current.getClippedPathBoundingBox()),A.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(m=!0){const A=this.ctx,g=this.current.fillColor,T=this.current.patternFill;let F=!1;T&&(A.save(),A.fillStyle=g.getPattern(A,this,(0,o.getCurrentTransformInverse)(A),l.PathType.FILL),F=!0);const q=this.current.getClippedPathBoundingBox();this.contentVisible&&q!==null&&(this.pendingEOFill?(A.fill("evenodd"),this.pendingEOFill=!1):A.fill()),F&&A.restore(),m&&this.consumePath(q)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Z}eoClip(){this.pendingClip=ee}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const m=this.pendingTextPaths,A=this.ctx;if(m===void 0){A.beginPath();return}A.save(),A.beginPath();for(const g of m)A.setTransform(...g.transform),A.translate(g.x,g.y),g.addToPath(A,g.fontSize);A.restore(),A.clip(),A.beginPath(),delete this.pendingTextPaths}setCharSpacing(m){this.current.charSpacing=m}setWordSpacing(m){this.current.wordSpacing=m}setHScale(m){this.current.textHScale=m/100}setLeading(m){this.current.leading=-m}setFont(m,A){var k;const g=this.commonObjs.get(m),T=this.current;if(!g)throw new Error(`Can't find font for ${m}`);if(T.fontMatrix=g.fontMatrix||r.FONT_IDENTITY_MATRIX,(T.fontMatrix[0]===0||T.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+m),A<0?(A=-A,T.fontDirection=-1):T.fontDirection=1,this.current.font=g,this.current.fontSize=A,g.isType3Font)return;const F=g.loadedName||"sans-serif",q=((k=g.systemFontInfo)==null?void 0:k.css)||`"${F}", ${g.fallbackName}`;let Q="normal";g.black?Q="900":g.bold&&(Q="bold");const ae=g.italic?"italic":"normal";let Ce=A;A<y?Ce=y:A>b&&(Ce=b),this.current.fontSizeScale=A/Ce,this.ctx.font=`${ae} ${Q} ${Ce}px ${q}`}setTextRenderingMode(m){this.current.textRenderingMode=m}setTextRise(m){this.current.textRise=m}moveText(m,A){this.current.x=this.current.lineX+=m,this.current.y=this.current.lineY+=A}setLeadingMoveText(m,A){this.setLeading(-A),this.moveText(m,A)}setTextMatrix(m,A,g,T,F,q){this.current.textMatrix=[m,A,g,T,F,q],this.current.textMatrixScale=Math.hypot(m,A),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(m,A,g,T){const F=this.ctx,q=this.current,Q=q.font,ae=q.textRenderingMode,Ce=q.fontSize/q.fontSizeScale,k=ae&r.TextRenderingMode.FILL_STROKE_MASK,U=!!(ae&r.TextRenderingMode.ADD_TO_PATH_FLAG),te=q.patternFill&&!Q.missingFile;let ye;(Q.disableFontFace||U||te)&&(ye=Q.getPathGenerator(this.commonObjs,m)),Q.disableFontFace||te?(F.save(),F.translate(A,g),F.beginPath(),ye(F,Ce),T&&F.setTransform(...T),(k===r.TextRenderingMode.FILL||k===r.TextRenderingMode.FILL_STROKE)&&F.fill(),(k===r.TextRenderingMode.STROKE||k===r.TextRenderingMode.FILL_STROKE)&&F.stroke(),F.restore()):((k===r.TextRenderingMode.FILL||k===r.TextRenderingMode.FILL_STROKE)&&F.fillText(m,A,g),(k===r.TextRenderingMode.STROKE||k===r.TextRenderingMode.FILL_STROKE)&&F.strokeText(m,A,g)),U&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(F),x:A,y:g,fontSize:Ce,addToPath:ye})}get isFontSubpixelAAEnabled(){const{context:m}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);m.scale(1.5,1),m.fillText("I",0,10);const A=m.getImageData(0,0,10,10).data;let g=!1;for(let T=3;T<A.length;T+=4)if(A[T]>0&&A[T]<255){g=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",g)}showText(m){const A=this.current,g=A.font;if(g.isType3Font)return this.showType3Text(m);const T=A.fontSize;if(T===0)return;const F=this.ctx,q=A.fontSizeScale,Q=A.charSpacing,ae=A.wordSpacing,Ce=A.fontDirection,k=A.textHScale*Ce,U=m.length,te=g.vertical,ye=te?1:-1,le=g.defaultVMetrics,Te=T*A.fontMatrix[0],Ne=A.textRenderingMode===r.TextRenderingMode.FILL&&!g.disableFontFace&&!A.patternFill;F.save(),F.transform(...A.textMatrix),F.translate(A.x,A.y+A.textRise),Ce>0?F.scale(k,-1):F.scale(k,1);let xe;if(A.patternFill){F.save();const ve=A.fillColor.getPattern(F,this,(0,o.getCurrentTransformInverse)(F),l.PathType.FILL);xe=(0,o.getCurrentTransform)(F),F.restore(),F.fillStyle=ve}let Me=A.lineWidth;const de=A.textMatrixScale;if(de===0||Me===0){const ve=A.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(ve===r.TextRenderingMode.STROKE||ve===r.TextRenderingMode.FILL_STROKE)&&(Me=this.getSinglePixelWidth())}else Me/=de;if(q!==1&&(F.scale(q,q),Me/=q),F.lineWidth=Me,g.isInvalidPDFjsFont){const ve=[];let De=0;for(const Be of m)ve.push(Be.unicode),De+=Be.width;F.fillText(ve.join(""),0,0),A.x+=De*Te*k,F.restore(),this.compose();return}let ce=0,se;for(se=0;se<U;++se){const ve=m[se];if(typeof ve=="number"){ce+=ye*ve*T/1e3;continue}let De=!1;const Be=(ve.isSpace?ae:0)+Q,Je=ve.fontChar,et=ve.accent;let it,lt,dt=ve.width;if(te){const pt=ve.vmetric||le,Ie=-(ve.vmetric?pt[1]:dt*.5)*Te,be=pt[2]*Te;dt=pt?-pt[0]:dt,it=Ie/q,lt=(ce+be)/q}else it=ce/q,lt=0;if(g.remeasure&&dt>0){const pt=F.measureText(Je).width*1e3/T*q;if(dt<pt&&this.isFontSubpixelAAEnabled){const Ie=dt/pt;De=!0,F.save(),F.scale(Ie,1),it/=Ie}else dt!==pt&&(it+=(dt-pt)/2e3*T/q)}if(this.contentVisible&&(ve.isInFont||g.missingFile)){if(Ne&&!et)F.fillText(Je,it,lt);else if(this.paintChar(Je,it,lt,xe),et){const pt=it+T*et.offset.x/q,Ie=lt-T*et.offset.y/q;this.paintChar(et.fontChar,pt,Ie,xe)}}const rt=te?dt*Te-Be*Ce:dt*Te+Be*Ce;ce+=rt,De&&F.restore()}te?A.y-=ce:A.x+=ce*k,F.restore(),this.compose()}showType3Text(m){const A=this.ctx,g=this.current,T=g.font,F=g.fontSize,q=g.fontDirection,Q=T.vertical?1:-1,ae=g.charSpacing,Ce=g.wordSpacing,k=g.textHScale*q,U=g.fontMatrix||r.FONT_IDENTITY_MATRIX,te=m.length,ye=g.textRenderingMode===r.TextRenderingMode.INVISIBLE;let le,Te,Ne,xe;if(!(ye||F===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,A.save(),A.transform(...g.textMatrix),A.translate(g.x,g.y),A.scale(k,q),le=0;le<te;++le){if(Te=m[le],typeof Te=="number"){xe=Q*Te*F/1e3,this.ctx.translate(xe,0),g.x+=xe*k;continue}const Me=(Te.isSpace?Ce:0)+ae,de=T.charProcOperatorList[Te.operatorListId];if(!de){(0,r.warn)(`Type3 character "${Te.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Te,this.save(),A.scale(F,F),A.transform(...U),this.executeOperatorList(de),this.restore()),Ne=r.Util.applyTransform([Te.width,0],U)[0]*F+Me,A.translate(Ne,0),g.x+=Ne*k}A.restore(),this.processingType3=null}}setCharWidth(m,A){}setCharWidthAndBounds(m,A,g,T,F,q){this.ctx.rect(g,T,F-g,q-T),this.ctx.clip(),this.endPath()}getColorN_Pattern(m){let A;if(m[0]==="TilingPattern"){const g=m[1],T=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),F={createCanvasGraphics:q=>new Oe(q,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};A=new l.TilingPattern(m,g,this.ctx,F,T)}else A=this._getPattern(m[1],m[2]);return A}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(m,A,g){const T=r.Util.makeHexColor(m,A,g);this.ctx.strokeStyle=T,this.current.strokeColor=T}setFillRGBColor(m,A,g){const T=r.Util.makeHexColor(m,A,g);this.ctx.fillStyle=T,this.current.fillColor=T,this.current.patternFill=!1}_getPattern(m,A=null){let g;return this.cachedPatterns.has(m)?g=this.cachedPatterns.get(m):(g=(0,l.getShadingPattern)(this.getObject(m)),this.cachedPatterns.set(m,g)),A&&(g.matrix=A),g}shadingFill(m){if(!this.contentVisible)return;const A=this.ctx;this.save();const g=this._getPattern(m);A.fillStyle=g.getPattern(A,this,(0,o.getCurrentTransformInverse)(A),l.PathType.SHADING);const T=(0,o.getCurrentTransformInverse)(A);if(T){const{width:F,height:q}=A.canvas,[Q,ae,Ce,k]=r.Util.getAxialAlignedBoundingBox([0,0,F,q],T);this.ctx.fillRect(Q,ae,Ce-Q,k-ae)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(m,A){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(m)&&m.length===6&&this.transform(...m),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),A)){const g=A[2]-A[0],T=A[3]-A[1];this.ctx.rect(A[0],A[1],g,T),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),A),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(m){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const A=this.ctx;m.isolated||(0,r.info)("TODO: Support non-isolated groups."),m.knockout&&(0,r.warn)("Knockout groups not supported.");const g=(0,o.getCurrentTransform)(A);if(m.matrix&&A.transform(...m.matrix),!m.bbox)throw new Error("Bounding box is required.");let T=r.Util.getAxialAlignedBoundingBox(m.bbox,(0,o.getCurrentTransform)(A));const F=[0,0,A.canvas.width,A.canvas.height];T=r.Util.intersect(T,F)||[0,0,0,0];const q=Math.floor(T[0]),Q=Math.floor(T[1]);let ae=Math.max(Math.ceil(T[2])-q,1),Ce=Math.max(Math.ceil(T[3])-Q,1),k=1,U=1;ae>S&&(k=ae/S,ae=S),Ce>S&&(U=Ce/S,Ce=S),this.current.startNewPathAndClipBox([0,0,ae,Ce]);let te="groupAt"+this.groupLevel;m.smask&&(te+="_smask_"+this.smaskCounter++%2);const ye=this.cachedCanvases.getCanvas(te,ae,Ce),le=ye.context;le.scale(1/k,1/U),le.translate(-q,-Q),le.transform(...g),m.smask?this.smaskStack.push({canvas:ye.canvas,context:le,offsetX:q,offsetY:Q,scaleX:k,scaleY:U,subtype:m.smask.subtype,backdrop:m.smask.backdrop,transferMap:m.smask.transferMap||null,startTransformInverse:null}):(A.setTransform(1,0,0,1,0,0),A.translate(q,Q),A.scale(k,U),A.save()),w(A,le),this.ctx=le,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(A),this.groupLevel++}endGroup(m){if(!this.contentVisible)return;this.groupLevel--;const A=this.ctx,g=this.groupStack.pop();if(this.ctx=g,this.ctx.imageSmoothingEnabled=!1,m.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const T=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...T);const F=r.Util.getAxialAlignedBoundingBox([0,0,A.canvas.width,A.canvas.height],T);this.ctx.drawImage(A.canvas,0,0),this.ctx.restore(),this.compose(F)}}beginAnnotation(m,A,g,T,F){if(_e(this,ie,Eo).call(this),C(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(A)&&A.length===4){const q=A[2]-A[0],Q=A[3]-A[1];if(F&&this.annotationCanvasMap){g=g.slice(),g[4]-=A[0],g[5]-=A[1],A=A.slice(),A[0]=A[1]=0,A[2]=q,A[3]=Q;const[ae,Ce]=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:k}=this,U=Math.ceil(q*this.outputScaleX*k),te=Math.ceil(Q*this.outputScaleY*k);this.annotationCanvas=this.canvasFactory.create(U,te);const{canvas:ye,context:le}=this.annotationCanvas;this.annotationCanvasMap.set(m,ye),this.annotationCanvas.savedCtx=this.ctx,this.ctx=le,this.ctx.save(),this.ctx.setTransform(ae,0,0,-Ce,0,Q*Ce),C(this.ctx)}else C(this.ctx),this.ctx.rect(A[0],A[1],q,Q),this.ctx.clip(),this.endPath()}this.current=new V(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...g),this.transform(...T)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_e(this,Re,xo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(m){if(!this.contentVisible)return;const A=m.count;m=this.getObject(m.data,m),m.count=A;const g=this.ctx,T=this.processingType3;if(T&&(T.compiled===void 0&&(T.compiled=L(m)),T.compiled)){T.compiled(g);return}const F=this._createMaskCanvas(m),q=F.canvas;g.save(),g.setTransform(1,0,0,1,0,0),g.drawImage(q,F.offsetX,F.offsetY),g.restore(),this.compose()}paintImageMaskXObjectRepeat(m,A,g=0,T=0,F,q){if(!this.contentVisible)return;m=this.getObject(m.data,m);const Q=this.ctx;Q.save();const ae=(0,o.getCurrentTransform)(Q);Q.transform(A,g,T,F,0,0);const Ce=this._createMaskCanvas(m);Q.setTransform(1,0,0,1,Ce.offsetX-ae[4],Ce.offsetY-ae[5]);for(let k=0,U=q.length;k<U;k+=2){const te=r.Util.transform(ae,[A,g,T,F,q[k],q[k+1]]),[ye,le]=r.Util.applyTransform([0,0],te);Q.drawImage(Ce.canvas,ye,le)}Q.restore(),this.compose()}paintImageMaskXObjectGroup(m){if(!this.contentVisible)return;const A=this.ctx,g=this.current.fillColor,T=this.current.patternFill;for(const F of m){const{data:q,width:Q,height:ae,transform:Ce}=F,k=this.cachedCanvases.getCanvas("maskCanvas",Q,ae),U=k.context;U.save();const te=this.getObject(q,F);N(U,te),U.globalCompositeOperation="source-in",U.fillStyle=T?g.getPattern(U,this,(0,o.getCurrentTransformInverse)(A),l.PathType.FILL):g,U.fillRect(0,0,Q,ae),U.restore(),A.save(),A.transform(...Ce),A.scale(1,-1),x(A,k.canvas,0,0,Q,ae,0,-1,1,1),A.restore()}this.compose()}paintImageXObject(m){if(!this.contentVisible)return;const A=this.getObject(m);if(!A){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(A)}paintImageXObjectRepeat(m,A,g,T){if(!this.contentVisible)return;const F=this.getObject(m);if(!F){(0,r.warn)("Dependent image isn't ready yet");return}const q=F.width,Q=F.height,ae=[];for(let Ce=0,k=T.length;Ce<k;Ce+=2)ae.push({transform:[A,0,0,g,T[Ce],T[Ce+1]],x:0,y:0,w:q,h:Q});this.paintInlineImageXObjectGroup(F,ae)}applyTransferMapsToCanvas(m){return this.current.transferMaps!=="none"&&(m.filter=this.current.transferMaps,m.drawImage(m.canvas,0,0),m.filter="none"),m.canvas}applyTransferMapsToBitmap(m){if(this.current.transferMaps==="none")return m.bitmap;const{bitmap:A,width:g,height:T}=m,F=this.cachedCanvases.getCanvas("inlineImage",g,T),q=F.context;return q.filter=this.current.transferMaps,q.drawImage(A,0,0),q.filter="none",F.canvas}paintInlineImageXObject(m){if(!this.contentVisible)return;const A=m.width,g=m.height,T=this.ctx;if(this.save(),!r.isNodeJS){const{filter:Q}=T;Q!=="none"&&Q!==""&&(T.filter="none")}T.scale(1/A,-1/g);let F;if(m.bitmap)F=this.applyTransferMapsToBitmap(m);else if(typeof HTMLElement=="function"&&m instanceof HTMLElement||!m.data)F=m;else{const ae=this.cachedCanvases.getCanvas("inlineImage",A,g).context;H(ae,m),F=this.applyTransferMapsToCanvas(ae)}const q=this._scaleImage(F,(0,o.getCurrentTransformInverse)(T));T.imageSmoothingEnabled=ue((0,o.getCurrentTransform)(T),m.interpolate),x(T,q.img,0,0,q.paintWidth,q.paintHeight,0,-g,A,g),this.compose(),this.restore()}paintInlineImageXObjectGroup(m,A){if(!this.contentVisible)return;const g=this.ctx;let T;if(m.bitmap)T=m.bitmap;else{const F=m.width,q=m.height,ae=this.cachedCanvases.getCanvas("inlineImage",F,q).context;H(ae,m),T=this.applyTransferMapsToCanvas(ae)}for(const F of A)g.save(),g.transform(...F.transform),g.scale(1,-1),x(g,T,F.x,F.y,F.w,F.h,0,-1,1,1),g.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(m){}markPointProps(m,A){}beginMarkedContent(m){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(m,A){m==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(A)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(m){const A=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(m);const g=this.ctx;this.pendingClip&&(A||(this.pendingClip===ee?g.clip("evenodd"):g.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),g.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const m=(0,o.getCurrentTransform)(this.ctx);if(m[1]===0&&m[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(m[0]),Math.abs(m[3]));else{const A=Math.abs(m[0]*m[3]-m[2]*m[1]),g=Math.hypot(m[0],m[2]),T=Math.hypot(m[1],m[3]);this._cachedGetSinglePixelWidth=Math.max(g,T)/A}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:m}=this.current,{a:A,b:g,c:T,d:F}=this.ctx.getTransform();let q,Q;if(g===0&&T===0){const ae=Math.abs(A),Ce=Math.abs(F);if(ae===Ce)if(m===0)q=Q=1/ae;else{const k=ae*m;q=Q=k<1?1/k:1}else if(m===0)q=1/ae,Q=1/Ce;else{const k=ae*m,U=Ce*m;q=k<1?1/k:1,Q=U<1?1/U:1}}else{const ae=Math.abs(A*F-g*T),Ce=Math.hypot(A,g),k=Math.hypot(T,F);if(m===0)q=k/ae,Q=Ce/ae;else{const U=m*ae;q=k>U?k/U:1,Q=Ce>U?Ce/U:1}}this._cachedScaleForStroking[0]=q,this._cachedScaleForStroking[1]=Q}return this._cachedScaleForStroking}rescaleAndStroke(m){const{ctx:A}=this,{lineWidth:g}=this.current,[T,F]=this.getScaleForStroking();if(A.lineWidth=g||1,T===1&&F===1){A.stroke();return}const q=A.getLineDash();if(m&&A.save(),A.scale(T,F),q.length>0){const Q=Math.max(T,F);A.setLineDash(q.map(ae=>ae/Q)),A.lineDashOffset/=Q}A.stroke(),m&&A.restore()}isContentVisible(){for(let m=this.markedContentStack.length-1;m>=0;m--)if(!this.markedContentStack[m].visible)return!1;return!0}};ie=new WeakSet,Eo=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Re=new WeakSet,xo=function(){if(this.pageColors){const m=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(m!=="none"){const A=this.ctx.filter;this.ctx.filter=m,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=A}}};let me=Oe;n.CanvasGraphics=me;for(const G in r.OPS)me.prototype[G]!==void 0&&(me.prototype[r.OPS[G]]=me.prototype[G])},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=B;var r=s(1),o=s(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=l;function c(L,V){if(!V)return;const H=V[2]-V[0],N=V[3]-V[1],w=new Path2D;w.rect(V[0],V[1],H,N),L.clip(w)}class y{constructor(){this.constructor===y&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class b extends y{constructor(V){super(),this._type=V[1],this._bbox=V[2],this._colorStops=V[3],this._p0=V[4],this._p1=V[5],this._r0=V[6],this._r1=V[7],this.matrix=null}_createGradient(V){let H;this._type==="axial"?H=V.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(H=V.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const N of this._colorStops)H.addColorStop(N[0],N[1]);return H}getPattern(V,H,N,w){let C;if(w===l.STROKE||w===l.FILL){const Y=H.current.getClippedPathBoundingBox(w,(0,o.getCurrentTransform)(V))||[0,0,0,0],$=Math.ceil(Y[2]-Y[0])||1,E=Math.ceil(Y[3]-Y[1])||1,J=H.cachedCanvases.getCanvas("pattern",$,E,!0),j=J.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-Y[0],-Y[1]),N=r.Util.transform(N,[1,0,0,1,Y[0],Y[1]]),j.transform(...H.baseTransform),this.matrix&&j.transform(...this.matrix),c(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),C=V.createPattern(J.canvas,"no-repeat");const ue=new DOMMatrix(N);C.setTransform(ue)}else c(V,this._bbox),C=this._createGradient(V);return C}}function S(L,V,H,N,w,C,Y,$){const E=V.coords,J=V.colors,j=L.data,ue=L.width*4;let fe;E[H+1]>E[N+1]&&(fe=H,H=N,N=fe,fe=C,C=Y,Y=fe),E[N+1]>E[w+1]&&(fe=N,N=w,w=fe,fe=Y,Y=$,$=fe),E[H+1]>E[N+1]&&(fe=H,H=N,N=fe,fe=C,C=Y,Y=fe);const D=(E[H]+V.offsetX)*V.scaleX,Z=(E[H+1]+V.offsetY)*V.scaleY,ee=(E[N]+V.offsetX)*V.scaleX,me=(E[N+1]+V.offsetY)*V.scaleY,ie=(E[w]+V.offsetX)*V.scaleX,ge=(E[w+1]+V.offsetY)*V.scaleY;if(Z>=ge)return;const Re=J[C],Ee=J[C+1],Oe=J[C+2],G=J[Y],m=J[Y+1],A=J[Y+2],g=J[$],T=J[$+1],F=J[$+2],q=Math.round(Z),Q=Math.round(ge);let ae,Ce,k,U,te,ye,le,Te;for(let Ne=q;Ne<=Q;Ne++){if(Ne<me){const se=Ne<Z?0:(Z-Ne)/(Z-me);ae=D-(D-ee)*se,Ce=Re-(Re-G)*se,k=Ee-(Ee-m)*se,U=Oe-(Oe-A)*se}else{let se;Ne>ge?se=1:me===ge?se=0:se=(me-Ne)/(me-ge),ae=ee-(ee-ie)*se,Ce=G-(G-g)*se,k=m-(m-T)*se,U=A-(A-F)*se}let xe;Ne<Z?xe=0:Ne>ge?xe=1:xe=(Z-Ne)/(Z-ge),te=D-(D-ie)*xe,ye=Re-(Re-g)*xe,le=Ee-(Ee-T)*xe,Te=Oe-(Oe-F)*xe;const Me=Math.round(Math.min(ae,te)),de=Math.round(Math.max(ae,te));let ce=ue*Ne+Me*4;for(let se=Me;se<=de;se++)xe=(ae-se)/(ae-te),xe<0?xe=0:xe>1&&(xe=1),j[ce++]=Ce-(Ce-ye)*xe|0,j[ce++]=k-(k-le)*xe|0,j[ce++]=U-(U-Te)*xe|0,j[ce++]=255}}function u(L,V,H){const N=V.coords,w=V.colors;let C,Y;switch(V.type){case"lattice":const $=V.verticesPerRow,E=Math.floor(N.length/$)-1,J=$-1;for(C=0;C<E;C++){let j=C*$;for(let ue=0;ue<J;ue++,j++)S(L,H,N[j],N[j+1],N[j+$],w[j],w[j+1],w[j+$]),S(L,H,N[j+$+1],N[j+1],N[j+$],w[j+$+1],w[j+1],w[j+$])}break;case"triangles":for(C=0,Y=N.length;C<Y;C+=3)S(L,H,N[C],N[C+1],N[C+2],w[C],w[C+1],w[C+2]);break;default:throw new Error("illegal figure")}}class R extends y{constructor(V){super(),this._coords=V[2],this._colors=V[3],this._figures=V[4],this._bounds=V[5],this._bbox=V[7],this._background=V[8],this.matrix=null}_createMeshCanvas(V,H,N){const $=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),J=Math.ceil(this._bounds[2])-$,j=Math.ceil(this._bounds[3])-E,ue=Math.min(Math.ceil(Math.abs(J*V[0]*1.1)),3e3),fe=Math.min(Math.ceil(Math.abs(j*V[1]*1.1)),3e3),D=J/ue,Z=j/fe,ee={coords:this._coords,colors:this._colors,offsetX:-$,offsetY:-E,scaleX:1/D,scaleY:1/Z},me=ue+2*2,ie=fe+2*2,ge=N.getCanvas("mesh",me,ie,!1),Re=ge.context,Ee=Re.createImageData(ue,fe);if(H){const G=Ee.data;for(let m=0,A=G.length;m<A;m+=4)G[m]=H[0],G[m+1]=H[1],G[m+2]=H[2],G[m+3]=255}for(const G of this._figures)u(Ee,G,ee);return Re.putImageData(Ee,2,2),{canvas:ge.canvas,offsetX:$-2*D,offsetY:E-2*Z,scaleX:D,scaleY:Z}}getPattern(V,H,N,w){c(V,this._bbox);let C;if(w===l.SHADING)C=r.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(V));else if(C=r.Util.singularValueDecompose2dScale(H.baseTransform),this.matrix){const $=r.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*$[0],C[1]*$[1]]}const Y=this._createMeshCanvas(C,w===l.SHADING?null:this._background,H.cachedCanvases);return w!==l.SHADING&&(V.setTransform(...H.baseTransform),this.matrix&&V.transform(...this.matrix)),V.translate(Y.offsetX,Y.offsetY),V.scale(Y.scaleX,Y.scaleY),V.createPattern(Y.canvas,"no-repeat")}}class W extends y{getPattern(){return"hotpink"}}function B(L){switch(L[0]){case"RadialAxial":return new b(L);case"Mesh":return new R(L);case"Dummy":return new W}throw new Error(`Unknown IR type: ${L[0]}`)}const P={COLORED:1,UNCOLORED:2},x=class x{constructor(V,H,N,w,C){this.operatorList=V[2],this.matrix=V[3]||[1,0,0,1,0,0],this.bbox=V[4],this.xstep=V[5],this.ystep=V[6],this.paintType=V[7],this.tilingType=V[8],this.color=H,this.ctx=N,this.canvasGraphicsFactory=w,this.baseTransform=C}createPatternCanvas(V){const H=this.operatorList,N=this.bbox,w=this.xstep,C=this.ystep,Y=this.paintType,$=this.tilingType,E=this.color,J=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+$);const j=N[0],ue=N[1],fe=N[2],D=N[3],Z=r.Util.singularValueDecompose2dScale(this.matrix),ee=r.Util.singularValueDecompose2dScale(this.baseTransform),me=[Z[0]*ee[0],Z[1]*ee[1]],ie=this.getSizeAndScale(w,this.ctx.canvas.width,me[0]),ge=this.getSizeAndScale(C,this.ctx.canvas.height,me[1]),Re=V.cachedCanvases.getCanvas("pattern",ie.size,ge.size,!0),Ee=Re.context,Oe=J.createCanvasGraphics(Ee);Oe.groupLevel=V.groupLevel,this.setFillAndStrokeStyleToContext(Oe,Y,E);let G=j,m=ue,A=fe,g=D;return j<0&&(G=0,A+=Math.abs(j)),ue<0&&(m=0,g+=Math.abs(ue)),Ee.translate(-(ie.scale*G),-(ge.scale*m)),Oe.transform(ie.scale,0,0,ge.scale,0,0),Ee.save(),this.clipBbox(Oe,G,m,A,g),Oe.baseTransform=(0,o.getCurrentTransform)(Oe.ctx),Oe.executeOperatorList(H),Oe.endDrawing(),{canvas:Re.canvas,scaleX:ie.scale,scaleY:ge.scale,offsetX:G,offsetY:m}}getSizeAndScale(V,H,N){V=Math.abs(V);const w=Math.max(x.MAX_PATTERN_SIZE,H);let C=Math.ceil(V*N);return C>=w?C=w:N=C/V,{scale:N,size:C}}clipBbox(V,H,N,w,C){const Y=w-H,$=C-N;V.ctx.rect(H,N,Y,$),V.current.updateRectMinMax((0,o.getCurrentTransform)(V.ctx),[H,N,w,C]),V.clip(),V.endPath()}setFillAndStrokeStyleToContext(V,H,N){const w=V.ctx,C=V.current;switch(H){case P.COLORED:const Y=this.ctx;w.fillStyle=Y.fillStyle,w.strokeStyle=Y.strokeStyle,C.fillColor=Y.fillStyle,C.strokeColor=Y.strokeStyle;break;case P.UNCOLORED:const $=r.Util.makeHexColor(N[0],N[1],N[2]);w.fillStyle=$,w.strokeStyle=$,C.fillColor=$,C.strokeColor=$;break;default:throw new r.FormatError(`Unsupported paint type: ${H}`)}}getPattern(V,H,N,w){let C=N;w!==l.SHADING&&(C=r.Util.transform(C,H.baseTransform),this.matrix&&(C=r.Util.transform(C,this.matrix)));const Y=this.createPatternCanvas(H);let $=new DOMMatrix(C);$=$.translate(Y.offsetX,Y.offsetY),$=$.scale(1/Y.scaleX,1/Y.scaleY);const E=V.createPattern(Y.canvas,"repeat");return E.setTransform($),E}};Nt(x,"MAX_PATTERN_SIZE",3e3);let O=x;n.TilingPattern=O},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.convertBlackAndWhiteToRGBA=l,n.convertToRGBA=o,n.grayToRGBA=y;var r=s(1);function o(b){switch(b.kind){case r.ImageKind.GRAYSCALE_1BPP:return l(b);case r.ImageKind.RGB_24BPP:return c(b)}return null}function l({src:b,srcPos:S=0,dest:u,width:R,height:W,nonBlackColor:B=4294967295,inverseDecode:P=!1}){const O=r.FeatureTest.isLittleEndian?4278190080:255,[x,L]=P?[B,O]:[O,B],V=R>>3,H=R&7,N=b.length;u=new Uint32Array(u.buffer);let w=0;for(let C=0;C<W;C++){for(const $=S+V;S<$;S++){const E=S<N?b[S]:255;u[w++]=E&128?L:x,u[w++]=E&64?L:x,u[w++]=E&32?L:x,u[w++]=E&16?L:x,u[w++]=E&8?L:x,u[w++]=E&4?L:x,u[w++]=E&2?L:x,u[w++]=E&1?L:x}if(H===0)continue;const Y=S<N?b[S++]:255;for(let $=0;$<H;$++)u[w++]=Y&1<<7-$?L:x}return{srcPos:S,destPos:w}}function c({src:b,srcPos:S=0,dest:u,destPos:R=0,width:W,height:B}){let P=0;const O=b.length>>2,x=new Uint32Array(b.buffer,S,O);if(r.FeatureTest.isLittleEndian){for(;P<O-2;P+=3,R+=4){const L=x[P],V=x[P+1],H=x[P+2];u[R]=L|4278190080,u[R+1]=L>>>24|V<<8|4278190080,u[R+2]=V>>>16|H<<16|4278190080,u[R+3]=H>>>8|4278190080}for(let L=P*4,V=b.length;L<V;L+=3)u[R++]=b[L]|b[L+1]<<8|b[L+2]<<16|4278190080}else{for(;P<O-2;P+=3,R+=4){const L=x[P],V=x[P+1],H=x[P+2];u[R]=L|255,u[R+1]=L<<24|V>>>8|255,u[R+2]=V<<16|H>>>16|255,u[R+3]=H<<8|255}for(let L=P*4,V=b.length;L<V;L+=3)u[R++]=b[L]<<24|b[L+1]<<16|b[L+2]<<8|255}return{srcPos:S,destPos:R}}function y(b,S){if(r.FeatureTest.isLittleEndian)for(let u=0,R=b.length;u<R;u++)S[u]=b[u]*65793|4278190080;else for(let u=0,R=b.length;u<R;u++)S[u]=b[u]*16843008|255}},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const s=Object.create(null);n.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,n,s)=>{var b,Ec,u,xc,W,Vs;Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var r=s(1);const o={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c(P){switch(P instanceof Error||typeof P=="object"&&P!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),P.name){case"AbortException":return new r.AbortException(P.message);case"MissingPDFException":return new r.MissingPDFException(P.message);case"PasswordException":return new r.PasswordException(P.message,P.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(P.message,P.status);case"UnknownErrorException":return new r.UnknownErrorException(P.message,P.details);default:return new r.UnknownErrorException(P.message,P.toString())}}class y{constructor(O,x,L){re(this,b);re(this,u);re(this,W);this.sourceName=O,this.targetName=x,this.comObj=L,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=V=>{const H=V.data;if(H.targetName!==this.sourceName)return;if(H.stream){_e(this,u,xc).call(this,H);return}if(H.callback){const w=H.callbackId,C=this.callbackCapabilities[w];if(!C)throw new Error(`Cannot resolve callback ${w}`);if(delete this.callbackCapabilities[w],H.callback===o.DATA)C.resolve(H.data);else if(H.callback===o.ERROR)C.reject(c(H.reason));else throw new Error("Unexpected callback case");return}const N=this.actionHandler[H.action];if(!N)throw new Error(`Unknown action from worker: ${H.action}`);if(H.callbackId){const w=this.sourceName,C=H.sourceName;new Promise(function(Y){Y(N(H.data))}).then(function(Y){L.postMessage({sourceName:w,targetName:C,callback:o.DATA,callbackId:H.callbackId,data:Y})},function(Y){L.postMessage({sourceName:w,targetName:C,callback:o.ERROR,callbackId:H.callbackId,reason:c(Y)})});return}if(H.streamId){_e(this,b,Ec).call(this,H);return}N(H.data)},L.addEventListener("message",this._onComObjOnMessage)}on(O,x){const L=this.actionHandler;if(L[O])throw new Error(`There is already an actionName called "${O}"`);L[O]=x}send(O,x,L){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:O,data:x},L)}sendWithPromise(O,x,L){const V=this.callbackId++,H=new r.PromiseCapability;this.callbackCapabilities[V]=H;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:O,callbackId:V,data:x},L)}catch(N){H.reject(N)}return H.promise}sendWithStream(O,x,L,V){const H=this.streamId++,N=this.sourceName,w=this.targetName,C=this.comObj;return new ReadableStream({start:Y=>{const $=new r.PromiseCapability;return this.streamControllers[H]={controller:Y,startCall:$,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:N,targetName:w,action:O,streamId:H,data:x,desiredSize:Y.desiredSize},V),$.promise},pull:Y=>{const $=new r.PromiseCapability;return this.streamControllers[H].pullCall=$,C.postMessage({sourceName:N,targetName:w,stream:l.PULL,streamId:H,desiredSize:Y.desiredSize}),$.promise},cancel:Y=>{(0,r.assert)(Y instanceof Error,"cancel must have a valid reason");const $=new r.PromiseCapability;return this.streamControllers[H].cancelCall=$,this.streamControllers[H].isClosed=!0,C.postMessage({sourceName:N,targetName:w,stream:l.CANCEL,streamId:H,reason:c(Y)}),$.promise}},L)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,Ec=function(O){const x=O.streamId,L=this.sourceName,V=O.sourceName,H=this.comObj,N=this,w=this.actionHandler[O.action],C={enqueue(Y,$=1,E){if(this.isCancelled)return;const J=this.desiredSize;this.desiredSize-=$,J>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),H.postMessage({sourceName:L,targetName:V,stream:l.ENQUEUE,streamId:x,chunk:Y},E)},close(){this.isCancelled||(this.isCancelled=!0,H.postMessage({sourceName:L,targetName:V,stream:l.CLOSE,streamId:x}),delete N.streamSinks[x])},error(Y){(0,r.assert)(Y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,H.postMessage({sourceName:L,targetName:V,stream:l.ERROR,streamId:x,reason:c(Y)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:O.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[x]=C,new Promise(function(Y){Y(w(O.data,C))}).then(function(){H.postMessage({sourceName:L,targetName:V,stream:l.START_COMPLETE,streamId:x,success:!0})},function(Y){H.postMessage({sourceName:L,targetName:V,stream:l.START_COMPLETE,streamId:x,reason:c(Y)})})},u=new WeakSet,xc=function(O){const x=O.streamId,L=this.sourceName,V=O.sourceName,H=this.comObj,N=this.streamControllers[x],w=this.streamSinks[x];switch(O.stream){case l.START_COMPLETE:O.success?N.startCall.resolve():N.startCall.reject(c(O.reason));break;case l.PULL_COMPLETE:O.success?N.pullCall.resolve():N.pullCall.reject(c(O.reason));break;case l.PULL:if(!w){H.postMessage({sourceName:L,targetName:V,stream:l.PULL_COMPLETE,streamId:x,success:!0});break}w.desiredSize<=0&&O.desiredSize>0&&w.sinkCapability.resolve(),w.desiredSize=O.desiredSize,new Promise(function(C){var Y;C((Y=w.onPull)==null?void 0:Y.call(w))}).then(function(){H.postMessage({sourceName:L,targetName:V,stream:l.PULL_COMPLETE,streamId:x,success:!0})},function(C){H.postMessage({sourceName:L,targetName:V,stream:l.PULL_COMPLETE,streamId:x,reason:c(C)})});break;case l.ENQUEUE:if((0,r.assert)(N,"enqueue should have stream controller"),N.isClosed)break;N.controller.enqueue(O.chunk);break;case l.CLOSE:if((0,r.assert)(N,"close should have stream controller"),N.isClosed)break;N.isClosed=!0,N.controller.close(),_e(this,W,Vs).call(this,N,x);break;case l.ERROR:(0,r.assert)(N,"error should have stream controller"),N.controller.error(c(O.reason)),_e(this,W,Vs).call(this,N,x);break;case l.CANCEL_COMPLETE:O.success?N.cancelCall.resolve():N.cancelCall.reject(c(O.reason)),_e(this,W,Vs).call(this,N,x);break;case l.CANCEL:if(!w)break;new Promise(function(C){var Y;C((Y=w.onCancel)==null?void 0:Y.call(w,c(O.reason)))}).then(function(){H.postMessage({sourceName:L,targetName:V,stream:l.CANCEL_COMPLETE,streamId:x,success:!0})},function(C){H.postMessage({sourceName:L,targetName:V,stream:l.CANCEL_COMPLETE,streamId:x,reason:c(C)})}),w.sinkCapability.reject(c(O.reason)),w.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}},W=new WeakSet,Vs=async function(O,x){var L,V,H;await Promise.allSettled([(L=O.startCall)==null?void 0:L.promise,(V=O.pullCall)==null?void 0:V.promise,(H=O.cancelCall)==null?void 0:H.promise]),delete this.streamControllers[x]},n.MessageHandler=y},(e,n,s)=>{var l,c;Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var r=s(1);class o{constructor({parsedData:b,rawData:S}){re(this,l,void 0);re(this,c,void 0);ke(this,l,b),ke(this,c,S)}getRaw(){return h(this,c)}get(b){return h(this,l).get(b)??null}getAll(){return(0,r.objectFromMap)(h(this,l))}has(b){return h(this,l).has(b)}}l=new WeakMap,c=new WeakMap,n.Metadata=o},(e,n,s)=>{var b,S,u,R,W,B,Co;Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var r=s(1),o=s(8);const l=Symbol("INTERNAL");class c{constructor(x,L){re(this,b,!0);this.name=x,this.intent=L}get visible(){return h(this,b)}_setVisible(x,L){x!==l&&(0,r.unreachable)("Internal method `_setVisible` called."),ke(this,b,L)}}b=new WeakMap;class y{constructor(x){re(this,B);re(this,S,null);re(this,u,new Map);re(this,R,null);re(this,W,null);if(this.name=null,this.creator=null,x!==null){this.name=x.name,this.creator=x.creator,ke(this,W,x.order);for(const L of x.groups)h(this,u).set(L.id,new c(L.name,L.intent));if(x.baseState==="OFF")for(const L of h(this,u).values())L._setVisible(l,!1);for(const L of x.on)h(this,u).get(L)._setVisible(l,!0);for(const L of x.off)h(this,u).get(L)._setVisible(l,!1);ke(this,R,this.getHash())}}isVisible(x){if(h(this,u).size===0)return!0;if(!x)return(0,r.warn)("Optional content group not defined."),!0;if(x.type==="OCG")return h(this,u).has(x.id)?h(this,u).get(x.id).visible:((0,r.warn)(`Optional content group not found: ${x.id}`),!0);if(x.type==="OCMD"){if(x.expression)return _e(this,B,Co).call(this,x.expression);if(!x.policy||x.policy==="AnyOn"){for(const L of x.ids){if(!h(this,u).has(L))return(0,r.warn)(`Optional content group not found: ${L}`),!0;if(h(this,u).get(L).visible)return!0}return!1}else if(x.policy==="AllOn"){for(const L of x.ids){if(!h(this,u).has(L))return(0,r.warn)(`Optional content group not found: ${L}`),!0;if(!h(this,u).get(L).visible)return!1}return!0}else if(x.policy==="AnyOff"){for(const L of x.ids){if(!h(this,u).has(L))return(0,r.warn)(`Optional content group not found: ${L}`),!0;if(!h(this,u).get(L).visible)return!0}return!1}else if(x.policy==="AllOff"){for(const L of x.ids){if(!h(this,u).has(L))return(0,r.warn)(`Optional content group not found: ${L}`),!0;if(h(this,u).get(L).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${x.policy}.`),!0}return(0,r.warn)(`Unknown group type ${x.type}.`),!0}setVisibility(x,L=!0){if(!h(this,u).has(x)){(0,r.warn)(`Optional content group not found: ${x}`);return}h(this,u).get(x)._setVisible(l,!!L),ke(this,S,null)}get hasInitialVisibility(){return h(this,R)===null||this.getHash()===h(this,R)}getOrder(){return h(this,u).size?h(this,W)?h(this,W).slice():[...h(this,u).keys()]:null}getGroups(){return h(this,u).size>0?(0,r.objectFromMap)(h(this,u)):null}getGroup(x){return h(this,u).get(x)||null}getHash(){if(h(this,S)!==null)return h(this,S);const x=new o.MurmurHash3_64;for(const[L,V]of h(this,u))x.update(`${L}:${V.visible}`);return ke(this,S,x.hexdigest())}}S=new WeakMap,u=new WeakMap,R=new WeakMap,W=new WeakMap,B=new WeakSet,Co=function(x){const L=x.length;if(L<2)return!0;const V=x[0];for(let H=1;H<L;H++){const N=x[H];let w;if(Array.isArray(N))w=_e(this,B,Co).call(this,N);else if(h(this,u).has(N))w=h(this,u).get(N).visible;else return(0,r.warn)(`Optional content group not found: ${N}`),!0;switch(V){case"And":if(!w)return!1;break;case"Or":if(w)return!0;break;case"Not":return!w;default:return!0}}return V==="And"},n.OptionalContentConfig=y},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var r=s(1),o=s(6);class l{constructor({length:S,initialData:u,progressiveDone:R=!1,contentDispositionFilename:W=null,disableRange:B=!1,disableStream:P=!1},O){if((0,r.assert)(O,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=R,this._contentDispositionFilename=W,(u==null?void 0:u.length)>0){const x=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=O,this._isStreamingSupported=!P,this._isRangeSupported=!B,this._contentLength=S,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((x,L)=>{this._onReceiveData({begin:x,chunk:L})}),this._pdfDataRangeTransport.addProgressListener((x,L)=>{this._onProgress({loaded:x,total:L})}),this._pdfDataRangeTransport.addProgressiveReadListener(x=>{this._onReceiveData({chunk:x})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:S,chunk:u}){const R=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(S===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(R):this._queuedChunks.push(R);else{const W=this._rangeReaders.some(function(B){return B._begin!==S?!1:(B._enqueue(R),!0)});(0,r.assert)(W,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var S;return((S=this._fullRequestReader)==null?void 0:S._loaded)??0}_onProgress(S){var u,R,W,B;S.total===void 0?(R=(u=this._rangeReaders[0])==null?void 0:u.onProgress)==null||R.call(u,{loaded:S.loaded}):(B=(W=this._fullRequestReader)==null?void 0:W.onProgress)==null||B.call(W,{loaded:S.loaded,total:S.total})}_onProgressiveDone(){var S;(S=this._fullRequestReader)==null||S.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(S){const u=this._rangeReaders.indexOf(S);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const S=this._queuedChunks;return this._queuedChunks=null,new c(this,S,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(S,u){if(u<=this._progressiveDataLength)return null;const R=new y(this,S,u);return this._pdfDataRangeTransport.requestDataRange(S,u),this._rangeReaders.push(R),R}cancelAllRequests(S){var u;(u=this._fullRequestReader)==null||u.cancel(S);for(const R of this._rangeReaders.slice(0))R.cancel(S);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=l;class c{constructor(S,u,R=!1,W=null){this._stream=S,this._done=R||!1,this._filename=(0,o.isPdfFile)(W)?W:null,this._queuedChunks=u||[],this._loaded=0;for(const B of this._queuedChunks)this._loaded+=B.byteLength;this._requests=[],this._headersReady=Promise.resolve(),S._fullRequestReader=this,this.onProgress=null}_enqueue(S){this._done||(this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunks.push(S),this._loaded+=S.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const S=new r.PromiseCapability;return this._requests.push(S),S.promise}cancel(S){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class y{constructor(S,u,R){this._stream=S,this._begin=u,this._end=R,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(S){if(!this._done){if(this._requests.length===0)this._queuedChunk=S;else{this._requests.shift().resolve({value:S,done:!1});for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const S=new r.PromiseCapability;return this._requests.push(S),S.promise}cancel(S){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var r=s(1),o=s(20);function l(R,W,B){return{method:"GET",headers:R,signal:B.signal,mode:"cors",credentials:W?"include":"same-origin",redirect:"follow"}}function c(R){const W=new Headers;for(const B in R){const P=R[B];P!==void 0&&W.append(B,P)}return W}function y(R){return R instanceof Uint8Array?R.buffer:R instanceof ArrayBuffer?R:((0,r.warn)(`getArrayBuffer - unexpected data format: ${R}`),new Uint8Array(R).buffer)}class b{constructor(W){this.source=W,this.isHttp=/^https?:/i.test(W.url),this.httpHeaders=this.isHttp&&W.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var W;return((W=this._fullRequestReader)==null?void 0:W._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new S(this),this._fullRequestReader}getRangeReader(W,B){if(B<=this._progressiveDataLength)return null;const P=new u(this,W,B);return this._rangeRequestReaders.push(P),P}cancelAllRequests(W){var B;(B=this._fullRequestReader)==null||B.cancel(W);for(const P of this._rangeRequestReaders.slice(0))P.cancel(W)}}n.PDFFetchStream=b;class S{constructor(W){this._stream=W,this._reader=null,this._loaded=0,this._filename=null;const B=W.source;this._withCredentials=B.withCredentials||!1,this._contentLength=B.length,this._headersCapability=new r.PromiseCapability,this._disableRange=B.disableRange||!1,this._rangeChunkSize=B.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!B.disableStream,this._isRangeSupported=!B.disableRange,this._headers=c(this._stream.httpHeaders);const P=B.url;fetch(P,l(this._headers,this._withCredentials,this._abortController)).then(O=>{if(!(0,o.validateResponseStatus)(O.status))throw(0,o.createResponseStatusError)(O.status,P);this._reader=O.body.getReader(),this._headersCapability.resolve();const x=H=>O.headers.get(H),{allowRangeRequests:L,suggestedLength:V}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=V||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(x),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var P;await this._headersCapability.promise;const{value:W,done:B}=await this._reader.read();return B?{value:W,done:B}:(this._loaded+=W.byteLength,(P=this.onProgress)==null||P.call(this,{loaded:this._loaded,total:this._contentLength}),{value:y(W),done:!1})}cancel(W){var B;(B=this._reader)==null||B.cancel(W),this._abortController.abort()}}class u{constructor(W,B,P){this._stream=W,this._reader=null,this._loaded=0;const O=W.source;this._withCredentials=O.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!O.disableStream,this._abortController=new AbortController,this._headers=c(this._stream.httpHeaders),this._headers.append("Range",`bytes=${B}-${P-1}`);const x=O.url;fetch(x,l(this._headers,this._withCredentials,this._abortController)).then(L=>{if(!(0,o.validateResponseStatus)(L.status))throw(0,o.createResponseStatusError)(L.status,x);this._readCapability.resolve(),this._reader=L.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var P;await this._readCapability.promise;const{value:W,done:B}=await this._reader.read();return B?{value:W,done:B}:(this._loaded+=W.byteLength,(P=this.onProgress)==null||P.call(this,{loaded:this._loaded}),{value:y(W),done:!1})}cancel(W){var B;(B=this._reader)==null||B.cancel(W),this._abortController.abort()}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=b,n.extractFilenameFromHeader=y,n.validateRangeRequestCapabilities=c,n.validateResponseStatus=S;var r=s(1),o=s(21),l=s(6);function c({getResponseHeader:u,isHttp:R,rangeChunkSize:W,disableRange:B}){const P={allowRangeRequests:!1,suggestedLength:void 0},O=parseInt(u("Content-Length"),10);return!Number.isInteger(O)||(P.suggestedLength=O,O<=2*W)||B||!R||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(P.allowRangeRequests=!0),P}function y(u){const R=u("Content-Disposition");if(R){let W=(0,o.getFilenameFromContentDispositionHeader)(R);if(W.includes("%"))try{W=decodeURIComponent(W)}catch{}if((0,l.isPdfFile)(W))return W}return null}function b(u,R){return u===404||u===0&&R.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+R+'".'):new r.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${R}".`,u)}function S(u){return u===200||u===206}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=o;var r=s(1);function o(l){let c=!0,y=b("filename\\*","i").exec(l);if(y){y=y[1];let O=W(y);return O=unescape(O),O=B(O),O=P(O),u(O)}if(y=R(l),y){const O=P(y);return u(O)}if(y=b("filename","i").exec(l),y){y=y[1];let O=W(y);return O=P(O),u(O)}function b(O,x){return new RegExp("(?:^|;)\\s*"+O+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function S(O,x){if(O){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const L=new TextDecoder(O,{fatal:!0}),V=(0,r.stringToBytes)(x);x=L.decode(V),c=!1}catch{}}return x}function u(O){return c&&/[\x80-\xff]/.test(O)&&(O=S("utf-8",O),c&&(O=S("iso-8859-1",O))),O}function R(O){const x=[];let L;const V=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(L=V.exec(O))!==null;){let[,N,w,C]=L;if(N=parseInt(N,10),N in x){if(N===0)break;continue}x[N]=[w,C]}const H=[];for(let N=0;N<x.length&&N in x;++N){let[w,C]=x[N];C=W(C),w&&(C=unescape(C),N===0&&(C=B(C))),H.push(C)}return H.join("")}function W(O){if(O.startsWith('"')){const x=O.slice(1).split('\\"');for(let L=0;L<x.length;++L){const V=x[L].indexOf('"');V!==-1&&(x[L]=x[L].slice(0,V),x.length=L+1),x[L]=x[L].replaceAll(/\\(.)/g,"$1")}O=x.join('"')}return O}function B(O){const x=O.indexOf("'");if(x===-1)return O;const L=O.slice(0,x),H=O.slice(x+1).replace(/^[^']*'/,"");return S(L,H)}function P(O){return!O.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(O)?O:O.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,L,V,H){if(V==="q"||V==="Q")return H=H.replaceAll("_"," "),H=H.replaceAll(/=([0-9a-fA-F]{2})/g,function(N,w){return String.fromCharCode(parseInt(w,16))}),S(L,H);try{H=atob(H)}catch{}return S(L,H)})}return""}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var r=s(1),o=s(20);const l=200,c=206;function y(W){const B=W.response;return typeof B!="string"?B:(0,r.stringToBytes)(B).buffer}class b{constructor(B,P={}){this.url=B,this.isHttp=/^https?:/i.test(B),this.httpHeaders=this.isHttp&&P.httpHeaders||Object.create(null),this.withCredentials=P.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(B,P,O){const x={begin:B,end:P};for(const L in O)x[L]=O[L];return this.request(x)}requestFull(B){return this.request(B)}request(B){const P=new XMLHttpRequest,O=this.currXhrId++,x=this.pendingRequests[O]={xhr:P};P.open("GET",this.url),P.withCredentials=this.withCredentials;for(const L in this.httpHeaders){const V=this.httpHeaders[L];V!==void 0&&P.setRequestHeader(L,V)}return this.isHttp&&"begin"in B&&"end"in B?(P.setRequestHeader("Range",`bytes=${B.begin}-${B.end-1}`),x.expectedStatus=c):x.expectedStatus=l,P.responseType="arraybuffer",B.onError&&(P.onerror=function(L){B.onError(P.status)}),P.onreadystatechange=this.onStateChange.bind(this,O),P.onprogress=this.onProgress.bind(this,O),x.onHeadersReceived=B.onHeadersReceived,x.onDone=B.onDone,x.onError=B.onError,x.onProgress=B.onProgress,P.send(null),O}onProgress(B,P){var x;const O=this.pendingRequests[B];O&&((x=O.onProgress)==null||x.call(O,P))}onStateChange(B,P){var N,w,C;const O=this.pendingRequests[B];if(!O)return;const x=O.xhr;if(x.readyState>=2&&O.onHeadersReceived&&(O.onHeadersReceived(),delete O.onHeadersReceived),x.readyState!==4||!(B in this.pendingRequests))return;if(delete this.pendingRequests[B],x.status===0&&this.isHttp){(N=O.onError)==null||N.call(O,x.status);return}const L=x.status||l;if(!(L===l&&O.expectedStatus===c)&&L!==O.expectedStatus){(w=O.onError)==null||w.call(O,x.status);return}const H=y(x);if(L===c){const Y=x.getResponseHeader("Content-Range"),$=/bytes (\d+)-(\d+)\/(\d+)/.exec(Y);O.onDone({begin:parseInt($[1],10),chunk:H})}else H?O.onDone({begin:0,chunk:H}):(C=O.onError)==null||C.call(O,x.status)}getRequestXhr(B){return this.pendingRequests[B].xhr}isPendingRequest(B){return B in this.pendingRequests}abortRequest(B){const P=this.pendingRequests[B].xhr;delete this.pendingRequests[B],P.abort()}}class S{constructor(B){this._source=B,this._manager=new b(B.url,{httpHeaders:B.httpHeaders,withCredentials:B.withCredentials}),this._rangeChunkSize=B.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(B){const P=this._rangeRequestReaders.indexOf(B);P>=0&&this._rangeRequestReaders.splice(P,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(B,P){const O=new R(this._manager,B,P);return O.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(O),O}cancelAllRequests(B){var P;(P=this._fullRequestReader)==null||P.cancel(B);for(const O of this._rangeRequestReaders.slice(0))O.cancel(B)}}n.PDFNetworkStream=S;class u{constructor(B,P){this._manager=B;const O={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._fullRequestId=B.requestFull(O),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=P.disableRange||!1,this._contentLength=P.length,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const B=this._fullRequestId,P=this._manager.getRequestXhr(B),O=V=>P.getResponseHeader(V),{allowRangeRequests:x,suggestedLength:L}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=L||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(O),this._isRangeSupported&&this._manager.abortRequest(B),this._headersReceivedCapability.resolve()}_onDone(B){if(B&&(this._requests.length>0?this._requests.shift().resolve({value:B.chunk,done:!1}):this._cachedChunks.push(B.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(B){this._storedError=(0,o.createResponseStatusError)(B,this._url),this._headersReceivedCapability.reject(this._storedError);for(const P of this._requests)P.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(B){var P;(P=this.onProgress)==null||P.call(this,{loaded:B.loaded,total:B.lengthComputable?B.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const B=new r.PromiseCapability;return this._requests.push(B),B.promise}cancel(B){this._done=!0,this._headersReceivedCapability.reject(B);for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class R{constructor(B,P,O){this._manager=B;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._requestId=B.requestRange(P,O,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var B;(B=this.onClosed)==null||B.call(this,this)}_onDone(B){const P=B.chunk;this._requests.length>0?this._requests.shift().resolve({value:P,done:!1}):this._queuedChunk=P,this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(B){this._storedError=(0,o.createResponseStatusError)(B,this._url);for(const P of this._requests)P.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(B){var P;this.isStreamingSupported||(P=this.onProgress)==null||P.call(this,{loaded:B.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const P=this._queuedChunk;return this._queuedChunk=null,{value:P,done:!1}}if(this._done)return{value:void 0,done:!0};const B=new r.PromiseCapability;return this._requests.push(B),B.promise}cancel(B){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var r=s(1),o=s(20);const l=/^file:\/\/\/[a-zA-Z]:\//;function c(O){const x=require$$5,L=x.parse(O);return L.protocol==="file:"||L.host?L:/^[a-z]:[/\\]/i.test(O)?x.parse(`file:///${O}`):(L.host||(L.protocol="file:"),L)}class y{constructor(x){this.source=x,this.url=c(x.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var x;return((x=this._fullRequestReader)==null?void 0:x._loaded)??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new B(this):new R(this),this._fullRequestReader}getRangeReader(x,L){if(L<=this._progressiveDataLength)return null;const V=this.isFsUrl?new P(this,x,L):new W(this,x,L);return this._rangeRequestReaders.push(V),V}cancelAllRequests(x){var L;(L=this._fullRequestReader)==null||L.cancel(x);for(const V of this._rangeRequestReaders.slice(0))V.cancel(x)}}n.PDFNodeStream=y;class b{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null;const L=x.source;this._contentLength=L.length,this._loaded=0,this._filename=null,this._disableRange=L.disableRange||!1,this._rangeChunkSize=L.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!L.disableStream,this._isRangeSupported=!L.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var V;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const x=this._readableStream.read();return x===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=x.length,(V=this.onProgress)==null||V.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){if(!this._readableStream){this._error(x);return}this._readableStream.destroy(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",L=>{this._error(L)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(x){this._url=x.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const L=x.source;this._isStreamingSupported=!L.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var V;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const x=this._readableStream.read();return x===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=x.length,(V=this.onProgress)==null||V.call(this,{loaded:this._loaded}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){if(!this._readableStream){this._error(x);return}this._readableStream.destroy(x)}_error(x){this._storedError=x,this._readCapability.resolve()}_setReadableStream(x){this._readableStream=x,x.on("readable",()=>{this._readCapability.resolve()}),x.on("end",()=>{x.destroy(),this._done=!0,this._readCapability.resolve()}),x.on("error",L=>{this._error(L)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(O,x){return{protocol:O.protocol,auth:O.auth,host:O.hostname,port:O.port,path:O.path,method:"GET",headers:x}}class R extends b{constructor(x){super(x);const L=V=>{if(V.statusCode===404){const C=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(V);const H=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:N,suggestedLength:w}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:H,isHttp:x.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=N,this._contentLength=w||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(H)};if(this._request=null,this._url.protocol==="http:"){const V=require$$5;this._request=V.request(u(this._url,x.httpHeaders),L)}else{const V=require$$5;this._request=V.request(u(this._url,x.httpHeaders),L)}this._request.on("error",V=>{this._storedError=V,this._headersCapability.reject(V)}),this._request.end()}}class W extends S{constructor(x,L,V){super(x),this._httpHeaders={};for(const N in x.httpHeaders){const w=x.httpHeaders[N];w!==void 0&&(this._httpHeaders[N]=w)}this._httpHeaders.Range=`bytes=${L}-${V-1}`;const H=N=>{if(N.statusCode===404){const w=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(N)};if(this._request=null,this._url.protocol==="http:"){const N=require$$5;this._request=N.request(u(this._url,this._httpHeaders),H)}else{const N=require$$5;this._request=N.request(u(this._url,this._httpHeaders),H)}this._request.on("error",N=>{this._storedError=N}),this._request.end()}}class B extends b{constructor(x){super(x);let L=decodeURIComponent(this._url.path);l.test(this._url.href)&&(L=L.replace(/^\//,""));const V=require$$5;V.lstat(L,(H,N)=>{if(H){H.code==="ENOENT"&&(H=new r.MissingPDFException(`Missing PDF "${L}".`)),this._storedError=H,this._headersCapability.reject(H);return}this._contentLength=N.size,this._setReadableStream(V.createReadStream(L)),this._headersCapability.resolve()})}}class P extends S{constructor(x,L,V){super(x);let H=decodeURIComponent(this._url.path);l.test(this._url.href)&&(H=H.replace(/^\//,""));const N=require$$5;this._setReadableStream(N.createReadStream(H,{start:L,end:V-1}))}}},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var r=s(6),o=s(1);const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",b=["butt","round","square"],S=["miter","round","bevel"],u=function(N,w="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([N],{type:w}));const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let $=`data:${w};base64,`;for(let E=0,J=N.length;E<J;E+=3){const j=N[E]&255,ue=N[E+1]&255,fe=N[E+2]&255,D=j>>2,Z=(j&3)<<4|ue>>4,ee=E+1<J?(ue&15)<<2|fe>>6:64,me=E+2<J?fe&63:64;$+=Y[D]+Y[Z]+Y[ee]+Y[me]}return $},R=function(){const N=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,C=new Int32Array(256);for(let fe=0;fe<256;fe++){let D=fe;for(let Z=0;Z<8;Z++)D=D&1?3988292384^D>>1&2147483647:D>>1&2147483647;C[fe]=D}function Y(fe,D,Z){let ee=-1;for(let me=D;me<Z;me++){const ie=(ee^fe[me])&255,ge=C[ie];ee=ee>>>8^ge}return ee^-1}function $(fe,D,Z,ee){let me=ee;const ie=D.length;Z[me]=ie>>24&255,Z[me+1]=ie>>16&255,Z[me+2]=ie>>8&255,Z[me+3]=ie&255,me+=4,Z[me]=fe.charCodeAt(0)&255,Z[me+1]=fe.charCodeAt(1)&255,Z[me+2]=fe.charCodeAt(2)&255,Z[me+3]=fe.charCodeAt(3)&255,me+=4,Z.set(D,me),me+=D.length;const ge=Y(Z,ee+4,me);Z[me]=ge>>24&255,Z[me+1]=ge>>16&255,Z[me+2]=ge>>8&255,Z[me+3]=ge&255}function E(fe,D,Z){let ee=1,me=0;for(let ie=D;ie<Z;++ie)ee=(ee+(fe[ie]&255))%65521,me=(me+ee)%65521;return me<<16|ee}function J(fe){if(!o.isNodeJS)return j(fe);try{const D=parseInt(process.versions.node)>=8?fe:Buffer.from(fe),Z=require$$5.deflateSync(D,{level:9});return Z instanceof Uint8Array?Z:new Uint8Array(Z)}catch(D){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+D)}return j(fe)}function j(fe){let D=fe.length;const Z=65535,ee=Math.ceil(D/Z),me=new Uint8Array(2+D+ee*5+4);let ie=0;me[ie++]=120,me[ie++]=156;let ge=0;for(;D>Z;)me[ie++]=0,me[ie++]=255,me[ie++]=255,me[ie++]=0,me[ie++]=0,me.set(fe.subarray(ge,ge+Z),ie),ie+=Z,ge+=Z,D-=Z;me[ie++]=1,me[ie++]=D&255,me[ie++]=D>>8&255,me[ie++]=~D&65535&255,me[ie++]=(~D&65535)>>8&255,me.set(fe.subarray(ge),ie),ie+=fe.length-ge;const Re=E(fe,0,fe.length);return me[ie++]=Re>>24&255,me[ie++]=Re>>16&255,me[ie++]=Re>>8&255,me[ie++]=Re&255,me}function ue(fe,D,Z,ee){const me=fe.width,ie=fe.height;let ge,Re,Ee;const Oe=fe.data;switch(D){case o.ImageKind.GRAYSCALE_1BPP:Re=0,ge=1,Ee=me+7>>3;break;case o.ImageKind.RGB_24BPP:Re=2,ge=8,Ee=me*3;break;case o.ImageKind.RGBA_32BPP:Re=6,ge=8,Ee=me*4;break;default:throw new Error("invalid format")}const G=new Uint8Array((1+Ee)*ie);let m=0,A=0;for(let ae=0;ae<ie;++ae)G[m++]=0,G.set(Oe.subarray(A,A+Ee),m),A+=Ee,m+=Ee;if(D===o.ImageKind.GRAYSCALE_1BPP&&ee){m=0;for(let ae=0;ae<ie;ae++){m++;for(let Ce=0;Ce<Ee;Ce++)G[m++]^=255}}const g=new Uint8Array([me>>24&255,me>>16&255,me>>8&255,me&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255,ge,Re,0,0,0]),T=J(G),F=N.length+w*3+g.length+T.length,q=new Uint8Array(F);let Q=0;return q.set(N,Q),Q+=N.length,$("IHDR",g,q,Q),Q+=w+g.length,$("IDATA",T,q,Q),Q+=w+T.length,$("IEND",new Uint8Array(0),q,Q),u(q,"image/png",Z)}return function(D,Z,ee){const me=D.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:D.kind;return ue(D,me,Z,ee)}}();class W{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,C){this.x=w,this.y=C}}function B(N){let w=[];const C=[];for(const Y of N){if(Y.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),C.push(w),w=w.at(-1).items;continue}Y.fn==="restore"?w=C.pop():w.push(Y)}return w}function P(N){if(Number.isInteger(N))return N.toString();const w=N.toFixed(10);let C=w.length-1;if(w[C]!=="0")return w;do C--;while(w[C]==="0");return w.substring(0,w[C]==="."?C:C+1)}function O(N){if(N[4]===0&&N[5]===0){if(N[1]===0&&N[2]===0)return N[0]===1&&N[3]===1?"":`scale(${P(N[0])} ${P(N[3])})`;if(N[0]===N[3]&&N[1]===-N[2]){const w=Math.acos(N[0])*180/Math.PI;return`rotate(${P(w)})`}}else if(N[0]===1&&N[1]===0&&N[2]===0&&N[3]===1)return`translate(${P(N[4])} ${P(N[5])})`;return`matrix(${P(N[0])} ${P(N[1])} ${P(N[2])} ${P(N[3])} ${P(N[4])} ${P(N[5])})`}let x=0,L=0,V=0;class H{constructor(w,C,Y=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new W,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Y,this._operatorIdMapping=[];for(const $ in o.OPS)this._operatorIdMapping[o.OPS[$]]=$}getObject(w,C=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):C}save(){this.transformStack.push(this.transformMatrix);const w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){const C=w.fnArray,Y=w.argsArray;for(let $=0,E=C.length;$<E;$++)if(C[$]===o.OPS.dependency)for(const J of Y[$]){const j=J.startsWith("g_")?this.commonObjs:this.objs,ue=new Promise(fe=>{j.get(J,fe)});this.current.dependencies.push(ue)}return Promise.all(this.current.dependencies)}transform(w,C,Y,$,E,J){const j=[w,C,Y,$,E,J];this.transformMatrix=o.Util.transform(this.transformMatrix,j),this.tgrp=null}getSVG(w,C){this.viewport=C;const Y=this._initialize(C);return this.loadDependencies(w).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),Y))}convertOpList(w){const C=this._operatorIdMapping,Y=w.argsArray,$=w.fnArray,E=[];for(let J=0,j=$.length;J<j;J++){const ue=$[J];E.push({fnId:ue,fn:C[ue],args:Y[J]})}return B(E)}executeOpTree(w){for(const C of w){const Y=C.fn,$=C.fnId,E=C.args;switch($|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(E);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(E[0],E[1]);break;case o.OPS.setFont:this.setFont(E);break;case o.OPS.showText:this.showText(E[0]);break;case o.OPS.showSpacedText:this.showText(E[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(E[0],E[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(E[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(E[0]);break;case o.OPS.setHScale:this.setHScale(E[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(E[0],E[1],E[2],E[3],E[4],E[5]);break;case o.OPS.setTextRise:this.setTextRise(E[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(E[0]);break;case o.OPS.setLineWidth:this.setLineWidth(E[0]);break;case o.OPS.setLineJoin:this.setLineJoin(E[0]);break;case o.OPS.setLineCap:this.setLineCap(E[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(E[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(E[0],E[1],E[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(E[0],E[1],E[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(E);break;case o.OPS.setFillColorN:this.setFillColorN(E);break;case o.OPS.shadingFill:this.shadingFill(E[0]);break;case o.OPS.setDash:this.setDash(E[0],E[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(E[0]);break;case o.OPS.setFlatness:this.setFlatness(E[0]);break;case o.OPS.setGState:this.setGState(E[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(E[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(E[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(E[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(E[0],E[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(E[0],E[1],E[2],E[3],E[4],E[5]);break;case o.OPS.constructPath:this.constructPath(E[0],E[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,o.warn)(`Unimplemented operator ${Y}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,C,Y,$,E,J){const j=this.current;j.textMatrix=j.lineMatrix=[w,C,Y,$,E,J],j.textMatrixScale=Math.hypot(w,C),j.x=j.lineX=0,j.y=j.lineY=0,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${P(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",P(-j.y)),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtElement.append(j.tspan)}beginText(){const w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=o.IDENTITY_MATRIX,w.lineMatrix=o.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,C){const Y=this.current;Y.x=Y.lineX+=w,Y.y=Y.lineY+=C,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size",`${P(Y.fontSize)}px`),Y.tspan.setAttributeNS(null,"y",P(-Y.y))}showText(w){const C=this.current,Y=C.font,$=C.fontSize;if($===0)return;const E=C.fontSizeScale,J=C.charSpacing,j=C.wordSpacing,ue=C.fontDirection,fe=C.textHScale*ue,D=Y.vertical,Z=D?1:-1,ee=Y.defaultVMetrics,me=$*C.fontMatrix[0];let ie=0;for(const Ee of w){if(Ee===null){ie+=ue*j;continue}else if(typeof Ee=="number"){ie+=Z*Ee*$/1e3;continue}const Oe=(Ee.isSpace?j:0)+J,G=Ee.fontChar;let m,A,g=Ee.width;if(D){let F;const q=Ee.vmetric||ee;F=Ee.vmetric?q[1]:g*.5,F=-F*me;const Q=q[2]*me;g=q?-q[0]:g,m=F/E,A=(ie+Q)/E}else m=ie/E,A=0;(Ee.isInFont||Y.missingFile)&&(C.xcoords.push(C.x+m),D&&C.ycoords.push(-C.y+A),C.tspan.textContent+=G);const T=D?g*me-Oe*ue:g*me+Oe*ue;ie+=T}C.tspan.setAttributeNS(null,"x",C.xcoords.map(P).join(" ")),D?C.tspan.setAttributeNS(null,"y",C.ycoords.map(P).join(" ")):C.tspan.setAttributeNS(null,"y",P(-C.y)),D?C.y-=ie:C.x+=ie*fe,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${P(C.fontSize)}px`),C.fontStyle!==l.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==l.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);const ge=C.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(ge===o.TextRenderingMode.FILL||ge===o.TextRenderingMode.FILL_STROKE?(C.fillColor!==l.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?C.tspan.setAttributeNS(null,"fill","transparent"):C.tspan.setAttributeNS(null,"fill","none"),ge===o.TextRenderingMode.STROKE||ge===o.TextRenderingMode.FILL_STROKE){const Ee=1/(C.textMatrixScale||1);this._setStrokeAttributes(C.tspan,Ee)}let Re=C.textMatrix;C.textRise!==0&&(Re=Re.slice(),Re[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${O(Re)} scale(${P(fe)}, -1)`),C.txtElement.setAttributeNS(c,"xml:space","preserve"),C.txtElement.append(C.tspan),C.txtgrp.append(C.txtElement),this._ensureTransformGroup().append(C.txtElement)}setLeadingMoveText(w,C){this.setLeading(-C),this.moveText(w,C)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const C=u(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${C}); }
`}setFont(w){const C=this.current,Y=this.commonObjs.get(w[0]);let $=w[1];C.font=Y,this.embedFonts&&!Y.missingFile&&!this.embeddedFonts[Y.loadedName]&&(this.addFontStyle(Y),this.embeddedFonts[Y.loadedName]=Y),C.fontMatrix=Y.fontMatrix||o.FONT_IDENTITY_MATRIX;let E="normal";Y.black?E="900":Y.bold&&(E="bold");const J=Y.italic?"italic":"normal";$<0?($=-$,C.fontDirection=-1):C.fontDirection=1,C.fontSize=$,C.fontFamily=Y.loadedName,C.fontWeight=E,C.fontStyle=J,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",P(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){var C;const w=this.current;w.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((C=w.txtElement)!=null&&C.hasChildNodes())&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=b[w]}setLineJoin(w){this.current.lineJoin=S[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,C,Y){this.current.strokeColor=o.Util.makeHexColor(w,C,Y)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,C,Y){this.current.fillColor=o.Util.makeHexColor(w,C,Y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){const{width:C,height:Y}=this.viewport,$=o.Util.inverseTransform(this.transformMatrix),[E,J,j,ue]=o.Util.getAxialAlignedBoundingBox([0,0,C,Y],$),fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x",E),fe.setAttributeNS(null,"y",J),fe.setAttributeNS(null,"width",j-E),fe.setAttributeNS(null,"height",ue-J),fe.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&fe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(fe)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){const C=w[1],Y=w[2],$=w[3]||o.IDENTITY_MATRIX,[E,J,j,ue]=w[4],fe=w[5],D=w[6],Z=w[7],ee=`shading${V++}`,[me,ie,ge,Re]=o.Util.normalizeRect([...o.Util.applyTransform([E,J],$),...o.Util.applyTransform([j,ue],$)]),[Ee,Oe]=o.Util.singularValueDecompose2dScale($),G=fe*Ee,m=D*Oe,A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",ee),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",G),A.setAttributeNS(null,"height",m),A.setAttributeNS(null,"x",`${me}`),A.setAttributeNS(null,"y",`${ie}`);const g=this.svg,T=this.transformMatrix,F=this.current.fillColor,q=this.current.strokeColor,Q=this.svgFactory.create(ge-me,Re-ie);if(this.svg=Q,this.transformMatrix=$,Z===2){const ae=o.Util.makeHexColor(...C);this.current.fillColor=ae,this.current.strokeColor=ae}return this.executeOpTree(this.convertOpList(Y)),this.svg=g,this.transformMatrix=T,this.current.fillColor=F,this.current.strokeColor=q,A.append(Q.childNodes[0]),this.defs.append(A),`url(#${ee})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":const C=`shading${V++}`,Y=w[3];let $;switch(w[1]){case"axial":const E=w[4],J=w[5];$=this.svgFactory.createElement("svg:linearGradient"),$.setAttributeNS(null,"id",C),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"x1",E[0]),$.setAttributeNS(null,"y1",E[1]),$.setAttributeNS(null,"x2",J[0]),$.setAttributeNS(null,"y2",J[1]);break;case"radial":const j=w[4],ue=w[5],fe=w[6],D=w[7];$=this.svgFactory.createElement("svg:radialGradient"),$.setAttributeNS(null,"id",C),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"cx",ue[0]),$.setAttributeNS(null,"cy",ue[1]),$.setAttributeNS(null,"r",D),$.setAttributeNS(null,"fx",j[0]),$.setAttributeNS(null,"fy",j[1]),$.setAttributeNS(null,"fr",fe);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(const E of Y){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",E[0]),J.setAttributeNS(null,"stop-color",E[1]),$.append(J)}return this.defs.append($),`url(#${C})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,C){this.current.dashArray=w,this.current.dashPhase=C}constructPath(w,C){const Y=this.current;let $=Y.x,E=Y.y,J=[],j=0;for(const ue of w)switch(ue|0){case o.OPS.rectangle:$=C[j++],E=C[j++];const fe=C[j++],D=C[j++],Z=$+fe,ee=E+D;J.push("M",P($),P(E),"L",P(Z),P(E),"L",P(Z),P(ee),"L",P($),P(ee),"Z");break;case o.OPS.moveTo:$=C[j++],E=C[j++],J.push("M",P($),P(E));break;case o.OPS.lineTo:$=C[j++],E=C[j++],J.push("L",P($),P(E));break;case o.OPS.curveTo:$=C[j+4],E=C[j+5],J.push("C",P(C[j]),P(C[j+1]),P(C[j+2]),P(C[j+3]),P($),P(E)),j+=6;break;case o.OPS.curveTo2:J.push("C",P($),P(E),P(C[j]),P(C[j+1]),P(C[j+2]),P(C[j+3])),$=C[j+2],E=C[j+3],j+=4;break;case o.OPS.curveTo3:$=C[j+2],E=C[j+3],J.push("C",P(C[j]),P(C[j+1]),P($),P(E),P($),P(E)),j+=4;break;case o.OPS.closePath:J.push("Z");break}J=J.join(" "),Y.path&&w.length>0&&w[0]!==o.OPS.rectangle&&w[0]!==o.OPS.moveTo?J=Y.path.getAttributeNS(null,"d")+J:(Y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Y.path)),Y.path.setAttributeNS(null,"d",J),Y.path.setAttributeNS(null,"fill","none"),Y.element=Y.path,Y.setCurrentPoint($,E)}endPath(){const w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}const C=`clippath${x++}`,Y=this.svgFactory.createElement("svg:clipPath");Y.setAttributeNS(null,"id",C),Y.setAttributeNS(null,"transform",O(this.transformMatrix));const $=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?$.setAttributeNS(null,"clip-rule","evenodd"):$.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Y.append($),this.defs.append(Y),w.activeClipUrl){w.clipGroup=null;for(const E of this.extraStack)E.clipGroup=null;Y.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){const w=this.current;if(w.path){const C=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",C)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(const[C,Y]of w)switch(C){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y);break;case"CA":this.setStrokeAlpha(Y);break;case"ca":this.setFillAlpha(Y);break;default:(0,o.warn)(`Unimplemented graphic state operator ${C}`);break}}fill(){const w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){const w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w,C=1){const Y=this.current;let $=Y.dashArray;C!==1&&$.length>0&&($=$.map(function(E){return C*E})),w.setAttributeNS(null,"stroke",Y.strokeColor),w.setAttributeNS(null,"stroke-opacity",Y.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",P(Y.miterLimit)),w.setAttributeNS(null,"stroke-linecap",Y.lineCap),w.setAttributeNS(null,"stroke-linejoin",Y.lineJoin),w.setAttributeNS(null,"stroke-width",P(C*Y.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",$.map(P).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",P(C*Y.dashPhase)+"px")}eoFill(){var w;(w=this.current.element)==null||w.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var w;(w=this.current.element)==null||w.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){const C=this.getObject(w);if(!C){(0,o.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(C)}paintInlineImageXObject(w,C){const Y=w.width,$=w.height,E=R(w,this.forceDataSchema,!!C),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",P(Y)),J.setAttributeNS(null,"height",P($)),this.current.element=J,this.clip("nonzero");const j=this.svgFactory.createElement("svg:image");j.setAttributeNS(y,"xlink:href",E),j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y",P(-$)),j.setAttributeNS(null,"width",P(Y)+"px"),j.setAttributeNS(null,"height",P($)+"px"),j.setAttributeNS(null,"transform",`scale(${P(1/Y)} ${P(-1/$)})`),C?C.append(j):this._ensureTransformGroup().append(j)}paintImageMaskXObject(w){const C=this.getObject(w.data,w);if(C.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Y=this.current,$=C.width,E=C.height,J=Y.fillColor;Y.maskId=`mask${L++}`;const j=this.svgFactory.createElement("svg:mask");j.setAttributeNS(null,"id",Y.maskId);const ue=this.svgFactory.createElement("svg:rect");ue.setAttributeNS(null,"x","0"),ue.setAttributeNS(null,"y","0"),ue.setAttributeNS(null,"width",P($)),ue.setAttributeNS(null,"height",P(E)),ue.setAttributeNS(null,"fill",J),ue.setAttributeNS(null,"mask",`url(#${Y.maskId})`),this.defs.append(j),this._ensureTransformGroup().append(ue),this.paintInlineImageXObject(C,j)}paintFormXObjectBegin(w,C){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),C){const Y=C[2]-C[0],$=C[3]-C[1],E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",C[0]),E.setAttributeNS(null,"y",C[1]),E.setAttributeNS(null,"width",P(Y)),E.setAttributeNS(null,"height",P($)),this.current.element=E,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){const C=this.svgFactory.create(w.width,w.height),Y=this.svgFactory.createElement("svg:defs");C.append(Y),this.defs=Y;const $=this.svgFactory.createElement("svg:g");return $.setAttributeNS(null,"transform",O(w.transform)),C.append($),this.svg=$,C}_ensureClipGroup(){if(!this.current.clipGroup){const w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",O(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}n.SVGGraphics=H},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class s{static textContent(o){const l=[],c={items:l,styles:Object.create(null)};function y(b){var R;if(!b)return;let S=null;const u=b.name;if(u==="#text")S=b.value;else if(s.shouldBuildText(u))(R=b==null?void 0:b.attributes)!=null&&R.textContent?S=b.attributes.textContent:b.value&&(S=b.value);else return;if(S!==null&&l.push({str:S}),!!b.children)for(const W of b.children)y(W)}return y(o),c}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}n.XfaText=s},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=O,n.updateTextLayer=x;var r=s(1),o=s(6);const l=1e5,c=30,y=.8,b=new Map;function S(L,V){let H;if(V&&r.FeatureTest.isOffscreenCanvasSupported)H=new OffscreenCanvas(L,L).getContext("2d",{alpha:!1});else{const N=document.createElement("canvas");N.width=N.height=L,H=N.getContext("2d",{alpha:!1})}return H}function u(L,V){const H=b.get(L);if(H)return H;const N=S(c,V);N.font=`${c}px ${L}`;const w=N.measureText("");let C=w.fontBoundingBoxAscent,Y=Math.abs(w.fontBoundingBoxDescent);if(C){const E=C/(C+Y);return b.set(L,E),N.canvas.width=N.canvas.height=0,E}N.strokeStyle="red",N.clearRect(0,0,c,c),N.strokeText("g",0,0);let $=N.getImageData(0,0,c,c).data;Y=0;for(let E=$.length-1-3;E>=0;E-=4)if($[E]>0){Y=Math.ceil(E/4/c);break}N.clearRect(0,0,c,c),N.strokeText("A",0,c),$=N.getImageData(0,0,c,c).data,C=0;for(let E=0,J=$.length;E<J;E+=4)if($[E]>0){C=c-Math.floor(E/4/c);break}if(N.canvas.width=N.canvas.height=0,C){const E=C/(C+Y);return b.set(L,E),E}return b.set(L,y),y}function R(L,V,H){const N=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:V.str!=="",hasEOL:V.hasEOL,fontSize:0};L._textDivs.push(N);const C=r.Util.transform(L._transform,V.transform);let Y=Math.atan2(C[1],C[0]);const $=H[V.fontName];$.vertical&&(Y+=Math.PI/2);const E=Math.hypot(C[2],C[3]),J=E*u($.fontFamily,L._isOffscreenCanvasSupported);let j,ue;Y===0?(j=C[4],ue=C[5]-J):(j=C[4]+J*Math.sin(Y),ue=C[5]-J*Math.cos(Y));const fe="calc(var(--scale-factor)*",D=N.style;L._container===L._rootContainer?(D.left=`${(100*j/L._pageWidth).toFixed(2)}%`,D.top=`${(100*ue/L._pageHeight).toFixed(2)}%`):(D.left=`${fe}${j.toFixed(2)}px)`,D.top=`${fe}${ue.toFixed(2)}px)`),D.fontSize=`${fe}${E.toFixed(2)}px)`,D.fontFamily=$.fontFamily,w.fontSize=E,N.setAttribute("role","presentation"),N.textContent=V.str,N.dir=V.dir,L._fontInspectorEnabled&&(N.dataset.fontName=V.fontName),Y!==0&&(w.angle=Y*(180/Math.PI));let Z=!1;if(V.str.length>1)Z=!0;else if(V.str!==" "&&V.transform[0]!==V.transform[3]){const ee=Math.abs(V.transform[0]),me=Math.abs(V.transform[3]);ee!==me&&Math.max(ee,me)/Math.min(ee,me)>1.5&&(Z=!0)}Z&&(w.canvasWidth=$.vertical?V.height:V.width),L._textDivProperties.set(N,w),L._isReadableStream&&L._layoutText(N)}function W(L){const{div:V,scale:H,properties:N,ctx:w,prevFontSize:C,prevFontFamily:Y}=L,{style:$}=V;let E="";if(N.canvasWidth!==0&&N.hasText){const{fontFamily:J}=$,{canvasWidth:j,fontSize:ue}=N;(C!==ue||Y!==J)&&(w.font=`${ue*H}px ${J}`,L.prevFontSize=ue,L.prevFontFamily=J);const{width:fe}=w.measureText(V.textContent);fe>0&&(E=`scaleX(${j*H/fe})`)}N.angle!==0&&(E=`rotate(${N.angle}deg) ${E}`),E.length>0&&($.transform=E)}function B(L){if(L._canceled)return;const V=L._textDivs,H=L._capability;if(V.length>l){H.resolve();return}if(!L._isReadableStream)for(const w of V)L._layoutText(w);H.resolve()}class P{constructor({textContentSource:V,container:H,viewport:N,textDivs:w,textDivProperties:C,textContentItemsStr:Y,isOffscreenCanvasSupported:$}){var fe;this._textContentSource=V,this._isReadableStream=V instanceof ReadableStream,this._container=this._rootContainer=H,this._textDivs=w||[],this._textContentItemsStr=Y||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!((fe=globalThis.FontInspector)!=null&&fe.enabled),this._reader=null,this._textDivProperties=C||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:N.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:S(0,$)};const{pageWidth:E,pageHeight:J,pageX:j,pageY:ue}=N.rawDims;this._transform=[1,0,0,-1,-j,ue+J],this._pageWidth=E,this._pageHeight=J,(0,o.setLayerDimensions)(H,N),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(V,H){for(const N of V){if(N.str===void 0){if(N.type==="beginMarkedContentProps"||N.type==="beginMarkedContent"){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),N.id!==null&&this._container.setAttribute("id",`${N.id}`),w.append(this._container)}else N.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(N.str),R(this,N,H)}}_layoutText(V){const H=this._layoutTextParams.properties=this._textDivProperties.get(V);if(this._layoutTextParams.div=V,W(this._layoutTextParams),H.hasText&&this._container.append(V),H.hasEOL){const N=document.createElement("br");N.setAttribute("role","presentation"),this._container.append(N)}}_render(){const V=new r.PromiseCapability;let H=Object.create(null);if(this._isReadableStream){const N=()=>{this._reader.read().then(({value:w,done:C})=>{if(C){V.resolve();return}Object.assign(H,w.styles),this._processItems(w.items,H),N()},V.reject)};this._reader=this._textContentSource.getReader(),N()}else if(this._textContentSource){const{items:N,styles:w}=this._textContentSource;this._processItems(N,w),V.resolve()}else throw new Error('No "textContentSource" parameter specified.');V.promise.then(()=>{H=null,B(this)},this._capability.reject)}}n.TextLayerRenderTask=P;function O(L){!L.textContentSource&&(L.textContent||L.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),L.textContentSource=L.textContent||L.textContentStream);const{container:V,viewport:H}=L,N=getComputedStyle(V),w=N.getPropertyValue("visibility"),C=parseFloat(N.getPropertyValue("--scale-factor"));w==="visible"&&(!C||Math.abs(C-H.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Y=new P(L);return Y._render(),Y}function x({container:L,viewport:V,textDivs:H,textDivProperties:N,isOffscreenCanvasSupported:w,mustRotate:C=!0,mustRescale:Y=!0}){if(C&&(0,o.setLayerDimensions)(L,{rotation:V.rotation}),Y){const $=S(0,w),J={prevFontSize:null,prevFontFamily:null,div:null,scale:V.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const j of H)J.properties=N.get(j),J.div=j,W(J)}}},(e,n,s)=>{var u,R,W,B,P,O,x,L,V,H,N,To,C,js,$,Ro,J,Po;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var r=s(1),o=s(4),l=s(28),c=s(33),y=s(6),b=s(34);const ue=class ue{constructor({uiManager:D,pageIndex:Z,div:ee,accessibilityManager:me,annotationLayer:ie,viewport:ge,l10n:Re}){re(this,N);re(this,C);re(this,$);re(this,J);re(this,u,void 0);re(this,R,!1);re(this,W,null);re(this,B,this.pointerup.bind(this));re(this,P,this.pointerdown.bind(this));re(this,O,new Map);re(this,x,!1);re(this,L,!1);re(this,V,!1);re(this,H,void 0);const Ee=[l.FreeTextEditor,c.InkEditor,b.StampEditor];if(!ue._initialized){ue._initialized=!0;for(const Oe of Ee)Oe.initialize(Re)}D.registerEditorTypes(Ee),ke(this,H,D),this.pageIndex=Z,this.div=ee,ke(this,u,me),ke(this,W,ie),this.viewport=ge,h(this,H).addLayer(this)}get isEmpty(){return h(this,O).size===0}updateToolbar(D){h(this,H).updateToolbar(D)}updateMode(D=h(this,H).getMode()){_e(this,J,Po).call(this),D===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),D!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",D===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",D===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",D===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(D){if(!D&&h(this,H).getMode()!==r.AnnotationEditorType.INK)return;if(!D){for(const ee of h(this,O).values())if(ee.isEmpty()){ee.setInBackground();return}}_e(this,C,js).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(D){h(this,H).setEditingState(D)}addCommands(D){h(this,H).addCommands(D)}enable(){this.div.style.pointerEvents="auto";const D=new Set;for(const ee of h(this,O).values())ee.enableEditing(),ee.annotationElementId&&D.add(ee.annotationElementId);if(!h(this,W))return;const Z=h(this,W).getEditableAnnotations();for(const ee of Z){if(ee.hide(),h(this,H).isDeletedAnnotationElement(ee.data.id)||D.has(ee.data.id))continue;const me=this.deserialize(ee);me&&(this.addOrRebuild(me),me.enableEditing())}}disable(){var Z;ke(this,V,!0),this.div.style.pointerEvents="none";const D=new Set;for(const ee of h(this,O).values()){if(ee.disableEditing(),!ee.annotationElementId||ee.serialize()!==null){D.add(ee.annotationElementId);continue}(Z=this.getEditableAnnotation(ee.annotationElementId))==null||Z.show(),ee.remove()}if(h(this,W)){const ee=h(this,W).getEditableAnnotations();for(const me of ee){const{id:ie}=me.data;D.has(ie)||h(this,H).isDeletedAnnotationElement(ie)||me.show()}}_e(this,J,Po).call(this),this.isEmpty&&(this.div.hidden=!0),ke(this,V,!1)}getEditableAnnotation(D){var Z;return((Z=h(this,W))==null?void 0:Z.getEditableAnnotation(D))||null}setActiveEditor(D){h(this,H).getActive()!==D&&h(this,H).setActiveEditor(D)}enableClick(){this.div.addEventListener("pointerdown",h(this,P)),this.div.addEventListener("pointerup",h(this,B))}disableClick(){this.div.removeEventListener("pointerdown",h(this,P)),this.div.removeEventListener("pointerup",h(this,B))}attach(D){h(this,O).set(D.id,D);const{annotationElementId:Z}=D;Z&&h(this,H).isDeletedAnnotationElement(Z)&&h(this,H).removeDeletedAnnotationElement(D)}detach(D){var Z;h(this,O).delete(D.id),(Z=h(this,u))==null||Z.removePointerInTextLayer(D.contentDiv),!h(this,V)&&D.annotationElementId&&h(this,H).addDeletedAnnotationElement(D)}remove(D){this.detach(D),h(this,H).removeEditor(D),D.div.contains(document.activeElement)&&setTimeout(()=>{h(this,H).focusMainContainer()},0),D.div.remove(),D.isAttachedToDOM=!1,h(this,L)||this.addInkEditorIfNeeded(!1)}changeParent(D){var Z;D.parent!==this&&(D.annotationElementId&&(h(this,H).addDeletedAnnotationElement(D.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(D),D.annotationElementId=null),this.attach(D),(Z=D.parent)==null||Z.detach(D),D.setParent(this),D.div&&D.isAttachedToDOM&&(D.div.remove(),this.div.append(D.div)))}add(D){if(this.changeParent(D),h(this,H).addEditor(D),this.attach(D),!D.isAttachedToDOM){const Z=D.render();this.div.append(Z),D.isAttachedToDOM=!0}D.fixAndSetPosition(),D.onceAdded(),h(this,H).addToAnnotationStorage(D)}moveEditorInDOM(D){var ee;if(!D.isAttachedToDOM)return;const{activeElement:Z}=document;D.div.contains(Z)&&(D._focusEventsAllowed=!1,setTimeout(()=>{D.div.contains(document.activeElement)?D._focusEventsAllowed=!0:(D.div.addEventListener("focusin",()=>{D._focusEventsAllowed=!0},{once:!0}),Z.focus())},0)),D._structTreeParentId=(ee=h(this,u))==null?void 0:ee.moveElementInDOM(this.div,D.div,D.contentDiv,!0)}addOrRebuild(D){D.needsToBeRebuilt()?D.rebuild():this.add(D)}addUndoableEditor(D){const Z=()=>D._uiManager.rebuild(D),ee=()=>{D.remove()};this.addCommands({cmd:Z,undo:ee,mustExec:!1})}getNextId(){return h(this,H).getId()}pasteEditor(D,Z){h(this,H).updateToolbar(D),h(this,H).updateMode(D);const{offsetX:ee,offsetY:me}=_e(this,$,Ro).call(this),ie=this.getNextId(),ge=_e(this,N,To).call(this,{parent:this,id:ie,x:ee,y:me,uiManager:h(this,H),isCentered:!0,...Z});ge&&this.add(ge)}deserialize(D){switch(D.annotationType??D.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(D,this,h(this,H));case r.AnnotationEditorType.INK:return c.InkEditor.deserialize(D,this,h(this,H));case r.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(D,this,h(this,H))}return null}addNewEditor(){_e(this,C,js).call(this,_e(this,$,Ro).call(this),!0)}setSelected(D){h(this,H).setSelected(D)}toggleSelected(D){h(this,H).toggleSelected(D)}isSelected(D){return h(this,H).isSelected(D)}unselect(D){h(this,H).unselect(D)}pointerup(D){const{isMac:Z}=r.FeatureTest.platform;if(!(D.button!==0||D.ctrlKey&&Z)&&D.target===this.div&&h(this,x)){if(ke(this,x,!1),!h(this,R)){ke(this,R,!0);return}if(h(this,H).getMode()===r.AnnotationEditorType.STAMP){h(this,H).unselectAll();return}_e(this,C,js).call(this,D,!1)}}pointerdown(D){if(h(this,x)){ke(this,x,!1);return}const{isMac:Z}=r.FeatureTest.platform;if(D.button!==0||D.ctrlKey&&Z||D.target!==this.div)return;ke(this,x,!0);const ee=h(this,H).getActive();ke(this,R,!ee||ee.isEmpty())}findNewParent(D,Z,ee){const me=h(this,H).findParent(Z,ee);return me===null||me===this?!1:(me.changeParent(D),!0)}destroy(){var D,Z;((D=h(this,H).getActive())==null?void 0:D.parent)===this&&(h(this,H).commitOrRemove(),h(this,H).setActiveEditor(null));for(const ee of h(this,O).values())(Z=h(this,u))==null||Z.removePointerInTextLayer(ee.contentDiv),ee.setParent(null),ee.isAttachedToDOM=!1,ee.div.remove();this.div=null,h(this,O).clear(),h(this,H).removeLayer(this)}render({viewport:D}){this.viewport=D,(0,y.setLayerDimensions)(this.div,D);for(const Z of h(this,H).getEditors(this.pageIndex))this.add(Z);this.updateMode()}update({viewport:D}){h(this,H).commitOrRemove(),this.viewport=D,(0,y.setLayerDimensions)(this.div,{rotation:D.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:D,pageHeight:Z}=this.viewport.rawDims;return[D,Z]}};u=new WeakMap,R=new WeakMap,W=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakMap,V=new WeakMap,H=new WeakMap,N=new WeakSet,To=function(D){switch(h(this,H).getMode()){case r.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(D);case r.AnnotationEditorType.INK:return new c.InkEditor(D);case r.AnnotationEditorType.STAMP:return new b.StampEditor(D)}return null},C=new WeakSet,js=function(D,Z){const ee=this.getNextId(),me=_e(this,N,To).call(this,{parent:this,id:ee,x:D.offsetX,y:D.offsetY,uiManager:h(this,H),isCentered:Z});return me&&this.add(me),me},$=new WeakSet,Ro=function(){const{x:D,y:Z,width:ee,height:me}=this.div.getBoundingClientRect(),ie=Math.max(0,D),ge=Math.max(0,Z),Re=Math.min(window.innerWidth,D+ee),Ee=Math.min(window.innerHeight,Z+me),Oe=(ie+Re)/2-D,G=(ge+Ee)/2-Z,[m,A]=this.viewport.rotation%180===0?[Oe,G]:[G,Oe];return{offsetX:m,offsetY:A}},J=new WeakSet,Po=function(){ke(this,L,!0);for(const D of h(this,O).values())D.isEmpty()&&D.remove();ke(this,L,!1)},Nt(ue,"_initialized",!1);let S=ue;n.AnnotationEditorLayer=S},(e,n,s)=>{var b,S,u,R,W,B,P,O,x,L,Cc,H,Tc,w,Rc,Y,Ki,E,ko,j,Pc,fe,Mo;Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var r=s(1),o=s(5),l=s(4),c=s(29);const Z=class Z extends l.AnnotationEditor{constructor(ie){super({...ie,name:"freeTextEditor"});re(this,L);re(this,H);re(this,w);re(this,Y);re(this,E);re(this,j);re(this,fe);re(this,b,this.editorDivBlur.bind(this));re(this,S,this.editorDivFocus.bind(this));re(this,u,this.editorDivInput.bind(this));re(this,R,this.editorDivKeydown.bind(this));re(this,W,void 0);re(this,B,"");re(this,P,`${this.id}-editor`);re(this,O,void 0);re(this,x,null);ke(this,W,ie.color||Z._defaultColor||l.AnnotationEditor._defaultLineColor),ke(this,O,ie.fontSize||Z._defaultFontSize)}static get _keyboardManager(){const ie=Z.prototype,ge=Oe=>Oe.isEmpty(),Re=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Ee=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ie.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ie.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ie._translateEmpty,{args:[-Re,0],checker:ge}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ie._translateEmpty,{args:[-Ee,0],checker:ge}],[["ArrowRight","mac+ArrowRight"],ie._translateEmpty,{args:[Re,0],checker:ge}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ie._translateEmpty,{args:[Ee,0],checker:ge}],[["ArrowUp","mac+ArrowUp"],ie._translateEmpty,{args:[0,-Re],checker:ge}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ie._translateEmpty,{args:[0,-Ee],checker:ge}],[["ArrowDown","mac+ArrowDown"],ie._translateEmpty,{args:[0,Re],checker:ge}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ie._translateEmpty,{args:[0,Ee],checker:ge}]]))}static initialize(ie){l.AnnotationEditor.initialize(ie,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ge=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ge.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ie,ge){switch(ie){case r.AnnotationEditorParamsType.FREETEXT_SIZE:Z._defaultFontSize=ge;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:Z._defaultColor=ge;break}}updateParams(ie,ge){switch(ie){case r.AnnotationEditorParamsType.FREETEXT_SIZE:_e(this,L,Cc).call(this,ge);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:_e(this,H,Tc).call(this,ge);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,Z._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,Z._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,h(this,O)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,h(this,W)]]}_translateEmpty(ie,ge){this._uiManager.translateSelectedEditors(ie,ge,!0)}getInitialTranslation(){const ie=this.parentScale;return[-Z._internalPadding*ie,-(Z._internalPadding+h(this,O))*ie]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",h(this,R)),this.editorDiv.addEventListener("focus",h(this,S)),this.editorDiv.addEventListener("blur",h(this,b)),this.editorDiv.addEventListener("input",h(this,u)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,P)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",h(this,R)),this.editorDiv.removeEventListener("focus",h(this,S)),this.editorDiv.removeEventListener("blur",h(this,b)),this.editorDiv.removeEventListener("input",h(this,u)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ie){this._focusEventsAllowed&&(super.focusin(ie),ie.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ie;if(this.width){_e(this,fe,Mo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ie=this._initialOptions)!=null&&ie.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ie=h(this,B),ge=ke(this,B,_e(this,w,Rc).call(this).trimEnd());if(ie===ge)return;const Re=Ee=>{if(ke(this,B,Ee),!Ee){this.remove();return}_e(this,E,ko).call(this),this._uiManager.rebuild(this),_e(this,Y,Ki).call(this)};this.addCommands({cmd:()=>{Re(ge)},undo:()=>{Re(ie)},mustExec:!1}),_e(this,Y,Ki).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ie){this.enterInEditMode()}keydown(ie){ie.target===this.div&&ie.key==="Enter"&&(this.enterInEditMode(),ie.preventDefault())}editorDivKeydown(ie){Z._keyboardManager.exec(this,ie)}editorDivFocus(ie){this.isEditing=!0}editorDivBlur(ie){this.isEditing=!1}editorDivInput(ie){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ie,ge;this.width&&(ie=this.x,ge=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,P)),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ee=>{var Oe;return(Oe=this.editorDiv)==null?void 0:Oe.setAttribute("aria-label",Ee)}),l.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ee=>{var Oe;return(Oe=this.editorDiv)==null?void 0:Oe.setAttribute("default-content",Ee)}),this.editorDiv.contentEditable=!0;const{style:Re}=this.editorDiv;if(Re.fontSize=`calc(${h(this,O)}px * var(--scale-factor))`,Re.color=h(this,W),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ee,Oe]=this.parentDimensions;if(this.annotationElementId){const{position:G}=h(this,x);let[m,A]=this.getInitialTranslation();[m,A]=this.pageTranslationToScreen(m,A);const[g,T]=this.pageDimensions,[F,q]=this.pageTranslation;let Q,ae;switch(this.rotation){case 0:Q=ie+(G[0]-F)/g,ae=ge+this.height-(G[1]-q)/T;break;case 90:Q=ie+(G[0]-F)/g,ae=ge-(G[1]-q)/T,[m,A]=[A,-m];break;case 180:Q=ie-this.width+(G[0]-F)/g,ae=ge-(G[1]-q)/T,[m,A]=[-m,-A];break;case 270:Q=ie+(G[0]-F-this.height*T)/g,ae=ge+(G[1]-q-this.width*g)/T,[m,A]=[-A,m];break}this.setAt(Q*Ee,ae*Oe,m,A)}else this.setAt(ie*Ee,ge*Oe,this.width*Ee,this.height*Oe);_e(this,E,ko).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ie,ge,Re){let Ee=null;if(ie instanceof c.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:G,fontColor:m},rect:A,rotation:g,id:T},textContent:F,textPosition:q,parent:{page:{pageNumber:Q}}}=ie;if(!F||F.length===0)return null;Ee=ie={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(m),fontSize:G,value:F.join(`
`),position:q,pageIndex:Q-1,rect:A,rotation:g,id:T,deleted:!1}}const Oe=super.deserialize(ie,ge,Re);return ke(Oe,O,ie.fontSize),ke(Oe,W,r.Util.makeHexColor(...ie.color)),ke(Oe,B,ie.value),Oe.annotationElementId=ie.id||null,ke(Oe,x,Ee),Oe}serialize(ie=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ge=Z._internalPadding*this.parentScale,Re=this.getRect(ge,ge),Ee=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,W)),Oe={annotationType:r.AnnotationEditorType.FREETEXT,color:Ee,fontSize:h(this,O),value:h(this,B),pageIndex:this.pageIndex,rect:Re,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ie?Oe:this.annotationElementId&&!_e(this,j,Pc).call(this,Oe)?null:(Oe.id=this.annotationElementId,Oe)}};b=new WeakMap,S=new WeakMap,u=new WeakMap,R=new WeakMap,W=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakSet,Cc=function(ie){const ge=Ee=>{this.editorDiv.style.fontSize=`calc(${Ee}px * var(--scale-factor))`,this.translate(0,-(Ee-h(this,O))*this.parentScale),ke(this,O,Ee),_e(this,Y,Ki).call(this)},Re=h(this,O);this.addCommands({cmd:()=>{ge(ie)},undo:()=>{ge(Re)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},H=new WeakSet,Tc=function(ie){const ge=h(this,W);this.addCommands({cmd:()=>{ke(this,W,this.editorDiv.style.color=ie)},undo:()=>{ke(this,W,this.editorDiv.style.color=ge)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},w=new WeakSet,Rc=function(){const ie=this.editorDiv.getElementsByTagName("div");if(ie.length===0)return this.editorDiv.innerText;const ge=[];for(const Re of ie)ge.push(Re.innerText.replace(/\r\n?|\n/,""));return ge.join(`
`)},Y=new WeakSet,Ki=function(){const[ie,ge]=this.parentDimensions;let Re;if(this.isAttachedToDOM)Re=this.div.getBoundingClientRect();else{const{currentLayer:Ee,div:Oe}=this,G=Oe.style.display;Oe.style.display="hidden",Ee.div.append(this.div),Re=Oe.getBoundingClientRect(),Oe.remove(),Oe.style.display=G}this.rotation%180===this.parentRotation%180?(this.width=Re.width/ie,this.height=Re.height/ge):(this.width=Re.height/ie,this.height=Re.width/ge),this.fixAndSetPosition()},E=new WeakSet,ko=function(){if(this.editorDiv.replaceChildren(),!!h(this,B))for(const ie of h(this,B).split(`
`)){const ge=document.createElement("div");ge.append(ie?document.createTextNode(ie):document.createElement("br")),this.editorDiv.append(ge)}},j=new WeakSet,Pc=function(ie){const{value:ge,fontSize:Re,color:Ee,rect:Oe,pageIndex:G}=h(this,x);return ie.value!==ge||ie.fontSize!==Re||ie.rect.some((m,A)=>Math.abs(m-Oe[A])>=1)||ie.color.some((m,A)=>m!==Ee[A])||ie.pageIndex!==G},fe=new WeakSet,Mo=function(ie=!1){if(!this.annotationElementId)return;if(_e(this,Y,Ki).call(this),!ie&&(this.width===0||this.height===0)){setTimeout(()=>_e(this,fe,Mo).call(this,!0),0);return}const ge=Z._internalPadding*this.parentScale;h(this,x).rect=this.getRect(ge,ge)},Nt(Z,"_freeTextDefaultContent",""),Nt(Z,"_internalPadding",0),Nt(Z,"_defaultColor",null),Nt(Z,"_defaultFontSize",10),Nt(Z,"_type","freetext");let y=Z;n.FreeTextEditor=y},(e,n,s)=>{var A,T,li,q,kc,ae,Ce,k,U,te,ye,le,Te,Ne,xe,Me,de,ce,se,ve,De,Be,Je,Mc,it,zs,dt,Fo,pt,Oo,be,pe,Ue,Ve,Ft,Pt,we,Io,ot,Xe,at,ct,Fc,We,Do;Object.defineProperty(n,"__esModule",{value:!0}),n.StampAnnotationElement=n.InkAnnotationElement=n.FreeTextAnnotationElement=n.AnnotationLayer=void 0;var r=s(1),o=s(6),l=s(3),c=s(30),y=s(31),b=s(32);const S=1e3,u=9,R=new WeakSet;function W(st){return{width:st[2]-st[0],height:st[3]-st[1]}}class B{static create(ne){switch(ne.data.annotationType){case r.AnnotationType.LINK:return new O(ne);case r.AnnotationType.TEXT:return new x(ne);case r.AnnotationType.WIDGET:switch(ne.data.fieldType){case"Tx":return new V(ne);case"Btn":return ne.data.radioButton?new w(ne):ne.data.checkBox?new N(ne):new C(ne);case"Ch":return new Y(ne);case"Sig":return new H(ne)}return new L(ne);case r.AnnotationType.POPUP:return new $(ne);case r.AnnotationType.FREETEXT:return new J(ne);case r.AnnotationType.LINE:return new j(ne);case r.AnnotationType.SQUARE:return new ue(ne);case r.AnnotationType.CIRCLE:return new fe(ne);case r.AnnotationType.POLYLINE:return new D(ne);case r.AnnotationType.CARET:return new ee(ne);case r.AnnotationType.INK:return new me(ne);case r.AnnotationType.POLYGON:return new Z(ne);case r.AnnotationType.HIGHLIGHT:return new ie(ne);case r.AnnotationType.UNDERLINE:return new ge(ne);case r.AnnotationType.SQUIGGLY:return new Re(ne);case r.AnnotationType.STRIKEOUT:return new Ee(ne);case r.AnnotationType.STAMP:return new Oe(ne);case r.AnnotationType.FILEATTACHMENT:return new G(ne);default:return new P(ne)}}}const g=class g{constructor(ne,{isRenderable:f=!1,ignoreBorder:v=!1,createQuadrilaterals:I=!1}={}){re(this,A,!1);this.isRenderable=f,this.data=ne.data,this.layer=ne.layer,this.linkService=ne.linkService,this.downloadManager=ne.downloadManager,this.imageResourcesPath=ne.imageResourcesPath,this.renderForms=ne.renderForms,this.svgFactory=ne.svgFactory,this.annotationStorage=ne.annotationStorage,this.enableScripting=ne.enableScripting,this.hasJSActions=ne.hasJSActions,this._fieldObjects=ne.fieldObjects,this.parent=ne.parent,f&&(this.container=this._createContainer(v)),I&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ne,contentsObj:f,richText:v}){return!!(ne!=null&&ne.str||f!=null&&f.str||v!=null&&v.str)}get hasPopupData(){return g._hasPopupData(this.data)}_createContainer(ne){const{data:f,parent:{page:v,viewport:I}}=this,K=document.createElement("section");K.setAttribute("data-annotation-id",f.id),this instanceof L||(K.tabIndex=S),K.style.zIndex=this.parent.zIndex++,this.data.popupRef&&K.setAttribute("aria-haspopup","dialog"),f.noRotate&&K.classList.add("norotate");const{pageWidth:oe,pageHeight:Se,pageX:Le,pageY:je}=I.rawDims;if(!f.rect||this instanceof $){const{rotation:ut}=f;return!f.hasOwnCanvas&&ut!==0&&this.setRotation(ut,K),K}const{width:Ge,height:nt}=W(f.rect),Ze=r.Util.normalizeRect([f.rect[0],v.view[3]-f.rect[1]+v.view[1],f.rect[2],v.view[3]-f.rect[3]+v.view[1]]);if(!ne&&f.borderStyle.width>0){K.style.borderWidth=`${f.borderStyle.width}px`;const ut=f.borderStyle.horizontalCornerRadius,gt=f.borderStyle.verticalCornerRadius;if(ut>0||gt>0){const xt=`calc(${ut}px * var(--scale-factor)) / calc(${gt}px * var(--scale-factor))`;K.style.borderRadius=xt}else if(this instanceof w){const xt=`calc(${Ge}px * var(--scale-factor)) / calc(${nt}px * var(--scale-factor))`;K.style.borderRadius=xt}switch(f.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:K.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:K.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:K.style.borderBottomStyle="solid";break}const _t=f.borderColor||null;_t?(ke(this,A,!0),K.style.borderColor=r.Util.makeHexColor(_t[0]|0,_t[1]|0,_t[2]|0)):K.style.borderWidth=0}K.style.left=`${100*(Ze[0]-Le)/oe}%`,K.style.top=`${100*(Ze[1]-je)/Se}%`;const{rotation:Qe}=f;return f.hasOwnCanvas||Qe===0?(K.style.width=`${100*Ge/oe}%`,K.style.height=`${100*nt/Se}%`):this.setRotation(Qe,K),K}setRotation(ne,f=this.container){if(!this.data.rect)return;const{pageWidth:v,pageHeight:I}=this.parent.viewport.rawDims,{width:K,height:oe}=W(this.data.rect);let Se,Le;ne%180===0?(Se=100*K/v,Le=100*oe/I):(Se=100*oe/v,Le=100*K/I),f.style.width=`${Se}%`,f.style.height=`${Le}%`,f.setAttribute("data-main-rotation",(360-ne)%360)}get _commonActions(){const ne=(f,v,I)=>{const K=I.detail[f],oe=K[0],Se=K.slice(1);I.target.style[v]=c.ColorConverters[`${oe}_HTML`](Se),this.annotationStorage.setValue(this.data.id,{[v]:c.ColorConverters[`${oe}_rgb`](Se)})};return(0,r.shadow)(this,"_commonActions",{display:f=>{const{display:v}=f.detail,I=v%2===1;this.container.style.visibility=I?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:I,noPrint:v===1||v===2})},print:f=>{this.annotationStorage.setValue(this.data.id,{noPrint:!f.detail.print})},hidden:f=>{const{hidden:v}=f.detail;this.container.style.visibility=v?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:v,noView:v})},focus:f=>{setTimeout(()=>f.target.focus({preventScroll:!1}),0)},userName:f=>{f.target.title=f.detail.userName},readonly:f=>{f.target.disabled=f.detail.readonly},required:f=>{this._setRequired(f.target,f.detail.required)},bgColor:f=>{ne("bgColor","backgroundColor",f)},fillColor:f=>{ne("fillColor","backgroundColor",f)},fgColor:f=>{ne("fgColor","color",f)},textColor:f=>{ne("textColor","color",f)},borderColor:f=>{ne("borderColor","borderColor",f)},strokeColor:f=>{ne("strokeColor","borderColor",f)},rotation:f=>{const v=f.detail.rotation;this.setRotation(v),this.annotationStorage.setValue(this.data.id,{rotation:v})}})}_dispatchEventFromSandbox(ne,f){const v=this._commonActions;for(const I of Object.keys(f.detail)){const K=ne[I]||v[I];K==null||K(f)}}_setDefaultPropertiesFromJS(ne){if(!this.enableScripting)return;const f=this.annotationStorage.getRawValue(this.data.id);if(!f)return;const v=this._commonActions;for(const[I,K]of Object.entries(f)){const oe=v[I];if(oe){const Se={detail:{[I]:K},target:ne};oe(Se),delete f[I]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ne}=this.data;if(!ne)return;const[f,v,I,K]=this.data.rect;if(ne.length===1){const[,{x:gt,y:_t},{x:xt,y:Ht}]=ne[0];if(I===gt&&K===_t&&f===xt&&v===Ht)return}const{style:oe}=this.container;let Se;if(h(this,A)){const{borderColor:gt,borderWidth:_t}=oe;oe.borderWidth=0,Se=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${gt}" stroke-width="${_t}">`],this.container.classList.add("hasBorder")}const Le=I-f,je=K-v,{svgFactory:Ge}=this,nt=Ge.createElement("svg");nt.classList.add("quadrilateralsContainer"),nt.setAttribute("width",0),nt.setAttribute("height",0);const Ze=Ge.createElement("defs");nt.append(Ze);const Qe=Ge.createElement("clipPath"),ut=`clippath_${this.data.id}`;Qe.setAttribute("id",ut),Qe.setAttribute("clipPathUnits","objectBoundingBox"),Ze.append(Qe);for(const[,{x:gt,y:_t},{x:xt,y:Ht}]of ne){const Bt=Ge.createElement("rect"),Jt=(xt-f)/Le,Pn=(K-_t)/je,kn=(gt-xt)/Le,Ji=(_t-Ht)/je;Bt.setAttribute("x",Jt),Bt.setAttribute("y",Pn),Bt.setAttribute("width",kn),Bt.setAttribute("height",Ji),Qe.append(Bt),Se==null||Se.push(`<rect vector-effect="non-scaling-stroke" x="${Jt}" y="${Pn}" width="${kn}" height="${Ji}"/>`)}h(this,A)&&(Se.push("</g></svg>')"),oe.backgroundImage=Se.join("")),this.container.append(nt),this.container.style.clipPath=`url(#${ut})`}_createPopup(){const{container:ne,data:f}=this;ne.setAttribute("aria-haspopup","dialog");const v=new $({data:{color:f.color,titleObj:f.titleObj,modificationDate:f.modificationDate,contentsObj:f.contentsObj,richText:f.richText,parentRect:f.rect,borderStyle:0,id:`popup_${f.id}`,rotation:f.rotation},parent:this.parent,elements:[this]});this.parent.div.append(v.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ne,f=null){const v=[];if(this._fieldObjects){const I=this._fieldObjects[ne];if(I)for(const{page:K,id:oe,exportValues:Se}of I){if(K===-1||oe===f)continue;const Le=typeof Se=="string"?Se:null,je=document.querySelector(`[data-element-id="${oe}"]`);if(je&&!R.has(je)){(0,r.warn)(`_getElementsByName - element not allowed: ${oe}`);continue}v.push({id:oe,exportValue:Le,domElement:je})}return v}for(const I of document.getElementsByName(ne)){const{exportValue:K}=I,oe=I.getAttribute("data-element-id");oe!==f&&R.has(I)&&v.push({id:oe,exportValue:K,domElement:I})}return v}show(){var ne;this.container&&(this.container.hidden=!1),(ne=this.popup)==null||ne.maybeShow()}hide(){var ne;this.container&&(this.container.hidden=!0),(ne=this.popup)==null||ne.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ne=this.getElementsToTriggerPopup();if(Array.isArray(ne))for(const f of ne)f.classList.add("highlightArea");else ne.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ne,data:{id:f}}=this;this.container.addEventListener("dblclick",()=>{var v;(v=this.linkService.eventBus)==null||v.dispatch("switchannotationeditormode",{source:this,mode:ne,editId:f})})}};A=new WeakMap;let P=g;class O extends P{constructor(f,v=null){super(f,{isRenderable:!0,ignoreBorder:!!(v!=null&&v.ignoreBorder),createQuadrilaterals:!0});re(this,T);re(this,q);this.isTooltipOnly=f.data.isTooltipOnly}render(){const{data:f,linkService:v}=this,I=document.createElement("a");I.setAttribute("data-element-id",f.id);let K=!1;return f.url?(v.addLinkAttributes(I,f.url,f.newWindow),K=!0):f.action?(this._bindNamedAction(I,f.action),K=!0):f.attachment?(this._bindAttachment(I,f.attachment),K=!0):f.setOCGState?(_e(this,q,kc).call(this,I,f.setOCGState),K=!0):f.dest?(this._bindLink(I,f.dest),K=!0):(f.actions&&(f.actions.Action||f.actions["Mouse Up"]||f.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(I,f),K=!0),f.resetForm?(this._bindResetFormAction(I,f.resetForm),K=!0):this.isTooltipOnly&&!K&&(this._bindLink(I,""),K=!0)),this.container.classList.add("linkAnnotation"),K&&this.container.append(I),this.container}_bindLink(f,v){f.href=this.linkService.getDestinationHash(v),f.onclick=()=>(v&&this.linkService.goToDestination(v),!1),(v||v==="")&&_e(this,T,li).call(this)}_bindNamedAction(f,v){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>(this.linkService.executeNamedAction(v),!1),_e(this,T,li).call(this)}_bindAttachment(f,v){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>{var I;return(I=this.downloadManager)==null||I.openOrDownloadData(this.container,v.content,v.filename),!1},_e(this,T,li).call(this)}_bindJSAction(f,v){f.href=this.linkService.getAnchorUrl("");const I=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const K of Object.keys(v.actions)){const oe=I.get(K);oe&&(f[oe]=()=>{var Se;return(Se=this.linkService.eventBus)==null||Se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:v.id,name:K}}),!1})}f.onclick||(f.onclick=()=>!1),_e(this,T,li).call(this)}_bindResetFormAction(f,v){const I=f.onclick;if(I||(f.href=this.linkService.getAnchorUrl("")),_e(this,T,li).call(this),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),I||(f.onclick=()=>!1);return}f.onclick=()=>{var nt;I==null||I();const{fields:K,refs:oe,include:Se}=v,Le=[];if(K.length!==0||oe.length!==0){const Ze=new Set(oe);for(const Qe of K){const ut=this._fieldObjects[Qe]||[];for(const{id:gt}of ut)Ze.add(gt)}for(const Qe of Object.values(this._fieldObjects))for(const ut of Qe)Ze.has(ut.id)===Se&&Le.push(ut)}else for(const Ze of Object.values(this._fieldObjects))Le.push(...Ze);const je=this.annotationStorage,Ge=[];for(const Ze of Le){const{id:Qe}=Ze;switch(Ge.push(Qe),Ze.type){case"text":{const gt=Ze.defaultValue||"";je.setValue(Qe,{value:gt});break}case"checkbox":case"radiobutton":{const gt=Ze.defaultValue===Ze.exportValues;je.setValue(Qe,{value:gt});break}case"combobox":case"listbox":{const gt=Ze.defaultValue||"";je.setValue(Qe,{value:gt});break}default:continue}const ut=document.querySelector(`[data-element-id="${Qe}"]`);if(ut){if(!R.has(ut)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${Qe}`);continue}}else continue;ut.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ge,name:"ResetForm"}})),!1}}}T=new WeakSet,li=function(){this.container.setAttribute("data-internal-link","")},q=new WeakSet,kc=function(f,v){f.href=this.linkService.getAnchorUrl(""),f.onclick=()=>(this.linkService.executeSetOCGState(v),!1),_e(this,T,li).call(this)};class x extends P{constructor(ne){super(ne,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ne=document.createElement("img");return ne.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ne.alt="[{{type}} Annotation]",ne.dataset.l10nId="text_annotation_type",ne.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ne),this.container}}class L extends P{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ne){var f;this.data.hasOwnCanvas&&(((f=ne.previousSibling)==null?void 0:f.nodeName)==="CANVAS"&&(ne.previousSibling.hidden=!0),ne.hidden=!1)}_getKeyModifier(ne){const{isWin:f,isMac:v}=r.FeatureTest.platform;return f&&ne.ctrlKey||v&&ne.metaKey}_setEventListener(ne,f,v,I,K){v.includes("mouse")?ne.addEventListener(v,oe=>{var Se;(Se=this.linkService.eventBus)==null||Se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:I,value:K(oe),shift:oe.shiftKey,modifier:this._getKeyModifier(oe)}})}):ne.addEventListener(v,oe=>{var Se;if(v==="blur"){if(!f.focused||!oe.relatedTarget)return;f.focused=!1}else if(v==="focus"){if(f.focused)return;f.focused=!0}K&&((Se=this.linkService.eventBus)==null||Se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:I,value:K(oe)}}))})}_setEventListeners(ne,f,v,I){var K,oe,Se;for(const[Le,je]of v)(je==="Action"||(K=this.data.actions)!=null&&K[je])&&((je==="Focus"||je==="Blur")&&(f||(f={focused:!1})),this._setEventListener(ne,f,Le,je,I),je==="Focus"&&!((oe=this.data.actions)!=null&&oe.Blur)?this._setEventListener(ne,f,"blur","Blur",null):je==="Blur"&&!((Se=this.data.actions)!=null&&Se.Focus)&&this._setEventListener(ne,f,"focus","Focus",null))}_setBackgroundColor(ne){const f=this.data.backgroundColor||null;ne.style.backgroundColor=f===null?"transparent":r.Util.makeHexColor(f[0],f[1],f[2])}_setTextStyle(ne){const f=["left","center","right"],{fontColor:v}=this.data.defaultAppearanceData,I=this.data.defaultAppearanceData.fontSize||u,K=ne.style;let oe;const Se=2,Le=je=>Math.round(10*je)/10;if(this.data.multiLine){const je=Math.abs(this.data.rect[3]-this.data.rect[1]-Se),Ge=Math.round(je/(r.LINE_FACTOR*I))||1,nt=je/Ge;oe=Math.min(I,Le(nt/r.LINE_FACTOR))}else{const je=Math.abs(this.data.rect[3]-this.data.rect[1]-Se);oe=Math.min(I,Le(je/r.LINE_FACTOR))}K.fontSize=`calc(${oe}px * var(--scale-factor))`,K.color=r.Util.makeHexColor(v[0],v[1],v[2]),this.data.textAlignment!==null&&(K.textAlign=f[this.data.textAlignment])}_setRequired(ne,f){f?ne.setAttribute("required",!0):ne.removeAttribute("required"),ne.setAttribute("aria-required",f)}}class V extends L{constructor(ne){const f=ne.renderForms||!ne.data.hasAppearance&&!!ne.data.fieldValue;super(ne,{isRenderable:f})}setPropertyOnSiblings(ne,f,v,I){const K=this.annotationStorage;for(const oe of this._getElementsByName(ne.name,ne.id))oe.domElement&&(oe.domElement[f]=v),K.setValue(oe.id,{[I]:v})}render(){var I,K;const ne=this.annotationStorage,f=this.data.id;this.container.classList.add("textWidgetAnnotation");let v=null;if(this.renderForms){const oe=ne.getValue(f,{value:this.data.fieldValue});let Se=oe.value||"";const Le=ne.getValue(f,{charLimit:this.data.maxLen}).charLimit;Le&&Se.length>Le&&(Se=Se.slice(0,Le));let je=oe.formattedValue||((I=this.data.textContent)==null?void 0:I.join(`
`))||null;je&&this.data.comb&&(je=je.replaceAll(/\s+/g,""));const Ge={userValue:Se,formattedValue:je,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(v=document.createElement("textarea"),v.textContent=je??Se,this.data.doNotScroll&&(v.style.overflowY="hidden")):(v=document.createElement("input"),v.type="text",v.setAttribute("value",je??Se),this.data.doNotScroll&&(v.style.overflowX="hidden")),this.data.hasOwnCanvas&&(v.hidden=!0),R.add(v),v.setAttribute("data-element-id",f),v.disabled=this.data.readOnly,v.name=this.data.fieldName,v.tabIndex=S,this._setRequired(v,this.data.required),Le&&(v.maxLength=Le),v.addEventListener("input",Ze=>{ne.setValue(f,{value:Ze.target.value}),this.setPropertyOnSiblings(v,"value",Ze.target.value,"value"),Ge.formattedValue=null}),v.addEventListener("resetform",Ze=>{const Qe=this.data.defaultFieldValue??"";v.value=Ge.userValue=Qe,Ge.formattedValue=null});let nt=Ze=>{const{formattedValue:Qe}=Ge;Qe!=null&&(Ze.target.value=Qe),Ze.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){v.addEventListener("focus",Qe=>{if(Ge.focused)return;const{target:ut}=Qe;Ge.userValue&&(ut.value=Ge.userValue),Ge.lastCommittedValue=ut.value,Ge.commitKey=1,Ge.focused=!0}),v.addEventListener("updatefromsandbox",Qe=>{this.showElementAndHideCanvas(Qe.target);const ut={value(gt){Ge.userValue=gt.detail.value??"",ne.setValue(f,{value:Ge.userValue.toString()}),gt.target.value=Ge.userValue},formattedValue(gt){const{formattedValue:_t}=gt.detail;Ge.formattedValue=_t,_t!=null&&gt.target!==document.activeElement&&(gt.target.value=_t),ne.setValue(f,{formattedValue:_t})},selRange(gt){gt.target.setSelectionRange(...gt.detail.selRange)},charLimit:gt=>{var Bt;const{charLimit:_t}=gt.detail,{target:xt}=gt;if(_t===0){xt.removeAttribute("maxLength");return}xt.setAttribute("maxLength",_t);let Ht=Ge.userValue;!Ht||Ht.length<=_t||(Ht=Ht.slice(0,_t),xt.value=Ge.userValue=Ht,ne.setValue(f,{value:Ht}),(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Ht,willCommit:!0,commitKey:1,selStart:xt.selectionStart,selEnd:xt.selectionEnd}}))}};this._dispatchEventFromSandbox(ut,Qe)}),v.addEventListener("keydown",Qe=>{var _t;Ge.commitKey=1;let ut=-1;if(Qe.key==="Escape"?ut=0:Qe.key==="Enter"&&!this.data.multiLine?ut=2:Qe.key==="Tab"&&(Ge.commitKey=3),ut===-1)return;const{value:gt}=Qe.target;Ge.lastCommittedValue!==gt&&(Ge.lastCommittedValue=gt,Ge.userValue=gt,(_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:gt,willCommit:!0,commitKey:ut,selStart:Qe.target.selectionStart,selEnd:Qe.target.selectionEnd}}))});const Ze=nt;nt=null,v.addEventListener("blur",Qe=>{var gt;if(!Ge.focused||!Qe.relatedTarget)return;Ge.focused=!1;const{value:ut}=Qe.target;Ge.userValue=ut,Ge.lastCommittedValue!==ut&&((gt=this.linkService.eventBus)==null||gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:ut,willCommit:!0,commitKey:Ge.commitKey,selStart:Qe.target.selectionStart,selEnd:Qe.target.selectionEnd}})),Ze(Qe)}),(K=this.data.actions)!=null&&K.Keystroke&&v.addEventListener("beforeinput",Qe=>{var Pn;Ge.lastCommittedValue=null;const{data:ut,target:gt}=Qe,{value:_t,selectionStart:xt,selectionEnd:Ht}=gt;let Bt=xt,Jt=Ht;switch(Qe.inputType){case"deleteWordBackward":{const kn=_t.substring(0,xt).match(/\w*[^\w]*$/);kn&&(Bt-=kn[0].length);break}case"deleteWordForward":{const kn=_t.substring(xt).match(/^[^\w]*\w*/);kn&&(Jt+=kn[0].length);break}case"deleteContentBackward":xt===Ht&&(Bt-=1);break;case"deleteContentForward":xt===Ht&&(Jt+=1);break}Qe.preventDefault(),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:_t,change:ut||"",willCommit:!1,selStart:Bt,selEnd:Jt}})}),this._setEventListeners(v,Ge,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Qe=>Qe.target.value)}if(nt&&v.addEventListener("blur",nt),this.data.comb){const Qe=(this.data.rect[2]-this.data.rect[0])/Le;v.classList.add("comb"),v.style.letterSpacing=`calc(${Qe}px * var(--scale-factor) - 1ch)`}}else v=document.createElement("div"),v.textContent=this.data.fieldValue,v.style.verticalAlign="middle",v.style.display="table-cell";return this._setTextStyle(v),this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.append(v),this.container}}class H extends L{constructor(ne){super(ne,{isRenderable:!!ne.data.hasOwnCanvas})}}class N extends L{constructor(ne){super(ne,{isRenderable:ne.renderForms})}render(){const ne=this.annotationStorage,f=this.data,v=f.id;let I=ne.getValue(v,{value:f.exportValue===f.fieldValue}).value;typeof I=="string"&&(I=I!=="Off",ne.setValue(v,{value:I})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const K=document.createElement("input");return R.add(K),K.setAttribute("data-element-id",v),K.disabled=f.readOnly,this._setRequired(K,this.data.required),K.type="checkbox",K.name=f.fieldName,I&&K.setAttribute("checked",!0),K.setAttribute("exportValue",f.exportValue),K.tabIndex=S,K.addEventListener("change",oe=>{const{name:Se,checked:Le}=oe.target;for(const je of this._getElementsByName(Se,v)){const Ge=Le&&je.exportValue===f.exportValue;je.domElement&&(je.domElement.checked=Ge),ne.setValue(je.id,{value:Ge})}ne.setValue(v,{value:Le})}),K.addEventListener("resetform",oe=>{const Se=f.defaultFieldValue||"Off";oe.target.checked=Se===f.exportValue}),this.enableScripting&&this.hasJSActions&&(K.addEventListener("updatefromsandbox",oe=>{const Se={value(Le){Le.target.checked=Le.detail.value!=="Off",ne.setValue(v,{value:Le.target.checked})}};this._dispatchEventFromSandbox(Se,oe)}),this._setEventListeners(K,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],oe=>oe.target.checked)),this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class w extends L{constructor(ne){super(ne,{isRenderable:ne.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ne=this.annotationStorage,f=this.data,v=f.id;let I=ne.getValue(v,{value:f.fieldValue===f.buttonValue}).value;typeof I=="string"&&(I=I!==f.buttonValue,ne.setValue(v,{value:I}));const K=document.createElement("input");if(R.add(K),K.setAttribute("data-element-id",v),K.disabled=f.readOnly,this._setRequired(K,this.data.required),K.type="radio",K.name=f.fieldName,I&&K.setAttribute("checked",!0),K.tabIndex=S,K.addEventListener("change",oe=>{const{name:Se,checked:Le}=oe.target;for(const je of this._getElementsByName(Se,v))ne.setValue(je.id,{value:!1});ne.setValue(v,{value:Le})}),K.addEventListener("resetform",oe=>{const Se=f.defaultFieldValue;oe.target.checked=Se!=null&&Se===f.buttonValue}),this.enableScripting&&this.hasJSActions){const oe=f.buttonValue;K.addEventListener("updatefromsandbox",Se=>{const Le={value:je=>{const Ge=oe===je.detail.value;for(const nt of this._getElementsByName(je.target.name)){const Ze=Ge&&nt.id===v;nt.domElement&&(nt.domElement.checked=Ze),ne.setValue(nt.id,{value:Ze})}}};this._dispatchEventFromSandbox(Le,Se)}),this._setEventListeners(K,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Se=>Se.target.checked)}return this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class C extends O{constructor(ne){super(ne,{ignoreBorder:ne.data.hasAppearance})}render(){const ne=super.render();ne.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ne.title=this.data.alternativeText);const f=ne.lastChild;return this.enableScripting&&this.hasJSActions&&f&&(this._setDefaultPropertiesFromJS(f),f.addEventListener("updatefromsandbox",v=>{this._dispatchEventFromSandbox({},v)})),ne}}class Y extends L{constructor(ne){super(ne,{isRenderable:ne.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ne=this.annotationStorage,f=this.data.id,v=ne.getValue(f,{value:this.data.fieldValue}),I=document.createElement("select");R.add(I),I.setAttribute("data-element-id",f),I.disabled=this.data.readOnly,this._setRequired(I,this.data.required),I.name=this.data.fieldName,I.tabIndex=S;let K=this.data.combo&&this.data.options.length>0;this.data.combo||(I.size=this.data.options.length,this.data.multiSelect&&(I.multiple=!0)),I.addEventListener("resetform",Ge=>{const nt=this.data.defaultFieldValue;for(const Ze of I.options)Ze.selected=Ze.value===nt});for(const Ge of this.data.options){const nt=document.createElement("option");nt.textContent=Ge.displayValue,nt.value=Ge.exportValue,v.value.includes(Ge.exportValue)&&(nt.setAttribute("selected",!0),K=!1),I.append(nt)}let oe=null;if(K){const Ge=document.createElement("option");Ge.value=" ",Ge.setAttribute("hidden",!0),Ge.setAttribute("selected",!0),I.prepend(Ge),oe=()=>{Ge.remove(),I.removeEventListener("input",oe),oe=null},I.addEventListener("input",oe)}const Se=Ge=>{const nt=Ge?"value":"textContent",{options:Ze,multiple:Qe}=I;return Qe?Array.prototype.filter.call(Ze,ut=>ut.selected).map(ut=>ut[nt]):Ze.selectedIndex===-1?null:Ze[Ze.selectedIndex][nt]};let Le=Se(!1);const je=Ge=>{const nt=Ge.target.options;return Array.prototype.map.call(nt,Ze=>({displayValue:Ze.textContent,exportValue:Ze.value}))};return this.enableScripting&&this.hasJSActions?(I.addEventListener("updatefromsandbox",Ge=>{const nt={value(Ze){oe==null||oe();const Qe=Ze.detail.value,ut=new Set(Array.isArray(Qe)?Qe:[Qe]);for(const gt of I.options)gt.selected=ut.has(gt.value);ne.setValue(f,{value:Se(!0)}),Le=Se(!1)},multipleSelection(Ze){I.multiple=!0},remove(Ze){const Qe=I.options,ut=Ze.detail.remove;Qe[ut].selected=!1,I.remove(ut),Qe.length>0&&Array.prototype.findIndex.call(Qe,_t=>_t.selected)===-1&&(Qe[0].selected=!0),ne.setValue(f,{value:Se(!0),items:je(Ze)}),Le=Se(!1)},clear(Ze){for(;I.length!==0;)I.remove(0);ne.setValue(f,{value:null,items:[]}),Le=Se(!1)},insert(Ze){const{index:Qe,displayValue:ut,exportValue:gt}=Ze.detail.insert,_t=I.children[Qe],xt=document.createElement("option");xt.textContent=ut,xt.value=gt,_t?_t.before(xt):I.append(xt),ne.setValue(f,{value:Se(!0),items:je(Ze)}),Le=Se(!1)},items(Ze){const{items:Qe}=Ze.detail;for(;I.length!==0;)I.remove(0);for(const ut of Qe){const{displayValue:gt,exportValue:_t}=ut,xt=document.createElement("option");xt.textContent=gt,xt.value=_t,I.append(xt)}I.options.length>0&&(I.options[0].selected=!0),ne.setValue(f,{value:Se(!0),items:je(Ze)}),Le=Se(!1)},indices(Ze){const Qe=new Set(Ze.detail.indices);for(const ut of Ze.target.options)ut.selected=Qe.has(ut.index);ne.setValue(f,{value:Se(!0)}),Le=Se(!1)},editable(Ze){Ze.target.disabled=!Ze.detail.editable}};this._dispatchEventFromSandbox(nt,Ge)}),I.addEventListener("input",Ge=>{var Ze;const nt=Se(!0);ne.setValue(f,{value:nt}),Ge.preventDefault(),(Ze=this.linkService.eventBus)==null||Ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Le,changeEx:nt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(I,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ge=>Ge.target.value)):I.addEventListener("input",function(Ge){ne.setValue(f,{value:Se(!0)})}),this.data.combo&&this._setTextStyle(I),this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class $ extends P{constructor(ne){const{data:f,elements:v}=ne;super(ne,{isRenderable:P._hasPopupData(f)}),this.elements=v}render(){this.container.classList.add("popupAnnotation");const ne=new E({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),f=[];for(const v of this.elements)v.popup=ne,f.push(v.data.id),v.addHighlightArea();return this.container.setAttribute("aria-controls",f.map(v=>`${r.AnnotationPrefix}${v}`).join(",")),this.container}}class E{constructor({container:ne,color:f,elements:v,titleObj:I,modificationDate:K,contentsObj:oe,richText:Se,parent:Le,rect:je,parentRect:Ge,open:nt}){re(this,Je);re(this,it);re(this,dt);re(this,pt);re(this,ae,null);re(this,Ce,_e(this,Je,Mc).bind(this));re(this,k,_e(this,pt,Oo).bind(this));re(this,U,_e(this,dt,Fo).bind(this));re(this,te,_e(this,it,zs).bind(this));re(this,ye,null);re(this,le,null);re(this,Te,null);re(this,Ne,null);re(this,xe,null);re(this,Me,null);re(this,de,!1);re(this,ce,null);re(this,se,null);re(this,ve,null);re(this,De,null);re(this,Be,!1);var Qe;ke(this,le,ne),ke(this,De,I),ke(this,Te,oe),ke(this,ve,Se),ke(this,xe,Le),ke(this,ye,f),ke(this,se,je),ke(this,Me,Ge),ke(this,Ne,v);const Ze=o.PDFDateString.toDateObject(K);Ze&&ke(this,ae,Le.l10n.get("annotation_date_string",{date:Ze.toLocaleDateString(),time:Ze.toLocaleTimeString()})),this.trigger=v.flatMap(ut=>ut.getElementsToTriggerPopup());for(const ut of this.trigger)ut.addEventListener("click",h(this,te)),ut.addEventListener("mouseenter",h(this,U)),ut.addEventListener("mouseleave",h(this,k)),ut.classList.add("popupTriggerArea");for(const ut of v)(Qe=ut.container)==null||Qe.addEventListener("keydown",h(this,Ce));h(this,le).hidden=!0,nt&&_e(this,it,zs).call(this)}render(){if(h(this,ce))return;const{page:{view:ne},viewport:{rawDims:{pageWidth:f,pageHeight:v,pageX:I,pageY:K}}}=h(this,xe),oe=ke(this,ce,document.createElement("div"));if(oe.className="popup",h(this,ye)){const Bt=oe.style.outlineColor=r.Util.makeHexColor(...h(this,ye));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?oe.style.backgroundColor=`color-mix(in srgb, ${Bt} 30%, white)`:oe.style.backgroundColor=r.Util.makeHexColor(...h(this,ye).map(Pn=>Math.floor(.7*(255-Pn)+Pn)))}const Se=document.createElement("span");Se.className="header";const Le=document.createElement("h1");if(Se.append(Le),{dir:Le.dir,str:Le.textContent}=h(this,De),oe.append(Se),h(this,ae)){const Bt=document.createElement("span");Bt.classList.add("popupDate"),h(this,ae).then(Jt=>{Bt.textContent=Jt}),Se.append(Bt)}const je=h(this,Te),Ge=h(this,ve);if(Ge!=null&&Ge.str&&(!(je!=null&&je.str)||je.str===Ge.str))b.XfaLayer.render({xfaHtml:Ge.html,intent:"richText",div:oe}),oe.lastChild.classList.add("richText","popupContent");else{const Bt=this._formatContents(je);oe.append(Bt)}let nt=!!h(this,Me),Ze=nt?h(this,Me):h(this,se);for(const Bt of h(this,Ne))if(!Ze||r.Util.intersect(Bt.data.rect,Ze)!==null){Ze=Bt.data.rect,nt=!0;break}const Qe=r.Util.normalizeRect([Ze[0],ne[3]-Ze[1]+ne[1],Ze[2],ne[3]-Ze[3]+ne[1]]),ut=5,gt=nt?Ze[2]-Ze[0]+ut:0,_t=Qe[0]+gt,xt=Qe[1],{style:Ht}=h(this,le);Ht.left=`${100*(_t-I)/f}%`,Ht.top=`${100*(xt-K)/v}%`,h(this,le).append(oe)}_formatContents({str:ne,dir:f}){const v=document.createElement("p");v.classList.add("popupContent"),v.dir=f;const I=ne.split(/(?:\r\n?|\n)/);for(let K=0,oe=I.length;K<oe;++K){const Se=I[K];v.append(document.createTextNode(Se)),K<oe-1&&v.append(document.createElement("br"))}return v}forceHide(){ke(this,Be,this.isVisible),h(this,Be)&&(h(this,le).hidden=!0)}maybeShow(){h(this,Be)&&(ke(this,Be,!1),h(this,le).hidden=!1)}get isVisible(){return h(this,le).hidden===!1}}ae=new WeakMap,Ce=new WeakMap,k=new WeakMap,U=new WeakMap,te=new WeakMap,ye=new WeakMap,le=new WeakMap,Te=new WeakMap,Ne=new WeakMap,xe=new WeakMap,Me=new WeakMap,de=new WeakMap,ce=new WeakMap,se=new WeakMap,ve=new WeakMap,De=new WeakMap,Be=new WeakMap,Je=new WeakSet,Mc=function(ne){ne.altKey||ne.shiftKey||ne.ctrlKey||ne.metaKey||(ne.key==="Enter"||ne.key==="Escape"&&h(this,de))&&_e(this,it,zs).call(this)},it=new WeakSet,zs=function(){ke(this,de,!h(this,de)),h(this,de)?(_e(this,dt,Fo).call(this),h(this,le).addEventListener("click",h(this,te)),h(this,le).addEventListener("keydown",h(this,Ce))):(_e(this,pt,Oo).call(this),h(this,le).removeEventListener("click",h(this,te)),h(this,le).removeEventListener("keydown",h(this,Ce)))},dt=new WeakSet,Fo=function(){h(this,ce)||this.render(),this.isVisible?h(this,de)&&h(this,le).classList.add("focused"):(h(this,le).hidden=!1,h(this,le).style.zIndex=parseInt(h(this,le).style.zIndex)+1e3)},pt=new WeakSet,Oo=function(){h(this,le).classList.remove("focused"),!(h(this,de)||!this.isVisible)&&(h(this,le).hidden=!0,h(this,le).style.zIndex=parseInt(h(this,le).style.zIndex)-1e3)};class J extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ne.data.textContent,this.textPosition=ne.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ne=document.createElement("div");ne.classList.add("annotationTextContent"),ne.setAttribute("role","comment");for(const f of this.textContent){const v=document.createElement("span");v.textContent=f,ne.append(v)}this.container.append(ne)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}n.FreeTextAnnotationElement=J;class j extends P{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,be,null)}render(){this.container.classList.add("lineAnnotation");const f=this.data,{width:v,height:I}=W(f.rect),K=this.svgFactory.create(v,I,!0),oe=ke(this,be,this.svgFactory.createElement("svg:line"));return oe.setAttribute("x1",f.rect[2]-f.lineCoordinates[0]),oe.setAttribute("y1",f.rect[3]-f.lineCoordinates[1]),oe.setAttribute("x2",f.rect[2]-f.lineCoordinates[2]),oe.setAttribute("y2",f.rect[3]-f.lineCoordinates[3]),oe.setAttribute("stroke-width",f.borderStyle.width||1),oe.setAttribute("stroke","transparent"),oe.setAttribute("fill","transparent"),K.append(oe),this.container.append(K),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,be)}addHighlightArea(){this.container.classList.add("highlightArea")}}be=new WeakMap;class ue extends P{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,pe,null)}render(){this.container.classList.add("squareAnnotation");const f=this.data,{width:v,height:I}=W(f.rect),K=this.svgFactory.create(v,I,!0),oe=f.borderStyle.width,Se=ke(this,pe,this.svgFactory.createElement("svg:rect"));return Se.setAttribute("x",oe/2),Se.setAttribute("y",oe/2),Se.setAttribute("width",v-oe),Se.setAttribute("height",I-oe),Se.setAttribute("stroke-width",oe||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),K.append(Se),this.container.append(K),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,pe)}addHighlightArea(){this.container.classList.add("highlightArea")}}pe=new WeakMap;class fe extends P{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,Ue,null)}render(){this.container.classList.add("circleAnnotation");const f=this.data,{width:v,height:I}=W(f.rect),K=this.svgFactory.create(v,I,!0),oe=f.borderStyle.width,Se=ke(this,Ue,this.svgFactory.createElement("svg:ellipse"));return Se.setAttribute("cx",v/2),Se.setAttribute("cy",I/2),Se.setAttribute("rx",v/2-oe/2),Se.setAttribute("ry",I/2-oe/2),Se.setAttribute("stroke-width",oe||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),K.append(Se),this.container.append(K),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ue)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ue=new WeakMap;class D extends P{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,Ve,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const f=this.data,{width:v,height:I}=W(f.rect),K=this.svgFactory.create(v,I,!0);let oe=[];for(const Le of f.vertices){const je=Le.x-f.rect[0],Ge=f.rect[3]-Le.y;oe.push(je+","+Ge)}oe=oe.join(" ");const Se=ke(this,Ve,this.svgFactory.createElement(this.svgElementName));return Se.setAttribute("points",oe),Se.setAttribute("stroke-width",f.borderStyle.width||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),K.append(Se),this.container.append(K),!f.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ve)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ve=new WeakMap;class Z extends D{constructor(ne){super(ne),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ee extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class me extends P{constructor(f){super(f,{isRenderable:!0,ignoreBorder:!0});re(this,Ft,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const f=this.data,{width:v,height:I}=W(f.rect),K=this.svgFactory.create(v,I,!0);for(const oe of f.inkLists){let Se=[];for(const je of oe){const Ge=je.x-f.rect[0],nt=f.rect[3]-je.y;Se.push(`${Ge},${nt}`)}Se=Se.join(" ");const Le=this.svgFactory.createElement(this.svgElementName);h(this,Ft).push(Le),Le.setAttribute("points",Se),Le.setAttribute("stroke-width",f.borderStyle.width||1),Le.setAttribute("stroke","transparent"),Le.setAttribute("fill","transparent"),!f.popupRef&&this.hasPopupData&&this._createPopup(),K.append(Le)}return this.container.append(K),this.container}getElementsToTriggerPopup(){return h(this,Ft)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ft=new WeakMap,n.InkAnnotationElement=me;class ie extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ge extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Re extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ee extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Oe extends P{constructor(ne){super(ne,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}n.StampAnnotationElement=Oe;class G extends P{constructor(f){var K;super(f,{isRenderable:!0});re(this,we);re(this,Pt,null);const{filename:v,content:I}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(v,!0),this.content=I,(K=this.linkService.eventBus)==null||K.dispatch("fileattachmentannotation",{source:this,filename:v,content:I})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:f,data:v}=this;let I;v.hasAppearance||v.fillAlpha===0?I=document.createElement("div"):(I=document.createElement("img"),I.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(v.name)?"paperclip":"pushpin"}.svg`,v.fillAlpha&&v.fillAlpha<1&&(I.style=`filter: opacity(${Math.round(v.fillAlpha*100)}%);`)),I.addEventListener("dblclick",_e(this,we,Io).bind(this)),ke(this,Pt,I);const{isMac:K}=r.FeatureTest.platform;return f.addEventListener("keydown",oe=>{oe.key==="Enter"&&(K?oe.metaKey:oe.ctrlKey)&&_e(this,we,Io).call(this)}),!v.popupRef&&this.hasPopupData?this._createPopup():I.classList.add("popupTriggerArea"),f.append(I),f}getElementsToTriggerPopup(){return h(this,Pt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pt=new WeakMap,we=new WeakSet,Io=function(){var f;(f=this.downloadManager)==null||f.openOrDownloadData(this.container,this.content,this.filename)};class m{constructor({div:ne,accessibilityManager:f,annotationCanvasMap:v,l10n:I,page:K,viewport:oe}){re(this,ct);re(this,We);re(this,ot,null);re(this,Xe,null);re(this,at,new Map);this.div=ne,ke(this,ot,f),ke(this,Xe,v),this.l10n=I,this.page=K,this.viewport=oe,this.zIndex=0,this.l10n||(this.l10n=y.NullL10n)}async render(ne){const{annotations:f}=ne,v=this.div;(0,o.setLayerDimensions)(v,this.viewport);const I=new Map,K={data:null,layer:v,linkService:ne.linkService,downloadManager:ne.downloadManager,imageResourcesPath:ne.imageResourcesPath||"",renderForms:ne.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:ne.annotationStorage||new l.AnnotationStorage,enableScripting:ne.enableScripting===!0,hasJSActions:ne.hasJSActions,fieldObjects:ne.fieldObjects,parent:this,elements:null};for(const oe of f){if(oe.noHTML)continue;const Se=oe.annotationType===r.AnnotationType.POPUP;if(Se){const Ge=I.get(oe.id);if(!Ge)continue;K.elements=Ge}else{const{width:Ge,height:nt}=W(oe.rect);if(Ge<=0||nt<=0)continue}K.data=oe;const Le=B.create(K);if(!Le.isRenderable)continue;if(!Se&&oe.popupRef){const Ge=I.get(oe.popupRef);Ge?Ge.push(Le):I.set(oe.popupRef,[Le])}Le.annotationEditorType>0&&h(this,at).set(Le.data.id,Le);const je=Le.render();oe.hidden&&(je.style.visibility="hidden"),_e(this,ct,Fc).call(this,je,oe.id)}_e(this,We,Do).call(this),await this.l10n.translate(v)}update({viewport:ne}){const f=this.div;this.viewport=ne,(0,o.setLayerDimensions)(f,{rotation:ne.rotation}),_e(this,We,Do).call(this),f.hidden=!1}getEditableAnnotations(){return Array.from(h(this,at).values())}getEditableAnnotation(ne){return h(this,at).get(ne)}}ot=new WeakMap,Xe=new WeakMap,at=new WeakMap,ct=new WeakSet,Fc=function(ne,f){var I;const v=ne.firstChild||ne;v.id=`${r.AnnotationPrefix}${f}`,this.div.append(ne),(I=h(this,ot))==null||I.moveElementInDOM(this.div,ne,v,!1)},We=new WeakSet,Do=function(){if(!h(this,Xe))return;const ne=this.div;for(const[f,v]of h(this,Xe)){const I=ne.querySelector(`[data-annotation-id="${f}"]`);if(!I)continue;const{firstChild:K}=I;K?K.nodeName==="CANVAS"?K.replaceWith(v):K.before(v):I.append(v)}h(this,Xe).clear()},n.AnnotationLayer=m},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function s(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function r(l){return Math.max(0,Math.min(255,255*l))}class o{static CMYK_G([c,y,b,S]){return["G",1-Math.min(1,.3*c+.59*b+.11*y+S)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_rgb([c]){return c=r(c),[c,c,c]}static G_HTML([c]){const y=s(c);return`#${y}${y}${y}`}static RGB_G([c,y,b]){return["G",.3*c+.59*y+.11*b]}static RGB_rgb(c){return c.map(r)}static RGB_HTML(c){return`#${c.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([c,y,b,S]){return["RGB",1-Math.min(1,c+S),1-Math.min(1,b+S),1-Math.min(1,y+S)]}static CMYK_rgb([c,y,b,S]){return[r(1-Math.min(1,c+S)),r(1-Math.min(1,b+S)),r(1-Math.min(1,y+S))]}static CMYK_HTML(c){const y=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(y)}static RGB_CMYK([c,y,b]){const S=1-c,u=1-y,R=1-b,W=Math.min(S,u,R);return["CMYK",S,u,R,W]}}n.ColorConverters=o},(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.getL10nFallback=r;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function r(c,y){switch(c){case"find_match_count":c=`find_match_count[${y.total===1?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${y.limit===1?"one":"other"}]`;break}return s[c]||""}function o(c,y){return y?c.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,S)=>S in y?y[S]:"{{"+S+"}}"):c}const l={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(c,y=null,b=r(c,y)){return o(b,y)},async translate(c){}};n.NullL10n=l},(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var r=s(25);class o{static setupStorage(c,y,b,S,u){const R=S.getValue(y,{value:null});switch(b.name){case"textarea":if(R.value!==null&&(c.textContent=R.value),u==="print")break;c.addEventListener("input",W=>{S.setValue(y,{value:W.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if(R.value===b.attributes.xfaOn?c.setAttribute("checked",!0):R.value===b.attributes.xfaOff&&c.removeAttribute("checked"),u==="print")break;c.addEventListener("change",W=>{S.setValue(y,{value:W.target.checked?W.target.getAttribute("xfaOn"):W.target.getAttribute("xfaOff")})})}else{if(R.value!==null&&c.setAttribute("value",R.value),u==="print")break;c.addEventListener("input",W=>{S.setValue(y,{value:W.target.value})})}break;case"select":if(R.value!==null){c.setAttribute("value",R.value);for(const W of b.children)W.attributes.value===R.value?W.attributes.selected=!0:W.attributes.hasOwnProperty("selected")&&delete W.attributes.selected}c.addEventListener("input",W=>{const B=W.target.options,P=B.selectedIndex===-1?"":B[B.selectedIndex].value;S.setValue(y,{value:P})});break}}static setAttributes({html:c,element:y,storage:b=null,intent:S,linkService:u}){const{attributes:R}=y,W=c instanceof HTMLAnchorElement;R.type==="radio"&&(R.name=`${R.name}-${S}`);for(const[B,P]of Object.entries(R))if(P!=null)switch(B){case"class":P.length&&c.setAttribute(B,P.join(" "));break;case"dataId":break;case"id":c.setAttribute("data-element-id",P);break;case"style":Object.assign(c.style,P);break;case"textContent":c.textContent=P;break;default:(!W||B!=="href"&&B!=="newWindow")&&c.setAttribute(B,P)}W&&u.addLinkAttributes(c,R.href,R.newWindow),b&&R.dataId&&this.setupStorage(c,R.dataId,y,b)}static render(c){var O;const y=c.annotationStorage,b=c.linkService,S=c.xfaHtml,u=c.intent||"display",R=document.createElement(S.name);S.attributes&&this.setAttributes({html:R,element:S,intent:u,linkService:b});const W=[[S,-1,R]],B=c.div;if(B.append(R),c.viewport){const x=`matrix(${c.viewport.transform.join(",")})`;B.style.transform=x}u!=="richText"&&B.setAttribute("class","xfaLayer xfaFont");const P=[];for(;W.length>0;){const[x,L,V]=W.at(-1);if(L+1===x.children.length){W.pop();continue}const H=x.children[++W.at(-1)[1]];if(H===null)continue;const{name:N}=H;if(N==="#text"){const C=document.createTextNode(H.value);P.push(C),V.append(C);continue}const w=(O=H==null?void 0:H.attributes)!=null&&O.xmlns?document.createElementNS(H.attributes.xmlns,N):document.createElement(N);if(V.append(w),H.attributes&&this.setAttributes({html:w,element:H,storage:y,intent:u,linkService:b}),H.children&&H.children.length>0)W.push([H,-1,w]);else if(H.value){const C=document.createTextNode(H.value);r.XfaText.shouldBuildText(N)&&P.push(C),w.append(C)}}for(const x of B.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:P}}static update(c){const y=`matrix(${c.viewport.transform.join(",")})`;c.div.style.transform=y,c.div.hidden=!1}}n.XfaLayer=o},(e,n,s)=>{var S,u,R,W,B,P,O,x,L,V,H,N,w,C,Y,Oc,E,Ic,j,Dc,fe,Lc,Z,Lo,me,Nc,ge,No,Ee,Bc,G,$c,A,Uc,T,Hc,q,Wc,ae,Vn,k,Bo,te,qs,le,Gs,Ne,Ci,Me,$o,ce,Ks,ve,Vc,Be,Uo,et,jc,lt,zc,rt,Ho,Ie,Xs,pe,Ti;Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0;var r=s(1),o=s(4),l=s(29),c=s(6),y=s(5);const Ve=class Ve extends o.AnnotationEditor{constructor(we){super({...we,name:"inkEditor"});re(this,Y);re(this,E);re(this,j);re(this,fe);re(this,Z);re(this,me);re(this,ge);re(this,Ee);re(this,G);re(this,A);re(this,T);re(this,q);re(this,ae);re(this,k);re(this,te);re(this,le);re(this,Ne);re(this,Me);re(this,ce);re(this,lt);re(this,rt);re(this,Ie);re(this,pe);re(this,S,0);re(this,u,0);re(this,R,this.canvasPointermove.bind(this));re(this,W,this.canvasPointerleave.bind(this));re(this,B,this.canvasPointerup.bind(this));re(this,P,this.canvasPointerdown.bind(this));re(this,O,new Path2D);re(this,x,!1);re(this,L,!1);re(this,V,!1);re(this,H,null);re(this,N,0);re(this,w,0);re(this,C,null);this.color=we.color||null,this.thickness=we.thickness||null,this.opacity=we.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(we){o.AnnotationEditor.initialize(we,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(we,Ke){switch(we){case r.AnnotationEditorParamsType.INK_THICKNESS:Ve._defaultThickness=Ke;break;case r.AnnotationEditorParamsType.INK_COLOR:Ve._defaultColor=Ke;break;case r.AnnotationEditorParamsType.INK_OPACITY:Ve._defaultOpacity=Ke/100;break}}updateParams(we,Ke){switch(we){case r.AnnotationEditorParamsType.INK_THICKNESS:_e(this,Y,Oc).call(this,Ke);break;case r.AnnotationEditorParamsType.INK_COLOR:_e(this,E,Ic).call(this,Ke);break;case r.AnnotationEditorParamsType.INK_OPACITY:_e(this,j,Dc).call(this,Ke);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,Ve._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,Ve._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ve._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ve._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||Ve._defaultColor||o.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ve._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_e(this,te,qs).call(this),_e(this,le,Gs).call(this)),this.isAttachedToDOM||(this.parent.add(this),_e(this,Ne,Ci).call(this)),_e(this,pe,Ti).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,H).disconnect(),ke(this,H,null),super.remove())}setParent(we){!this.parent&&we?this._uiManager.removeShouldRescale(this):this.parent&&we===null&&this._uiManager.addShouldRescale(this),super.setParent(we)}onScaleChanging(){const[we,Ke]=this.parentDimensions,ot=this.width*we,Xe=this.height*Ke;this.setDimensions(ot,Xe)}enableEditMode(){h(this,x)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",h(this,P)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",h(this,P)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,x)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ke(this,x,!0),this.div.classList.add("disabled"),_e(this,pe,Ti).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(we){this._focusEventsAllowed&&(super.focusin(we),this.enableEditMode())}canvasPointerdown(we){we.button!==0||!this.isInEditMode()||h(this,x)||(this.setInForeground(),we.preventDefault(),we.type!=="mouse"&&this.div.focus(),_e(this,me,Nc).call(this,we.offsetX,we.offsetY))}canvasPointermove(we){we.preventDefault(),_e(this,ge,No).call(this,we.offsetX,we.offsetY)}canvasPointerup(we){we.preventDefault(),_e(this,k,Bo).call(this,we)}canvasPointerleave(we){_e(this,k,Bo).call(this,we)}get isResizable(){return!this.isEmpty()&&h(this,x)}render(){if(this.div)return this.div;let we,Ke;this.width&&(we=this.x,Ke=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(St=>{var We;return(We=this.div)==null?void 0:We.setAttribute("aria-label",St)});const[ot,Xe,at,ct]=_e(this,fe,Lc).call(this);if(this.setAt(ot,Xe,0,0),this.setDims(at,ct),_e(this,te,qs).call(this),this.width){const[St,We]=this.parentDimensions;this.setAspectRatio(this.width*St,this.height*We),this.setAt(we*St,Ke*We,this.width*St,this.height*We),ke(this,V,!0),_e(this,Ne,Ci).call(this),this.setDims(this.width*St,this.height*We),_e(this,ae,Vn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _e(this,le,Gs).call(this),this.div}setDimensions(we,Ke){const ot=Math.round(we),Xe=Math.round(Ke);if(h(this,N)===ot&&h(this,w)===Xe)return;ke(this,N,ot),ke(this,w,Xe),this.canvas.style.visibility="hidden";const[at,ct]=this.parentDimensions;this.width=we/at,this.height=Ke/ct,this.fixAndSetPosition(),h(this,x)&&_e(this,Me,$o).call(this,we,Ke),_e(this,Ne,Ci).call(this),_e(this,ae,Vn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(we,Ke,ot){var K,oe,Se;if(we instanceof l.InkAnnotationElement)return null;const Xe=super.deserialize(we,Ke,ot);Xe.thickness=we.thickness,Xe.color=r.Util.makeHexColor(...we.color),Xe.opacity=we.opacity;const[at,ct]=Xe.pageDimensions,St=Xe.width*at,We=Xe.height*ct,bt=Xe.parentScale,st=we.thickness/2;ke(Xe,x,!0),ke(Xe,N,Math.round(St)),ke(Xe,w,Math.round(We));const{paths:ne,rect:f,rotation:v}=we;for(let{bezier:Le}of ne){Le=_e(K=Ve,et,jc).call(K,Le,f,v);const je=[];Xe.paths.push(je);let Ge=bt*(Le[0]-st),nt=bt*(Le[1]-st);for(let Qe=2,ut=Le.length;Qe<ut;Qe+=6){const gt=bt*(Le[Qe]-st),_t=bt*(Le[Qe+1]-st),xt=bt*(Le[Qe+2]-st),Ht=bt*(Le[Qe+3]-st),Bt=bt*(Le[Qe+4]-st),Jt=bt*(Le[Qe+5]-st);je.push([[Ge,nt],[gt,_t],[xt,Ht],[Bt,Jt]]),Ge=Bt,nt=Jt}const Ze=_e(this,ve,Vc).call(this,je);Xe.bezierPath2D.push(Ze)}const I=_e(oe=Xe,rt,Ho).call(oe);return ke(Xe,u,Math.max(o.AnnotationEditor.MIN_SIZE,I[2]-I[0])),ke(Xe,S,Math.max(o.AnnotationEditor.MIN_SIZE,I[3]-I[1])),_e(Se=Xe,Me,$o).call(Se,St,We),Xe}serialize(){if(this.isEmpty())return null;const we=this.getRect(0,0),Ke=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:Ke,thickness:this.thickness,opacity:this.opacity,paths:_e(this,lt,zc).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,we),pageIndex:this.pageIndex,rect:we,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};S=new WeakMap,u=new WeakMap,R=new WeakMap,W=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakMap,V=new WeakMap,H=new WeakMap,N=new WeakMap,w=new WeakMap,C=new WeakMap,Y=new WeakSet,Oc=function(we){const Ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=we,_e(this,pe,Ti).call(this)},undo:()=>{this.thickness=Ke,_e(this,pe,Ti).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,Ic=function(we){const Ke=this.color;this.addCommands({cmd:()=>{this.color=we,_e(this,ae,Vn).call(this)},undo:()=>{this.color=Ke,_e(this,ae,Vn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},j=new WeakSet,Dc=function(we){we/=100;const Ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=we,_e(this,ae,Vn).call(this)},undo:()=>{this.opacity=Ke,_e(this,ae,Vn).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},fe=new WeakSet,Lc=function(){const{parentRotation:we,parentDimensions:[Ke,ot]}=this;switch(we){case 90:return[0,ot,ot,Ke];case 180:return[Ke,ot,Ke,ot];case 270:return[Ke,0,ot,Ke];default:return[0,0,Ke,ot]}},Z=new WeakSet,Lo=function(){const{ctx:we,color:Ke,opacity:ot,thickness:Xe,parentScale:at,scaleFactor:ct}=this;we.lineWidth=Xe*at/ct,we.lineCap="round",we.lineJoin="round",we.miterLimit=10,we.strokeStyle=`${Ke}${(0,y.opacityToHex)(ot)}`},me=new WeakSet,Nc=function(we,Ke){this.canvas.addEventListener("contextmenu",c.noContextMenu),this.canvas.addEventListener("pointerleave",h(this,W)),this.canvas.addEventListener("pointermove",h(this,R)),this.canvas.addEventListener("pointerup",h(this,B)),this.canvas.removeEventListener("pointerdown",h(this,P)),this.isEditing=!0,h(this,V)||(ke(this,V,!0),_e(this,Ne,Ci).call(this),this.thickness||(this.thickness=Ve._defaultThickness),this.color||(this.color=Ve._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ve._defaultOpacity)),this.currentPath.push([we,Ke]),ke(this,L,!1),_e(this,Z,Lo).call(this),ke(this,C,()=>{_e(this,A,Uc).call(this),h(this,C)&&window.requestAnimationFrame(h(this,C))}),window.requestAnimationFrame(h(this,C))},ge=new WeakSet,No=function(we,Ke){const[ot,Xe]=this.currentPath.at(-1);if(this.currentPath.length>1&&we===ot&&Ke===Xe)return;const at=this.currentPath;let ct=h(this,O);if(at.push([we,Ke]),ke(this,L,!0),at.length<=2){ct.moveTo(...at[0]),ct.lineTo(we,Ke);return}at.length===3&&(ke(this,O,ct=new Path2D),ct.moveTo(...at[0])),_e(this,T,Hc).call(this,ct,...at.at(-3),...at.at(-2),we,Ke)},Ee=new WeakSet,Bc=function(){if(this.currentPath.length===0)return;const we=this.currentPath.at(-1);h(this,O).lineTo(...we)},G=new WeakSet,$c=function(we,Ke){ke(this,C,null),we=Math.min(Math.max(we,0),this.canvas.width),Ke=Math.min(Math.max(Ke,0),this.canvas.height),_e(this,ge,No).call(this,we,Ke),_e(this,Ee,Bc).call(this);let ot;if(this.currentPath.length!==1)ot=_e(this,q,Wc).call(this);else{const We=[we,Ke];ot=[[We,We.slice(),We.slice(),We]]}const Xe=h(this,O),at=this.currentPath;this.currentPath=[],ke(this,O,new Path2D);const ct=()=>{this.allRawPaths.push(at),this.paths.push(ot),this.bezierPath2D.push(Xe),this.rebuild()},St=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_e(this,te,qs).call(this),_e(this,le,Gs).call(this)),_e(this,pe,Ti).call(this))};this.addCommands({cmd:ct,undo:St,mustExec:!0})},A=new WeakSet,Uc=function(){if(!h(this,L))return;ke(this,L,!1);const we=Math.ceil(this.thickness*this.parentScale),Ke=this.currentPath.slice(-3),ot=Ke.map(ct=>ct[0]),Xe=Ke.map(ct=>ct[1]);Math.min(...ot)-we,Math.max(...ot)+we,Math.min(...Xe)-we,Math.max(...Xe)+we;const{ctx:at}=this;at.save(),at.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ct of this.bezierPath2D)at.stroke(ct);at.stroke(h(this,O)),at.restore()},T=new WeakSet,Hc=function(we,Ke,ot,Xe,at,ct,St){const We=(Ke+Xe)/2,bt=(ot+at)/2,st=(Xe+ct)/2,ne=(at+St)/2;we.bezierCurveTo(We+2*(Xe-We)/3,bt+2*(at-bt)/3,st+2*(Xe-st)/3,ne+2*(at-ne)/3,st,ne)},q=new WeakSet,Wc=function(){const we=this.currentPath;if(we.length<=2)return[[we[0],we[0],we.at(-1),we.at(-1)]];const Ke=[];let ot,[Xe,at]=we[0];for(ot=1;ot<we.length-2;ot++){const[f,v]=we[ot],[I,K]=we[ot+1],oe=(f+I)/2,Se=(v+K)/2,Le=[Xe+2*(f-Xe)/3,at+2*(v-at)/3],je=[oe+2*(f-oe)/3,Se+2*(v-Se)/3];Ke.push([[Xe,at],Le,je,[oe,Se]]),[Xe,at]=[oe,Se]}const[ct,St]=we[ot],[We,bt]=we[ot+1],st=[Xe+2*(ct-Xe)/3,at+2*(St-at)/3],ne=[We+2*(ct-We)/3,bt+2*(St-bt)/3];return Ke.push([[Xe,at],st,ne,[We,bt]]),Ke},ae=new WeakSet,Vn=function(){if(this.isEmpty()){_e(this,ce,Ks).call(this);return}_e(this,Z,Lo).call(this);const{canvas:we,ctx:Ke}=this;Ke.setTransform(1,0,0,1,0,0),Ke.clearRect(0,0,we.width,we.height),_e(this,ce,Ks).call(this);for(const ot of this.bezierPath2D)Ke.stroke(ot)},k=new WeakSet,Bo=function(we){this.canvas.removeEventListener("pointerleave",h(this,W)),this.canvas.removeEventListener("pointermove",h(this,R)),this.canvas.removeEventListener("pointerup",h(this,B)),this.canvas.addEventListener("pointerdown",h(this,P)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",c.noContextMenu)},10),_e(this,G,$c).call(this,we.offsetX,we.offsetY),this.addToAnnotationStorage(),this.setInBackground()},te=new WeakSet,qs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(we=>{var Ke;return(Ke=this.canvas)==null?void 0:Ke.setAttribute("aria-label",we)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},le=new WeakSet,Gs=function(){ke(this,H,new ResizeObserver(we=>{const Ke=we[0].contentRect;Ke.width&&Ke.height&&this.setDimensions(Ke.width,Ke.height)})),h(this,H).observe(this.div)},Ne=new WeakSet,Ci=function(){if(!h(this,V))return;const[we,Ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*we),this.canvas.height=Math.ceil(this.height*Ke),_e(this,ce,Ks).call(this)},Me=new WeakSet,$o=function(we,Ke){const ot=_e(this,Ie,Xs).call(this),Xe=(we-ot)/h(this,u),at=(Ke-ot)/h(this,S);this.scaleFactor=Math.min(Xe,at)},ce=new WeakSet,Ks=function(){const we=_e(this,Ie,Xs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+we,this.translationY*this.scaleFactor+we)},ve=new WeakSet,Vc=function(we){const Ke=new Path2D;for(let ot=0,Xe=we.length;ot<Xe;ot++){const[at,ct,St,We]=we[ot];ot===0&&Ke.moveTo(...at),Ke.bezierCurveTo(ct[0],ct[1],St[0],St[1],We[0],We[1])}return Ke},Be=new WeakSet,Uo=function(we,Ke,ot){const[Xe,at,ct,St]=Ke;switch(ot){case 0:for(let We=0,bt=we.length;We<bt;We+=2)we[We]+=Xe,we[We+1]=St-we[We+1];break;case 90:for(let We=0,bt=we.length;We<bt;We+=2){const st=we[We];we[We]=we[We+1]+Xe,we[We+1]=st+at}break;case 180:for(let We=0,bt=we.length;We<bt;We+=2)we[We]=ct-we[We],we[We+1]+=at;break;case 270:for(let We=0,bt=we.length;We<bt;We+=2){const st=we[We];we[We]=ct-we[We+1],we[We+1]=St-st}break;default:throw new Error("Invalid rotation")}return we},et=new WeakSet,jc=function(we,Ke,ot){const[Xe,at,ct,St]=Ke;switch(ot){case 0:for(let We=0,bt=we.length;We<bt;We+=2)we[We]-=Xe,we[We+1]=St-we[We+1];break;case 90:for(let We=0,bt=we.length;We<bt;We+=2){const st=we[We];we[We]=we[We+1]-at,we[We+1]=st-Xe}break;case 180:for(let We=0,bt=we.length;We<bt;We+=2)we[We]=ct-we[We],we[We+1]-=at;break;case 270:for(let We=0,bt=we.length;We<bt;We+=2){const st=we[We];we[We]=St-we[We+1],we[We+1]=ct-st}break;default:throw new Error("Invalid rotation")}return we},lt=new WeakSet,zc=function(we,Ke,ot,Xe){var bt,st;const at=[],ct=this.thickness/2,St=we*Ke+ct,We=we*ot+ct;for(const ne of this.paths){const f=[],v=[];for(let I=0,K=ne.length;I<K;I++){const[oe,Se,Le,je]=ne[I],Ge=we*oe[0]+St,nt=we*oe[1]+We,Ze=we*Se[0]+St,Qe=we*Se[1]+We,ut=we*Le[0]+St,gt=we*Le[1]+We,_t=we*je[0]+St,xt=we*je[1]+We;I===0&&(f.push(Ge,nt),v.push(Ge,nt)),f.push(Ze,Qe,ut,gt,_t,xt),v.push(Ze,Qe),I===K-1&&v.push(_t,xt)}at.push({bezier:_e(bt=Ve,Be,Uo).call(bt,f,Xe,this.rotation),points:_e(st=Ve,Be,Uo).call(st,v,Xe,this.rotation)})}return at},rt=new WeakSet,Ho=function(){let we=1/0,Ke=-1/0,ot=1/0,Xe=-1/0;for(const at of this.paths)for(const[ct,St,We,bt]of at){const st=r.Util.bezierBoundingBox(...ct,...St,...We,...bt);we=Math.min(we,st[0]),ot=Math.min(ot,st[1]),Ke=Math.max(Ke,st[2]),Xe=Math.max(Xe,st[3])}return[we,ot,Ke,Xe]},Ie=new WeakSet,Xs=function(){return h(this,x)?Math.ceil(this.thickness*this.parentScale):0},pe=new WeakSet,Ti=function(we=!1){if(this.isEmpty())return;if(!h(this,x)){_e(this,ae,Vn).call(this);return}const Ke=_e(this,rt,Ho).call(this),ot=_e(this,Ie,Xs).call(this);ke(this,u,Math.max(o.AnnotationEditor.MIN_SIZE,Ke[2]-Ke[0])),ke(this,S,Math.max(o.AnnotationEditor.MIN_SIZE,Ke[3]-Ke[1]));const Xe=Math.ceil(ot+h(this,u)*this.scaleFactor),at=Math.ceil(ot+h(this,S)*this.scaleFactor),[ct,St]=this.parentDimensions;this.width=Xe/ct,this.height=at/St,this.setAspectRatio(Xe,at);const We=this.translationX,bt=this.translationY;this.translationX=-Ke[0],this.translationY=-Ke[1],_e(this,Ne,Ci).call(this),_e(this,ae,Vn).call(this),ke(this,N,Xe),ke(this,w,at),this.setDims(Xe,at);const st=we?ot/this.scaleFactor/2:0;this.translate(We-this.translationX-st,bt-this.translationY-st)},re(Ve,ve),re(Ve,Be),re(Ve,et),Nt(Ve,"_defaultColor",null),Nt(Ve,"_defaultOpacity",1),Nt(Ve,"_defaultThickness",1),Nt(Ve,"_type","ink");let b=Ve;n.InkEditor=b},(e,n,s)=>{var b,S,u,R,W,B,P,O,x,L,V,Xi,N,Yi,C,Ys,$,Wo,J,qc,ue,Gc,D,Vo,ee,Js,ie,Kc;Object.defineProperty(n,"__esModule",{value:!0}),n.StampEditor=void 0;var r=s(1),o=s(4),l=s(6),c=s(29);const Re=class Re extends o.AnnotationEditor{constructor(G){super({...G,name:"stampEditor"});re(this,V);re(this,N);re(this,C);re(this,$);re(this,J);re(this,ue);re(this,D);re(this,ee);re(this,ie);re(this,b,null);re(this,S,null);re(this,u,null);re(this,R,null);re(this,W,null);re(this,B,null);re(this,P,null);re(this,O,null);re(this,x,!1);re(this,L,!1);ke(this,R,G.bitmapUrl),ke(this,W,G.bitmapFile)}static initialize(G){o.AnnotationEditor.initialize(G)}static get supportedTypes(){const G=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",G.map(m=>`image/${m}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(G){return this.supportedTypes.includes(G)}static paste(G,m){m.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:G.getAsFile()})}remove(){var G,m;h(this,S)&&(ke(this,b,null),this._uiManager.imageManager.deleteId(h(this,S)),(G=h(this,B))==null||G.remove(),ke(this,B,null),(m=h(this,P))==null||m.disconnect(),ke(this,P,null)),super.remove()}rebuild(){if(!this.parent){h(this,S)&&_e(this,C,Ys).call(this);return}super.rebuild(),this.div!==null&&(h(this,S)&&_e(this,C,Ys).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,u)||h(this,b)||h(this,R)||h(this,W))}get isResizable(){return!0}render(){if(this.div)return this.div;let G,m;if(this.width&&(G=this.x,m=this.y),super.render(),this.div.hidden=!0,h(this,b)?_e(this,$,Wo).call(this):_e(this,C,Ys).call(this),this.width){const[A,g]=this.parentDimensions;this.setAt(G*A,m*g,this.width*A,this.height*g)}return this.div}static deserialize(G,m,A){if(G instanceof c.StampAnnotationElement)return null;const g=super.deserialize(G,m,A),{rect:T,bitmapUrl:F,bitmapId:q,isSvg:Q,accessibilityData:ae}=G;q&&A.imageManager.isValidId(q)?ke(g,S,q):ke(g,R,F),ke(g,x,Q);const[Ce,k]=g.pageDimensions;return g.width=(T[2]-T[0])/Ce,g.height=(T[3]-T[1])/k,ae&&(g.altTextData=ae),g}serialize(G=!1,m=null){if(this.isEmpty())return null;const A={annotationType:r.AnnotationEditorType.STAMP,bitmapId:h(this,S),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,x),structTreeParentId:this._structTreeParentId};if(G)return A.bitmapUrl=_e(this,ee,Js).call(this,!0),A.accessibilityData=this.altTextData,A;const{decorative:g,altText:T}=this.altTextData;if(!g&&T&&(A.accessibilityData={type:"Figure",alt:T}),m===null)return A;m.stamps||(m.stamps=new Map);const F=h(this,x)?(A.rect[2]-A.rect[0])*(A.rect[3]-A.rect[1]):null;if(!m.stamps.has(h(this,S)))m.stamps.set(h(this,S),{area:F,serialized:A}),A.bitmap=_e(this,ee,Js).call(this,!1);else if(h(this,x)){const q=m.stamps.get(h(this,S));F>q.area&&(q.area=F,q.serialized.bitmap.close(),q.serialized.bitmap=_e(this,ee,Js).call(this,!1))}return A}};b=new WeakMap,S=new WeakMap,u=new WeakMap,R=new WeakMap,W=new WeakMap,B=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakMap,V=new WeakSet,Xi=function(G,m=!1){if(!G){this.remove();return}ke(this,b,G.bitmap),m||(ke(this,S,G.id),ke(this,x,G.isSvg)),_e(this,$,Wo).call(this)},N=new WeakSet,Yi=function(){ke(this,u,null),this._uiManager.enableWaiting(!1),h(this,B)&&this.div.focus()},C=new WeakSet,Ys=function(){if(h(this,S)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,S)).then(m=>_e(this,V,Xi).call(this,m,!0)).finally(()=>_e(this,N,Yi).call(this));return}if(h(this,R)){const m=h(this,R);ke(this,R,null),this._uiManager.enableWaiting(!0),ke(this,u,this._uiManager.imageManager.getFromUrl(m).then(A=>_e(this,V,Xi).call(this,A)).finally(()=>_e(this,N,Yi).call(this)));return}if(h(this,W)){const m=h(this,W);ke(this,W,null),this._uiManager.enableWaiting(!0),ke(this,u,this._uiManager.imageManager.getFromFile(m).then(A=>_e(this,V,Xi).call(this,A)).finally(()=>_e(this,N,Yi).call(this)));return}const G=document.createElement("input");G.type="file",G.accept=Re.supportedTypesStr,ke(this,u,new Promise(m=>{G.addEventListener("change",async()=>{if(!G.files||G.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const A=await this._uiManager.imageManager.getFromFile(G.files[0]);_e(this,V,Xi).call(this,A)}m()}),G.addEventListener("cancel",()=>{this.remove(),m()})}).finally(()=>_e(this,N,Yi).call(this))),G.click()},$=new WeakSet,Wo=function(){const{div:G}=this;let{width:m,height:A}=h(this,b);const[g,T]=this.pageDimensions,F=.75;if(this.width)m=this.width*g,A=this.height*T;else if(m>F*g||A>F*T){const Ce=Math.min(F*g/m,F*T/A);m*=Ce,A*=Ce}const[q,Q]=this.parentDimensions;this.setDims(m*q/g,A*Q/T),this._uiManager.enableWaiting(!1);const ae=ke(this,B,document.createElement("canvas"));G.append(ae),G.hidden=!1,_e(this,D,Vo).call(this,m,A),_e(this,ie,Kc).call(this),h(this,L)||(this.parent.addUndoableEditor(this),ke(this,L,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},J=new WeakSet,qc=function(G,m){var F;const[A,g]=this.parentDimensions;this.width=G/A,this.height=m/g,this.setDims(G,m),(F=this._initialOptions)!=null&&F.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,O)!==null&&clearTimeout(h(this,O)),ke(this,O,setTimeout(()=>{ke(this,O,null),_e(this,D,Vo).call(this,G,m)},200))},ue=new WeakSet,Gc=function(G,m){const{width:A,height:g}=h(this,b);let T=A,F=g,q=h(this,b);for(;T>2*G||F>2*m;){const Q=T,ae=F;T>2*G&&(T=T>=16384?Math.floor(T/2)-1:Math.ceil(T/2)),F>2*m&&(F=F>=16384?Math.floor(F/2)-1:Math.ceil(F/2));const Ce=new OffscreenCanvas(T,F);Ce.getContext("2d").drawImage(q,0,0,Q,ae,0,0,T,F),q=Ce.transferToImageBitmap()}return q},D=new WeakSet,Vo=function(G,m){G=Math.ceil(G),m=Math.ceil(m);const A=h(this,B);if(!A||A.width===G&&A.height===m)return;A.width=G,A.height=m;const g=h(this,x)?h(this,b):_e(this,ue,Gc).call(this,G,m),T=A.getContext("2d");T.filter=this._uiManager.hcmFilter,T.drawImage(g,0,0,g.width,g.height,0,0,G,m)},ee=new WeakSet,Js=function(G){if(G){if(h(this,x)){const g=this._uiManager.imageManager.getSvgUrl(h(this,S));if(g)return g}const m=document.createElement("canvas");return{width:m.width,height:m.height}=h(this,b),m.getContext("2d").drawImage(h(this,b),0,0),m.toDataURL()}if(h(this,x)){const[m,A]=this.pageDimensions,g=Math.round(this.width*m*l.PixelsPerInch.PDF_TO_CSS_UNITS),T=Math.round(this.height*A*l.PixelsPerInch.PDF_TO_CSS_UNITS),F=new OffscreenCanvas(g,T);return F.getContext("2d").drawImage(h(this,b),0,0,h(this,b).width,h(this,b).height,0,0,g,T),F.transferToImageBitmap()}return structuredClone(h(this,b))},ie=new WeakSet,Kc=function(){ke(this,P,new ResizeObserver(G=>{const m=G[0].contentRect;m.width&&m.height&&_e(this,J,qc).call(this,m.width,m.height)})),h(this,P).observe(this.div)},Nt(Re,"_type","stamp");let y=Re;n.StampEditor=y}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var n=__webpack_module_cache__[e];if(n!==void 0)return n.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return n.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return y.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return n.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return n.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return n.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return S.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return n.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var n=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),c=__w_pdfjs_require__(5),y=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),S=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const PdfViewerPanel_vue_vue_type_style_index_0_scoped_456e185a_lang="",_export_sfc=(e,n)=>{const s=e.__vccOpts||e;for(const[r,o]of n)s[r]=o;return s},_hoisted_1$2={class:"pdf-viewer-container flex flex-col bg-gray-100 overflow-hidden"},_hoisted_2$2={class:"flex items-center justify-between p-4 bg-white border-b border-gray-200 flex-shrink-0"},_hoisted_3$2={class:"flex items-center gap-4"},_hoisted_4$2={class:"text-xl font-bold text-gray-700"},_hoisted_5$2={key:0,class:"flex items-center gap-3"},_hoisted_6$2=["disabled"],_hoisted_7$2={class:"flex items-center gap-1"},_hoisted_8$2=["max"],_hoisted_9$1=["disabled"],_hoisted_10$1={key:1,class:"flex items-center gap-2 border border-gray-300 rounded-lg p-1"},_hoisted_11$1=["disabled"],_hoisted_12$1=["value"],_hoisted_13$1=["disabled"],_hoisted_14$1={key:2,class:"flex items-center gap-2 border border-gray-300 rounded-lg p-1"},_hoisted_15$1=["aria-pressed"],_hoisted_16$1=["aria-pressed"],_hoisted_17$1={key:3,class:"flex items-center gap-2"},_hoisted_18$1=["disabled"],_hoisted_19$1={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},_hoisted_20$1={key:1,class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},_hoisted_21$1={class:"text-sm"},_hoisted_22$1={class:"flex-grow p-4 overflow-auto flex justify-center items-start bg-gray-100",ref:"pdfContainer"},_hoisted_23$1={key:0,class:"flex items-center justify-center h-full"},_hoisted_24$1={key:1,class:"flex items-center justify-center h-full"},_hoisted_25$1={class:"text-center p-8"},_hoisted_26$1={class:"text-gray-500 mb-4"},_hoisted_27$1=["width","height"],_hoisted_28$1=["onClick"],_hoisted_29$1=["transform"],_hoisted_30$1=["fill"],_hoisted_31$1=["fill"],_hoisted_32$1=["fill"],_hoisted_33$1={key:1,x:"0",y:"-25","text-anchor":"middle",class:"scale-label text-xs",fill:"#1f2937","font-weight":"bold"},_hoisted_34$1=["x","y","width","height","stroke","fill","stroke-width","stroke-dasharray"],_hoisted_35$1=["x","y"],_hoisted_36$1=["x","y","width","height"],_sfc_main$2={__name:"PdfViewerPanel",props:{document:Object,pdfDoc:Object,currentPageNum:Number,totalPages:Number,scale:Number,displayScale:Number,isLoading:Boolean,canvasSize:Object,annotationTool:String,tempSelectionRect:Object,isDragging:Boolean,commentsOnCurrentPage:Array,highlightedCommentId:[String,Number],zoomLevels:Array,minScale:Number,maxScale:Number},emits:["page-changed","zoom-changed","annotation-tool-changed","annotation-mouse-down","annotation-mouse-move","annotation-mouse-up","layer-click","wheel","go-to-comment","fit-to-width","fit-to-page","zoom-in","zoom-out"],setup(e,{emit:n}){const s=n,r=e,o=ref(1),l=ref(1.5),c=ref(!1),y=ref(null),b=ref(!1),S=ref("");watch(()=>r.currentPageNum,D=>{o.value=D},{immediate:!0}),watch(()=>r.scale,D=>{l.value=D},{immediate:!0});const u=D=>D.adjusted_position?D.adjusted_position:j(D.position),R=(D,Z=3e3)=>{S.value=D,b.value=!0,setTimeout(()=>{b.value=!1},Z)},W=D=>{const Z=r.currentPageNum+D;Z>0&&Z<=r.totalPages&&s("page-changed",Z)},B=D=>{const Z=parseInt(D,10);Z>0&&Z<=r.totalPages?s("page-changed",Z):(o.value=r.currentPageNum,R("Nomor halaman tidak valid"))},P=()=>{s("zoom-changed",l.value)},O=D=>{s("annotation-tool-changed",D)},x=D=>{s("annotation-mouse-down",D)},L=D=>{s("annotation-mouse-move",D)},V=D=>{s("annotation-mouse-up",D)},H=D=>{s("layer-click",D)},N=D=>{s("wheel",D)},w=D=>{if(D.created_at_scale&&D.created_at_scale!==r.scale){const Z=Math.round(D.created_at_scale*100),ee=Math.round(r.scale*100);R(`Komentar dibuat pada zoom ${Z}% (saat ini ${ee}%)`)}s("go-to-comment",D)},C=async()=>{var D,Z;if(!c.value){c.value=!0;try{if((D=r.document)!=null&&D.pdf_url)await Y(),R("PDF berhasil diunduh!");else throw new Error("URL PDF tidak tersedia")}catch(ee){if(console.error("Error downloading PDF:",ee),R("Gagal mengunduh PDF: "+ee.message),(Z=r.document)!=null&&Z.pdf_url)try{window.open(r.document.pdf_url,"_blank"),R("PDF dibuka di tab baru")}catch(me){console.error("Fallback also failed:",me)}}finally{c.value=!1}}},Y=async()=>{const D=r.document.pdf_url,Z=$();try{const ee=await fetch(D,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!ee.ok)throw new Error(`HTTP error! status: ${ee.status}`);const me=await ee.blob();E(me,Z)}catch(ee){console.warn("Fetch method failed, trying direct link:",ee);const me=document.createElement("a");me.href=D,me.download=Z,me.target="_blank",document.body.appendChild(me),me.click(),document.body.removeChild(me)}},$=()=>{var ie,ge,Re;const D=((ie=r.document)==null?void 0:ie.title)||((ge=r.document)==null?void 0:ge.name)||"document",Z=(Re=r.document)!=null&&Re.version?`_v${r.document.version}`:"",ee=new Date().toISOString().slice(0,10);return`${D.replace(/[^\w\s-]/g,"").replace(/\s+/g,"_")}${Z}_${ee}.pdf`},E=(D,Z)=>{const ee=URL.createObjectURL(D);try{const me=document.createElement("a");me.href=ee,me.download=Z,document.body.appendChild(me),me.click(),document.body.removeChild(me)}finally{setTimeout(()=>URL.revokeObjectURL(ee),100)}},J=()=>{y.value=null,s("retry-loading")},j=D=>{if(!D)return null;try{if(typeof D=="object")return typeof D.x=="number"&&typeof D.y=="number"?D:null;if(typeof D=="string"){const Z=JSON.parse(D);return typeof Z.x=="number"&&typeof Z.y=="number"?Z:null}return null}catch(Z){return console.error("Error parsing position:",Z,D),null}};watch(()=>r.commentsOnCurrentPage,(D,Z)=>{},{deep:!0,immediate:!0}),watch(()=>r.isLoading,(D,Z)=>{Z&&!D&&(r.pdfDoc?y.value=null:y.value="PDF gagal dimuat. File mungkin rusak atau tidak dapat diakses.")}),watch(()=>r.scale,(D,Z)=>{if(Z&&D!==Z&&r.commentsOnCurrentPage.length>0){const ee=r.commentsOnCurrentPage.filter(me=>me.created_at_scale&&me.created_at_scale!==D);ee.length>0&&console.log(`Scale changed to ${Math.round(D*100)}%. ${ee.length} comments need position adjustment.`)}});const ue=D=>{if(D.target.tagName!=="INPUT")switch(D.key){case"ArrowLeft":r.currentPageNum>1&&(D.preventDefault(),W(-1));break;case"ArrowRight":r.currentPageNum<r.totalPages&&(D.preventDefault(),W(1));break;case"Home":r.currentPageNum!==1&&(D.preventDefault(),s("page-changed",1));break;case"End":r.currentPageNum!==r.totalPages&&(D.preventDefault(),s("page-changed",r.totalPages));break;case"Escape":r.annotationTool&&(D.preventDefault(),s("annotation-tool-changed",null));break}};typeof window<"u"&&document.addEventListener("keydown",ue),onUnmounted(()=>{typeof window<"u"&&document.removeEventListener("keydown",ue)});const fe=()=>{console.log("=== SCALE-AWARE COMMENTS DEBUG ==="),console.log("Current scale:",r.scale),console.log("Comments on page:",r.commentsOnCurrentPage.length),r.commentsOnCurrentPage.forEach(D=>{const Z=u(D);console.log(`Comment ${D.id}:`,{created_at_scale:D.created_at_scale,current_scale:r.scale,needs_adjustment:D.created_at_scale!==r.scale,original_position:D.position,adjusted_position:D.adjusted_position,final_position:Z,type:D.type})}),console.log("=================================")};return typeof window<"u"&&(window.debugScaleAwareComments=fe),(D,Z)=>(openBlock(),createElementBlock("main",_hoisted_1$2,[createBaseVNode("header",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("h1",_hoisted_4$2,"Versi: "+toDisplayString(e.document.version),1)]),e.pdfDoc?(openBlock(),createElementBlock("div",_hoisted_5$2,[createBaseVNode("button",{onClick:Z[0]||(Z[0]=ee=>W(-1)),disabled:e.currentPageNum<=1,class:"px-3 py-2 bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 transition-colors","aria-label":"Halaman sebelumnya",title:"Halaman sebelumnya"}," < ",8,_hoisted_6$2),createBaseVNode("span",_hoisted_7$2,[Z[12]||(Z[12]=createTextVNode(" Halaman ")),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":Z[1]||(Z[1]=ee=>o.value=ee),onChange:Z[2]||(Z[2]=ee=>B(o.value)),onKeyup:Z[3]||(Z[3]=withKeys(ee=>B(o.value),["enter"])),class:"w-12 text-center bg-gray-50 rounded-md p-1 text-sm",min:1,max:e.totalPages,"aria-label":"Nomor halaman"},null,40,_hoisted_8$2),[[vModelText,o.value,void 0,{number:!0}]]),createTextVNode(" / "+toDisplayString(e.totalPages),1)]),createBaseVNode("button",{onClick:Z[4]||(Z[4]=ee=>W(1)),disabled:e.currentPageNum>=e.totalPages,class:"px-3 py-2 bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 transition-colors","aria-label":"Halaman selanjutnya",title:"Halaman selanjutnya"}," > ",8,_hoisted_9$1)])):createCommentVNode("",!0),e.pdfDoc?(openBlock(),createElementBlock("div",_hoisted_10$1,[createBaseVNode("button",{onClick:Z[5]||(Z[5]=ee=>D.$emit("zoom-out")),disabled:e.scale<=e.minScale,class:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom Out","aria-label":"Perkecil tampilan"},Z[13]||(Z[13]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}),createBaseVNode("path",{d:"M4 6.5h6a.5.5 0 0 1 0 1H4a.5.5 0 0 1 0-1z"})],-1)]),8,_hoisted_11$1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Z[6]||(Z[6]=ee=>l.value=ee),onChange:P,class:"text-sm border-0 bg-transparent focus:ring-0 cursor-pointer min-w-[70px]","aria-label":"Level zoom"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.zoomLevels,ee=>(openBlock(),createElementBlock("option",{key:ee.value,value:ee.value},toDisplayString(ee.label),9,_hoisted_12$1))),128))],544),[[vModelSelect,l.value]]),createBaseVNode("button",{onClick:Z[7]||(Z[7]=ee=>D.$emit("zoom-in")),disabled:e.scale>=e.maxScale,class:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Zoom In","aria-label":"Perbesar tampilan"},Z[14]||(Z[14]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}),createBaseVNode("path",{d:"M6.5 4a.5.5 0 0 1 .5.5v2h2a.5.5 0 0 1 0 1h-2v2a.5.5 0 0 1-1 0v-2h-2a.5.5 0 0 1 0-1h2v-2A.5.5 0 0 1 6.5 4z"})],-1)]),8,_hoisted_13$1),Z[15]||(Z[15]=createBaseVNode("div",{class:"border-l border-gray-300 h-6 mx-1"},null,-1)),createBaseVNode("button",{onClick:Z[8]||(Z[8]=ee=>D.$emit("fit-to-width")),class:"px-3 py-2 text-xs font-medium rounded-md hover:bg-gray-100 transition-colors border border-gray-300",title:"Fit to Width","aria-label":"Sesuaikan dengan lebar"}," ↔ "),createBaseVNode("button",{onClick:Z[9]||(Z[9]=ee=>D.$emit("fit-to-page")),class:"px-3 py-2 text-xs font-medium rounded-md hover:bg-gray-100 transition-colors border border-gray-300",title:"Fit to Page","aria-label":"Sesuaikan dengan halaman"}," ⤢ ")])):createCommentVNode("",!0),e.pdfDoc?(openBlock(),createElementBlock("div",_hoisted_14$1,[createBaseVNode("button",{onClick:Z[10]||(Z[10]=ee=>O("point")),class:normalizeClass([[e.annotationTool==="point"?"bg-blue-500 text-white":"bg-white","hover:bg-blue-100 transition-colors"],"p-2 rounded-md"]),title:"Komentar Titik","aria-label":"Alat komentar titik","aria-pressed":e.annotationTool==="point"},Z[16]||(Z[16]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})],-1)]),10,_hoisted_15$1),createBaseVNode("button",{onClick:Z[11]||(Z[11]=ee=>O("area")),class:normalizeClass([[e.annotationTool==="area"?"bg-blue-500 text-white":"bg-white","hover:bg-blue-100 transition-colors"],"p-2 rounded-md"]),title:"Komentar Area","aria-label":"Alat komentar area","aria-pressed":e.annotationTool==="area"},Z[17]||(Z[17]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm-5 0H6v3h4V4zM6 0v3H1v1h5V0zM1 4h4v3H1V4zm4 4H1v1h4V8zm-4 4h4v3H1v-3zm5 3v-3h4v3h-4zm5-3h4v3h-4v-3zM11 4h4V1h-4v3z"})],-1)]),10,_hoisted_16$1)])):createCommentVNode("",!0),e.pdfDoc?(openBlock(),createElementBlock("div",_hoisted_17$1,[createBaseVNode("button",{onClick:C,disabled:c.value,class:"flex items-center gap-2 px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:bg-green-300 disabled:cursor-not-allowed transition-colors",title:"Unduh PDF","aria-label":"Unduh file PDF"},[c.value?(openBlock(),createElementBlock("svg",_hoisted_20$1,Z[19]||(Z[19]=[createBaseVNode("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"},null,-1),createBaseVNode("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_19$1,Z[18]||(Z[18]=[createBaseVNode("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),createBaseVNode("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1)]))),createBaseVNode("span",_hoisted_21$1,toDisplayString(c.value?"Mengunduh...":"Unduh"),1)],8,_hoisted_18$1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_22$1,[e.isLoading?(openBlock(),createElementBlock("div",_hoisted_23$1,Z[20]||(Z[20]=[createBaseVNode("div",{class:"flex flex-col items-center gap-3"},[createBaseVNode("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),createBaseVNode("span",{class:"text-gray-500"},"Memuat PDF...")],-1)]))):y.value?(openBlock(),createElementBlock("div",_hoisted_24$1,[createBaseVNode("div",_hoisted_25$1,[Z[21]||(Z[21]=createBaseVNode("svg",{class:"mx-auto h-12 w-12 text-red-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),Z[22]||(Z[22]=createBaseVNode("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Gagal Memuat PDF",-1)),createBaseVNode("p",_hoisted_26$1,toDisplayString(y.value),1),createBaseVNode("button",{onClick:J,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"}," Coba Lagi ")])])):createCommentVNode("",!0),e.pdfDoc?(openBlock(),createElementBlock("div",{key:2,id:"pdf-container",class:"relative",style:normalizeStyle({transform:`scale(${e.displayScale})`,transformOrigin:"top center"})},[Z[24]||(Z[24]=createBaseVNode("canvas",{id:"pdf-canvas",class:"shadow-lg"},null,-1)),(openBlock(),createElementBlock("svg",{id:"annotation-layer",onMousedown:x,onMousemove:L,onMouseup:V,onClick:withModifiers(H,["self"]),onWheel:N,width:e.canvasSize.width,height:e.canvasSize.height,class:"annotation-svg"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.commentsOnCurrentPage,ee=>(openBlock(),createElementBlock("g",{key:ee.id,onClick:me=>w(ee)},[ee.type==="point"&&u(ee)?(openBlock(),createElementBlock("g",{key:0,transform:`translate(${u(ee).x||0}, ${u(ee).y||0})`,class:"cursor-pointer annotation-group"},[ee.created_at_scale&&ee.created_at_scale!==e.scale?(openBlock(),createElementBlock("circle",{key:0,r:"18",fill:ee.status==="done"?"#16a34a":"#3b82f6","fill-opacity":"0.2",stroke:"#fbbf24","stroke-width":"2","stroke-dasharray":"4,2",class:"scale-indicator"},null,8,_hoisted_30$1)):createCommentVNode("",!0),createBaseVNode("circle",{r:"12",fill:ee.status==="done"?"#16a34a":"red","fill-opacity":"0.3",class:"annotation-background"},null,8,_hoisted_31$1),createBaseVNode("path",{class:normalizeClass([{highlighted:ee.id===e.highlightedCommentId&&ee.status==="open","highlighted-done":ee.id===e.highlightedCommentId&&ee.status==="done","done-point":ee.status==="done"},"annotation-point"]),d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z",fill:ee.status==="done"?"#16a34a":"#ef4444",transform:"translate(-8, -16) scale(1)"},null,10,_hoisted_32$1),ee.created_at_scale&&ee.created_at_scale!==e.scale?(openBlock(),createElementBlock("text",_hoisted_33$1,toDisplayString(Math.round(ee.created_at_scale*100))+"% ",1)):createCommentVNode("",!0)],8,_hoisted_29$1)):createCommentVNode("",!0),ee.type==="area"&&u(ee)?(openBlock(),createElementBlock("rect",{key:1,class:normalizeClass([{"highlighted-area":ee.id===e.highlightedCommentId&&ee.status==="open","highlighted-area-done":ee.id===e.highlightedCommentId&&ee.status==="done","done-area":ee.status==="done","scale-adjusted-area":ee.created_at_scale&&ee.created_at_scale!==e.scale},"annotation-area cursor-pointer"]),x:u(ee).x||0,y:u(ee).y||0,width:u(ee).width||0,height:u(ee).height||0,stroke:ee.status==="done"?"#16a34a":ee.created_at_scale&&ee.created_at_scale!==e.scale?"#fbbf24":"#3b82f6",fill:ee.status==="done"?"rgba(22, 163, 74, 0.2)":ee.created_at_scale&&ee.created_at_scale!==e.scale?"rgba(251, 191, 36, 0.2)":"rgba(59, 130, 246, 0.2)","stroke-width":ee.created_at_scale&&ee.created_at_scale!==e.scale?"3":"2","stroke-dasharray":ee.created_at_scale&&ee.created_at_scale!==e.scale?"5,3":"none"},null,10,_hoisted_34$1)):createCommentVNode("",!0),ee.type==="area"&&ee.created_at_scale&&ee.created_at_scale!==e.scale&&u(ee)?(openBlock(),createElementBlock("text",{key:2,x:(u(ee).x||0)+(u(ee).width||0)/2,y:(u(ee).y||0)-5,"text-anchor":"middle",class:"scale-label text-xs",fill:"#1f2937","font-weight":"bold"},toDisplayString(Math.round(ee.created_at_scale*100))+"% ",9,_hoisted_35$1)):createCommentVNode("",!0)],8,_hoisted_28$1))),128)),e.isDragging&&e.tempSelectionRect?(openBlock(),createElementBlock("rect",{key:0,x:e.tempSelectionRect.x,y:e.tempSelectionRect.y,width:e.tempSelectionRect.width,height:e.tempSelectionRect.height,fill:"rgba(59, 130, 246, 0.2)",stroke:"#3b82f6","stroke-width":"2","stroke-dasharray":"5,5",class:"temp-selection"},Z[23]||(Z[23]=[createBaseVNode("animate",{attributeName:"stroke-dashoffset",values:"0;10",dur:"1s",repeatCount:"indefinite"},null,-1)]),8,_hoisted_36$1)):createCommentVNode("",!0)],40,_hoisted_27$1))],4)):createCommentVNode("",!0)],512),b.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-300 transform",b.value?"translate-y-0 opacity-100":"translate-y-2 opacity-0"])},toDisplayString(S.value),3)):createCommentVNode("",!0)]))}},PdfViewerPanel=_export_sfc(_sfc_main$2,[["__scopeId","data-v-456e185a"]]),CommentManagement_vue_vue_type_style_index_0_scoped_c52bb5d9_lang="",_hoisted_1$1={class:"comments-sidebar flex flex-col bg-gray-50 border-l border-gray-200"},_hoisted_2$1={class:"p-4 border-b flex-shrink-0"},_hoisted_3$1={class:"mt-3 flex gap-2"},_hoisted_4$1={key:0,class:"mt-2 text-sm text-gray-600 text-center"},_hoisted_5$1={class:"flex-1 overflow-hidden flex flex-col"},_hoisted_6$1={key:0,class:"flex-grow flex items-center justify-center p-4"},_hoisted_7$1={key:1,class:"flex-grow min-h-0 overflow-hidden flex flex-col"},_hoisted_8$1={class:"flex-grow overflow-y-auto p-3"},_hoisted_9=["onClick"],_hoisted_10={class:"p-4"},_hoisted_11={class:"flex justify-between items-start gap-3 mb-3"},_hoisted_12={class:"comment-header flex-1"},_hoisted_13={class:"flex items-center gap-2 mb-1"},_hoisted_14=["onClick"],_hoisted_15=["title"],_hoisted_16={key:0,class:"text-xs text-gray-400"},_hoisted_17=["title"],_hoisted_18={class:"flex items-center gap-2 flex-shrink-0"},_hoisted_19=["onClick"],_hoisted_20=["checked","onChange","disabled","title"],_hoisted_21={class:"comment-content-wrapper"},_hoisted_22={key:0,class:"mb-3"},_hoisted_23={class:"flex gap-2 mt-2"},_hoisted_24=["onClick"],_hoisted_25=["onClick"],_hoisted_26={class:"flex items-center gap-3 text-xs text-gray-500 border-t pt-2"},_hoisted_27=["onClick"],_hoisted_28=["onClick"],_hoisted_29=["onClick"],_hoisted_30={key:0,class:"px-4 pb-4"},_hoisted_31={class:"ml-4 pl-4 border-l-2 border-gray-200"},_hoisted_32={class:"flex gap-2 mt-2"},_hoisted_33=["onClick"],_hoisted_34={key:1,class:"px-4 pb-4"},_hoisted_35={class:"ml-4 pl-4 border-l-2 border-gray-200 space-y-2"},_hoisted_36={class:"flex justify-between items-start gap-3 mb-2"},_hoisted_37={class:"flex items-center gap-2 mb-1"},_hoisted_38={class:"text-xs font-semibold text-gray-600"},_hoisted_39=["title"],_hoisted_40={key:0,class:"flex items-center gap-2 text-xs text-gray-500"},_hoisted_41=["onClick"],_hoisted_42=["onClick"],_hoisted_43={key:0,class:"text-xs text-gray-400 mb-1"},_hoisted_44=["title"],_hoisted_45={key:1,class:"mb-2"},_hoisted_46={class:"flex gap-2 mt-2"},_hoisted_47=["onClick"],_hoisted_48={key:2,class:"comment-content text-sm text-gray-700"},_hoisted_49={key:0,class:"p-3 border-t bg-white flex-shrink-0"},_hoisted_50={class:"flex items-center justify-between"},_hoisted_51=["disabled"],_hoisted_52={class:"flex items-center gap-1"},_hoisted_53=["onClick"],_hoisted_54={key:1,class:"px-1 text-xs text-gray-500"},_hoisted_55=["disabled"],_sfc_main$1={__name:"CommentManagement",props:{comments:Array,currentUser:Object,creatorId:[Number,String],activeCommentId:[String,Number],commentFilter:String,displayedComments:Array,currentPaginationPage:Number,commentsPerPage:Number,editingComment:Object,commentEditText:String,replyingToComment:Object,replyText:String,editingReply:Object,replyEditText:String},emits:["filter-changed","page-changed","previous-page","next-page","comment-selected","go-to-comment","toggle-comment-status","start-edit","save-edit","cancel-edit","start-reply","submit-reply","cancel-reply","start-edit-reply","save-edit-reply","cancel-edit-reply","delete-comment","delete-reply"],setup(e,{emit:n}){const s=n,r=e,o=ref(null),l=ref({}),c=ref(""),y=ref(""),b=ref(""),S=computed(()=>(r.currentPaginationPage-1)*r.commentsPerPage),u=computed(()=>S.value+r.commentsPerPage),R=computed(()=>r.displayedComments.slice(S.value,u.value)),W=computed(()=>Math.ceil(r.displayedComments.length/r.commentsPerPage)),B=computed(()=>{const ge=W.value,Re=r.currentPaginationPage,Ee=[];if(ge<=7)for(let Oe=1;Oe<=ge;Oe++)Ee.push(Oe);else if(Re<=4){for(let Oe=1;Oe<=5;Oe++)Ee.push(Oe);Ee.push("..."),Ee.push(ge)}else if(Re>=ge-3){Ee.push(1),Ee.push("...");for(let Oe=ge-4;Oe<=ge;Oe++)Ee.push(Oe)}else{Ee.push(1),Ee.push("...");for(let Oe=Re-1;Oe<=Re+1;Oe++)Ee.push(Oe);Ee.push("..."),Ee.push(ge)}return Ee});watch(()=>r.commentEditText,ge=>{c.value=ge},{immediate:!0}),watch(()=>r.replyText,ge=>{y.value=ge},{immediate:!0}),watch(()=>r.replyEditText,ge=>{b.value=ge},{immediate:!0});const P=ge=>{if(!ge)return"";const Re=new Date,Ee=new Date(ge),Oe=Math.floor((Re-Ee)/1e3);if(Oe<60)return"Baru saja";const G=Math.floor(Oe/60);if(G<60)return`${G} menit yang lalu`;const m=Math.floor(G/60);if(m<24)return`${m} jam yang lalu`;const A=Math.floor(m/24);if(A<7)return`${A} hari yang lalu`;const g=Math.floor(A/7);if(g<4)return`${g} minggu yang lalu`;const T=Math.floor(A/30);return T<12?`${T} bulan yang lalu`:`${Math.floor(A/365)} tahun yang lalu`},O=ge=>{if(!ge)return"";const Re=new Date(ge),Ee={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};return Re.toLocaleDateString("id-ID",Ee)},x=computed(()=>ge=>{var g;const Re=String(((g=r.currentUser)==null?void 0:g.id)||""),Ee=String(r.creatorId||""),Oe=String((ge==null?void 0:ge.user_id)||"");return(Ee!==""?Re===Ee:!0)||Re===Oe}),L=ge=>{s("filter-changed",ge)},V=ge=>{s("page-changed",ge)},H=()=>{s("previous-page")},N=()=>{s("next-page")},w=ge=>{s("comment-selected",ge)},C=ge=>{s("go-to-comment",ge)},Y=ge=>{x.value(ge)&&s("toggle-comment-status",ge)},$=ge=>{c.value=ge.content,s("start-edit",ge)},E=ge=>{s("save-edit",ge,c.value)},J=()=>{c.value="",s("cancel-edit")},j=ge=>{y.value="",s("start-reply",ge)},ue=ge=>{if(!y.value.trim()){console.warn("Reply text is empty in child component");return}s("submit-reply",ge,y.value),y.value=""},fe=()=>{y.value="",s("cancel-reply")},D=ge=>{b.value=ge.content,s("start-edit-reply",ge)},Z=(ge,Re)=>{s("save-edit-reply",ge,Re,b.value),b.value=""},ee=()=>{b.value="",s("cancel-edit-reply")},me=ge=>{s("delete-comment",ge)},ie=(ge,Re)=>{s("delete-reply",ge,Re)};return(ge,Re)=>(openBlock(),createElementBlock("aside",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[Re[7]||(Re[7]=createBaseVNode("h2",{class:"text-xl font-bold text-gray-700"},"Daftar Komentar",-1)),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("button",{onClick:Re[0]||(Re[0]=Ee=>L("all")),class:normalizeClass([{"bg-blue-500 text-white":e.commentFilter==="all"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Semua",2),createBaseVNode("button",{onClick:Re[1]||(Re[1]=Ee=>L("open")),class:normalizeClass([{"bg-blue-500 text-white":e.commentFilter==="open"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Terbuka",2),createBaseVNode("button",{onClick:Re[2]||(Re[2]=Ee=>L("done")),class:normalizeClass([{"bg-blue-500 text-white":e.commentFilter==="done"},"flex-1 text-sm px-3 py-1 border rounded-md"])},"Selesai",2)]),e.displayedComments.length>0?(openBlock(),createElementBlock("div",_hoisted_4$1," Menampilkan "+toDisplayString(S.value+1)+"-"+toDisplayString(Math.min(u.value,e.displayedComments.length))+" dari "+toDisplayString(e.displayedComments.length)+" komentar ",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$1,[e.displayedComments.length===0?(openBlock(),createElementBlock("div",_hoisted_6$1,Re[8]||(Re[8]=[createBaseVNode("p",{class:"text-gray-500 text-center"},"Tidak ada komentar yang cocok dengan filter ini.",-1)]))):(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createBaseVNode("ul",{class:"space-y-3",ref_key:"commentListEl",ref:o},[(openBlock(!0),createElementBlock(Fragment,null,renderList(R.value,Ee=>(openBlock(),createElementBlock("li",{key:Ee.id,ref_for:!0,ref:Oe=>{Oe&&(l.value[Ee.id]=Oe)},onClick:Oe=>w(Ee),class:normalizeClass(["comment-item border transition-colors rounded-lg overflow-hidden",[Ee.status==="done"?"bg-green-50 border-green-200":"bg-white border-gray-200",Ee.id===e.activeCommentId?"border-yellow-400 bg-yellow-50":"cursor-pointer hover:bg-blue-50"]])},[createBaseVNode("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createBaseVNode("p",{class:"text-sm font-semibold text-gray-600 cursor-pointer",onClick:Oe=>C(Ee)},toDisplayString(Ee.user.fullname),9,_hoisted_14),Re[9]||(Re[9]=createBaseVNode("span",{class:"text-xs text-gray-400"},"•",-1)),createBaseVNode("span",{class:"text-xs text-gray-400 cursor-help",title:O(Ee.created_at)},toDisplayString(P(Ee.created_at)),9,_hoisted_15)]),Ee.updated_at&&Ee.updated_at!==Ee.created_at?(openBlock(),createElementBlock("div",_hoisted_16,[createBaseVNode("span",{class:"cursor-help",title:O(Ee.updated_at)}," Diedit "+toDisplayString(P(Ee.updated_at)),9,_hoisted_17)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_18,[Ee.page_number?(openBlock(),createElementBlock("span",{key:0,class:"text-xs font-semibold bg-gray-200 text-gray-700 px-2 py-1 rounded-full whitespace-nowrap cursor-pointer",onClick:Oe=>C(Ee)}," Hal. "+toDisplayString(Ee.page_number),9,_hoisted_19)):createCommentVNode("",!0),createBaseVNode("input",{type:"checkbox",checked:Ee.status==="done",onChange:Oe=>Y(Ee),onClick:Re[3]||(Re[3]=withModifiers(()=>{},["stop"])),class:normalizeClass(["form-checkbox h-4 w-4 rounded text-green-600 transition duration-150 ease-in-out",{"cursor-not-allowed":!x.value(Ee)}]),disabled:!x.value(Ee),title:x.value(Ee)?"Tandai sebagai selesai":"Hanya pemilik publikasi/komentar yang bisa mengubah status"},null,42,_hoisted_20)])]),createBaseVNode("div",_hoisted_21,[e.editingComment&&e.editingComment.id===Ee.id?(openBlock(),createElementBlock("div",_hoisted_22,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":Re[4]||(Re[4]=Oe=>c.value=Oe),class:"comment-textarea w-full border rounded-md p-3 text-sm resize-none focus:ring-1 focus:ring-blue-400 focus:border-blue-400",rows:"3"},"                                        ",512),[[vModelText,c.value]]),createBaseVNode("div",_hoisted_23,[createBaseVNode("button",{onClick:Oe=>E(Ee),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"}," Simpan ",8,_hoisted_24),createBaseVNode("button",{onClick:J,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["comment-content cursor-pointer mb-3",{"line-through text-gray-500":Ee.status==="done"}]),onClick:Oe=>C(Ee)},toDisplayString(Ee.content),11,_hoisted_25))]),createBaseVNode("div",_hoisted_26,[createBaseVNode("button",{onClick:Oe=>j(Ee),class:"hover:underline hover:text-blue-600"}," Balas ",8,_hoisted_27),e.currentUser.id===Ee.user_id?(openBlock(),createElementBlock(Fragment,{key:0},[Re[10]||(Re[10]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:Oe=>$(Ee),class:"hover:underline hover:text-blue-600"}," Edit ",8,_hoisted_28),Re[11]||(Re[11]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:Oe=>me(Ee),class:"hover:underline text-red-500 hover:text-red-700"}," Hapus ",8,_hoisted_29)],64)):createCommentVNode("",!0)])]),e.replyingToComment&&e.replyingToComment.id===Ee.id?(openBlock(),createElementBlock("div",_hoisted_30,[createBaseVNode("div",_hoisted_31,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":Re[5]||(Re[5]=Oe=>y.value=Oe),class:"comment-textarea w-full border rounded-md p-3 text-sm focus:ring-1 focus:ring-blue-400 focus:border-blue-400",placeholder:"Tulis balasan...",rows:"2"},"                                    ",512),[[vModelText,y.value]]),createBaseVNode("div",_hoisted_32,[createBaseVNode("button",{onClick:Oe=>ue(Ee),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"},"Kirim",8,_hoisted_33),createBaseVNode("button",{onClick:fe,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])])):createCommentVNode("",!0),Ee.replies&&Ee.replies.length>0?(openBlock(),createElementBlock("div",_hoisted_34,[createBaseVNode("div",_hoisted_35,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ee.replies,Oe=>(openBlock(),createElementBlock("div",{key:Oe.id,class:"bg-gray-50 p-3 rounded-md"},[createBaseVNode("div",_hoisted_36,[createBaseVNode("div",_hoisted_37,[createBaseVNode("p",_hoisted_38,toDisplayString(Oe.user.fullname),1),Re[12]||(Re[12]=createBaseVNode("span",{class:"text-xs text-gray-400"},"•",-1)),createBaseVNode("span",{class:"text-xs text-gray-400 cursor-help",title:O(Oe.created_at)},toDisplayString(P(Oe.created_at)),9,_hoisted_39)]),e.currentUser.id===Oe.user_id?(openBlock(),createElementBlock("div",_hoisted_40,[createBaseVNode("button",{onClick:G=>D(Oe),class:"hover:underline hover:text-blue-600"}," Edit ",8,_hoisted_41),Re[13]||(Re[13]=createBaseVNode("span",null,"·",-1)),createBaseVNode("button",{onClick:G=>ie(Ee,Oe),class:"hover:underline text-red-500 hover:text-red-700"}," Hapus ",8,_hoisted_42)])):createCommentVNode("",!0)]),Oe.updated_at&&Oe.updated_at!==Oe.created_at?(openBlock(),createElementBlock("div",_hoisted_43,[createBaseVNode("span",{class:"cursor-help",title:O(Oe.updated_at)}," Diedit "+toDisplayString(P(Oe.updated_at)),9,_hoisted_44)])):createCommentVNode("",!0),e.editingReply&&e.editingReply.id===Oe.id?(openBlock(),createElementBlock("div",_hoisted_45,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":Re[6]||(Re[6]=G=>b.value=G),class:"comment-textarea w-full border rounded-md p-2 text-sm resize-none focus:ring-1 focus:ring-blue-400 focus:border-blue-400",rows:"2"},"                                            ",512),[[vModelText,b.value]]),createBaseVNode("div",_hoisted_46,[createBaseVNode("button",{onClick:G=>Z(Ee,Oe),class:"text-xs text-white bg-blue-500 px-3 py-1 rounded-md hover:bg-blue-600"}," Simpan ",8,_hoisted_47),createBaseVNode("button",{onClick:ee,class:"text-xs text-gray-600 hover:text-gray-800"},"Batal")])])):(openBlock(),createElementBlock("div",_hoisted_48,toDisplayString(Oe.content),1))]))),128))])])):createCommentVNode("",!0)],10,_hoisted_9))),128))],512)]),W.value>1?(openBlock(),createElementBlock("div",_hoisted_49,[createBaseVNode("div",_hoisted_50,[createBaseVNode("button",{onClick:H,disabled:e.currentPaginationPage<=1,class:"px-3 py-1 text-sm bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"}," < Prev ",8,_hoisted_51),createBaseVNode("div",_hoisted_52,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.value,Ee=>(openBlock(),createElementBlock("span",{key:Ee,class:"pagination-item"},[Ee!=="..."?(openBlock(),createElementBlock("button",{key:0,onClick:Oe=>V(Ee),class:normalizeClass([Ee===e.currentPaginationPage?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300","px-2 py-1 text-xs rounded"])},toDisplayString(Ee),11,_hoisted_53)):(openBlock(),createElementBlock("span",_hoisted_54,"..."))]))),128))]),createBaseVNode("button",{onClick:N,disabled:e.currentPaginationPage>=W.value,class:"px-3 py-1 text-sm bg-gray-200 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300"}," Next > ",8,_hoisted_55)])])):createCommentVNode("",!0)]))])]))}},CommentManagement=_export_sfc(_sfc_main$1,[["__scopeId","data-v-c52bb5d9"]]),PdfReviewer_vue_vue_type_style_index_0_scoped_7c75994c_lang="",_hoisted_1={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},_hoisted_2={class:"bg-white rounded-lg shadow-xl p-6 w-[60rem] max-w-[90vw]"},_hoisted_3={class:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md"},_hoisted_4={class:"flex items-center gap-2"},_hoisted_5={class:"text-sm text-blue-700"},_hoisted_6={class:"mt-6 flex justify-end gap-4"},_hoisted_7=["disabled"],_hoisted_8={class:"flex items-center gap-2"},_sfc_main={__name:"PdfReviewer",props:{document:Object,currentUser:Object,creatorId:[Number,String],apiStoreUrl:String,apiUpdateUrlTemplate:String,apiDeleteUrlTemplate:String,apiStatusUrlTemplate:String},setup(e){let n=null;const s=()=>{n=v=>{if(v.ctrlKey||v.metaKey)switch(v.key){case"=":case"+":v.preventDefault(),se();break;case"-":v.preventDefault(),ve();break;case"0":v.preventDefault(),u.value=1,f(b.value);break}},document.addEventListener("keydown",n)},r=()=>{n&&(document.removeEventListener("keydown",n),n=null)};axios$1.defaults.baseURL="/app/publyse/public/",axios$1.defaults.withCredentials=!0;const o=e,l=ref(o.document.comments||[]),c=ref(o.document.pdf_url),y=ref(null),b=ref(1),S=ref(0),u=ref(1.5),R=ref(1),W=ref(!1),B=ref({width:0,height:0}),P=ref(null),O=ref(!1),x=ref(""),L=ref(!1),V=ref(.25),H=ref(5);ref(.25);const N=ref([{value:.25,label:"25%"},{value:.5,label:"50%"},{value:.75,label:"75%"},{value:1,label:"100%"},{value:1.25,label:"125%"},{value:1.5,label:"150%"},{value:2,label:"200%"},{value:3,label:"300%"},{value:4,label:"400%"},{value:5,label:"500%"}]),w=ref("point"),C=ref(!1),Y=ref(null),$=ref({content:"",position:null,type:"",page_number:0}),E=ref(null),J=ref("all"),j=ref(!1),ue=ref({x:0,y:0}),fe=ref(null),D=ref(null),Z=ref(""),ee=ref(null),me=ref(""),ie=ref(null),ge=ref(""),Re=ref(null),Ee=ref(1),Oe=ref(5),G=ref([]),m=(v,I)=>!v||!I||I===0?v:{x:v.x/I,y:v.y/I,width:v.width?v.width/I:void 0,height:v.height?v.height/I:void 0},A=(v,I)=>!v||!I?v:{x:v.x*I,y:v.y*I,width:v.width?v.width*I:void 0,height:v.height?v.height*I:void 0},g=(v,I=3e3)=>{x.value=v,O.value=!0,setTimeout(()=>{O.value=!1},I)},T=v=>{if(!v.position)return;const I=Xe(v.position);if(!I)return;const K=document.getElementById("pdf-container"),oe=K==null?void 0:K.parentElement;if(K&&oe){const Se=I.x+(I.width||0)/2,Le=I.y+(I.height||0)/2,je=oe.getBoundingClientRect(),Ge=Se-je.width/2,nt=Le-je.height/2;oe.scrollTo({left:Math.max(0,Ge),top:Math.max(0,nt),behavior:"smooth"})}},F=computed(()=>{var I,K,oe,Se,Le,je,Ge;let v=o.creatorId||((I=o.document)==null?void 0:I.user_id)||((K=o.document)==null?void 0:K.created_by)||((oe=o.document)==null?void 0:oe.owner_id)||((Le=(Se=o.document)==null?void 0:Se.owner)==null?void 0:Le.id)||((je=o.document)==null?void 0:je.creator_id)||((Ge=o.document)==null?void 0:Ge.publisher_id);if(!v&&o.document){const Ze=Object.keys(o.document).filter(Qe=>Qe.toLowerCase().includes("user")||Qe.toLowerCase().includes("creator")||Qe.toLowerCase().includes("owner")||Qe.toLowerCase().includes("publisher"));for(const Qe of Ze){const ut=o.document[Qe];if(ut&&(typeof ut=="number"||typeof ut=="string")){v=ut;break}}}return v}),q=v=>{const I=new Map,K=[];return v.forEach(oe=>{oe.replies=[],I.set(oe.id,oe)}),v.forEach(oe=>{oe.parent_id&&I.has(oe.parent_id)?I.get(oe.parent_id).replies.push(oe):K.push(oe)}),K},Q=computed(()=>q([...l.value])),ae=computed(()=>Q.value.sort((v,I)=>v.page_number-I.page_number||v.id-I.id)),Ce=computed(()=>Q.value.filter(I=>{if(I.parent_id!==null||I.type===null||I.page_number!==b.value)return!1;let K=Xe(I.position);if(!K)return!1;if(I.created_at_scale&&I.created_at_scale!==u.value){const oe=m(K,I.created_at_scale);K=A(oe,u.value),I.adjusted_position=K}else I.adjusted_position=K;return I.type==="point"?typeof K.x=="number"&&typeof K.y=="number":I.type==="area"?typeof K.x=="number"&&typeof K.y=="number"&&typeof K.width=="number"&&typeof K.height=="number":!1}));let k=null;const U=()=>{const v=J.value;v==="all"?G.value=ae.value:G.value=ae.value.filter(I=>I.status===v).map(I=>({...I,replies:I.replies||[]}))},te=v=>{f(v)},ye=v=>{u.value=v,f(b.value)},le=v=>{w.value=v},Te=v=>{Je(v)},Ne=v=>{et(v)},xe=v=>{it()},Me=v=>{w.value!=="point"||j.value||($.value={content:"",position:{x:v.offsetX,y:v.offsetY},type:"point",page_number:b.value},C.value=!0)},de=v=>{if(v.ctrlKey||v.metaKey){v.preventDefault();const I=v.deltaY<0?1:-1,K=N.value.findIndex(oe=>oe.value===u.value);I>0&&K<N.value.length-1?(u.value=N.value[K+1].value,f(b.value)):I<0&&K>0&&(u.value=N.value[K-1].value,f(b.value))}},ce=async v=>{try{if(console.log("Navigating to comment:",{id:v.id,page:v.page_number,current_scale:u.value,comment_scale:v.created_at_scale}),v.page_number&&v.page_number!==b.value&&await f(v.page_number),v.created_at_scale&&v.created_at_scale!==u.value){const I=Math.round(u.value*100),K=Math.round(v.created_at_scale*100);console.log(`Auto-adjusting scale from ${I}% to ${K}% for accurate positioning`),g(`Zoom disesuaikan ke ${K}% (saat komentar dibuat)`),u.value=v.created_at_scale,await f(b.value),await nextTick(),setTimeout(()=>{E.value=v.id,T(v),setTimeout(()=>{E.value=null},2500)},200)}else E.value=v.id,T(v),setTimeout(()=>{E.value=null},1500)}catch(I){console.error("Error navigating to comment:",I),g("Error navigating to comment",3e3)}},se=()=>{const v=N.value.findIndex(I=>I.value===u.value);v<N.value.length-1&&(u.value=N.value[v+1].value,f(b.value))},ve=()=>{const v=N.value.findIndex(I=>I.value===u.value);v>0&&(u.value=N.value[v-1].value,f(b.value))},De=async()=>{var v;if(!(!y.value||!((v=P.value)!=null&&v.$el)))try{const K=(await y.value.getPage(b.value)).getViewport({scale:1}),Se=(P.value.$el.clientWidth-40)/K.width;u.value=Math.max(V.value,Math.min(H.value,Se)),f(b.value)}catch(I){console.error("Error fitting to width:",I)}},Be=async()=>{var v;if(!(!y.value||!((v=P.value)!=null&&v.$el)))try{const K=(await y.value.getPage(b.value)).getViewport({scale:1}),oe=P.value.$el.clientWidth-40,Se=P.value.$el.clientHeight-40,Le=oe/K.width,je=Se/K.height,Ge=Math.min(Le,je);u.value=Math.max(V.value,Math.min(H.value,Ge)),f(b.value)}catch(I){console.error("Error fitting to page:",I)}},Je=v=>{w.value!=="area"||v.target.closest("g, rect")||(j.value=!0,ue.value={x:v.offsetX,y:v.offsetY},fe.value={x:v.offsetX,y:v.offsetY,width:0,height:0})},et=v=>{if(!j.value)return;const I=v.offsetX,K=v.offsetY,oe=Math.min(I,ue.value.x),Se=Math.min(K,ue.value.y),Le=Math.abs(I-ue.value.x),je=Math.abs(K-ue.value.y);fe.value={x:oe,y:Se,width:Le,height:je}},it=()=>{if(j.value){if(j.value=!1,fe.value.width<5||fe.value.height<5){fe.value=null;return}$.value={content:"",position:{...fe.value},type:"area",page_number:b.value},C.value=!0,fe.value=null}},lt=v=>{J.value=v,Ee.value=1,U()},dt=v=>{v>=1&&(Ee.value=v)},rt=()=>{Ee.value>1&&Ee.value--},pt=()=>{Ee.value++},Ie=v=>{Re.value=v.id},be=()=>{C.value=!1,$.value={content:"",position:null,type:"",page_number:0},L.value=!1},pe=async()=>{var v,I,K,oe,Se,Le,je,Ge;if(console.log("=== SAVE COMMENT START DEBUG ==="),!$.value.content.trim()){alert("Silakan isi konten komentar terlebih dahulu.");return}if(!L.value){L.value=!0;try{console.log("1. Raw scale ref:",u),console.log("2. scale.value:",u.value),console.log("3. typeof scale.value:",typeof u.value);let nt=u.value;console.log("4. Initial scaleValue:",nt),typeof nt=="string"&&(nt=parseFloat(nt),console.log("5. Converted from string:",nt)),(!nt||nt<=0||nt>10)&&(console.warn("6. Invalid scale, using default 1.0. Original:",nt),nt=1),console.log("7. Final scaleValue:",nt),console.log("8. typeof final scaleValue:",typeof nt),console.log("9. canvasSize.value:",B.value);let Ze=B.value.width||800,Qe=B.value.height||600;console.log("10. Canvas dimensions:",{width:Ze,height:Qe}),console.log("11. newCommentData.value:",$.value),console.log("12. Position:",$.value.position);const ut={document_id:o.document.id,content:$.value.content,page_number:$.value.page_number,type:$.value.type,position:JSON.stringify($.value.position),created_at_scale:nt,page_dimensions:{width:Ze,height:Qe},original_position:JSON.stringify($.value.position)};console.log("13. PAYLOAD SEBELUM DIKIRIM:"),console.log(JSON.stringify(ut,null,2)),console.log("14. Payload field check:"),Object.keys(ut).forEach(xt=>{console.log(`   ${xt}:`,ut[xt],`(${typeof ut[xt]})`)}),console.log("15. API URL:",o.apiStoreUrl),console.log("16. Axios defaults:",axios$1.defaults),console.log("17. Sending request...");const gt=await axios$1.post(o.apiStoreUrl,ut);console.log("18. Response status:",gt.status),console.log("19. Response headers:",gt.headers),console.log("20. Response data:",gt.data),console.log("21. Response scale field:",gt.data.created_at_scale),console.log("22. typeof response scale:",typeof gt.data.created_at_scale);let _t=gt.data;_t={..._t,replies:[],parent_id:null,status:_t.status||"open",created_at_scale:_t.created_at_scale||nt},_t.position=Xe(_t.position),l.value.push(_t),l.value=[...l.value],U(),be(),g(`Komentar tersimpan dengan zoom ${Math.round(nt*100)}%`),console.log("23. Final comment added:",_t),console.log("=== SAVE COMMENT END DEBUG ===")}catch(nt){console.error("=== ERROR DETAILS ==="),console.error("Error object:",nt),console.error("Response data:",(v=nt.response)==null?void 0:v.data),console.error("Response status:",(I=nt.response)==null?void 0:I.status),console.error("Response headers:",(K=nt.response)==null?void 0:K.headers),console.error("Request config:",nt.config),console.error("Request data sent:",(oe=nt.config)==null?void 0:oe.data),console.error("=== END ERROR ===");let Ze="Gagal menyimpan komentar.";(Le=(Se=nt.response)==null?void 0:Se.data)!=null&&Le.message?Ze=nt.response.data.message:((je=nt.response)==null?void 0:je.status)===403?Ze="Batas waktu pemeriksaan telah berakhir.":((Ge=nt.response)==null?void 0:Ge.status)===422&&(Ze="Data tidak valid. Periksa kembali input Anda."),alert(Ze)}finally{L.value=!1}}},Ue=async v=>{const I=v.status==="open"?"done":"open";try{const K=o.apiStatusUrlTemplate.replace("COMMENT_ID",v.id);await axios$1.patch(K,{status:I}),v.status=I,l.value=[...l.value],U()}catch(K){console.error("Gagal mengubah status:",K),alert("Terjadi kesalahan saat mengubah status.")}},Ve=v=>{D.value=v,Z.value=v.content},Ft=()=>{D.value=null,Z.value=""},Pt=async(v,I)=>{if(!(!I||!I.trim()))try{const K=o.apiUpdateUrlTemplate.replace("COMMENT_ID",v.id),oe=await axios$1.put(K,{content:I}),Se=l.value.find(Le=>Le.id===v.id);Se&&(Se.content=oe.data.content,Se.updated_at=oe.data.updated_at),l.value=[...l.value],U(),Ft()}catch(K){console.error("Gagal mengupdate komentar:",K),alert("Gagal mengupdate komentar.")}},we=v=>{ie.value=v,ge.value=v.content},Ke=()=>{ie.value=null,ge.value=""},ot=async(v,I,K)=>{if(!(!K||!K.trim()))try{const oe=o.apiUpdateUrlTemplate.replace("COMMENT_ID",I.id),Se=await axios$1.put(oe,{content:K}),Le=l.value.find(je=>je.id===v.id);if(Le&&Le.replies){const je=Le.replies.find(Ge=>Ge.id===I.id);je&&(je.content=Se.data.content,je.updated_at=Se.data.updated_at)}l.value=[...l.value],U(),Ke()}catch(oe){console.error("Gagal mengupdate balasan:",oe),alert("Gagal mengupdate balasan.")}},Xe=(v,I=null)=>{if(I!=null&&I.adjusted_position)return I.adjusted_position;if(!v)return null;try{return typeof v=="object"?v:typeof v=="string"?JSON.parse(v):null}catch(K){return console.error("Error parsing position:",K),null}},at=(v,I)=>v.filter(K=>K.id!==I),ct=async v=>{if(confirm("Anda yakin ingin menghapus komentar ini?"))try{const I=o.apiDeleteUrlTemplate.replace("COMMENT_ID",v.id);await axios$1.delete(I),l.value=at(l.value,v.id),U()}catch(I){console.error("Gagal menghapus komentar:",I),alert("Gagal menghapus komentar.")}},St=async(v,I)=>{if(confirm("Anda yakin ingin menghapus balasan ini?"))try{const K=o.apiDeleteUrlTemplate.replace("COMMENT_ID",I.id);await axios$1.delete(K),l.value=at(l.value,I.id),U()}catch(K){console.error("Gagal menghapus balasan:",K),alert("Gagal menghapus balasan.")}},We=v=>{ee.value=v,me.value=""},bt=()=>{ee.value=null,me.value=""},st=async(v,I)=>{var oe,Se;if(!I||!I.trim()){console.warn("Reply text is empty");return}const K={content:I,document_id:o.document.id,parent_id:v.id};try{const Le=await axios$1.post(o.apiStoreUrl,K);l.value.push(Le.data),U(),bt()}catch(Le){console.error("Gagal mengirim balasan:",Le),(Se=(oe=Le.response)==null?void 0:oe.data)!=null&&Se.message?alert(`Gagal mengirim balasan: ${Le.response.data.message}`):alert("Gagal mengirim balasan.")}},ne=async()=>{W.value=!0;try{const I=await pdfExports.getDocument(c.value).promise;y.value=markRaw(I),S.value=I.numPages,await f(1)}catch(v){console.error("Gagal memuat PDF:",v),alert("Gagal memuat file PDF dari server. Pastikan path benar dan file dapat diakses.")}finally{W.value=!1}},f=async v=>{if(y.value){W.value=!0;try{const I=await y.value.getPage(v),K=I.getViewport({scale:u.value}),oe=document.getElementById("pdf-canvas"),Se=oe.getContext("2d");oe.height=K.height,oe.width=K.width,B.value={width:K.width,height:K.height};const Le={canvasContext:Se,viewport:K};await I.render(Le).promise,b.value=v}catch(I){console.error("Gagal merender halaman:",I)}finally{W.value=!1}}};return watch(ae,()=>{U()},{immediate:!0}),watch(C,v=>{v&&nextTick(()=>{var I;(I=Y.value)==null||I.focus()})}),watch(u,(v,I)=>{if(I&&v!==I&&(console.log(`Scale changed from ${I} to ${v}`),typeof v=="string")){console.warn("Scale is string, converting to number");const K=parseFloat(v);!isNaN(K)&&K>0&&K<=10&&(u.value=K)}},{immediate:!1}),pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",onUnmounted(()=>{k&&clearInterval(k),r()}),onMounted(async()=>{var I;console.log("PdfReviewer mounted - Scale-Aware Comments enabled"),console.log("Initial scale:",u.value),console.log("Document:",o.document),console.log("API Store URL:",o.apiStoreUrl);const v=axios$1.create();try{const K=await v.get("http://localhost/app/publyse/public/sanctum/csrf-cookie",{withCredentials:!0});console.log("✅ CSRF OK:",K.status)}catch(K){console.error("❌ CSRF error:",(I=K.response)==null?void 0:I.status,K.message)}nextTick(()=>{ne()}),k=setInterval(()=>{l.value.length>0&&(l.value=[...l.value])},6e4),s(),console.log("=== EXISTING COMMENTS DEBUG ==="),l.value.forEach(K=>{var oe;console.log(`Comment ${K.id}:`,{page:K.page_number,scale:K.created_at_scale||"not set",scale_type:typeof K.created_at_scale,hasPosition:!!K.position,content:((oe=K.content)==null?void 0:oe.substring(0,50))+"..."})}),console.log("=============================="),setTimeout(()=>{console.log("=== MANUAL SCALE CHECK ==="),console.log("Scale after mount:",u.value),console.log("Scale type:",typeof u.value);const K=u.value;u.value=1.75,console.log("After manual change:",u.value),console.log("Type after change:",typeof u.value),u.value=K,console.log("After reset:",u.value),console.log("=== END MANUAL CHECK ===")},2e3),typeof window<"u"&&(window.forceTestComment=async()=>{console.log("=== FORCE TEST COMMENT ===");const K={document_id:o.document.id,content:"FORCE TEST SCALE 1.75",page_number:1,type:"point",position:JSON.stringify({x:100,y:100}),created_at_scale:1.75,page_dimensions:{width:800,height:600}};console.log("Force test payload:",K);try{const oe=await axios$1.post(o.apiStoreUrl,K);return console.log("Force test response:",oe.data),console.log("Force test scale result:",oe.data.created_at_scale),oe.data}catch(oe){return console.error("Force test error:",oe),oe}},window.getCurrentScale=()=>(console.log("Current scale:",u.value),console.log("Current scale type:",typeof u.value),console.log("Canvas size:",B.value),u.value))}),(v,I)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["flex w-full h-screen",{"no-select":j.value}])},[createVNode(PdfViewerPanel,{document:e.document,"pdf-doc":y.value,"current-page-num":b.value,"total-pages":S.value,scale:u.value,"display-scale":R.value,"is-loading":W.value,"canvas-size":B.value,"annotation-tool":w.value,"temp-selection-rect":fe.value,"is-dragging":j.value,"comments-on-current-page":Ce.value,"highlighted-comment-id":E.value,"zoom-levels":N.value,"min-scale":V.value,"max-scale":H.value,onPageChanged:te,onZoomChanged:ye,onAnnotationToolChanged:le,onAnnotationMouseDown:Te,onAnnotationMouseMove:Ne,onAnnotationMouseUp:xe,onLayerClick:Me,onWheel:de,onGoToComment:ce,onFitToWidth:De,onFitToPage:Be,onZoomIn:se,onZoomOut:ve,ref_key:"pdfContainer",ref:P},null,8,["document","pdf-doc","current-page-num","total-pages","scale","display-scale","is-loading","canvas-size","annotation-tool","temp-selection-rect","is-dragging","comments-on-current-page","highlighted-comment-id","zoom-levels","min-scale","max-scale"]),createVNode(CommentManagement,{comments:Q.value,"current-user":e.currentUser,"creator-id":F.value,"active-comment-id":Re.value,"comment-filter":J.value,"displayed-comments":G.value,"current-pagination-page":Ee.value,"comments-per-page":Oe.value,"editing-comment":D.value,"comment-edit-text":Z.value,"replying-to-comment":ee.value,"reply-text":me.value,"editing-reply":ie.value,"reply-edit-text":ge.value,onFilterChanged:lt,onPageChanged:dt,onPreviousPage:rt,onNextPage:pt,onCommentSelected:Ie,onGoToComment:ce,onToggleCommentStatus:Ue,onStartEdit:Ve,onSaveEdit:Pt,onCancelEdit:Ft,onStartReply:We,onSubmitReply:st,onCancelReply:bt,onStartEditReply:we,onSaveEditReply:ot,onCancelEditReply:Ke,onDeleteComment:ct,onDeleteReply:St},null,8,["comments","current-user","creator-id","active-comment-id","comment-filter","displayed-comments","current-pagination-page","comments-per-page","editing-comment","comment-edit-text","replying-to-comment","reply-text","editing-reply","reply-edit-text"]),C.value?(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[I[4]||(I[4]=createBaseVNode("h3",{class:"text-lg font-semibold mb-4 text-gray-700"},"Komentar Baru",-1)),createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[I[2]||(I[2]=createBaseVNode("svg",{class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),createBaseVNode("span",_hoisted_5,[I[1]||(I[1]=createTextVNode(" Komentar ini dibuat pada zoom ")),createBaseVNode("strong",null,toDisplayString(Math.round(u.value*100))+"%",1),createTextVNode(" halaman "+toDisplayString(b.value),1)])]),I[3]||(I[3]=createBaseVNode("p",{class:"text-xs text-blue-600 mt-1"}," Posisi akan tersimpan akurat untuk zoom level ini ",-1))]),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":I[0]||(I[0]=K=>$.value.content=K),ref_key:"commentTextarea",ref:Y,class:"comment-textarea w-full border border-gray-300 rounded-md p-4 text-sm resize-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400",placeholder:"Tulis komentar...",rows:"4"},"                ",512),[[vModelText,$.value.content]]),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{onClick:be,class:"px-6 py-3 bg-gray-300 rounded-md hover:bg-gray-400 text-sm"},"Batal"),createBaseVNode("button",{onClick:pe,disabled:L.value,class:"px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm disabled:opacity-50"},toDisplayString(L.value?"Menyimpan...":"Simpan"),9,_hoisted_7)])])])):createCommentVNode("",!0),O.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["fixed top-4 right-4 bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-300 transform z-50",O.value?"translate-y-0 opacity-100":"translate-y-2 opacity-0"])},[createBaseVNode("div",_hoisted_8,[I[5]||(I[5]=createBaseVNode("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)),createBaseVNode("span",null,toDisplayString(x.value),1)])],2)):createCommentVNode("",!0)],2))}},PdfReviewer=_export_sfc(_sfc_main,[["__scopeId","data-v-7c75994c"]]);console.log("File app.js baru berhasil dijalankan!");const reviewerAppEl=document.getElementById("pdf-reviewer-app");reviewerAppEl?(console.log("Elemen #pdf-reviewer-app DITEMUKAN! Memulai mount Vue..."),JSON.parse(reviewerAppEl.dataset.document),JSON.parse(reviewerAppEl.dataset.user),createApp(PdfReviewer,{document:JSON.parse(reviewerAppEl.dataset.document),currentUser:JSON.parse(reviewerAppEl.dataset.user),apiStoreUrl:reviewerAppEl.dataset.apiStoreUrl,apiUpdateUrlTemplate:reviewerAppEl.dataset.apiUpdateUrlTemplate,apiDeleteUrlTemplate:reviewerAppEl.dataset.apiDeleteUrlTemplate,apiStatusUrlTemplate:reviewerAppEl.dataset.apiStatusUrlTemplate}).mount(reviewerAppEl),console.log("Aplikasi Vue berhasil di-mount.")):console.log("Elemen #pdf-reviewer-app TIDAK ditemukan di halaman ini.");
